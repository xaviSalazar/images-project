var pf=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var de=(e,t,n)=>(pf(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Ae=(e,t,n,r)=>(pf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var Yl=(e,t,n,r)=>({set _(i){Ae(e,t,i,n)},get _(){return de(e,t,r)}}),Tt=(e,t,n)=>(pf(e,t,"access private method"),n);function P2(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Kw={exports:{}},id={},qw={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cl=Symbol.for("react.element"),$2=Symbol.for("react.portal"),R2=Symbol.for("react.fragment"),A2=Symbol.for("react.strict_mode"),D2=Symbol.for("react.profiler"),M2=Symbol.for("react.provider"),N2=Symbol.for("react.context"),L2=Symbol.for("react.forward_ref"),F2=Symbol.for("react.suspense"),j2=Symbol.for("react.memo"),I2=Symbol.for("react.lazy"),wv=Symbol.iterator;function B2(e){return e===null||typeof e!="object"?null:(e=wv&&e[wv]||e["@@iterator"],typeof e=="function"?e:null)}var Zw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qw=Object.assign,Jw={};function Fs(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Zw}Fs.prototype.isReactComponent={};Fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function eb(){}eb.prototype=Fs.prototype;function um(e,t,n){this.props=e,this.context=t,this.refs=Jw,this.updater=n||Zw}var dm=um.prototype=new eb;dm.constructor=um;Qw(dm,Fs.prototype);dm.isPureReactComponent=!0;var bv=Array.isArray,tb=Object.prototype.hasOwnProperty,fm={current:null},nb={key:!0,ref:!0,__self:!0,__source:!0};function rb(e,t,n){var r,i={},o=null,p=null;if(t!=null)for(r in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(o=""+t.key),t)tb.call(t,r)&&!nb.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var s=Array(a),c=0;c<a;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cl,type:e,key:o,ref:p,props:i,_owner:fm.current}}function z2(e,t){return{$$typeof:Cl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cl}function V2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xv=/\/+/g;function mf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?V2(""+e.key):t.toString(36)}function Pc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(o){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case Cl:case $2:p=!0}}if(p)return p=e,i=i(p),e=r===""?"."+mf(p,0):r,bv(i)?(n="",e!=null&&(n=e.replace(xv,"$&/")+"/"),Pc(i,t,n,"",function(c){return c})):i!=null&&(hm(i)&&(i=z2(i,n+(!i.key||p&&p.key===i.key?"":(""+i.key).replace(xv,"$&/")+"/")+e)),t.push(i)),1;if(p=0,r=r===""?".":r+":",bv(e))for(var a=0;a<e.length;a++){o=e[a];var s=r+mf(o,a);p+=Pc(o,t,n,s,i)}else if(s=B2(e),typeof s=="function")for(e=s.call(e),a=0;!(o=e.next()).done;)o=o.value,s=r+mf(o,a++),p+=Pc(o,t,n,s,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Xl(e,t,n){if(e==null)return e;var r=[],i=0;return Pc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function U2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Vt={current:null},Oc={transition:null},H2={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:fm};function ib(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Xl,forEach:function(e,t,n){Xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xl(e,function(){t++}),t},toArray:function(e){return Xl(e,function(t){return t})||[]},only:function(e){if(!hm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=Fs;Ne.Fragment=R2;Ne.Profiler=D2;Ne.PureComponent=um;Ne.StrictMode=A2;Ne.Suspense=F2;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H2;Ne.act=ib;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Qw({},e.props),i=e.key,o=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,p=fm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(s in t)tb.call(t,s)&&!nb.hasOwnProperty(s)&&(r[s]=t[s]===void 0&&a!==void 0?a[s]:t[s])}var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){a=Array(s);for(var c=0;c<s;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cl,type:e.type,key:i,ref:o,props:r,_owner:p}};Ne.createContext=function(e){return e={$$typeof:N2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:M2,_context:e},e.Consumer=e};Ne.createElement=rb;Ne.createFactory=function(e){var t=rb.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:L2,render:e}};Ne.isValidElement=hm;Ne.lazy=function(e){return{$$typeof:I2,_payload:{_status:-1,_result:e},_init:U2}};Ne.memo=function(e,t){return{$$typeof:j2,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Oc.transition;Oc.transition={};try{e()}finally{Oc.transition=t}};Ne.unstable_act=ib;Ne.useCallback=function(e,t){return Vt.current.useCallback(e,t)};Ne.useContext=function(e){return Vt.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return Vt.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return Vt.current.useEffect(e,t)};Ne.useId=function(){return Vt.current.useId()};Ne.useImperativeHandle=function(e,t,n){return Vt.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return Vt.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return Vt.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return Vt.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return Vt.current.useReducer(e,t,n)};Ne.useRef=function(e){return Vt.current.useRef(e)};Ne.useState=function(e){return Vt.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return Vt.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return Vt.current.useTransition()};Ne.version="18.3.1";qw.exports=Ne;var b=qw.exports;const Ce=cm(b),W2=P2({__proto__:null,default:Ce},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=b,X2=Symbol.for("react.element"),G2=Symbol.for("react.fragment"),K2=Object.prototype.hasOwnProperty,q2=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z2={key:!0,ref:!0,__self:!0,__source:!0};function ob(e,t,n){var r,i={},o=null,p=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(p=t.ref);for(r in t)K2.call(t,r)&&!Z2.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:X2,type:e,key:o,ref:p,props:i,_owner:q2.current}}id.Fragment=G2;id.jsx=ob;id.jsxs=ob;Kw.exports=id;var _=Kw.exports,Sh={},sb={exports:{}},mn={},ab={exports:{}},lb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,T){var $=H.length;H.push(T);e:for(;0<$;){var R=$-1>>>1,O=H[R];if(0<i(O,T))H[R]=T,H[$]=O,$=R;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var T=H[0],$=H.pop();if($!==T){H[0]=$;e:for(var R=0,O=H.length,V=O>>>1;R<V;){var D=2*(R+1)-1,P=H[D],F=D+1,j=H[F];if(0>i(P,$))F<O&&0>i(j,P)?(H[R]=j,H[F]=$,R=F):(H[R]=P,H[D]=$,R=D);else if(F<O&&0>i(j,$))H[R]=j,H[F]=$,R=F;else break e}}return T}function i(H,T){var $=H.sortIndex-T.sortIndex;return $!==0?$:H.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var p=Date,a=p.now();e.unstable_now=function(){return p.now()-a}}var s=[],c=[],f=1,l=null,u=3,d=!1,h=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=H)r(c),T.sortIndex=T.expirationTime,t(s,T);else break;T=n(c)}}function x(H){if(g=!1,w(H),!h)if(n(s)!==null)h=!0,N(S);else{var T=n(c);T!==null&&q(x,T.startTime-H)}}function S(H,T){h=!1,g&&(g=!1,v(k),k=-1),d=!0;var $=u;try{for(w(T),l=n(s);l!==null&&(!(l.expirationTime>T)||H&&!G());){var R=l.callback;if(typeof R=="function"){l.callback=null,u=l.priorityLevel;var O=R(l.expirationTime<=T);T=e.unstable_now(),typeof O=="function"?l.callback=O:l===n(s)&&r(s),w(T)}else r(s);l=n(s)}if(l!==null)var V=!0;else{var D=n(c);D!==null&&q(x,D.startTime-T),V=!1}return V}finally{l=null,u=$,d=!1}}var C=!1,E=null,k=-1,L=5,B=-1;function G(){return!(e.unstable_now()-B<L)}function z(){if(E!==null){var H=e.unstable_now();B=H;var T=!0;try{T=E(!0,H)}finally{T?Q():(C=!1,E=null)}}else C=!1}var Q;if(typeof y=="function")Q=function(){y(z)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,M=I.port2;I.port1.onmessage=z,Q=function(){M.postMessage(null)}}else Q=function(){m(z,0)};function N(H){E=H,C||(C=!0,Q())}function q(H,T){k=m(function(){H(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){h||d||(h=!0,N(S))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return u},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(H){switch(u){case 1:case 2:case 3:var T=3;break;default:T=u}var $=u;u=T;try{return H()}finally{u=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,T){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var $=u;u=H;try{return T()}finally{u=$}},e.unstable_scheduleCallback=function(H,T,$){var R=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?R+$:R):$=R,H){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,H={id:f++,callback:T,priorityLevel:H,startTime:$,expirationTime:O,sortIndex:-1},$>R?(H.sortIndex=$,t(c,H),n(s)===null&&H===n(c)&&(g?(v(k),k=-1):g=!0,q(x,$-R))):(H.sortIndex=O,t(s,H),h||d||(h=!0,N(S))),H},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(H){var T=u;return function(){var $=u;u=T;try{return H.apply(this,arguments)}finally{u=$}}}})(lb);ab.exports=lb;var Q2=ab.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J2=b,fn=Q2;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cb=new Set,za={};function wo(e,t){vs(e,t),vs(e+"Capture",t)}function vs(e,t){for(za[e]=t,e=0;e<t.length;e++)cb.add(t[e])}var Mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=Object.prototype.hasOwnProperty,eT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sv={},_v={};function tT(e){return _h.call(_v,e)?!0:_h.call(Sv,e)?!1:eT.test(e)?_v[e]=!0:(Sv[e]=!0,!1)}function nT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function rT(e,t,n,r){if(t===null||typeof t>"u"||nT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ut(e,t,n,r,i,o,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=p}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new Ut(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new Ut(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new Ut(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new Ut(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new Ut(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new Ut(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new Ut(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new Ut(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new Ut(e,5,!1,e.toLowerCase(),null,!1,!1)});var pm=/[\-:]([a-z])/g;function mm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(pm,mm);_t[t]=new Ut(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(pm,mm);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(pm,mm);_t[t]=new Ut(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new Ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new Ut(e,1,!1,e.toLowerCase(),null,!0,!0)});function gm(e,t,n,r){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(rT(t,n,i,r)&&(n=null),r||i===null?tT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vr=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gl=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Bo=Symbol.for("react.fragment"),vm=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),ub=Symbol.for("react.provider"),db=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),Eh=Symbol.for("react.suspense"),Th=Symbol.for("react.suspense_list"),wm=Symbol.for("react.memo"),Qr=Symbol.for("react.lazy"),fb=Symbol.for("react.offscreen"),Cv=Symbol.iterator;function Zs(e){return e===null||typeof e!="object"?null:(e=Cv&&e[Cv]||e["@@iterator"],typeof e=="function"?e:null)}var rt=Object.assign,gf;function ga(e){if(gf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);gf=t&&t[1]||""}return`
`+gf+e}var vf=!1;function yf(e,t){if(!e||vf)return"";vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),p=i.length-1,a=o.length-1;1<=p&&0<=a&&i[p]!==o[a];)a--;for(;1<=p&&0<=a;p--,a--)if(i[p]!==o[a]){if(p!==1||a!==1)do if(p--,a--,0>a||i[p]!==o[a]){var s=`
`+i[p].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}while(1<=p&&0<=a);break}}}finally{vf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ga(e):""}function iT(e){switch(e.tag){case 5:return ga(e.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return e=yf(e.type,!1),e;case 11:return e=yf(e.type.render,!1),e;case 1:return e=yf(e.type,!0),e;default:return""}}function kh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bo:return"Fragment";case Io:return"Portal";case Ch:return"Profiler";case vm:return"StrictMode";case Eh:return"Suspense";case Th:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case db:return(e.displayName||"Context")+".Consumer";case ub:return(e._context.displayName||"Context")+".Provider";case ym:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wm:return t=e.displayName||null,t!==null?t:kh(e.type)||"Memo";case Qr:t=e._payload,e=e._init;try{return kh(e(t))}catch{}}return null}function oT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kh(t);case 8:return t===vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Si(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sT(e){var t=hb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){r=""+p,o.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Kl(e){e._valueTracker||(e._valueTracker=sT(e))}function pb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=hb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ph(e,t){var n=t.checked;return rt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ev(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Si(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mb(e,t){t=t.checked,t!=null&&gm(e,"checked",t,!1)}function Oh(e,t){mb(e,t);var n=Si(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$h(e,t.type,n):t.hasOwnProperty("defaultValue")&&$h(e,t.type,Si(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $h(e,t,n){(t!=="number"||Jc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var va=Array.isArray;function Qo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Si(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return rt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(va(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Si(n)}}function gb(e,t){var n=Si(t.value),r=Si(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function vb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ah(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?vb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ql,yb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ql=ql||document.createElement("div"),ql.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ql.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Va(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aT=["Webkit","ms","Moz","O"];Object.keys(Ta).forEach(function(e){aT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ta[t]=Ta[e]})});function wb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ta.hasOwnProperty(e)&&Ta[e]?(""+t).trim():t+"px"}function bb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var lT=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(e,t){if(t){if(lT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function Mh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=null;function bm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lh=null,Jo=null,es=null;function Ov(e){if(e=kl(e)){if(typeof Lh!="function")throw Error(he(280));var t=e.stateNode;t&&(t=cd(t),Lh(e.stateNode,e.type,t))}}function xb(e){Jo?es?es.push(e):es=[e]:Jo=e}function Sb(){if(Jo){var e=Jo,t=es;if(es=Jo=null,Ov(e),t)for(e=0;e<t.length;e++)Ov(t[e])}}function _b(e,t){return e(t)}function Cb(){}var wf=!1;function Eb(e,t,n){if(wf)return e(t,n);wf=!0;try{return _b(e,t,n)}finally{wf=!1,(Jo!==null||es!==null)&&(Cb(),Sb())}}function Ua(e,t){var n=e.stateNode;if(n===null)return null;var r=cd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var Fh=!1;if(Mr)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Fh=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Fh=!1}function cT(e,t,n,r,i,o,p,a,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var ka=!1,eu=null,tu=!1,jh=null,uT={onError:function(e){ka=!0,eu=e}};function dT(e,t,n,r,i,o,p,a,s){ka=!1,eu=null,cT.apply(uT,arguments)}function fT(e,t,n,r,i,o,p,a,s){if(dT.apply(this,arguments),ka){if(ka){var c=eu;ka=!1,eu=null}else throw Error(he(198));tu||(tu=!0,jh=c)}}function bo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Tb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $v(e){if(bo(e)!==e)throw Error(he(188))}function hT(e){var t=e.alternate;if(!t){if(t=bo(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $v(i),e;if(o===r)return $v(i),t;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=o;else{for(var p=!1,a=i.child;a;){if(a===n){p=!0,n=i,r=o;break}if(a===r){p=!0,r=i,n=o;break}a=a.sibling}if(!p){for(a=o.child;a;){if(a===n){p=!0,n=o,r=i;break}if(a===r){p=!0,r=o,n=i;break}a=a.sibling}if(!p)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function kb(e){return e=hT(e),e!==null?Pb(e):null}function Pb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Pb(e);if(t!==null)return t;e=e.sibling}return null}var Ob=fn.unstable_scheduleCallback,Rv=fn.unstable_cancelCallback,pT=fn.unstable_shouldYield,mT=fn.unstable_requestPaint,ct=fn.unstable_now,gT=fn.unstable_getCurrentPriorityLevel,xm=fn.unstable_ImmediatePriority,$b=fn.unstable_UserBlockingPriority,nu=fn.unstable_NormalPriority,vT=fn.unstable_LowPriority,Rb=fn.unstable_IdlePriority,od=null,ur=null;function yT(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(od,e,void 0,(e.current.flags&128)===128)}catch{}}var Un=Math.clz32?Math.clz32:xT,wT=Math.log,bT=Math.LN2;function xT(e){return e>>>=0,e===0?32:31-(wT(e)/bT|0)|0}var Zl=64,Ql=4194304;function ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ru(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,p=n&268435455;if(p!==0){var a=p&~i;a!==0?r=ya(a):(o&=p,o!==0&&(r=ya(o)))}else p=n&~i,p!==0?r=ya(p):o!==0&&(r=ya(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Un(t),i=1<<n,r|=e[n],t&=~i;return r}function ST(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _T(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var p=31-Un(o),a=1<<p,s=i[p];s===-1?(!(a&n)||a&r)&&(i[p]=ST(a,t)):s<=t&&(e.expiredLanes|=a),o&=~a}}function Ih(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ab(){var e=Zl;return Zl<<=1,!(Zl&4194240)&&(Zl=64),e}function bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function El(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Un(t),e[t]=n}function CT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Un(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Sm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Ve=0;function Db(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Mb,_m,Nb,Lb,Fb,Bh=!1,Jl=[],hi=null,pi=null,mi=null,Ha=new Map,Wa=new Map,ei=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(e,t){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":Ha.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(t.pointerId)}}function Js(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=kl(t),t!==null&&_m(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function TT(e,t,n,r,i){switch(t){case"focusin":return hi=Js(hi,e,t,n,r,i),!0;case"dragenter":return pi=Js(pi,e,t,n,r,i),!0;case"mouseover":return mi=Js(mi,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ha.set(o,Js(Ha.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Wa.set(o,Js(Wa.get(o)||null,e,t,n,r,i)),!0}return!1}function jb(e){var t=Gi(e.target);if(t!==null){var n=bo(t);if(n!==null){if(t=n.tag,t===13){if(t=Tb(n),t!==null){e.blockedOn=t,Fb(e.priority,function(){Nb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=zh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nh=r,n.target.dispatchEvent(r),Nh=null}else return t=kl(n),t!==null&&_m(t),e.blockedOn=n,!1;t.shift()}return!0}function Dv(e,t,n){$c(e)&&n.delete(t)}function kT(){Bh=!1,hi!==null&&$c(hi)&&(hi=null),pi!==null&&$c(pi)&&(pi=null),mi!==null&&$c(mi)&&(mi=null),Ha.forEach(Dv),Wa.forEach(Dv)}function ea(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,kT)))}function Ya(e){function t(i){return ea(i,e)}if(0<Jl.length){ea(Jl[0],e);for(var n=1;n<Jl.length;n++){var r=Jl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hi!==null&&ea(hi,e),pi!==null&&ea(pi,e),mi!==null&&ea(mi,e),Ha.forEach(t),Wa.forEach(t),n=0;n<ei.length;n++)r=ei[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)jb(n),n.blockedOn===null&&ei.shift()}var ts=Vr.ReactCurrentBatchConfig,iu=!0;function PT(e,t,n,r){var i=Ve,o=ts.transition;ts.transition=null;try{Ve=1,Cm(e,t,n,r)}finally{Ve=i,ts.transition=o}}function OT(e,t,n,r){var i=Ve,o=ts.transition;ts.transition=null;try{Ve=4,Cm(e,t,n,r)}finally{Ve=i,ts.transition=o}}function Cm(e,t,n,r){if(iu){var i=zh(e,t,n,r);if(i===null)$f(e,t,r,ou,n),Av(e,r);else if(TT(i,e,t,n,r))r.stopPropagation();else if(Av(e,r),t&4&&-1<ET.indexOf(e)){for(;i!==null;){var o=kl(i);if(o!==null&&Mb(o),o=zh(e,t,n,r),o===null&&$f(e,t,r,ou,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else $f(e,t,r,null,n)}}var ou=null;function zh(e,t,n,r){if(ou=null,e=bm(r),e=Gi(e),e!==null)if(t=bo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Tb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ou=e,null}function Ib(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gT()){case xm:return 1;case $b:return 4;case nu:case vT:return 16;case Rb:return 536870912;default:return 16}default:return 16}}var ai=null,Em=null,Rc=null;function Bb(){if(Rc)return Rc;var e,t=Em,n=t.length,r,i="value"in ai?ai.value:ai.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(r=1;r<=p&&t[n-r]===i[o-r];r++);return Rc=i.slice(e,1<r?1-r:void 0)}function Ac(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ec(){return!0}function Mv(){return!1}function gn(e){function t(n,r,i,o,p){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=p,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ec:Mv,this.isPropagationStopped=Mv,this}return rt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ec)},persist:function(){},isPersistent:ec}),t}var js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tm=gn(js),Tl=rt({},js,{view:0,detail:0}),$T=gn(Tl),xf,Sf,ta,sd=rt({},Tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ta&&(ta&&e.type==="mousemove"?(xf=e.screenX-ta.screenX,Sf=e.screenY-ta.screenY):Sf=xf=0,ta=e),xf)},movementY:function(e){return"movementY"in e?e.movementY:Sf}}),Nv=gn(sd),RT=rt({},sd,{dataTransfer:0}),AT=gn(RT),DT=rt({},Tl,{relatedTarget:0}),_f=gn(DT),MT=rt({},js,{animationName:0,elapsedTime:0,pseudoElement:0}),NT=gn(MT),LT=rt({},js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FT=gn(LT),jT=rt({},js,{data:0}),Lv=gn(jT),IT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},BT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zT[e])?!!t[e]:!1}function km(){return VT}var UT=rt({},Tl,{key:function(e){if(e.key){var t=IT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ac(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?BT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(e){return e.type==="keypress"?Ac(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ac(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),HT=gn(UT),WT=rt({},sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fv=gn(WT),YT=rt({},Tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),XT=gn(YT),GT=rt({},js,{propertyName:0,elapsedTime:0,pseudoElement:0}),KT=gn(GT),qT=rt({},sd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZT=gn(qT),QT=[9,13,27,32],Pm=Mr&&"CompositionEvent"in window,Pa=null;Mr&&"documentMode"in document&&(Pa=document.documentMode);var JT=Mr&&"TextEvent"in window&&!Pa,zb=Mr&&(!Pm||Pa&&8<Pa&&11>=Pa),jv=" ",Iv=!1;function Vb(e,t){switch(e){case"keyup":return QT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ub(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zo=!1;function ek(e,t){switch(e){case"compositionend":return Ub(t);case"keypress":return t.which!==32?null:(Iv=!0,jv);case"textInput":return e=t.data,e===jv&&Iv?null:e;default:return null}}function tk(e,t){if(zo)return e==="compositionend"||!Pm&&Vb(e,t)?(e=Bb(),Rc=Em=ai=null,zo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zb&&t.locale!=="ko"?null:t.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nk[e.type]:t==="textarea"}function Hb(e,t,n,r){xb(r),t=su(t,"onChange"),0<t.length&&(n=new Tm("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Oa=null,Xa=null;function rk(e){tx(e,0)}function ad(e){var t=Ho(e);if(pb(t))return e}function ik(e,t){if(e==="change")return t}var Wb=!1;if(Mr){var Cf;if(Mr){var Ef="oninput"in document;if(!Ef){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),Ef=typeof zv.oninput=="function"}Cf=Ef}else Cf=!1;Wb=Cf&&(!document.documentMode||9<document.documentMode)}function Vv(){Oa&&(Oa.detachEvent("onpropertychange",Yb),Xa=Oa=null)}function Yb(e){if(e.propertyName==="value"&&ad(Xa)){var t=[];Hb(t,Xa,e,bm(e)),Eb(rk,t)}}function ok(e,t,n){e==="focusin"?(Vv(),Oa=t,Xa=n,Oa.attachEvent("onpropertychange",Yb)):e==="focusout"&&Vv()}function sk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ad(Xa)}function ak(e,t){if(e==="click")return ad(t)}function lk(e,t){if(e==="input"||e==="change")return ad(t)}function ck(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yn=typeof Object.is=="function"?Object.is:ck;function Ga(e,t){if(Yn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_h.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Uv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hv(e,t){var n=Uv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uv(n)}}function Xb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gb(){for(var e=window,t=Jc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Jc(e.document)}return t}function Om(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uk(e){var t=Gb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(r!==null&&Om(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Hv(n,o);var p=Hv(n,r);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dk=Mr&&"documentMode"in document&&11>=document.documentMode,Vo=null,Vh=null,$a=null,Uh=!1;function Wv(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||Vo==null||Vo!==Jc(r)||(r=Vo,"selectionStart"in r&&Om(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$a&&Ga($a,r)||($a=r,r=su(Vh,"onSelect"),0<r.length&&(t=new Tm("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function tc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uo={animationend:tc("Animation","AnimationEnd"),animationiteration:tc("Animation","AnimationIteration"),animationstart:tc("Animation","AnimationStart"),transitionend:tc("Transition","TransitionEnd")},Tf={},Kb={};Mr&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete Uo.animationend.animation,delete Uo.animationiteration.animation,delete Uo.animationstart.animation),"TransitionEvent"in window||delete Uo.transitionend.transition);function ld(e){if(Tf[e])return Tf[e];if(!Uo[e])return e;var t=Uo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kb)return Tf[e]=t[n];return e}var qb=ld("animationend"),Zb=ld("animationiteration"),Qb=ld("animationstart"),Jb=ld("transitionend"),ex=new Map,Yv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){ex.set(e,t),wo(t,[e])}for(var kf=0;kf<Yv.length;kf++){var Pf=Yv[kf],fk=Pf.toLowerCase(),hk=Pf[0].toUpperCase()+Pf.slice(1);Pi(fk,"on"+hk)}Pi(qb,"onAnimationEnd");Pi(Zb,"onAnimationIteration");Pi(Qb,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(Jb,"onTransitionEnd");vs("onMouseEnter",["mouseout","mouseover"]);vs("onMouseLeave",["mouseout","mouseover"]);vs("onPointerEnter",["pointerout","pointerover"]);vs("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function Xv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,fT(r,t,void 0,e),e.currentTarget=null}function tx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var p=r.length-1;0<=p;p--){var a=r[p],s=a.instance,c=a.currentTarget;if(a=a.listener,s!==o&&i.isPropagationStopped())break e;Xv(i,a,c),o=s}else for(p=0;p<r.length;p++){if(a=r[p],s=a.instance,c=a.currentTarget,a=a.listener,s!==o&&i.isPropagationStopped())break e;Xv(i,a,c),o=s}}}if(tu)throw e=jh,tu=!1,jh=null,e}function Ge(e,t){var n=t[Gh];n===void 0&&(n=t[Gh]=new Set);var r=e+"__bubble";n.has(r)||(nx(t,e,2,!1),n.add(r))}function Of(e,t,n){var r=0;t&&(r|=4),nx(n,e,r,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Ka(e){if(!e[nc]){e[nc]=!0,cb.forEach(function(n){n!=="selectionchange"&&(pk.has(n)||Of(n,!1,e),Of(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,Of("selectionchange",!1,t))}}function nx(e,t,n,r){switch(Ib(t)){case 1:var i=PT;break;case 4:i=OT;break;default:i=Cm}n=i.bind(null,t,n,e),i=void 0,!Fh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $f(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(p===4)for(p=r.return;p!==null;){var s=p.tag;if((s===3||s===4)&&(s=p.stateNode.containerInfo,s===i||s.nodeType===8&&s.parentNode===i))return;p=p.return}for(;a!==null;){if(p=Gi(a),p===null)return;if(s=p.tag,s===5||s===6){r=o=p;continue e}a=a.parentNode}}r=r.return}Eb(function(){var c=o,f=bm(n),l=[];e:{var u=ex.get(e);if(u!==void 0){var d=Tm,h=e;switch(e){case"keypress":if(Ac(n)===0)break e;case"keydown":case"keyup":d=HT;break;case"focusin":h="focus",d=_f;break;case"focusout":h="blur",d=_f;break;case"beforeblur":case"afterblur":d=_f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=AT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=XT;break;case qb:case Zb:case Qb:d=NT;break;case Jb:d=KT;break;case"scroll":d=$T;break;case"wheel":d=ZT;break;case"copy":case"cut":case"paste":d=FT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Fv}var g=(t&4)!==0,m=!g&&e==="scroll",v=g?u!==null?u+"Capture":null:u;g=[];for(var y=c,w;y!==null;){w=y;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,v!==null&&(x=Ua(y,v),x!=null&&g.push(qa(y,x,w)))),m)break;y=y.return}0<g.length&&(u=new d(u,h,null,n,f),l.push({event:u,listeners:g}))}}if(!(t&7)){e:{if(u=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",u&&n!==Nh&&(h=n.relatedTarget||n.fromElement)&&(Gi(h)||h[Nr]))break e;if((d||u)&&(u=f.window===f?f:(u=f.ownerDocument)?u.defaultView||u.parentWindow:window,d?(h=n.relatedTarget||n.toElement,d=c,h=h?Gi(h):null,h!==null&&(m=bo(h),h!==m||h.tag!==5&&h.tag!==6)&&(h=null)):(d=null,h=c),d!==h)){if(g=Nv,x="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=Fv,x="onPointerLeave",v="onPointerEnter",y="pointer"),m=d==null?u:Ho(d),w=h==null?u:Ho(h),u=new g(x,y+"leave",d,n,f),u.target=m,u.relatedTarget=w,x=null,Gi(f)===c&&(g=new g(v,y+"enter",h,n,f),g.target=w,g.relatedTarget=m,x=g),m=x,d&&h)t:{for(g=d,v=h,y=0,w=g;w;w=ko(w))y++;for(w=0,x=v;x;x=ko(x))w++;for(;0<y-w;)g=ko(g),y--;for(;0<w-y;)v=ko(v),w--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=ko(g),v=ko(v)}g=null}else g=null;d!==null&&Gv(l,u,d,g,!1),h!==null&&m!==null&&Gv(l,m,h,g,!0)}}e:{if(u=c?Ho(c):window,d=u.nodeName&&u.nodeName.toLowerCase(),d==="select"||d==="input"&&u.type==="file")var S=ik;else if(Bv(u))if(Wb)S=lk;else{S=sk;var C=ok}else(d=u.nodeName)&&d.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(S=ak);if(S&&(S=S(e,c))){Hb(l,S,n,f);break e}C&&C(e,u,c),e==="focusout"&&(C=u._wrapperState)&&C.controlled&&u.type==="number"&&$h(u,"number",u.value)}switch(C=c?Ho(c):window,e){case"focusin":(Bv(C)||C.contentEditable==="true")&&(Vo=C,Vh=c,$a=null);break;case"focusout":$a=Vh=Vo=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,Wv(l,n,f);break;case"selectionchange":if(dk)break;case"keydown":case"keyup":Wv(l,n,f)}var E;if(Pm)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zo?Vb(e,n)&&(k="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(zb&&n.locale!=="ko"&&(zo||k!=="onCompositionStart"?k==="onCompositionEnd"&&zo&&(E=Bb()):(ai=f,Em="value"in ai?ai.value:ai.textContent,zo=!0)),C=su(c,k),0<C.length&&(k=new Lv(k,e,null,n,f),l.push({event:k,listeners:C}),E?k.data=E:(E=Ub(n),E!==null&&(k.data=E)))),(E=JT?ek(e,n):tk(e,n))&&(c=su(c,"onBeforeInput"),0<c.length&&(f=new Lv("onBeforeInput","beforeinput",null,n,f),l.push({event:f,listeners:c}),f.data=E))}tx(l,t)})}function qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function su(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ua(e,n),o!=null&&r.unshift(qa(e,o,i)),o=Ua(e,t),o!=null&&r.push(qa(e,o,i))),e=e.return}return r}function ko(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gv(e,t,n,r,i){for(var o=t._reactName,p=[];n!==null&&n!==r;){var a=n,s=a.alternate,c=a.stateNode;if(s!==null&&s===r)break;a.tag===5&&c!==null&&(a=c,i?(s=Ua(n,o),s!=null&&p.unshift(qa(n,s,a))):i||(s=Ua(n,o),s!=null&&p.push(qa(n,s,a)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var mk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function Kv(e){return(typeof e=="string"?e:""+e).replace(mk,`
`).replace(gk,"")}function rc(e,t,n){if(t=Kv(t),Kv(e)!==t&&n)throw Error(he(425))}function au(){}var Hh=null,Wh=null;function Yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xh=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,qv=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof qv<"u"?function(e){return qv.resolve(null).then(e).catch(wk)}:Xh;function wk(e){setTimeout(function(){throw e})}function Rf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ya(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ya(t)}function gi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),tr="__reactFiber$"+Is,Za="__reactProps$"+Is,Nr="__reactContainer$"+Is,Gh="__reactEvents$"+Is,bk="__reactListeners$"+Is,xk="__reactHandles$"+Is;function Gi(e){var t=e[tr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nr]||n[tr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zv(e);e!==null;){if(n=e[tr])return n;e=Zv(e)}return t}e=n,n=e.parentNode}return null}function kl(e){return e=e[tr]||e[Nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function cd(e){return e[Za]||null}var Kh=[],Wo=-1;function Oi(e){return{current:e}}function qe(e){0>Wo||(e.current=Kh[Wo],Kh[Wo]=null,Wo--)}function Ye(e,t){Wo++,Kh[Wo]=e.current,e.current=t}var _i={},$t=Oi(_i),Zt=Oi(!1),so=_i;function ys(e,t){var n=e.type.contextTypes;if(!n)return _i;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(e){return e=e.childContextTypes,e!=null}function lu(){qe(Zt),qe($t)}function Qv(e,t,n){if($t.current!==_i)throw Error(he(168));Ye($t,t),Ye(Zt,n)}function rx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(he(108,oT(e)||"Unknown",i));return rt({},n,r)}function cu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,so=$t.current,Ye($t,e),Ye(Zt,Zt.current),!0}function Jv(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=rx(e,t,so),r.__reactInternalMemoizedMergedChildContext=e,qe(Zt),qe($t),Ye($t,e)):qe(Zt),Ye(Zt,n)}var Cr=null,ud=!1,Af=!1;function ix(e){Cr===null?Cr=[e]:Cr.push(e)}function Sk(e){ud=!0,ix(e)}function $i(){if(!Af&&Cr!==null){Af=!0;var e=0,t=Ve;try{var n=Cr;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Cr=null,ud=!1}catch(i){throw Cr!==null&&(Cr=Cr.slice(e+1)),Ob(xm,$i),i}finally{Ve=t,Af=!1}}return null}var Yo=[],Xo=0,uu=null,du=0,bn=[],xn=0,ao=null,Tr=1,kr="";function Ii(e,t){Yo[Xo++]=du,Yo[Xo++]=uu,uu=e,du=t}function ox(e,t,n){bn[xn++]=Tr,bn[xn++]=kr,bn[xn++]=ao,ao=e;var r=Tr;e=kr;var i=32-Un(r)-1;r&=~(1<<i),n+=1;var o=32-Un(t)+i;if(30<o){var p=i-i%5;o=(r&(1<<p)-1).toString(32),r>>=p,i-=p,Tr=1<<32-Un(t)+i|n<<i|r,kr=o+e}else Tr=1<<o|n<<i|r,kr=e}function $m(e){e.return!==null&&(Ii(e,1),ox(e,1,0))}function Rm(e){for(;e===uu;)uu=Yo[--Xo],Yo[Xo]=null,du=Yo[--Xo],Yo[Xo]=null;for(;e===ao;)ao=bn[--xn],bn[xn]=null,kr=bn[--xn],bn[xn]=null,Tr=bn[--xn],bn[xn]=null}var un=null,cn=null,Je=!1,In=null;function sx(e,t){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function e0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,un=e,cn=gi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,un=e,cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ao!==null?{id:Tr,overflow:kr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,un=e,cn=null,!0):!1;default:return!1}}function qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zh(e){if(Je){var t=cn;if(t){var n=t;if(!e0(e,t)){if(qh(e))throw Error(he(418));t=gi(n.nextSibling);var r=un;t&&e0(e,t)?sx(r,n):(e.flags=e.flags&-4097|2,Je=!1,un=e)}}else{if(qh(e))throw Error(he(418));e.flags=e.flags&-4097|2,Je=!1,un=e}}}function t0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;un=e}function ic(e){if(e!==un)return!1;if(!Je)return t0(e),Je=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yh(e.type,e.memoizedProps)),t&&(t=cn)){if(qh(e))throw ax(),Error(he(418));for(;t;)sx(e,t),t=gi(t.nextSibling)}if(t0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){cn=gi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}cn=null}}else cn=un?gi(e.stateNode.nextSibling):null;return!0}function ax(){for(var e=cn;e;)e=gi(e.nextSibling)}function ws(){cn=un=null,Je=!1}function Am(e){In===null?In=[e]:In.push(e)}var _k=Vr.ReactCurrentBatchConfig;function na(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(p){var a=i.refs;p===null?delete a[o]:a[o]=p},t._stringRef=o,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function oc(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n0(e){var t=e._init;return t(e._payload)}function lx(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=bi(v,y),v.index=0,v.sibling=null,v}function o(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function p(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,w,x){return y===null||y.tag!==6?(y=If(w,v.mode,x),y.return=v,y):(y=i(y,w),y.return=v,y)}function s(v,y,w,x){var S=w.type;return S===Bo?f(v,y,w.props.children,x,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qr&&n0(S)===y.type)?(x=i(y,w.props),x.ref=na(v,y,w),x.return=v,x):(x=Ic(w.type,w.key,w.props,null,v.mode,x),x.ref=na(v,y,w),x.return=v,x)}function c(v,y,w,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Bf(w,v.mode,x),y.return=v,y):(y=i(y,w.children||[]),y.return=v,y)}function f(v,y,w,x,S){return y===null||y.tag!==7?(y=io(w,v.mode,x,S),y.return=v,y):(y=i(y,w),y.return=v,y)}function l(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=If(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gl:return w=Ic(y.type,y.key,y.props,null,v.mode,w),w.ref=na(v,null,y),w.return=v,w;case Io:return y=Bf(y,v.mode,w),y.return=v,y;case Qr:var x=y._init;return l(v,x(y._payload),w)}if(va(y)||Zs(y))return y=io(y,v.mode,w,null),y.return=v,y;oc(v,y)}return null}function u(v,y,w,x){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(v,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:return w.key===S?s(v,y,w,x):null;case Io:return w.key===S?c(v,y,w,x):null;case Qr:return S=w._init,u(v,y,S(w._payload),x)}if(va(w)||Zs(w))return S!==null?null:f(v,y,w,x,null);oc(v,w)}return null}function d(v,y,w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(w)||null,a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Gl:return v=v.get(x.key===null?w:x.key)||null,s(y,v,x,S);case Io:return v=v.get(x.key===null?w:x.key)||null,c(y,v,x,S);case Qr:var C=x._init;return d(v,y,w,C(x._payload),S)}if(va(x)||Zs(x))return v=v.get(w)||null,f(y,v,x,S,null);oc(y,x)}return null}function h(v,y,w,x){for(var S=null,C=null,E=y,k=y=0,L=null;E!==null&&k<w.length;k++){E.index>k?(L=E,E=null):L=E.sibling;var B=u(v,E,w[k],x);if(B===null){E===null&&(E=L);break}e&&E&&B.alternate===null&&t(v,E),y=o(B,y,k),C===null?S=B:C.sibling=B,C=B,E=L}if(k===w.length)return n(v,E),Je&&Ii(v,k),S;if(E===null){for(;k<w.length;k++)E=l(v,w[k],x),E!==null&&(y=o(E,y,k),C===null?S=E:C.sibling=E,C=E);return Je&&Ii(v,k),S}for(E=r(v,E);k<w.length;k++)L=d(E,v,k,w[k],x),L!==null&&(e&&L.alternate!==null&&E.delete(L.key===null?k:L.key),y=o(L,y,k),C===null?S=L:C.sibling=L,C=L);return e&&E.forEach(function(G){return t(v,G)}),Je&&Ii(v,k),S}function g(v,y,w,x){var S=Zs(w);if(typeof S!="function")throw Error(he(150));if(w=S.call(w),w==null)throw Error(he(151));for(var C=S=null,E=y,k=y=0,L=null,B=w.next();E!==null&&!B.done;k++,B=w.next()){E.index>k?(L=E,E=null):L=E.sibling;var G=u(v,E,B.value,x);if(G===null){E===null&&(E=L);break}e&&E&&G.alternate===null&&t(v,E),y=o(G,y,k),C===null?S=G:C.sibling=G,C=G,E=L}if(B.done)return n(v,E),Je&&Ii(v,k),S;if(E===null){for(;!B.done;k++,B=w.next())B=l(v,B.value,x),B!==null&&(y=o(B,y,k),C===null?S=B:C.sibling=B,C=B);return Je&&Ii(v,k),S}for(E=r(v,E);!B.done;k++,B=w.next())B=d(E,v,k,B.value,x),B!==null&&(e&&B.alternate!==null&&E.delete(B.key===null?k:B.key),y=o(B,y,k),C===null?S=B:C.sibling=B,C=B);return e&&E.forEach(function(z){return t(v,z)}),Je&&Ii(v,k),S}function m(v,y,w,x){if(typeof w=="object"&&w!==null&&w.type===Bo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Gl:e:{for(var S=w.key,C=y;C!==null;){if(C.key===S){if(S=w.type,S===Bo){if(C.tag===7){n(v,C.sibling),y=i(C,w.props.children),y.return=v,v=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Qr&&n0(S)===C.type){n(v,C.sibling),y=i(C,w.props),y.ref=na(v,C,w),y.return=v,v=y;break e}n(v,C);break}else t(v,C);C=C.sibling}w.type===Bo?(y=io(w.props.children,v.mode,x,w.key),y.return=v,v=y):(x=Ic(w.type,w.key,w.props,null,v.mode,x),x.ref=na(v,y,w),x.return=v,v=x)}return p(v);case Io:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=i(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Bf(w,v.mode,x),y.return=v,v=y}return p(v);case Qr:return C=w._init,m(v,y,C(w._payload),x)}if(va(w))return h(v,y,w,x);if(Zs(w))return g(v,y,w,x);oc(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,w),y.return=v,v=y):(n(v,y),y=If(w,v.mode,x),y.return=v,v=y),p(v)):n(v,y)}return m}var bs=lx(!0),cx=lx(!1),fu=Oi(null),hu=null,Go=null,Dm=null;function Mm(){Dm=Go=hu=null}function Nm(e){var t=fu.current;qe(fu),e._currentValue=t}function Qh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ns(e,t){hu=e,Dm=Go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Pn(e){var t=e._currentValue;if(Dm!==e)if(e={context:e,memoizedValue:t,next:null},Go===null){if(hu===null)throw Error(he(308));Go=e,hu.dependencies={lanes:0,firstContext:e}}else Go=Go.next=e;return t}var Ki=null;function Lm(e){Ki===null?Ki=[e]:Ki.push(e)}function ux(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Lm(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lr(e,r)}function Lr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jr=!1;function Fm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lr(e,n)}return i=r.interleaved,i===null?(t.next=t,Lm(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lr(e,n)}function Dc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}function r0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=p:o=o.next=p,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pu(e,t,n,r){var i=e.updateQueue;Jr=!1;var o=i.firstBaseUpdate,p=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var s=a,c=s.next;s.next=null,p===null?o=c:p.next=c,p=s;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==p&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=s))}if(o!==null){var l=i.baseState;p=0,f=c=s=null,a=o;do{var u=a.lane,d=a.eventTime;if((r&u)===u){f!==null&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(u=t,d=n,g.tag){case 1:if(h=g.payload,typeof h=="function"){l=h.call(d,l,u);break e}l=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,u=typeof h=="function"?h.call(d,l,u):h,u==null)break e;l=rt({},l,u);break e;case 2:Jr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,u=i.effects,u===null?i.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=d,s=l):f=f.next=d,p|=u;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;u=a,a=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);if(f===null&&(s=l),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);co|=p,e.lanes=p,e.memoizedState=l}}function i0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var Pl={},dr=Oi(Pl),Qa=Oi(Pl),Ja=Oi(Pl);function qi(e){if(e===Pl)throw Error(he(174));return e}function jm(e,t){switch(Ye(Ja,t),Ye(Qa,e),Ye(dr,Pl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ah(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ah(t,e)}qe(dr),Ye(dr,t)}function xs(){qe(dr),qe(Qa),qe(Ja)}function fx(e){qi(Ja.current);var t=qi(dr.current),n=Ah(t,e.type);t!==n&&(Ye(Qa,e),Ye(dr,n))}function Im(e){Qa.current===e&&(qe(dr),qe(Qa))}var et=Oi(0);function mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Df=[];function Bm(){for(var e=0;e<Df.length;e++)Df[e]._workInProgressVersionPrimary=null;Df.length=0}var Mc=Vr.ReactCurrentDispatcher,Mf=Vr.ReactCurrentBatchConfig,lo=0,nt=null,pt=null,vt=null,gu=!1,Ra=!1,el=0,Ck=0;function kt(){throw Error(he(321))}function zm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Vm(e,t,n,r,i,o){if(lo=o,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mc.current=e===null||e.memoizedState===null?Pk:Ok,e=n(r,i),Ra){o=0;do{if(Ra=!1,el=0,25<=o)throw Error(he(301));o+=1,vt=pt=null,t.updateQueue=null,Mc.current=$k,e=n(r,i)}while(Ra)}if(Mc.current=vu,t=pt!==null&&pt.next!==null,lo=0,vt=pt=nt=null,gu=!1,t)throw Error(he(300));return e}function Um(){var e=el!==0;return el=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?nt.memoizedState=vt=e:vt=vt.next=e,vt}function On(){if(pt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=vt===null?nt.memoizedState:vt.next;if(t!==null)vt=t,pt=e;else{if(e===null)throw Error(he(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},vt===null?nt.memoizedState=vt=e:vt=vt.next=e}return vt}function tl(e,t){return typeof t=="function"?t(e):t}function Nf(e){var t=On(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=pt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var p=i.next;i.next=o.next,o.next=p}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=p=null,s=null,c=o;do{var f=c.lane;if((lo&f)===f)s!==null&&(s=s.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var l={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};s===null?(a=s=l,p=r):s=s.next=l,nt.lanes|=f,co|=f}c=c.next}while(c!==null&&c!==o);s===null?p=r:s.next=a,Yn(r,t.memoizedState)||(qt=!0),t.memoizedState=r,t.baseState=p,t.baseQueue=s,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,nt.lanes|=o,co|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lf(e){var t=On(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do o=e(o,p.action),p=p.next;while(p!==i);Yn(o,t.memoizedState)||(qt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hx(){}function px(e,t){var n=nt,r=On(),i=t(),o=!Yn(r.memoizedState,i);if(o&&(r.memoizedState=i,qt=!0),r=r.queue,Hm(vx.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||vt!==null&&vt.memoizedState.tag&1){if(n.flags|=2048,nl(9,gx.bind(null,n,r,i,t),void 0,null),yt===null)throw Error(he(349));lo&30||mx(n,t,i)}return i}function mx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function gx(e,t,n,r){t.value=n,t.getSnapshot=r,yx(t)&&wx(e)}function vx(e,t,n){return n(function(){yx(t)&&wx(e)})}function yx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch{return!0}}function wx(e){var t=Lr(e,1);t!==null&&Hn(t,e,1,-1)}function o0(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:e},t.queue=e,e=e.dispatch=kk.bind(null,nt,e),[t.memoizedState,e]}function nl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bx(){return On().memoizedState}function Nc(e,t,n,r){var i=qn();nt.flags|=e,i.memoizedState=nl(1|t,n,void 0,r===void 0?null:r)}function dd(e,t,n,r){var i=On();r=r===void 0?null:r;var o=void 0;if(pt!==null){var p=pt.memoizedState;if(o=p.destroy,r!==null&&zm(r,p.deps)){i.memoizedState=nl(t,n,o,r);return}}nt.flags|=e,i.memoizedState=nl(1|t,n,o,r)}function s0(e,t){return Nc(8390656,8,e,t)}function Hm(e,t){return dd(2048,8,e,t)}function xx(e,t){return dd(4,2,e,t)}function Sx(e,t){return dd(4,4,e,t)}function _x(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cx(e,t,n){return n=n!=null?n.concat([e]):null,dd(4,4,_x.bind(null,t,e),n)}function Wm(){}function Ex(e,t){var n=On();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zm(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Tx(e,t){var n=On();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zm(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function kx(e,t,n){return lo&21?(Yn(n,t)||(n=Ab(),nt.lanes|=n,co|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=n)}function Ek(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=Mf.transition;Mf.transition={};try{e(!1),t()}finally{Ve=n,Mf.transition=r}}function Px(){return On().memoizedState}function Tk(e,t,n){var r=wi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ox(e))$x(t,n);else if(n=ux(e,t,n,r),n!==null){var i=Bt();Hn(n,e,r,i),Rx(n,t,r)}}function kk(e,t,n){var r=wi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ox(e))$x(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var p=t.lastRenderedState,a=o(p,n);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,p)){var s=t.interleaved;s===null?(i.next=i,Lm(t)):(i.next=s.next,s.next=i),t.interleaved=i;return}}catch{}finally{}n=ux(e,t,i,r),n!==null&&(i=Bt(),Hn(n,e,r,i),Rx(n,t,r))}}function Ox(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function $x(e,t){Ra=gu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Rx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Sm(e,n)}}var vu={readContext:Pn,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},Pk={readContext:Pn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:Pn,useEffect:s0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Nc(4194308,4,_x.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Nc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Nc(4,2,e,t)},useMemo:function(e,t){var n=qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tk.bind(null,nt,e),[r.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:o0,useDebugValue:Wm,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=o0(!1),t=e[0];return e=Ek.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=nt,i=qn();if(Je){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),yt===null)throw Error(he(349));lo&30||mx(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,s0(vx.bind(null,r,o,e),[e]),r.flags|=2048,nl(9,gx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=qn(),t=yt.identifierPrefix;if(Je){var n=kr,r=Tr;n=(r&~(1<<32-Un(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=el++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ck++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ok={readContext:Pn,useCallback:Ex,useContext:Pn,useEffect:Hm,useImperativeHandle:Cx,useInsertionEffect:xx,useLayoutEffect:Sx,useMemo:Tx,useReducer:Nf,useRef:bx,useState:function(){return Nf(tl)},useDebugValue:Wm,useDeferredValue:function(e){var t=On();return kx(t,pt.memoizedState,e)},useTransition:function(){var e=Nf(tl)[0],t=On().memoizedState;return[e,t]},useMutableSource:hx,useSyncExternalStore:px,useId:Px,unstable_isNewReconciler:!1},$k={readContext:Pn,useCallback:Ex,useContext:Pn,useEffect:Hm,useImperativeHandle:Cx,useInsertionEffect:xx,useLayoutEffect:Sx,useMemo:Tx,useReducer:Lf,useRef:bx,useState:function(){return Lf(tl)},useDebugValue:Wm,useDeferredValue:function(e){var t=On();return pt===null?t.memoizedState=e:kx(t,pt.memoizedState,e)},useTransition:function(){var e=Lf(tl)[0],t=On().memoizedState;return[e,t]},useMutableSource:hx,useSyncExternalStore:px,useId:Px,unstable_isNewReconciler:!1};function Dn(e,t){if(e&&e.defaultProps){t=rt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Jh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:rt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fd={isMounted:function(e){return(e=e._reactInternals)?bo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=wi(e),o=Ar(r,i);o.payload=t,n!=null&&(o.callback=n),t=vi(e,o,i),t!==null&&(Hn(t,e,i,r),Dc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Bt(),i=wi(e),o=Ar(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=vi(e,o,i),t!==null&&(Hn(t,e,i,r),Dc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),r=wi(e),i=Ar(n,r);i.tag=2,t!=null&&(i.callback=t),t=vi(e,i,r),t!==null&&(Hn(t,e,r,n),Dc(t,e,r))}};function a0(e,t,n,r,i,o,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,p):t.prototype&&t.prototype.isPureReactComponent?!Ga(n,r)||!Ga(i,o):!0}function Ax(e,t,n){var r=!1,i=_i,o=t.contextType;return typeof o=="object"&&o!==null?o=Pn(o):(i=Qt(t)?so:$t.current,r=t.contextTypes,o=(r=r!=null)?ys(e,i):_i),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function l0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fd.enqueueReplaceState(t,t.state,null)}function ep(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Fm(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Pn(o):(o=Qt(t)?so:$t.current,i.context=ys(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Jh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fd.enqueueReplaceState(i,i.state,null),pu(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ss(e,t){try{var n="",r=t;do n+=iT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ff(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function tp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function Dx(e,t,n){n=Ar(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){wu||(wu=!0,dp=r),tp(e,t)},n}function Mx(e,t,n){n=Ar(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){tp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tp(e,t),typeof r!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function c0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Rk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Wk.bind(null,e,t,n),t.then(e,e))}function u0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function d0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ar(-1,1),t.tag=2,vi(n,t,1))),n.lanes|=1),e)}var Ak=Vr.ReactCurrentOwner,qt=!1;function Nt(e,t,n,r){t.child=e===null?cx(t,null,n,r):bs(t,e.child,n,r)}function f0(e,t,n,r,i){n=n.render;var o=t.ref;return ns(t,i),r=Vm(e,t,n,r,o,i),n=Um(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(Je&&n&&$m(t),t.flags|=1,Nt(e,t,r,i),t.child)}function h0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Jm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Nx(e,t,o,r,i)):(e=Ic(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var p=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ga,n(p,r)&&e.ref===t.ref)return Fr(e,t,i)}return t.flags|=1,e=bi(o,r),e.ref=t.ref,e.return=t,t.child=e}function Nx(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ga(o,r)&&e.ref===t.ref)if(qt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Fr(e,t,i)}return np(e,t,n,r,i)}function Lx(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(qo,an),an|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(qo,an),an|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ye(qo,an),an|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ye(qo,an),an|=r;return Nt(e,t,i,n),t.child}function Fx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function np(e,t,n,r,i){var o=Qt(n)?so:$t.current;return o=ys(t,o),ns(t,i),n=Vm(e,t,n,r,o,i),r=Um(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fr(e,t,i)):(Je&&r&&$m(t),t.flags|=1,Nt(e,t,n,i),t.child)}function p0(e,t,n,r,i){if(Qt(n)){var o=!0;cu(t)}else o=!1;if(ns(t,i),t.stateNode===null)Lc(e,t),Ax(t,n,r),ep(t,n,r,i),r=!0;else if(e===null){var p=t.stateNode,a=t.memoizedProps;p.props=a;var s=p.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=Qt(n)?so:$t.current,c=ys(t,c));var f=n.getDerivedStateFromProps,l=typeof f=="function"||typeof p.getSnapshotBeforeUpdate=="function";l||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==r||s!==c)&&l0(t,p,r,c),Jr=!1;var u=t.memoizedState;p.state=u,pu(t,r,p,i),s=t.memoizedState,a!==r||u!==s||Zt.current||Jr?(typeof f=="function"&&(Jh(t,n,f,r),s=t.memoizedState),(a=Jr||a0(t,n,a,r,u,s,c))?(l||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),p.props=r,p.state=s,p.context=c,r=a):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{p=t.stateNode,dx(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Dn(t.type,a),p.props=c,l=t.pendingProps,u=p.context,s=n.contextType,typeof s=="object"&&s!==null?s=Pn(s):(s=Qt(n)?so:$t.current,s=ys(t,s));var d=n.getDerivedStateFromProps;(f=typeof d=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(a!==l||u!==s)&&l0(t,p,r,s),Jr=!1,u=t.memoizedState,p.state=u,pu(t,r,p,i);var h=t.memoizedState;a!==l||u!==h||Zt.current||Jr?(typeof d=="function"&&(Jh(t,n,d,r),h=t.memoizedState),(c=Jr||a0(t,n,c,r,u,h,s)||!1)?(f||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,h,s),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,h,s)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),p.props=r,p.state=h,p.context=s,r=c):(typeof p.componentDidUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),r=!1)}return rp(e,t,n,r,o,i)}function rp(e,t,n,r,i,o){Fx(e,t);var p=(t.flags&128)!==0;if(!r&&!p)return i&&Jv(t,n,!1),Fr(e,t,o);r=t.stateNode,Ak.current=t;var a=p&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&p?(t.child=bs(t,e.child,null,o),t.child=bs(t,null,a,o)):Nt(e,t,a,o),t.memoizedState=r.state,i&&Jv(t,n,!0),t.child}function jx(e){var t=e.stateNode;t.pendingContext?Qv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qv(e,t.context,!1),jm(e,t.containerInfo)}function m0(e,t,n,r,i){return ws(),Am(i),t.flags|=256,Nt(e,t,n,r),t.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ix(e,t,n){var r=t.pendingProps,i=et.current,o=!1,p=(t.flags&128)!==0,a;if((a=p)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ye(et,i&1),e===null)return Zh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=r.children,e=r.fallback,o?(r=t.mode,o=t.child,p={mode:"hidden",children:p},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=p):o=md(p,r,0,null),e=io(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=op(n),t.memoizedState=ip,e):Ym(t,p));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Dk(e,t,p,r,a,i,n);if(o){o=r.fallback,p=t.mode,i=e.child,a=i.sibling;var s={mode:"hidden",children:r.children};return!(p&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=s,t.deletions=null):(r=bi(i,s),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=bi(a,o):(o=io(o,p,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,p=e.child.memoizedState,p=p===null?op(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},o.memoizedState=p,o.childLanes=e.childLanes&~n,t.memoizedState=ip,r}return o=e.child,e=o.sibling,r=bi(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ym(e,t){return t=md({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sc(e,t,n,r){return r!==null&&Am(r),bs(t,e.child,null,n),e=Ym(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dk(e,t,n,r,i,o,p){if(n)return t.flags&256?(t.flags&=-257,r=Ff(Error(he(422))),sc(e,t,p,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=md({mode:"visible",children:r.children},i,0,null),o=io(o,i,p,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bs(t,e.child,null,p),t.child.memoizedState=op(p),t.memoizedState=ip,o);if(!(t.mode&1))return sc(e,t,p,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(he(419)),r=Ff(o,r,void 0),sc(e,t,p,r)}if(a=(p&e.childLanes)!==0,qt||a){if(r=yt,r!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|p)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Lr(e,i),Hn(r,e,i,-1))}return Qm(),r=Ff(Error(he(421))),sc(e,t,p,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Yk.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,cn=gi(i.nextSibling),un=t,Je=!0,In=null,e!==null&&(bn[xn++]=Tr,bn[xn++]=kr,bn[xn++]=ao,Tr=e.id,kr=e.overflow,ao=t),t=Ym(t,r.children),t.flags|=4096,t)}function g0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qh(e.return,t,n)}function jf(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Bx(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Nt(e,t,r.children,n),r=et.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&g0(e,n,t);else if(e.tag===19)g0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ye(et,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&mu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jf(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jf(t,!0,n,null,o);break;case"together":jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),co|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=bi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Mk(e,t,n){switch(t.tag){case 3:jx(t),ws();break;case 5:fx(t);break;case 1:Qt(t.type)&&cu(t);break;case 4:jm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ye(fu,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ye(et,et.current&1),t.flags|=128,null):n&t.child.childLanes?Ix(e,t,n):(Ye(et,et.current&1),e=Fr(e,t,n),e!==null?e.sibling:null);Ye(et,et.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Bx(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(et,et.current),r)break;return null;case 22:case 23:return t.lanes=0,Lx(e,t,n)}return Fr(e,t,n)}var zx,sp,Vx,Ux;zx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sp=function(){};Vx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,qi(dr.current);var o=null;switch(n){case"input":i=Ph(e,i),r=Ph(e,r),o=[];break;case"select":i=rt({},i,{value:void 0}),r=rt({},r,{value:void 0}),o=[];break;case"textarea":i=Rh(e,i),r=Rh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=au)}Dh(n,r);var p;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(p in a)a.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(za.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var s=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&s!==a&&(s!=null||a!=null))if(c==="style")if(a){for(p in a)!a.hasOwnProperty(p)||s&&s.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in s)s.hasOwnProperty(p)&&a[p]!==s[p]&&(n||(n={}),n[p]=s[p])}else n||(o||(o=[]),o.push(c,n)),n=s;else c==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,a=a?a.__html:void 0,s!=null&&a!==s&&(o=o||[]).push(c,s)):c==="children"?typeof s!="string"&&typeof s!="number"||(o=o||[]).push(c,""+s):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(za.hasOwnProperty(c)?(s!=null&&c==="onScroll"&&Ge("scroll",e),o||a===s||(o=[])):(o=o||[]).push(c,s))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};Ux=function(e,t,n,r){n!==r&&(t.flags|=4)};function ra(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Nk(e,t,n){var r=t.pendingProps;switch(Rm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return Qt(t.type)&&lu(),Pt(t),null;case 3:return r=t.stateNode,xs(),qe(Zt),qe($t),Bm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ic(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,In!==null&&(pp(In),In=null))),sp(e,t),Pt(t),null;case 5:Im(t);var i=qi(Ja.current);if(n=t.type,e!==null&&t.stateNode!=null)Vx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Pt(t),null}if(e=qi(dr.current),ic(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[tr]=t,r[Za]=o,e=(t.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<wa.length;i++)Ge(wa[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Ev(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":kv(r,o),Ge("invalid",r)}Dh(n,o),i=null;for(var p in o)if(o.hasOwnProperty(p)){var a=o[p];p==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&rc(r.textContent,a,e),i=["children",""+a]):za.hasOwnProperty(p)&&a!=null&&p==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Kl(r),Tv(r,o,!0);break;case"textarea":Kl(r),Pv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=au)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=vb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=p.createElement(n,{is:r.is}):(e=p.createElement(n),n==="select"&&(p=e,r.multiple?p.multiple=!0:r.size&&(p.size=r.size))):e=p.createElementNS(e,n),e[tr]=t,e[Za]=r,zx(e,t,!1,!1),t.stateNode=e;e:{switch(p=Mh(n,r),n){case"dialog":Ge("cancel",e),Ge("close",e),i=r;break;case"iframe":case"object":case"embed":Ge("load",e),i=r;break;case"video":case"audio":for(i=0;i<wa.length;i++)Ge(wa[i],e);i=r;break;case"source":Ge("error",e),i=r;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=r;break;case"details":Ge("toggle",e),i=r;break;case"input":Ev(e,r),i=Ph(e,r),Ge("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=rt({},r,{value:void 0}),Ge("invalid",e);break;case"textarea":kv(e,r),i=Rh(e,r),Ge("invalid",e);break;default:i=r}Dh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="style"?bb(e,s):o==="dangerouslySetInnerHTML"?(s=s?s.__html:void 0,s!=null&&yb(e,s)):o==="children"?typeof s=="string"?(n!=="textarea"||s!=="")&&Va(e,s):typeof s=="number"&&Va(e,""+s):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(za.hasOwnProperty(o)?s!=null&&o==="onScroll"&&Ge("scroll",e):s!=null&&gm(e,o,s,p))}switch(n){case"input":Kl(e),Tv(e,r,!1);break;case"textarea":Kl(e),Pv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Si(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qo(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Ux(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=qi(Ja.current),qi(dr.current),ic(t)){if(r=t.stateNode,n=t.memoizedProps,r[tr]=t,(o=r.nodeValue!==n)&&(e=un,e!==null))switch(e.tag){case 3:rc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tr]=t,t.stateNode=r}return Pt(t),null;case 13:if(qe(et),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Je&&cn!==null&&t.mode&1&&!(t.flags&128))ax(),ws(),t.flags|=98560,o=!1;else if(o=ic(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(he(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[tr]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pt(t),o=!1}else In!==null&&(pp(In),In=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||et.current&1?mt===0&&(mt=3):Qm())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return xs(),sp(e,t),e===null&&Ka(t.stateNode.containerInfo),Pt(t),null;case 10:return Nm(t.type._context),Pt(t),null;case 17:return Qt(t.type)&&lu(),Pt(t),null;case 19:if(qe(et),o=t.memoizedState,o===null)return Pt(t),null;if(r=(t.flags&128)!==0,p=o.rendering,p===null)if(r)ra(o,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=mu(e),p!==null){for(t.flags|=128,ra(o,!1),r=p.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,p=o.alternate,p===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,e=p.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ye(et,et.current&1|2),t.child}e=e.sibling}o.tail!==null&&ct()>_s&&(t.flags|=128,r=!0,ra(o,!1),t.lanes=4194304)}else{if(!r)if(e=mu(p),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ra(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!Je)return Pt(t),null}else 2*ct()-o.renderingStartTime>_s&&n!==1073741824&&(t.flags|=128,r=!0,ra(o,!1),t.lanes=4194304);o.isBackwards?(p.sibling=t.child,t.child=p):(n=o.last,n!==null?n.sibling=p:t.child=p,o.last=p)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ct(),t.sibling=null,n=et.current,Ye(et,r?n&1|2:n&1),t):(Pt(t),null);case 22:case 23:return Zm(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?an&1073741824&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function Lk(e,t){switch(Rm(t),t.tag){case 1:return Qt(t.type)&&lu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xs(),qe(Zt),qe($t),Bm(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Im(t),null;case 13:if(qe(et),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qe(et),null;case 4:return xs(),null;case 10:return Nm(t.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var ac=!1,Ot=!1,Fk=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Ko(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){at(e,t,r)}else n.current=null}function ap(e,t,n){try{n()}catch(r){at(e,t,r)}}var v0=!1;function jk(e,t){if(Hh=iu,e=Gb(),Om(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var p=0,a=-1,s=-1,c=0,f=0,l=e,u=null;t:for(;;){for(var d;l!==n||i!==0&&l.nodeType!==3||(a=p+i),l!==o||r!==0&&l.nodeType!==3||(s=p+r),l.nodeType===3&&(p+=l.nodeValue.length),(d=l.firstChild)!==null;)u=l,l=d;for(;;){if(l===e)break t;if(u===n&&++c===i&&(a=p),u===o&&++f===r&&(s=p),(d=l.nextSibling)!==null)break;l=u,u=l.parentNode}l=d}n=a===-1||s===-1?null:{start:a,end:s}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:e,selectionRange:n},iu=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,m=h.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Dn(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(x){at(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return h=v0,v0=!1,h}function Aa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&ap(t,n,o)}i=i.next}while(i!==r)}}function hd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Hx(e){var t=e.alternate;t!==null&&(e.alternate=null,Hx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[Za],delete t[Gh],delete t[bk],delete t[xk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wx(e){return e.tag===5||e.tag===3||e.tag===4}function y0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=au));else if(r!==4&&(e=e.child,e!==null))for(cp(e,t,n),e=e.sibling;e!==null;)cp(e,t,n),e=e.sibling}function up(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(up(e,t,n),e=e.sibling;e!==null;)up(e,t,n),e=e.sibling}var bt=null,Ln=!1;function Wr(e,t,n){for(n=n.child;n!==null;)Yx(e,t,n),n=n.sibling}function Yx(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(od,n)}catch{}switch(n.tag){case 5:Ot||Ko(n,t);case 6:var r=bt,i=Ln;bt=null,Wr(e,t,n),bt=r,Ln=i,bt!==null&&(Ln?(e=bt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(Ln?(e=bt,n=n.stateNode,e.nodeType===8?Rf(e.parentNode,n):e.nodeType===1&&Rf(e,n),Ya(e)):Rf(bt,n.stateNode));break;case 4:r=bt,i=Ln,bt=n.stateNode.containerInfo,Ln=!0,Wr(e,t,n),bt=r,Ln=i;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,p=o.destroy;o=o.tag,p!==void 0&&(o&2||o&4)&&ap(n,t,p),i=i.next}while(i!==r)}Wr(e,t,n);break;case 1:if(!Ot&&(Ko(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){at(n,t,a)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Wr(e,t,n),Ot=r):Wr(e,t,n);break;default:Wr(e,t,n)}}function w0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Fk),t.forEach(function(r){var i=Xk.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function An(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,p=t,a=p;e:for(;a!==null;){switch(a.tag){case 5:bt=a.stateNode,Ln=!1;break e;case 3:bt=a.stateNode.containerInfo,Ln=!0;break e;case 4:bt=a.stateNode.containerInfo,Ln=!0;break e}a=a.return}if(bt===null)throw Error(he(160));Yx(o,p,i),bt=null,Ln=!1;var s=i.alternate;s!==null&&(s.return=null),i.return=null}catch(c){at(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Xx(t,e),t=t.sibling}function Xx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(An(t,e),Kn(e),r&4){try{Aa(3,e,e.return),hd(3,e)}catch(g){at(e,e.return,g)}try{Aa(5,e,e.return)}catch(g){at(e,e.return,g)}}break;case 1:An(t,e),Kn(e),r&512&&n!==null&&Ko(n,n.return);break;case 5:if(An(t,e),Kn(e),r&512&&n!==null&&Ko(n,n.return),e.flags&32){var i=e.stateNode;try{Va(i,"")}catch(g){at(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,p=n!==null?n.memoizedProps:o,a=e.type,s=e.updateQueue;if(e.updateQueue=null,s!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&mb(i,o),Mh(a,p);var c=Mh(a,o);for(p=0;p<s.length;p+=2){var f=s[p],l=s[p+1];f==="style"?bb(i,l):f==="dangerouslySetInnerHTML"?yb(i,l):f==="children"?Va(i,l):gm(i,f,l,c)}switch(a){case"input":Oh(i,o);break;case"textarea":gb(i,o);break;case"select":var u=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Qo(i,!!o.multiple,d,!1):u!==!!o.multiple&&(o.defaultValue!=null?Qo(i,!!o.multiple,o.defaultValue,!0):Qo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Za]=o}catch(g){at(e,e.return,g)}}break;case 6:if(An(t,e),Kn(e),r&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){at(e,e.return,g)}}break;case 3:if(An(t,e),Kn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ya(t.containerInfo)}catch(g){at(e,e.return,g)}break;case 4:An(t,e),Kn(e);break;case 13:An(t,e),Kn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Km=ct())),r&4&&w0(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ot=(c=Ot)||f,An(t,e),Ot=c):An(t,e),Kn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(xe=e,f=e.child;f!==null;){for(l=xe=f;xe!==null;){switch(u=xe,d=u.child,u.tag){case 0:case 11:case 14:case 15:Aa(4,u,u.return);break;case 1:Ko(u,u.return);var h=u.stateNode;if(typeof h.componentWillUnmount=="function"){r=u,n=u.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(g){at(r,n,g)}}break;case 5:Ko(u,u.return);break;case 22:if(u.memoizedState!==null){x0(l);continue}}d!==null?(d.return=u,xe=d):x0(l)}f=f.sibling}e:for(f=null,l=e;;){if(l.tag===5){if(f===null){f=l;try{i=l.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=l.stateNode,s=l.memoizedProps.style,p=s!=null&&s.hasOwnProperty("display")?s.display:null,a.style.display=wb("display",p))}catch(g){at(e,e.return,g)}}}else if(l.tag===6){if(f===null)try{l.stateNode.nodeValue=c?"":l.memoizedProps}catch(g){at(e,e.return,g)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:An(t,e),Kn(e),r&4&&w0(e);break;case 21:break;default:An(t,e),Kn(e)}}function Kn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wx(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Va(i,""),r.flags&=-33);var o=y0(e);up(e,o,i);break;case 3:case 4:var p=r.stateNode.containerInfo,a=y0(e);cp(e,a,p);break;default:throw Error(he(161))}}catch(s){at(e,e.return,s)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ik(e,t,n){xe=e,Gx(e)}function Gx(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var i=xe,o=i.child;if(i.tag===22&&r){var p=i.memoizedState!==null||ac;if(!p){var a=i.alternate,s=a!==null&&a.memoizedState!==null||Ot;a=ac;var c=Ot;if(ac=p,(Ot=s)&&!c)for(xe=i;xe!==null;)p=xe,s=p.child,p.tag===22&&p.memoizedState!==null?S0(i):s!==null?(s.return=p,xe=s):S0(i);for(;o!==null;)xe=o,Gx(o),o=o.sibling;xe=i,ac=a,Ot=c}b0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xe=o):b0(e)}}function b0(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ot||hd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Dn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&i0(t,o,r);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}i0(t,p,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var s=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":s.autoFocus&&n.focus();break;case"img":s.src&&(n.src=s.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var l=f.dehydrated;l!==null&&Ya(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Ot||t.flags&512&&lp(t)}catch(u){at(t,t.return,u)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function x0(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function S0(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hd(4,t)}catch(s){at(t,n,s)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(s){at(t,i,s)}}var o=t.return;try{lp(t)}catch(s){at(t,o,s)}break;case 5:var p=t.return;try{lp(t)}catch(s){at(t,p,s)}}}catch(s){at(t,t.return,s)}if(t===e){xe=null;break}var a=t.sibling;if(a!==null){a.return=t.return,xe=a;break}xe=t.return}}var Bk=Math.ceil,yu=Vr.ReactCurrentDispatcher,Xm=Vr.ReactCurrentOwner,Cn=Vr.ReactCurrentBatchConfig,je=0,yt=null,ut=null,St=0,an=0,qo=Oi(0),mt=0,rl=null,co=0,pd=0,Gm=0,Da=null,Kt=null,Km=0,_s=1/0,Sr=null,wu=!1,dp=null,yi=null,lc=!1,li=null,bu=0,Ma=0,fp=null,Fc=-1,jc=0;function Bt(){return je&6?ct():Fc!==-1?Fc:Fc=ct()}function wi(e){return e.mode&1?je&2&&St!==0?St&-St:_k.transition!==null?(jc===0&&(jc=Ab()),jc):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:Ib(e.type)),e):1}function Hn(e,t,n,r){if(50<Ma)throw Ma=0,fp=null,Error(he(185));El(e,n,r),(!(je&2)||e!==yt)&&(e===yt&&(!(je&2)&&(pd|=n),mt===4&&ti(e,St)),Jt(e,r),n===1&&je===0&&!(t.mode&1)&&(_s=ct()+500,ud&&$i()))}function Jt(e,t){var n=e.callbackNode;_T(e,t);var r=ru(e,e===yt?St:0);if(r===0)n!==null&&Rv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rv(n),t===1)e.tag===0?Sk(_0.bind(null,e)):ix(_0.bind(null,e)),yk(function(){!(je&6)&&$i()}),n=null;else{switch(Db(r)){case 1:n=xm;break;case 4:n=$b;break;case 16:n=nu;break;case 536870912:n=Rb;break;default:n=nu}n=n1(n,Kx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kx(e,t){if(Fc=-1,jc=0,je&6)throw Error(he(327));var n=e.callbackNode;if(rs()&&e.callbackNode!==n)return null;var r=ru(e,e===yt?St:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=xu(e,r);else{t=r;var i=je;je|=2;var o=Zx();(yt!==e||St!==t)&&(Sr=null,_s=ct()+500,ro(e,t));do try{Uk();break}catch(a){qx(e,a)}while(!0);Mm(),yu.current=o,je=i,ut!==null?t=0:(yt=null,St=0,t=mt)}if(t!==0){if(t===2&&(i=Ih(e),i!==0&&(r=i,t=hp(e,i))),t===1)throw n=rl,ro(e,0),ti(e,r),Jt(e,ct()),n;if(t===6)ti(e,r);else{if(i=e.current.alternate,!(r&30)&&!zk(i)&&(t=xu(e,r),t===2&&(o=Ih(e),o!==0&&(r=o,t=hp(e,o))),t===1))throw n=rl,ro(e,0),ti(e,r),Jt(e,ct()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Bi(e,Kt,Sr);break;case 3:if(ti(e,r),(r&130023424)===r&&(t=Km+500-ct(),10<t)){if(ru(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Bt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xh(Bi.bind(null,e,Kt,Sr),t);break}Bi(e,Kt,Sr);break;case 4:if(ti(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var p=31-Un(r);o=1<<p,p=t[p],p>i&&(i=p),r&=~o}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Bk(r/1960))-r,10<r){e.timeoutHandle=Xh(Bi.bind(null,e,Kt,Sr),r);break}Bi(e,Kt,Sr);break;case 5:Bi(e,Kt,Sr);break;default:throw Error(he(329))}}}return Jt(e,ct()),e.callbackNode===n?Kx.bind(null,e):null}function hp(e,t){var n=Da;return e.current.memoizedState.isDehydrated&&(ro(e,t).flags|=256),e=xu(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&pp(t)),e}function pp(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function zk(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ti(e,t){for(t&=~Gm,t&=~pd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Un(t),r=1<<n;e[n]=-1,t&=~r}}function _0(e){if(je&6)throw Error(he(327));rs();var t=ru(e,0);if(!(t&1))return Jt(e,ct()),null;var n=xu(e,t);if(e.tag!==0&&n===2){var r=Ih(e);r!==0&&(t=r,n=hp(e,r))}if(n===1)throw n=rl,ro(e,0),ti(e,t),Jt(e,ct()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bi(e,Kt,Sr),Jt(e,ct()),null}function qm(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(_s=ct()+500,ud&&$i())}}function uo(e){li!==null&&li.tag===0&&!(je&6)&&rs();var t=je;je|=1;var n=Cn.transition,r=Ve;try{if(Cn.transition=null,Ve=1,e)return e()}finally{Ve=r,Cn.transition=n,je=t,!(je&6)&&$i()}}function Zm(){an=qo.current,qe(qo)}function ro(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,vk(n)),ut!==null)for(n=ut.return;n!==null;){var r=n;switch(Rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:xs(),qe(Zt),qe($t),Bm();break;case 5:Im(r);break;case 4:xs();break;case 13:qe(et);break;case 19:qe(et);break;case 10:Nm(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(yt=e,ut=e=bi(e.current,null),St=an=t,mt=0,rl=null,Gm=pd=co=0,Kt=Da=null,Ki!==null){for(t=0;t<Ki.length;t++)if(n=Ki[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var p=o.next;o.next=i,r.next=p}n.pending=r}Ki=null}return e}function qx(e,t){do{var n=ut;try{if(Mm(),Mc.current=vu,gu){for(var r=nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gu=!1}if(lo=0,vt=pt=nt=null,Ra=!1,el=0,Xm.current=null,n===null||n.return===null){mt=1,rl=t,ut=null;break}e:{var o=e,p=n.return,a=n,s=t;if(t=St,a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){var c=s,f=a,l=f.tag;if(!(f.mode&1)&&(l===0||l===11||l===15)){var u=f.alternate;u?(f.updateQueue=u.updateQueue,f.memoizedState=u.memoizedState,f.lanes=u.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=u0(p);if(d!==null){d.flags&=-257,d0(d,p,a,o,t),d.mode&1&&c0(o,c,t),t=d,s=c;var h=t.updateQueue;if(h===null){var g=new Set;g.add(s),t.updateQueue=g}else h.add(s);break e}else{if(!(t&1)){c0(o,c,t),Qm();break e}s=Error(he(426))}}else if(Je&&a.mode&1){var m=u0(p);if(m!==null){!(m.flags&65536)&&(m.flags|=256),d0(m,p,a,o,t),Am(Ss(s,a));break e}}o=s=Ss(s,a),mt!==4&&(mt=2),Da===null?Da=[o]:Da.push(o),o=p;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Dx(o,s,t);r0(o,v);break e;case 1:a=s;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(yi===null||!yi.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=Mx(o,a,t);r0(o,x);break e}}o=o.return}while(o!==null)}Jx(n)}catch(S){t=S,ut===n&&n!==null&&(ut=n=n.return);continue}break}while(!0)}function Zx(){var e=yu.current;return yu.current=vu,e===null?vu:e}function Qm(){(mt===0||mt===3||mt===2)&&(mt=4),yt===null||!(co&268435455)&&!(pd&268435455)||ti(yt,St)}function xu(e,t){var n=je;je|=2;var r=Zx();(yt!==e||St!==t)&&(Sr=null,ro(e,t));do try{Vk();break}catch(i){qx(e,i)}while(!0);if(Mm(),je=n,yu.current=r,ut!==null)throw Error(he(261));return yt=null,St=0,mt}function Vk(){for(;ut!==null;)Qx(ut)}function Uk(){for(;ut!==null&&!pT();)Qx(ut)}function Qx(e){var t=t1(e.alternate,e,an);e.memoizedProps=e.pendingProps,t===null?Jx(e):ut=t,Xm.current=null}function Jx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Lk(n,t),n!==null){n.flags&=32767,ut=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ut=null;return}}else if(n=Nk(n,t,an),n!==null){ut=n;return}if(t=t.sibling,t!==null){ut=t;return}ut=t=e}while(t!==null);mt===0&&(mt=5)}function Bi(e,t,n){var r=Ve,i=Cn.transition;try{Cn.transition=null,Ve=1,Hk(e,t,n,r)}finally{Cn.transition=i,Ve=r}return null}function Hk(e,t,n,r){do rs();while(li!==null);if(je&6)throw Error(he(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(CT(e,o),e===yt&&(ut=yt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lc||(lc=!0,n1(nu,function(){return rs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Cn.transition,Cn.transition=null;var p=Ve;Ve=1;var a=je;je|=4,Xm.current=null,jk(e,n),Xx(n,e),uk(Wh),iu=!!Hh,Wh=Hh=null,e.current=n,Ik(n),mT(),je=a,Ve=p,Cn.transition=o}else e.current=n;if(lc&&(lc=!1,li=e,bu=i),o=e.pendingLanes,o===0&&(yi=null),yT(n.stateNode),Jt(e,ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wu)throw wu=!1,e=dp,dp=null,e;return bu&1&&e.tag!==0&&rs(),o=e.pendingLanes,o&1?e===fp?Ma++:(Ma=0,fp=e):Ma=0,$i(),null}function rs(){if(li!==null){var e=Db(bu),t=Cn.transition,n=Ve;try{if(Cn.transition=null,Ve=16>e?16:e,li===null)var r=!1;else{if(e=li,li=null,bu=0,je&6)throw Error(he(331));var i=je;for(je|=4,xe=e.current;xe!==null;){var o=xe,p=o.child;if(xe.flags&16){var a=o.deletions;if(a!==null){for(var s=0;s<a.length;s++){var c=a[s];for(xe=c;xe!==null;){var f=xe;switch(f.tag){case 0:case 11:case 15:Aa(8,f,o)}var l=f.child;if(l!==null)l.return=f,xe=l;else for(;xe!==null;){f=xe;var u=f.sibling,d=f.return;if(Hx(f),f===c){xe=null;break}if(u!==null){u.return=d,xe=u;break}xe=d}}}var h=o.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}xe=o}}if(o.subtreeFlags&2064&&p!==null)p.return=o,xe=p;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Aa(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,xe=v;break e}xe=o.return}}var y=e.current;for(xe=y;xe!==null;){p=xe;var w=p.child;if(p.subtreeFlags&2064&&w!==null)w.return=p,xe=w;else e:for(p=y;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:hd(9,a)}}catch(S){at(a,a.return,S)}if(a===p){xe=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,xe=x;break e}xe=a.return}}if(je=i,$i(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(od,e)}catch{}r=!0}return r}finally{Ve=n,Cn.transition=t}}return!1}function C0(e,t,n){t=Ss(n,t),t=Dx(e,t,1),e=vi(e,t,1),t=Bt(),e!==null&&(El(e,1,t),Jt(e,t))}function at(e,t,n){if(e.tag===3)C0(e,e,n);else for(;t!==null;){if(t.tag===3){C0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yi===null||!yi.has(r))){e=Ss(n,e),e=Mx(t,e,1),t=vi(t,e,1),e=Bt(),t!==null&&(El(t,1,e),Jt(t,e));break}}t=t.return}}function Wk(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Bt(),e.pingedLanes|=e.suspendedLanes&n,yt===e&&(St&n)===n&&(mt===4||mt===3&&(St&130023424)===St&&500>ct()-Km?ro(e,0):Gm|=n),Jt(e,t)}function e1(e,t){t===0&&(e.mode&1?(t=Ql,Ql<<=1,!(Ql&130023424)&&(Ql=4194304)):t=1);var n=Bt();e=Lr(e,t),e!==null&&(El(e,t,n),Jt(e,n))}function Yk(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),e1(e,n)}function Xk(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),e1(e,n)}var t1;t1=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Zt.current)qt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qt=!1,Mk(e,t,n);qt=!!(e.flags&131072)}else qt=!1,Je&&t.flags&1048576&&ox(t,du,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lc(e,t),e=t.pendingProps;var i=ys(t,$t.current);ns(t,n),i=Vm(null,t,r,e,i,n);var o=Um();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(r)?(o=!0,cu(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fm(t),i.updater=fd,t.stateNode=i,i._reactInternals=t,ep(t,r,e,n),t=rp(null,t,r,!0,o,n)):(t.tag=0,Je&&o&&$m(t),Nt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Kk(r),e=Dn(r,e),i){case 0:t=np(null,t,r,e,n);break e;case 1:t=p0(null,t,r,e,n);break e;case 11:t=f0(null,t,r,e,n);break e;case 14:t=h0(null,t,r,Dn(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),np(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),p0(e,t,r,i,n);case 3:e:{if(jx(t),e===null)throw Error(he(387));r=t.pendingProps,o=t.memoizedState,i=o.element,dx(e,t),pu(t,r,null,n);var p=t.memoizedState;if(r=p.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ss(Error(he(423)),t),t=m0(e,t,r,n,i);break e}else if(r!==i){i=Ss(Error(he(424)),t),t=m0(e,t,r,n,i);break e}else for(cn=gi(t.stateNode.containerInfo.firstChild),un=t,Je=!0,In=null,n=cx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ws(),r===i){t=Fr(e,t,n);break e}Nt(e,t,r,n)}t=t.child}return t;case 5:return fx(t),e===null&&Zh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,p=i.children,Yh(r,i)?p=null:o!==null&&Yh(r,o)&&(t.flags|=32),Fx(e,t),Nt(e,t,p,n),t.child;case 6:return e===null&&Zh(t),null;case 13:return Ix(e,t,n);case 4:return jm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bs(t,null,r,n):Nt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),f0(e,t,r,i,n);case 7:return Nt(e,t,t.pendingProps,n),t.child;case 8:return Nt(e,t,t.pendingProps.children,n),t.child;case 12:return Nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,p=i.value,Ye(fu,r._currentValue),r._currentValue=p,o!==null)if(Yn(o.value,p)){if(o.children===i.children&&!Zt.current){t=Fr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){p=o.child;for(var s=a.firstContext;s!==null;){if(s.context===r){if(o.tag===1){s=Ar(-1,n&-n),s.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s}}o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Qh(o.return,n,t),a.lanes|=n;break}s=s.next}}else if(o.tag===10)p=o.type===t.type?null:o.child;else if(o.tag===18){if(p=o.return,p===null)throw Error(he(341));p.lanes|=n,a=p.alternate,a!==null&&(a.lanes|=n),Qh(p,n,t),p=o.sibling}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}Nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ns(t,n),i=Pn(i),r=r(i),t.flags|=1,Nt(e,t,r,n),t.child;case 14:return r=t.type,i=Dn(r,t.pendingProps),i=Dn(r.type,i),h0(e,t,r,i,n);case 15:return Nx(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Dn(r,i),Lc(e,t),t.tag=1,Qt(r)?(e=!0,cu(t)):e=!1,ns(t,n),Ax(t,r,i),ep(t,r,i,n),rp(null,t,r,!0,e,n);case 19:return Bx(e,t,n);case 22:return Lx(e,t,n)}throw Error(he(156,t.tag))};function n1(e,t){return Ob(e,t)}function Gk(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,n,r){return new Gk(e,t,n,r)}function Jm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kk(e){if(typeof e=="function")return Jm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ym)return 11;if(e===wm)return 14}return 2}function bi(e,t){var n=e.alternate;return n===null?(n=Sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,o){var p=2;if(r=e,typeof e=="function")Jm(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Bo:return io(n.children,i,o,t);case vm:p=8,i|=8;break;case Ch:return e=Sn(12,n,t,i|2),e.elementType=Ch,e.lanes=o,e;case Eh:return e=Sn(13,n,t,i),e.elementType=Eh,e.lanes=o,e;case Th:return e=Sn(19,n,t,i),e.elementType=Th,e.lanes=o,e;case fb:return md(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ub:p=10;break e;case db:p=9;break e;case ym:p=11;break e;case wm:p=14;break e;case Qr:p=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=Sn(p,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function io(e,t,n,r){return e=Sn(7,e,r,t),e.lanes=n,e}function md(e,t,n,r){return e=Sn(22,e,r,t),e.elementType=fb,e.lanes=n,e.stateNode={isHidden:!1},e}function If(e,t,n){return e=Sn(6,e,null,t),e.lanes=n,e}function Bf(e,t,n){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qk(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function eg(e,t,n,r,i,o,p,a,s){return e=new qk(e,t,n,a,s),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Sn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fm(o),e}function Zk(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function r1(e){if(!e)return _i;e=e._reactInternals;e:{if(bo(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(Qt(n))return rx(e,n,t)}return t}function i1(e,t,n,r,i,o,p,a,s){return e=eg(n,r,!0,e,i,o,p,a,s),e.context=r1(null),n=e.current,r=Bt(),i=wi(n),o=Ar(r,i),o.callback=t??null,vi(n,o,i),e.current.lanes=i,El(e,i,r),Jt(e,r),e}function gd(e,t,n,r){var i=t.current,o=Bt(),p=wi(i);return n=r1(n),t.context===null?t.context=n:t.pendingContext=n,t=Ar(o,p),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vi(i,t,p),e!==null&&(Hn(e,i,p,o),Dc(e,i,p)),p}function Su(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function E0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tg(e,t){E0(e,t),(e=e.alternate)&&E0(e,t)}function Qk(){return null}var o1=typeof reportError=="function"?reportError:function(e){console.error(e)};function ng(e){this._internalRoot=e}vd.prototype.render=ng.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));gd(e,t,null,null)};vd.prototype.unmount=ng.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;uo(function(){gd(null,e,null,null)}),t[Nr]=null}};function vd(e){this._internalRoot=e}vd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ei.length&&t!==0&&t<ei[n].priority;n++);ei.splice(n,0,e),n===0&&jb(e)}};function rg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function T0(){}function Jk(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Su(p);o.call(c)}}var p=i1(t,r,e,0,null,!1,!1,"",T0);return e._reactRootContainer=p,e[Nr]=p.current,Ka(e.nodeType===8?e.parentNode:e),uo(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Su(s);a.call(c)}}var s=eg(e,0,!1,null,null,!1,!1,"",T0);return e._reactRootContainer=s,e[Nr]=s.current,Ka(e.nodeType===8?e.parentNode:e),uo(function(){gd(t,s,n,r)}),s}function wd(e,t,n,r,i){var o=n._reactRootContainer;if(o){var p=o;if(typeof i=="function"){var a=i;i=function(){var s=Su(p);a.call(s)}}gd(t,p,e,i)}else p=Jk(n,t,e,i,r);return Su(p)}Mb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ya(t.pendingLanes);n!==0&&(Sm(t,n|1),Jt(t,ct()),!(je&6)&&(_s=ct()+500,$i()))}break;case 13:uo(function(){var r=Lr(e,1);if(r!==null){var i=Bt();Hn(r,e,1,i)}}),tg(e,1)}};_m=function(e){if(e.tag===13){var t=Lr(e,134217728);if(t!==null){var n=Bt();Hn(t,e,134217728,n)}tg(e,134217728)}};Nb=function(e){if(e.tag===13){var t=wi(e),n=Lr(e,t);if(n!==null){var r=Bt();Hn(n,e,t,r)}tg(e,t)}};Lb=function(){return Ve};Fb=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};Lh=function(e,t,n){switch(t){case"input":if(Oh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=cd(r);if(!i)throw Error(he(90));pb(r),Oh(r,i)}}}break;case"textarea":gb(e,n);break;case"select":t=n.value,t!=null&&Qo(e,!!n.multiple,t,!1)}};_b=qm;Cb=uo;var eP={usingClientEntryPoint:!1,Events:[kl,Ho,cd,xb,Sb,qm]},ia={findFiberByHostInstance:Gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tP={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kb(e),e===null?null:e.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{od=cc.inject(tP),ur=cc}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eP;mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rg(t))throw Error(he(200));return Zk(e,t,null,n)};mn.createRoot=function(e,t){if(!rg(e))throw Error(he(299));var n=!1,r="",i=o1;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=eg(e,1,!1,null,null,n,!1,r,i),e[Nr]=t.current,Ka(e.nodeType===8?e.parentNode:e),new ng(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=kb(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return uo(e)};mn.hydrate=function(e,t,n){if(!yd(t))throw Error(he(200));return wd(null,e,t,!0,n)};mn.hydrateRoot=function(e,t,n){if(!rg(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",p=o1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=i1(t,null,e,1,n??null,i,!1,o,p),e[Nr]=t.current,Ka(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vd(t)};mn.render=function(e,t,n){if(!yd(t))throw Error(he(200));return wd(null,e,t,!1,n)};mn.unmountComponentAtNode=function(e){if(!yd(e))throw Error(he(40));return e._reactRootContainer?(uo(function(){wd(null,null,e,!1,function(){e._reactRootContainer=null,e[Nr]=null})}),!0):!1};mn.unstable_batchedUpdates=qm;mn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yd(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return wd(e,t,n,!1,r)};mn.version="18.3.1-next-f1338f8080-20240426";function s1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s1)}catch(e){console.error(e)}}s1(),sb.exports=mn;var Ri=sb.exports;const nP=cm(Ri);var k0=Ri;Sh.createRoot=k0.createRoot,Sh.hydrateRoot=k0.hydrateRoot;var bd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xd=typeof window>"u"||"Deno"in globalThis;function Mn(){}function rP(e,t){return typeof e=="function"?e(t):e}function iP(e){return typeof e=="number"&&e>=0&&e!==1/0}function oP(e,t){return Math.max(e+(t||0)-Date.now(),0)}function P0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:p,stale:a}=e;if(p){if(r){if(t.queryHash!==ig(p,t.options))return!1}else if(!ol(t.queryKey,p))return!1}if(n!=="all"){const s=t.isActive();if(n==="active"&&!s||n==="inactive"&&s)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function O0(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(il(t.options.mutationKey)!==il(o))return!1}else if(!ol(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function ig(e,t){return((t==null?void 0:t.queryKeyHashFn)||il)(e)}function il(e){return JSON.stringify(e,(t,n)=>mp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ol(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ol(e[n],t[n])):!1}function a1(e,t){if(e===t)return e;const n=$0(e)&&$0(t);if(n||mp(e)&&mp(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),p=o.length,a=n?[]:{};let s=0;for(let c=0;c<p;c++){const f=n?c:o[c];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(a[f]=void 0,s++):(a[f]=a1(e[f],t[f]),a[f]===e[f]&&e[f]!==void 0&&s++)}return i===p&&s===i?e:a}return t}function $0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function mp(e){if(!R0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!R0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function R0(e){return Object.prototype.toString.call(e)==="[object Object]"}function sP(e){return new Promise(t=>{setTimeout(t,e)})}function aP(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?a1(e,t):t}function lP(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cP(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var og=Symbol(),Ji,ni,ls,zw,uP=(zw=class extends bd{constructor(){super();Be(this,Ji,void 0);Be(this,ni,void 0);Be(this,ls,void 0);Ae(this,ls,t=>{if(!xd&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,ni)||this.setEventListener(de(this,ls))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,ni))==null||t.call(this),Ae(this,ni,void 0))}setEventListener(t){var n;Ae(this,ls,t),(n=de(this,ni))==null||n.call(this),Ae(this,ni,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){de(this,Ji)!==t&&(Ae(this,Ji,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,Ji)=="boolean"?de(this,Ji):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ji=new WeakMap,ni=new WeakMap,ls=new WeakMap,zw),l1=new uP,cs,ri,us,Vw,dP=(Vw=class extends bd{constructor(){super();Be(this,cs,!0);Be(this,ri,void 0);Be(this,us,void 0);Ae(this,us,t=>{if(!xd&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,ri)||this.setEventListener(de(this,us))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,ri))==null||t.call(this),Ae(this,ri,void 0))}setEventListener(t){var n;Ae(this,us,t),(n=de(this,ri))==null||n.call(this),Ae(this,ri,t(this.setOnline.bind(this)))}setOnline(t){de(this,cs)!==t&&(Ae(this,cs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return de(this,cs)}},cs=new WeakMap,ri=new WeakMap,us=new WeakMap,Vw),_u=new dP;function fP(e){return Math.min(1e3*2**e,3e4)}function c1(e){return(e??"online")==="online"?_u.isOnline():!0}var u1=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zf(e){return e instanceof u1}function d1(e){let t=!1,n=0,r=!1,i,o,p;const a=new Promise((v,y)=>{o=v,p=y}),s=v=>{var y;r||(h(new u1(v)),(y=e.abort)==null||y.call(e))},c=()=>{t=!0},f=()=>{t=!1},l=()=>l1.isFocused()&&(e.networkMode==="always"||_u.isOnline())&&e.canRun(),u=()=>c1(e.networkMode)&&e.canRun(),d=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),o(v))},h=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),p(v))},g=()=>new Promise(v=>{var y;i=w=>{(r||l())&&v(w)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(r)return;let v;try{v=e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var E;if(r)return;const w=e.retry??(xd?0:3),x=e.retryDelay??fP,S=typeof x=="function"?x(n,y):x,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(t||!C){h(y);return}n++,(E=e.onFail)==null||E.call(e,n,y),sP(S).then(()=>l()?void 0:g()).then(()=>{t?h(y):m()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:c,continueRetry:f,canStart:u,start:()=>(u()?m():g().then(m),a)}}function hP(){let e=[],t=0,n=u=>{u()},r=u=>{u()},i=u=>setTimeout(u,0);const o=u=>{i=u},p=u=>{let d;t++;try{d=u()}finally{t--,t||c()}return d},a=u=>{t?e.push(u):i(()=>{n(u)})},s=u=>(...d)=>{a(()=>{u(...d)})},c=()=>{const u=e;e=[],u.length&&i(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:p,batchCalls:s,schedule:a,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:o}}var jt=hP(),eo,Uw,f1=(Uw=class{constructor(){Be(this,eo,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iP(this.gcTime)&&Ae(this,eo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xd?1/0:5*60*1e3))}clearGcTimeout(){de(this,eo)&&(clearTimeout(de(this,eo)),Ae(this,eo,void 0))}},eo=new WeakMap,Uw),ds,fs,wn,Dt,Sl,to,Nn,br,Hw,pP=(Hw=class extends f1{constructor(t){super();Be(this,Nn);Be(this,ds,void 0);Be(this,fs,void 0);Be(this,wn,void 0);Be(this,Dt,void 0);Be(this,Sl,void 0);Be(this,to,void 0);Ae(this,to,!1),Ae(this,Sl,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ae(this,wn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ae(this,ds,t.state||gP(this.options)),this.state=de(this,ds),this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...de(this,Sl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,wn).remove(this)}setData(t,n){const r=aP(this.state.data,t,this.options);return Tt(this,Nn,br).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Tt(this,Nn,br).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=de(this,Dt))==null?void 0:r.promise;return(i=de(this,Dt))==null||i.cancel(t),n?n.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,ds))}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!oP(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Dt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,Dt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,wn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,Dt)&&(de(this,to)?de(this,Dt).cancel({revert:!0}):de(this,Dt).cancelRetry()),this.scheduleGc()),de(this,wn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Tt(this,Nn,br).call(this,{type:"invalidate"})}fetch(t,n){var c,f,l;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,Dt))return de(this,Dt).continueRetry(),de(this,Dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},o=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(Ae(this,to,!0),r.signal)})};o(i);const p=()=>!this.options.queryFn||this.options.queryFn===og?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(Ae(this,to,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};o(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ae(this,fs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Tt(this,Nn,br).call(this,{type:"fetch",meta:(l=a.fetchOptions)==null?void 0:l.meta});const s=u=>{var d,h,g,m;zf(u)&&u.silent||Tt(this,Nn,br).call(this,{type:"error",error:u}),zf(u)||((h=(d=de(this,wn).config).onError)==null||h.call(d,u,this),(m=(g=de(this,wn).config).onSettled)==null||m.call(g,this.state.data,u,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Ae(this,Dt,d1({fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var d,h,g,m;if(u===void 0){s(new Error(`${this.queryHash} data is undefined`));return}this.setData(u),(h=(d=de(this,wn).config).onSuccess)==null||h.call(d,u,this),(m=(g=de(this,wn).config).onSettled)==null||m.call(g,u,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(u,d)=>{Tt(this,Nn,br).call(this,{type:"failed",failureCount:u,error:d})},onPause:()=>{Tt(this,Nn,br).call(this,{type:"pause"})},onContinue:()=>{Tt(this,Nn,br).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),de(this,Dt).start()}},ds=new WeakMap,fs=new WeakMap,wn=new WeakMap,Dt=new WeakMap,Sl=new WeakMap,to=new WeakMap,Nn=new WeakSet,br=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...mP(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return zf(i)&&i.revert&&de(this,fs)?{...de(this,fs),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),jt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),de(this,wn).notify({query:this,type:"updated",action:t})})},Hw);function mP(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:c1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function gP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Qn,Ww,vP=(Ww=class extends bd{constructor(t={}){super();Be(this,Qn,void 0);this.config=t,Ae(this,Qn,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??ig(i,n);let p=this.get(o);return p||(p=new pP({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(p)),p}add(t){de(this,Qn).has(t.queryHash)||(de(this,Qn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,Qn).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,Qn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,Qn).get(t)}getAll(){return[...de(this,Qn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>P0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>P0(t,r)):n}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Qn=new WeakMap,Ww),Jn,Mt,no,er,Kr,Yw,yP=(Yw=class extends f1{constructor(t){super();Be(this,er);Be(this,Jn,void 0);Be(this,Mt,void 0);Be(this,no,void 0);this.mutationId=t.mutationId,Ae(this,Mt,t.mutationCache),Ae(this,Jn,[]),this.state=t.state||wP(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,Jn).includes(t)||(de(this,Jn).push(t),this.clearGcTimeout(),de(this,Mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ae(this,Jn,de(this,Jn).filter(n=>n!==t)),this.scheduleGc(),de(this,Mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():de(this,Mt).remove(this))}continue(){var t;return((t=de(this,no))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,p,a,s,c,f,l,u,d,h,g,m,v,y,w,x,S,C,E;Ae(this,no,d1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(k,L)=>{Tt(this,er,Kr).call(this,{type:"failed",failureCount:k,error:L})},onPause:()=>{Tt(this,er,Kr).call(this,{type:"pause"})},onContinue:()=>{Tt(this,er,Kr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,Mt).canRun(this)}));const n=this.state.status==="pending",r=!de(this,no).canStart();try{if(!n){Tt(this,er,Kr).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=de(this,Mt).config).onMutate)==null?void 0:o.call(i,t,this));const L=await((a=(p=this.options).onMutate)==null?void 0:a.call(p,t));L!==this.state.context&&Tt(this,er,Kr).call(this,{type:"pending",context:L,variables:t,isPaused:r})}const k=await de(this,no).start();return await((c=(s=de(this,Mt).config).onSuccess)==null?void 0:c.call(s,k,t,this.state.context,this)),await((l=(f=this.options).onSuccess)==null?void 0:l.call(f,k,t,this.state.context)),await((d=(u=de(this,Mt).config).onSettled)==null?void 0:d.call(u,k,null,this.state.variables,this.state.context,this)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,k,null,t,this.state.context)),Tt(this,er,Kr).call(this,{type:"success",data:k}),k}catch(k){try{throw await((v=(m=de(this,Mt).config).onError)==null?void 0:v.call(m,k,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,k,t,this.state.context)),await((S=(x=de(this,Mt).config).onSettled)==null?void 0:S.call(x,void 0,k,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,k,t,this.state.context)),k}finally{Tt(this,er,Kr).call(this,{type:"error",error:k})}}finally{de(this,Mt).runNext(this)}}},Jn=new WeakMap,Mt=new WeakMap,no=new WeakMap,er=new WeakSet,Kr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),jt.batch(()=>{de(this,Jn).forEach(r=>{r.onMutationUpdate(t)}),de(this,Mt).notify({mutation:this,type:"updated",action:t})})},Yw);function wP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var on,_l,Xw,bP=(Xw=class extends bd{constructor(t={}){super();Be(this,on,void 0);Be(this,_l,void 0);this.config=t,Ae(this,on,new Map),Ae(this,_l,Date.now())}build(t,n,r){const i=new yP({mutationCache:this,mutationId:++Yl(this,_l)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=uc(t),r=de(this,on).get(n)??[];r.push(t),de(this,on).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=uc(t);if(de(this,on).has(n)){const i=(r=de(this,on).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?de(this,on).delete(n):de(this,on).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=de(this,on).get(uc(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=de(this,on).get(uc(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...de(this,on).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>O0(n,r))}findAll(t={}){return this.getAll().filter(n=>O0(t,n))}notify(t){jt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return jt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Mn))))}},on=new WeakMap,_l=new WeakMap,Xw);function uc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function xP(e){return{onFetch:(t,n)=>{const r=async()=>{var h,g,m,v,y;const i=t.options,o=(m=(g=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,p=((v=t.state.data)==null?void 0:v.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[],s={pages:[],pageParams:[]};let c=!1;const f=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?c=!0:t.signal.addEventListener("abort",()=>{c=!0}),t.signal)})},l=t.options.queryFn&&t.options.queryFn!==og?t.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`)),u=async(w,x,S)=>{if(c)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:t.queryKey,pageParam:x,direction:S?"backward":"forward",meta:t.options.meta};f(C);const E=await l(C),{maxPages:k}=t.options,L=S?cP:lP;return{pages:L(w.pages,E,k),pageParams:L(w.pageParams,x,k)}};let d;if(o&&p.length){const w=o==="backward",x=w?SP:A0,S={pages:p,pageParams:a},C=x(i,S);d=await u(S,C,w)}else{d=await u(s,a[0]??i.initialPageParam);const w=e??p.length;for(let x=1;x<w;x++){const S=A0(i,d);d=await u(d,S)}}return d};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function A0(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function SP(e,{pages:t,pageParams:n}){var r;return(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n)}var it,ii,oi,hs,ps,si,ms,gs,Gw,_P=(Gw=class{constructor(e={}){Be(this,it,void 0);Be(this,ii,void 0);Be(this,oi,void 0);Be(this,hs,void 0);Be(this,ps,void 0);Be(this,si,void 0);Be(this,ms,void 0);Be(this,gs,void 0);Ae(this,it,e.queryCache||new vP),Ae(this,ii,e.mutationCache||new bP),Ae(this,oi,e.defaultOptions||{}),Ae(this,hs,new Map),Ae(this,ps,new Map),Ae(this,si,0)}mount(){Yl(this,si)._++,de(this,si)===1&&(Ae(this,ms,l1.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,it).onFocus())})),Ae(this,gs,_u.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,it).onOnline())})))}unmount(){var e,t;Yl(this,si)._--,de(this,si)===0&&((e=de(this,ms))==null||e.call(this),Ae(this,ms,void 0),(t=de(this,gs))==null||t.call(this),Ae(this,gs,void 0))}isFetching(e){return de(this,it).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,ii).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,it).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=de(this,it).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return de(this,it).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=de(this,it).get(r.queryHash),o=i==null?void 0:i.state.data,p=rP(t,o);if(p!==void 0)return de(this,it).build(this,r).setData(p,{...n,manual:!0})}setQueriesData(e,t,n){return jt.batch(()=>de(this,it).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,it).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,it);jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,it),r={type:"active",...e};return jt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=jt.batch(()=>de(this,it).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(e={},t={}){return jt.batch(()=>{if(de(this,it).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=jt.batch(()=>de(this,it).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Mn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,it).build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mn).catch(Mn)}fetchInfiniteQuery(e){return e.behavior=xP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mn).catch(Mn)}resumePausedMutations(){return _u.isOnline()?de(this,ii).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,it)}getMutationCache(){return de(this,ii)}getDefaultOptions(){return de(this,oi)}setDefaultOptions(e){Ae(this,oi,e)}setQueryDefaults(e,t){de(this,hs).set(il(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,hs).values()];let n={};return t.forEach(r=>{ol(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){de(this,ps).set(il(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,ps).values()];let n={};return t.forEach(r=>{ol(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,oi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ig(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===og&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,oi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,it).clear(),de(this,ii).clear()}},it=new WeakMap,ii=new WeakMap,oi=new WeakMap,hs=new WeakMap,ps=new WeakMap,si=new WeakMap,ms=new WeakMap,gs=new WeakMap,Gw),CP=b.createContext(void 0),EP=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),_.jsx(CP.Provider,{value:e,children:t}));function xo(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var TP=["color"],kP=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,TP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),PP=["color"],h1=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,PP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),OP=["color"],$P=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,OP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),RP=["color"],AP=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,RP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),DP=["color"],MP=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,DP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),NP=["color"],p1=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,NP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),LP=["color"],FP=b.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=xo(e,LP);return b.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),b.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}function pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function jP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Sd(...e){return t=>e.forEach(n=>jP(n,t))}function Te(...e){return b.useCallback(Sd(...e),e)}function IP(e,t){const n=b.createContext(t);function r(o){const{children:p,...a}=o,s=b.useMemo(()=>a,Object.values(a));return b.createElement(n.Provider,{value:s},p)}function i(o){const p=b.useContext(n);if(p)return p;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,i]}function Ht(e,t=[]){let n=[];function r(o,p){const a=b.createContext(p),s=n.length;n=[...n,p];function c(l){const{scope:u,children:d,...h}=l,g=(u==null?void 0:u[e][s])||a,m=b.useMemo(()=>h,Object.values(h));return b.createElement(g.Provider,{value:m},d)}function f(l,u){const d=(u==null?void 0:u[e][s])||a,h=b.useContext(d);if(h)return h;if(p!==void 0)return p;throw new Error(`\`${l}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,f]}const i=()=>{const o=n.map(p=>b.createContext(p));return function(a){const s=(a==null?void 0:a[e])||o;return b.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[r,BP(i,...t)]}function BP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const p=r.reduce((a,{useScope:s,scopeName:c})=>{const l=s(o)[`__scope${c}`];return{...a,...l}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:p}),[p])}};return n.scopeName=t.scopeName,n}const hr=b.forwardRef((e,t)=>{const{children:n,...r}=e,i=b.Children.toArray(n),o=i.find(zP);if(o){const p=o.props.children,a=i.map(s=>s===o?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:s);return b.createElement(gp,re({},r,{ref:t}),b.isValidElement(p)?b.cloneElement(p,void 0,a):null)}return b.createElement(gp,re({},r,{ref:t}),n)});hr.displayName="Slot";const gp=b.forwardRef((e,t)=>{const{children:n,...r}=e;return b.isValidElement(n)?b.cloneElement(n,{...VP(r,n.props),ref:t?Sd(t,n.ref):n.ref}):b.Children.count(n)>1?b.Children.only(null):null});gp.displayName="SlotClone";const sg=({children:e})=>b.createElement(b.Fragment,null,e);function zP(e){return b.isValidElement(e)&&e.type===sg}function VP(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ol(e){const t=e+"CollectionProvider",[n,r]=Ht(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),p=d=>{const{scope:h,children:g}=d,m=Ce.useRef(null),v=Ce.useRef(new Map).current;return Ce.createElement(i,{scope:h,itemMap:v,collectionRef:m},g)},a=e+"CollectionSlot",s=Ce.forwardRef((d,h)=>{const{scope:g,children:m}=d,v=o(a,g),y=Te(h,v.collectionRef);return Ce.createElement(hr,{ref:y},m)}),c=e+"CollectionItemSlot",f="data-radix-collection-item",l=Ce.forwardRef((d,h)=>{const{scope:g,children:m,...v}=d,y=Ce.useRef(null),w=Te(h,y),x=o(c,g);return Ce.useEffect(()=>(x.itemMap.set(y,{ref:y,...v}),()=>void x.itemMap.delete(y))),Ce.createElement(hr,{[f]:"",ref:w},m)});function u(d){const h=o(e+"CollectionConsumer",d);return Ce.useCallback(()=>{const m=h.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${f}]`));return Array.from(h.itemMap.values()).sort((x,S)=>v.indexOf(x.ref.current)-v.indexOf(S.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:p,Slot:s,ItemSlot:l},u,r]}const UP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=UP.reduce((e,t)=>{const n=b.forwardRef((r,i)=>{const{asChild:o,...p}=r,a=o?hr:t;return b.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),b.createElement(a,re({},p,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function ag(e,t){e&&Ri.flushSync(()=>e.dispatchEvent(t))}function tt(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function HP(e,t=globalThis==null?void 0:globalThis.document){const n=tt(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const vp="dismissableLayer.update",WP="dismissableLayer.pointerDownOutside",YP="dismissableLayer.focusOutside";let D0;const m1=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bs=b.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p,onInteractOutside:a,onDismiss:s,...c}=e,f=b.useContext(m1),[l,u]=b.useState(null),d=(n=l==null?void 0:l.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,h]=b.useState({}),g=Te(t,k=>u(k)),m=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),w=l?m.indexOf(l):-1,x=f.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,C=GP(k=>{const L=k.target,B=[...f.branches].some(G=>G.contains(L));!S||B||(o==null||o(k),a==null||a(k),k.defaultPrevented||s==null||s())},d),E=KP(k=>{const L=k.target;[...f.branches].some(G=>G.contains(L))||(p==null||p(k),a==null||a(k),k.defaultPrevented||s==null||s())},d);return HP(k=>{w===f.layers.size-1&&(i==null||i(k),!k.defaultPrevented&&s&&(k.preventDefault(),s()))},d),b.useEffect(()=>{if(l)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(D0=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(l)),f.layers.add(l),M0(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=D0)}},[l,d,r,f]),b.useEffect(()=>()=>{l&&(f.layers.delete(l),f.layersWithOutsidePointerEventsDisabled.delete(l),M0())},[l,f]),b.useEffect(()=>{const k=()=>h({});return document.addEventListener(vp,k),()=>document.removeEventListener(vp,k)},[]),b.createElement(Se.div,re({},c,{ref:g,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,C.onPointerDownCapture)}))}),XP=b.forwardRef((e,t)=>{const n=b.useContext(m1),r=b.useRef(null),i=Te(t,r);return b.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),b.createElement(Se.div,re({},e,{ref:i}))});function GP(e,t=globalThis==null?void 0:globalThis.document){const n=tt(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){g1(WP,n,c,{discrete:!0})};var s=f;const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=f,t.addEventListener("click",i.current,{once:!0})):f()}else t.removeEventListener("click",i.current);r.current=!1},p=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(p),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function KP(e,t=globalThis==null?void 0:globalThis.document){const n=tt(e),r=b.useRef(!1);return b.useEffect(()=>{const i=o=>{o.target&&!r.current&&g1(YP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function M0(){const e=new CustomEvent(vp);document.dispatchEvent(e)}function g1(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ag(i,o):i.dispatchEvent(o)}const qP=Bs,ZP=XP,$l=b.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?nP.createPortal(b.createElement(Se.div,re({},i,{ref:t})),r):null}),Rt=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{};function QP(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Ct=e=>{const{present:t,children:n}=e,r=JP(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),o=Te(r.ref,i.ref);return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:o}):null};Ct.displayName="Presence";function JP(e){const[t,n]=b.useState(),r=b.useRef({}),i=b.useRef(e),o=b.useRef("none"),p=e?"mounted":"unmounted",[a,s]=QP(p,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=dc(r.current);o.current=a==="mounted"?c:"none"},[a]),Rt(()=>{const c=r.current,f=i.current;if(f!==e){const u=o.current,d=dc(c);e?s("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?s("UNMOUNT"):s(f&&u!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,s]),Rt(()=>{if(t){const c=l=>{const d=dc(r.current).includes(l.animationName);l.target===t&&d&&Ri.flushSync(()=>s("ANIMATION_END"))},f=l=>{l.target===t&&(o.current=dc(r.current))};return t.addEventListener("animationstart",f),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",f),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else s("ANIMATION_END")},[t,s]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function dc(e){return(e==null?void 0:e.animationName)||"none"}function $n({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=eO({defaultProp:t,onChange:n}),o=e!==void 0,p=o?e:r,a=tt(n),s=b.useCallback(c=>{if(o){const l=typeof c=="function"?c(e):c;l!==e&&a(l)}else i(c)},[o,e,i,a]);return[p,s]}function eO({defaultProp:e,onChange:t}){const n=b.useState(e),[r]=n,i=b.useRef(r),o=tt(t);return b.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const _d=b.forwardRef((e,t)=>b.createElement(Se.span,re({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),tO=_d,v1="ToastProvider",[lg,nO,rO]=Ol("Toast"),[y1,e8]=Ht("Toast",[rO]),[iO,Cd]=y1(v1),w1=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:p}=e,[a,s]=b.useState(null),[c,f]=b.useState(0),l=b.useRef(!1),u=b.useRef(!1);return b.createElement(lg.Provider,{scope:t},b.createElement(iO,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:s,onToastAdd:b.useCallback(()=>f(d=>d+1),[]),onToastRemove:b.useCallback(()=>f(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:l,isClosePausedRef:u},p))};w1.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${v1}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const oO="ToastViewport",sO=["F8"],yp="toast.viewportPause",wp="toast.viewportResume",aO=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=sO,label:i="Notifications ({hotkey})",...o}=e,p=Cd(oO,n),a=nO(n),s=b.useRef(null),c=b.useRef(null),f=b.useRef(null),l=b.useRef(null),u=Te(t,l,p.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),h=p.toastCount>0;b.useEffect(()=>{const m=v=>{var y;r.every(x=>v[x]||v.code===x)&&((y=l.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),b.useEffect(()=>{const m=s.current,v=l.current;if(h&&m&&v){const y=()=>{if(!p.isClosePausedRef.current){const C=new CustomEvent(yp);v.dispatchEvent(C),p.isClosePausedRef.current=!0}},w=()=>{if(p.isClosePausedRef.current){const C=new CustomEvent(wp);v.dispatchEvent(C),p.isClosePausedRef.current=!1}},x=C=>{!m.contains(C.relatedTarget)&&w()},S=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",y),m.addEventListener("focusout",x),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",x),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[h,p.isClosePausedRef]);const g=b.useCallback(({tabbingDirection:m})=>{const y=a().map(w=>{const x=w.ref.current,S=[x,..._O(x)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?y.reverse():y).flat()},[a]);return b.useEffect(()=>{const m=l.current;if(m){const v=y=>{const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const k=document.activeElement,L=y.shiftKey;if(y.target===m&&L){var S;(S=c.current)===null||S===void 0||S.focus();return}const z=g({tabbingDirection:L?"backwards":"forwards"}),Q=z.findIndex(I=>I===k);if(Vf(z.slice(Q+1)))y.preventDefault();else{var C,E;L?(C=c.current)===null||C===void 0||C.focus():(E=f.current)===null||E===void 0||E.focus()}}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[a,g]),b.createElement(ZP,{ref:s,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:h?void 0:"none"}},h&&b.createElement(N0,{ref:c,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});Vf(m)}}),b.createElement(lg.Slot,{scope:n},b.createElement(Se.ol,re({tabIndex:-1},o,{ref:u}))),h&&b.createElement(N0,{ref:f,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});Vf(m)}}))}),lO="ToastFocusProxy",N0=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=Cd(lO,n);return b.createElement(_d,re({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:p=>{var a;const s=p.relatedTarget;!((a=o.viewport)!==null&&a!==void 0&&a.contains(s))&&r()}}))}),Ed="Toast",cO="toast.swipeStart",uO="toast.swipeMove",dO="toast.swipeCancel",fO="toast.swipeEnd",hO=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...p}=e,[a=!0,s]=$n({prop:r,defaultProp:i,onChange:o});return b.createElement(Ct,{present:n||a},b.createElement(b1,re({open:a},p,{ref:t,onClose:()=>s(!1),onPause:tt(e.onPause),onResume:tt(e.onResume),onSwipeStart:pe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,c=>{const{x:f,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${l}px`)}),onSwipeCancel:pe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,c=>{const{x:f,y:l}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${l}px`),s(!1)})})))}),[pO,mO]=y1(Ed,{onClose(){}}),b1=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:p,onEscapeKeyDown:a,onPause:s,onResume:c,onSwipeStart:f,onSwipeMove:l,onSwipeCancel:u,onSwipeEnd:d,...h}=e,g=Cd(Ed,n),[m,v]=b.useState(null),y=Te(t,I=>v(I)),w=b.useRef(null),x=b.useRef(null),S=i||g.duration,C=b.useRef(0),E=b.useRef(S),k=b.useRef(0),{onToastAdd:L,onToastRemove:B}=g,G=tt(()=>{var I;(m==null?void 0:m.contains(document.activeElement))&&((I=g.viewport)===null||I===void 0||I.focus()),p()}),z=b.useCallback(I=>{!I||I===1/0||(window.clearTimeout(k.current),C.current=new Date().getTime(),k.current=window.setTimeout(G,I))},[G]);b.useEffect(()=>{const I=g.viewport;if(I){const M=()=>{z(E.current),c==null||c()},N=()=>{const q=new Date().getTime()-C.current;E.current=E.current-q,window.clearTimeout(k.current),s==null||s()};return I.addEventListener(yp,N),I.addEventListener(wp,M),()=>{I.removeEventListener(yp,N),I.removeEventListener(wp,M)}}},[g.viewport,S,s,c,z]),b.useEffect(()=>{o&&!g.isClosePausedRef.current&&z(S)},[o,S,g.isClosePausedRef,z]),b.useEffect(()=>(L(),()=>B()),[L,B]);const Q=b.useMemo(()=>m?C1(m):null,[m]);return g.viewport?b.createElement(b.Fragment,null,Q&&b.createElement(gO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},Q),b.createElement(pO,{scope:n,onClose:G},Ri.createPortal(b.createElement(lg.ItemSlot,{scope:n},b.createElement(qP,{asChild:!0,onEscapeKeyDown:pe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||G(),g.isFocusedToastEscapeKeyDownRef.current=!1})},b.createElement(Se.li,re({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},h,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,I=>{I.key==="Escape"&&(a==null||a(I.nativeEvent),I.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,G()))}),onPointerDown:pe(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:pe(e.onPointerMove,I=>{if(!w.current)return;const M=I.clientX-w.current.x,N=I.clientY-w.current.y,q=!!x.current,H=["left","right"].includes(g.swipeDirection),T=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=H?T(0,M):0,R=H?0:T(0,N),O=I.pointerType==="touch"?10:2,V={x:$,y:R},D={originalEvent:I,delta:V};q?(x.current=V,fc(uO,l,D,{discrete:!1})):L0(V,g.swipeDirection,O)?(x.current=V,fc(cO,f,D,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(M)>O||Math.abs(N)>O)&&(w.current=null)}),onPointerUp:pe(e.onPointerUp,I=>{const M=x.current,N=I.target;if(N.hasPointerCapture(I.pointerId)&&N.releasePointerCapture(I.pointerId),x.current=null,w.current=null,M){const q=I.currentTarget,H={originalEvent:I,delta:M};L0(M,g.swipeDirection,g.swipeThreshold)?fc(fO,d,H,{discrete:!0}):fc(dO,u,H,{discrete:!0}),q.addEventListener("click",T=>T.preventDefault(),{once:!0})}})})))),g.viewport))):null});b1.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Ed}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const gO=e=>{const{__scopeToast:t,children:n,...r}=e,i=Cd(Ed,t),[o,p]=b.useState(!1),[a,s]=b.useState(!1);return xO(()=>p(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>s(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:b.createElement($l,{asChild:!0},b.createElement(_d,r,o&&b.createElement(b.Fragment,null,i.label," ",n)))},vO=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.createElement(Se.div,re({},r,{ref:t}))}),yO=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return b.createElement(Se.div,re({},r,{ref:t}))}),wO="ToastAction",x1=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?b.createElement(_1,{altText:n,asChild:!0},b.createElement(S1,re({},r,{ref:t}))):null});x1.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${wO}\``)}};const bO="ToastClose",S1=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=mO(bO,n);return b.createElement(_1,{asChild:!0},b.createElement(Se.button,re({type:"button"},r,{ref:t,onClick:pe(e.onClick,i.onClose)})))}),_1=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return b.createElement(Se.div,re({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:t}))});function C1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),SO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const p=r.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...C1(r))}}),t}function fc(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ag(i,o):i.dispatchEvent(o)}const L0=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function xO(e=()=>{}){const t=tt(e);Rt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function SO(e){return e.nodeType===e.ELEMENT_NODE}function _O(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const CO=w1,E1=aO,T1=hO,k1=vO,P1=yO,O1=x1,$1=S1;function R1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=R1(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function EO(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=R1(e))&&(r&&(r+=" "),r+=t);return r}const F0=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,j0=EO,Td=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return j0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,p=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],l=o==null?void 0:o[c];if(f===null)return null;const u=F0(f)||F0(l);return i[c][u]}),a=n&&Object.entries(n).reduce((c,f)=>{let[l,u]=f;return u===void 0||(c[l]=u),c},{}),s=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:l,className:u,...d}=f;return Object.entries(d).every(h=>{let[g,m]=h;return Array.isArray(m)?m.includes({...o,...a}[g]):{...o,...a}[g]===m})?[...c,l,u]:c},[]);return j0(e,p,s,n==null?void 0:n.class,n==null?void 0:n.className)};function A1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=A1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function TO(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=A1(e))&&(r&&(r+=" "),r+=t);return r}const cg="-";function kO(e){const t=OO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(p){const a=p.split(cg);return a[0]===""&&a.length!==1&&a.shift(),D1(a,t)||PO(p)}function o(p,a){const s=n[p]||[];return a&&r[p]?[...s,...r[p]]:s}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function D1(e,t){var p;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?D1(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(cg);return(p=t.validators.find(({validator:a})=>a(o)))==null?void 0:p.classGroupId}const I0=/^\[(.+)\]$/;function PO(e){if(I0.test(e)){const t=I0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function OO(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return RO(Object.entries(e.classGroups),n).forEach(([o,p])=>{bp(p,r,o,t)}),r}function bp(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:B0(t,i);o.classGroupId=n;return}if(typeof i=="function"){if($O(i)){bp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,p])=>{bp(p,B0(t,o),n,r)})})}function B0(e,t){let n=e;return t.split(cg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function $O(e){return e.isThemeGetter}function RO(e,t){return t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([p,a])=>[t+p,a])):o);return[n,i]}):e}function AO(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(o,p){n.set(o,p),t++,t>e&&(t=0,r=n,n=new Map)}return{get(o){let p=n.get(o);if(p!==void 0)return p;if((p=r.get(o))!==void 0)return i(o,p),p},set(o,p){n.has(o)?n.set(o,p):i(o,p)}}}const M1="!";function DO(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(p){const a=[];let s=0,c=0,f;for(let g=0;g<p.length;g++){let m=p[g];if(s===0){if(m===r&&(n||p.slice(g,g+i)===t)){a.push(p.slice(c,g)),c=g+i;continue}if(m==="/"){f=g;continue}}m==="["?s++:m==="]"&&s--}const l=a.length===0?p:p.substring(c),u=l.startsWith(M1),d=u?l.substring(1):l,h=f&&f>c?f-c:void 0;return{modifiers:a,hasImportantModifier:u,baseClassName:d,maybePostfixModifierPosition:h}}}function MO(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function NO(e){return{cache:AO(e.cacheSize),splitModifiers:DO(e),...kO(e)}}const LO=/\s+/;function FO(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(LO).map(p=>{const{modifiers:a,hasImportantModifier:s,baseClassName:c,maybePostfixModifierPosition:f}=n(p);let l=r(f?c.substring(0,f):c),u=!!f;if(!l){if(!f)return{isTailwindClass:!1,originalClassName:p};if(l=r(c),!l)return{isTailwindClass:!1,originalClassName:p};u=!1}const d=MO(a).join(":");return{isTailwindClass:!0,modifierId:s?d+M1:d,classGroupId:l,originalClassName:p,hasPostfixModifier:u}}).reverse().filter(p=>{if(!p.isTailwindClass)return!0;const{modifierId:a,classGroupId:s,hasPostfixModifier:c}=p,f=a+s;return o.has(f)?!1:(o.add(f),i(s,c).forEach(l=>o.add(a+l)),!0)}).reverse().map(p=>p.originalClassName).join(" ")}function jO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=N1(t))&&(r&&(r+=" "),r+=n);return r}function N1(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=N1(e[r]))&&(n&&(n+=" "),n+=t);return n}function IO(e,...t){let n,r,i,o=p;function p(s){const c=t.reduce((f,l)=>l(f),e());return n=NO(c),r=n.cache.get,i=n.cache.set,o=a,a(s)}function a(s){const c=r(s);if(c)return c;const f=FO(s,n);return i(s,f),f}return function(){return o(jO.apply(null,arguments))}}function Xe(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const L1=/^\[(?:([a-z-]+):)?(.+)\]$/i,BO=/^\d+\/\d+$/,zO=new Set(["px","full","screen"]),VO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function yr(e){return Zi(e)||zO.has(e)||BO.test(e)}function Yr(e){return zs(e,"length",e$)}function Zi(e){return!!e&&!Number.isNaN(Number(e))}function hc(e){return zs(e,"number",Zi)}function oa(e){return!!e&&Number.isInteger(Number(e))}function XO(e){return e.endsWith("%")&&Zi(e.slice(0,-1))}function Re(e){return L1.test(e)}function Xr(e){return VO.test(e)}const GO=new Set(["length","size","percentage"]);function KO(e){return zs(e,GO,F1)}function qO(e){return zs(e,"position",F1)}const ZO=new Set(["image","url"]);function QO(e){return zs(e,ZO,n$)}function JO(e){return zs(e,"",t$)}function sa(){return!0}function zs(e,t,n){const r=L1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function e$(e){return UO.test(e)&&!HO.test(e)}function F1(){return!1}function t$(e){return WO.test(e)}function n$(e){return YO.test(e)}function r$(){const e=Xe("colors"),t=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),i=Xe("borderColor"),o=Xe("borderRadius"),p=Xe("borderSpacing"),a=Xe("borderWidth"),s=Xe("contrast"),c=Xe("grayscale"),f=Xe("hueRotate"),l=Xe("invert"),u=Xe("gap"),d=Xe("gradientColorStops"),h=Xe("gradientColorStopPositions"),g=Xe("inset"),m=Xe("margin"),v=Xe("opacity"),y=Xe("padding"),w=Xe("saturate"),x=Xe("scale"),S=Xe("sepia"),C=Xe("skew"),E=Xe("space"),k=Xe("translate"),L=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Re,t],z=()=>[Re,t],Q=()=>["",yr,Yr],I=()=>["auto",Zi,Re],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],T=()=>["","0",Re],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>[Zi,hc],O=()=>[Zi,Re];return{cacheSize:500,separator:":",theme:{colors:[sa],spacing:[yr,Yr],blur:["none","",Xr,Re],brightness:R(),borderColor:[e],borderRadius:["none","","full",Xr,Re],borderSpacing:z(),borderWidth:Q(),contrast:R(),grayscale:T(),hueRotate:O(),invert:T(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[XO,Yr],inset:G(),margin:G(),opacity:R(),padding:z(),saturate:R(),scale:R(),sepia:T(),skew:O(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[Xr]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),Re]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",oa,Re]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:T()}],shrink:[{shrink:T()}],order:[{order:["first","last","none",oa,Re]}],"grid-cols":[{"grid-cols":[sa]}],"col-start-end":[{col:["auto",{span:["full",oa,Re]},Re]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[sa]}],"row-start-end":[{row:["auto",{span:[oa,Re]},Re]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,t]}],"min-w":[{"min-w":[Re,t,"min","max","fit"]}],"max-w":[{"max-w":[Re,t,"none","full","min","max","fit","prose",{screen:[Xr]},Xr]}],h:[{h:[Re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xr,Yr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hc]}],"font-family":[{font:[sa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",Zi,hc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",yr,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",yr,Yr]}],"underline-offset":[{"underline-offset":["auto",yr,Re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),qO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",KO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},QO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[h]}],"gradient-via-pos":[{via:[h]}],"gradient-to-pos":[{to:[h]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:N()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[yr,Re]}],"outline-w":[{outline:[yr,Yr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[yr,Yr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xr,JO]}],"shadow-color":[{shadow:[sa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[s]}],"drop-shadow":[{"drop-shadow":["","none",Xr,Re]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[l]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[s]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[p]}],"border-spacing-x":[{"border-spacing-x":[p]}],"border-spacing-y":[{"border-spacing-y":[p]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[x]}],"scale-x":[{"scale-x":[x]}],"scale-y":[{"scale-y":[x]}],rotate:[{rotate:[oa,Re]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[yr,Yr,hc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const ug=IO(r$),j1=40,i$=3,I1=200,ci="inpaint",pc="diffusers_sd",z0="diffusers_sdxl",mc="diffusers_sd_inpaint",V0="diffusers_sdxl_inpaint",Uf="diffusers_other",Cu="#ffcc00bb",U0="ldm",H0="cv2",B1="Fantasy-Studio/Paint-by-Example",o$="timbrooks/instruct-pix2pix",s$="Sanster/PowerPaint-V1-stable-diffusion-inpainting",a$="Sanster/AnyText",l$="out of frame, lowres, error, cropped, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, out of frame, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, disfigured, gross proportions, malformed limbs, watermark, signature";var Na={};const c$={},u$=Object.freeze(Object.defineProperty({__proto__:null,default:c$},Symbol.toStringTag,{value:"Module"})),Hf=O2(u$);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Hf,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Hf.implForWrapper,t.nodeCanvas=Hf.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function a(d,h){if(this.__eventListeners[d]){var g=this.__eventListeners[d];h?g[g.indexOf(h)]=!1:t.util.array.fill(g,!1)}}function s(d,h){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in d)this.on(g,d[g]);else this.__eventListeners[d]||(this.__eventListeners[d]=[]),this.__eventListeners[d].push(h);return this}function c(d,h){var g=(function(){h.apply(this,arguments),this.off(d,g)}).bind(this);this.on(d,g)}function f(d,h){if(arguments.length===1)for(var g in d)c.call(this,g,d[g]);else c.call(this,d,h);return this}function l(d,h){if(!this.__eventListeners)return this;if(arguments.length===0)for(d in this.__eventListeners)a.call(this,d);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in d)a.call(this,g,d[g]);else a.call(this,d,h);return this}function u(d,h){if(!this.__eventListeners)return this;var g=this.__eventListeners[d];if(!g)return this;for(var m=0,v=g.length;m<v;m++)g[m]&&g[m].call(this,h||{});return this.__eventListeners[d]=g.filter(function(y){return y!==!1}),this}t.Observable={fire:u,on:s,once:f,off:l}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var a=0,s=arguments.length;a<s;a++)this._onObjectAdded(arguments[a]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(a,s,c){var f=this._objects;return c?f[s]=a:f.splice(s,0,a),this._onObjectAdded&&this._onObjectAdded(a),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var a=this._objects,s,c=!1,f=0,l=arguments.length;f<l;f++)s=a.indexOf(arguments[f]),s!==-1&&(c=!0,a.splice(s,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(a,s){for(var c=this.getObjects(),f=0,l=c.length;f<l;f++)a.call(s,c[f],f,c);return this},getObjects:function(a){return typeof a>"u"?this._objects.concat():this._objects.filter(function(s){return s.type===a})},item:function(a){return this._objects[a]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(a,s){return this._objects.indexOf(a)>-1?!0:s?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(a,!0)}):!1},complexity:function(){return this._objects.reduce(function(a,s){return a+=s.complexity?s.complexity():0,a},0)}},t.CommonMethods={_setOptions:function(a){for(var s in a)this.set(s,a[s])},_initGradient:function(a,s){a&&a.colorStops&&!(a instanceof t.Gradient)&&this.set(s,new t.Gradient(a))},_initPattern:function(a,s,c){a&&a.source&&!(a instanceof t.Pattern)?this.set(s,new t.Pattern(a,c)):c&&c()},_setObject:function(a){for(var s in a)this._set(s,a[s])},set:function(a,s){return typeof a=="object"?this._setObject(a):this._set(a,s),this},_set:function(a,s){this[a]=s},toggle:function(a){var s=this.get(a);return typeof s=="boolean"&&this.set(a,!s),this},get:function(a){return this[a]}},function(a){var s=Math.sqrt,c=Math.atan2,f=Math.pow,l=Math.PI/180,u=Math.PI/2;t.util={cos:function(d){if(d===0)return 1;d<0&&(d=-d);var h=d/u;switch(h){case 1:case 3:return 0;case 2:return-1}return Math.cos(d)},sin:function(d){if(d===0)return 0;var h=d/u,g=1;switch(d<0&&(g=-1),h){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(d)},removeFromArray:function(d,h){var g=d.indexOf(h);return g!==-1&&d.splice(g,1),d},getRandomInt:function(d,h){return Math.floor(Math.random()*(h-d+1))+d},degreesToRadians:function(d){return d*l},radiansToDegrees:function(d){return d/l},rotatePoint:function(d,h,g){var m=new t.Point(d.x-h.x,d.y-h.y),v=t.util.rotateVector(m,g);return new t.Point(v.x,v.y).addEquals(h)},rotateVector:function(d,h){var g=t.util.sin(h),m=t.util.cos(h),v=d.x*m-d.y*g,y=d.x*g+d.y*m;return{x:v,y}},createVector:function(d,h){return new t.Point(h.x-d.x,h.y-d.y)},calcAngleBetweenVectors:function(d,h){return Math.acos((d.x*h.x+d.y*h.y)/(Math.hypot(d.x,d.y)*Math.hypot(h.x,h.y)))},getHatVector:function(d){return new t.Point(d.x,d.y).multiply(1/Math.hypot(d.x,d.y))},getBisector:function(d,h,g){var m=t.util.createVector(d,h),v=t.util.createVector(d,g),y=t.util.calcAngleBetweenVectors(m,v),w=t.util.calcAngleBetweenVectors(t.util.rotateVector(m,y),v),x=y*(w===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(m,x)),angle:y}},projectStrokeOnPoints:function(d,h,g){var m=[],v=h.strokeWidth/2,y=h.strokeUniform?new t.Point(1/h.scaleX,1/h.scaleY):new t.Point(1,1),w=function(x){var S=v/Math.hypot(x.x,x.y);return new t.Point(x.x*S*y.x,x.y*S*y.y)};return d.length<=1||d.forEach(function(x,S){var C=new t.Point(x.x,x.y),E,k;S===0?(k=d[S+1],E=g?w(t.util.createVector(k,C)).addEquals(C):d[d.length-1]):S===d.length-1?(E=d[S-1],k=g?w(t.util.createVector(E,C)).addEquals(C):d[0]):(E=d[S-1],k=d[S+1]);var L=t.util.getBisector(C,E,k),B=L.vector,G=L.angle,z,Q;if(h.strokeLineJoin==="miter"&&(z=-v/Math.sin(G/2),Q=new t.Point(B.x*z*y.x,B.y*z*y.y),Math.hypot(Q.x,Q.y)/v<=h.strokeMiterLimit)){m.push(C.add(Q)),m.push(C.subtract(Q));return}z=-v*Math.SQRT2,Q=new t.Point(B.x*z*y.x,B.y*z*y.y),m.push(C.add(Q)),m.push(C.subtract(Q))}),m},transformPoint:function(d,h,g){return g?new t.Point(h[0]*d.x+h[2]*d.y,h[1]*d.x+h[3]*d.y):new t.Point(h[0]*d.x+h[2]*d.y+h[4],h[1]*d.x+h[3]*d.y+h[5])},makeBoundingBoxFromPoints:function(d,h){if(h)for(var g=0;g<d.length;g++)d[g]=t.util.transformPoint(d[g],h);var m=[d[0].x,d[1].x,d[2].x,d[3].x],v=t.util.array.min(m),y=t.util.array.max(m),w=y-v,x=[d[0].y,d[1].y,d[2].y,d[3].y],S=t.util.array.min(x),C=t.util.array.max(x),E=C-S;return{left:v,top:S,width:w,height:E}},invertTransform:function(d){var h=1/(d[0]*d[3]-d[1]*d[2]),g=[h*d[3],-h*d[1],-h*d[2],h*d[0]],m=t.util.transformPoint({x:d[4],y:d[5]},g,!0);return g[4]=-m.x,g[5]=-m.y,g},toFixed:function(d,h){return parseFloat(Number(d).toFixed(h))},parseUnit:function(d,h){var g=/\D{0,2}$/.exec(d),m=parseFloat(d);switch(h||(h=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return m*t.DPI/25.4;case"cm":return m*t.DPI/2.54;case"in":return m*t.DPI;case"pt":return m*t.DPI/72;case"pc":return m*t.DPI/72*12;case"em":return m*h;default:return m}},falseFunction:function(){return!1},getKlass:function(d,h){return d=t.util.string.camelize(d.charAt(0).toUpperCase()+d.slice(1)),t.util.resolveNamespace(h)[d]},getSvgAttributes:function(d){var h=["instantiated_by_use","style","id","class"];switch(d){case"linearGradient":h=h.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":h=h.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":h=h.concat(["offset","stop-color","stop-opacity"]);break}return h},resolveNamespace:function(d){if(!d)return t;var h=d.split("."),g=h.length,m,v=a||t.window;for(m=0;m<g;++m)v=v[h[m]];return v},loadImage:function(d,h,g,m){if(!d){h&&h.call(g,d);return}var v=t.util.createImage(),y=function(){h&&h.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=y,v.onerror=function(){t.log("Error loading "+v.src),h&&h.call(g,null,!0),v=v.onload=v.onerror=null},d.indexOf("data")!==0&&m!==void 0&&m!==null&&(v.crossOrigin=m),d.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,y)),v.src=d},loadImageInDom:function(d,h){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(d),t.document.querySelector("body").appendChild(g),d.onload=function(){h(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(d,h,g,m){d=d||[];var v=[],y=0,w=d.length;function x(){++y===w&&h&&h(v.filter(function(S){return S}))}if(!w){h&&h(v);return}d.forEach(function(S,C){if(!S||!S.type){x();return}var E=t.util.getKlass(S.type,g);E.fromObject(S,function(k,L){L||(v[C]=k),m&&m(S,k,L),x()})})},enlivenObjectEnlivables:function(d,h,g){var m=t.Object.ENLIVEN_PROPS.filter(function(v){return!!d[v]});t.util.enlivenObjects(m.map(function(v){return d[v]}),function(v){var y={};m.forEach(function(w,x){y[w]=v[x],h&&(h[w]=v[x])}),g&&g(y)})},enlivenPatterns:function(d,h){d=d||[];function g(){++v===y&&h&&h(m)}var m=[],v=0,y=d.length;if(!y){h&&h(m);return}d.forEach(function(w,x){w&&w.source?new t.Pattern(w,function(S){m[x]=S,g()}):(m[x]=w,g())})},groupSVGElements:function(d,h,g){var m;return d&&d.length===1?(typeof g<"u"&&(d[0].sourcePath=g),d[0]):(h&&(h.width&&h.height?h.centerPoint={x:h.width/2,y:h.height/2}:(delete h.width,delete h.height)),m=new t.Group(d,h),typeof g<"u"&&(m.sourcePath=g),m)},populateWithProperties:function(d,h,g){if(g&&Array.isArray(g))for(var m=0,v=g.length;m<v;m++)g[m]in d&&(h[g[m]]=d[g[m]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(d){var h=t.util.createCanvasElement();return h.width=d.width,h.height=d.height,h.getContext("2d").drawImage(d,0,0),h},toDataURL:function(d,h,g){return d.toDataURL("image/"+h,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(d,h,g){return[d[0]*h[0]+d[2]*h[1],d[1]*h[0]+d[3]*h[1],d[0]*h[2]+d[2]*h[3],d[1]*h[2]+d[3]*h[3],g?0:d[0]*h[4]+d[2]*h[5]+d[4],g?0:d[1]*h[4]+d[3]*h[5]+d[5]]},qrDecompose:function(d){var h=c(d[1],d[0]),g=f(d[0],2)+f(d[1],2),m=s(g),v=(d[0]*d[3]-d[2]*d[1])/m,y=c(d[0]*d[2]+d[1]*d[3],g);return{angle:h/l,scaleX:m,scaleY:v,skewX:y/l,skewY:0,translateX:d[4],translateY:d[5]}},calcRotateMatrix:function(d){if(!d.angle)return t.iMatrix.concat();var h=t.util.degreesToRadians(d.angle),g=t.util.cos(h),m=t.util.sin(h);return[g,m,-m,g,0,0]},calcDimensionsMatrix:function(d){var h=typeof d.scaleX>"u"?1:d.scaleX,g=typeof d.scaleY>"u"?1:d.scaleY,m=[d.flipX?-h:h,0,0,d.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,y=t.util.degreesToRadians;return d.skewX&&(m=v(m,[1,0,Math.tan(y(d.skewX)),1],!0)),d.skewY&&(m=v(m,[1,Math.tan(y(d.skewY)),0,1],!0)),m},composeMatrix:function(d){var h=[1,0,0,1,d.translateX||0,d.translateY||0],g=t.util.multiplyTransformMatrices;return d.angle&&(h=g(h,t.util.calcRotateMatrix(d))),(d.scaleX!==1||d.scaleY!==1||d.skewX||d.skewY||d.flipX||d.flipY)&&(h=g(h,t.util.calcDimensionsMatrix(d))),h},resetObjectTransform:function(d){d.scaleX=1,d.scaleY=1,d.skewX=0,d.skewY=0,d.flipX=!1,d.flipY=!1,d.rotate(0)},saveObjectTransform:function(d){return{scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,angle:d.angle,left:d.left,flipX:d.flipX,flipY:d.flipY,top:d.top}},isTransparent:function(d,h,g,m){m>0&&(h>m?h-=m:h=0,g>m?g-=m:g=0);var v=!0,y,w,x=d.getImageData(h,g,m*2||1,m*2||1),S=x.data.length;for(y=3;y<S&&(w=x.data[y],v=w<=0,v!==!1);y+=4);return x=null,v},parsePreserveAspectRatioAttribute:function(d){var h="meet",g="Mid",m="Mid",v=d.split(" "),y;return v&&v.length&&(h=v.pop(),h!=="meet"&&h!=="slice"?(y=h,h="meet"):v.length&&(y=v.pop())),g=y!=="none"?y.slice(1,4):"none",m=y!=="none"?y.slice(5,8):"none",{meetOrSlice:h,alignX:g,alignY:m}},clearFabricFontCache:function(d){d=(d||"").toLowerCase(),d?t.charWidthsCache[d]&&delete t.charWidthsCache[d]:t.charWidthsCache={}},limitDimsByArea:function(d,h){var g=Math.sqrt(h*d),m=Math.floor(h/g);return{x:Math.floor(g),y:m}},capValue:function(d,h,g){return Math.max(d,Math.min(h,g))},findScaleToFit:function(d,h){return Math.min(h.width/d.width,h.height/d.height)},findScaleToCover:function(d,h){return Math.max(h.width/d.width,h.height/d.height)},matrixToSVG:function(d){return"matrix("+d.map(function(h){return t.util.toFixed(h,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(d,h){var g=t.util.invertTransform(h),m=t.util.multiplyTransformMatrices(g,d.calcOwnMatrix());t.util.applyTransformToObject(d,m)},addTransformToObject:function(d,h){t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(h,d.calcOwnMatrix()))},applyTransformToObject:function(d,h){var g=t.util.qrDecompose(h),m=new t.Point(g.translateX,g.translateY);d.flipX=!1,d.flipY=!1,d.set("scaleX",g.scaleX),d.set("scaleY",g.scaleY),d.skewX=g.skewX,d.skewY=g.skewY,d.angle=g.angle,d.setPositionByOrigin(m,"center","center")},sizeAfterTransform:function(d,h,g){var m=d/2,v=h/2,y=[{x:-m,y:-v},{x:m,y:-v},{x:-m,y:v},{x:m,y:v}],w=t.util.calcDimensionsMatrix(g),x=t.util.makeBoundingBoxFromPoints(y,w);return{x:x.width,y:x.height}},mergeClipPaths:function(d,h){var g=d,m=h;g.inverted&&!m.inverted&&(g=h,m=d),t.util.applyTransformToObject(m,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),m.calcTransformMatrix()));var v=g.inverted&&m.inverted;return v&&(g.inverted=m.inverted=!1),new t.Group([g],{clipPath:m,inverted:v})},hasStyleChanged:function(d,h,g){return g=g||!1,d.fill!==h.fill||d.stroke!==h.stroke||d.strokeWidth!==h.strokeWidth||d.fontSize!==h.fontSize||d.fontFamily!==h.fontFamily||d.fontWeight!==h.fontWeight||d.fontStyle!==h.fontStyle||d.textBackgroundColor!==h.textBackgroundColor||d.deltaY!==h.deltaY||g&&(d.overline!==h.overline||d.underline!==h.underline||d.linethrough!==h.linethrough)},stylesToArray:function(g,h){for(var g=t.util.object.clone(g,!0),m=h.split(`
`),v=-1,y={},w=[],x=0;x<m.length;x++){if(!g[x]){v+=m[x].length;continue}for(var S=0;S<m[x].length;S++){v++;var C=g[x][S];if(C&&Object.keys(C).length>0){var E=t.util.hasStyleChanged(y,C,!0);E?w.push({start:v,end:v+1,style:C}):w[w.length-1].end++}y=C||{}}}return w},stylesFromArray:function(d,h){if(!Array.isArray(d))return d;for(var g=h.split(`
`),m=-1,v=0,y={},w=0;w<g.length;w++)for(var x=0;x<g[w].length;x++)m++,d[v]&&d[v].start<=m&&m<d[v].end&&(y[w]=y[w]||{},y[w][x]=Object.assign({},d[v].style),m===d[v].end-1&&v++);return y}}}(e),function(){var a=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(T,$,R,O,V,D,P,F,j,X,Y){var J=t.util.cos(T),te=t.util.sin(T),ce=t.util.cos($),ee=t.util.sin($),K=R*V*ce-O*D*ee+P,ae=O*V*ce+R*D*ee+F,le=X+j*(-R*V*te-O*D*J),oe=Y+j*(-O*V*te+R*D*J),A=K+j*(R*V*ee+O*D*ce),U=ae+j*(O*V*ee-R*D*ce);return["C",le,oe,A,U,K,ae]}function l(T,$,R,O,V,D,P){var F=Math.PI,j=P*F/180,X=t.util.sin(j),Y=t.util.cos(j),J=0,te=0;R=Math.abs(R),O=Math.abs(O);var ce=-Y*T*.5-X*$*.5,ee=-Y*$*.5+X*T*.5,K=R*R,ae=O*O,le=ee*ee,oe=ce*ce,A=K*ae-K*le-ae*oe,U=0;if(A<0){var Z=Math.sqrt(1-A/(K*ae));R*=Z,O*=Z}else U=(V===D?-1:1)*Math.sqrt(A/(K*le+ae*oe));var se=U*R*ee/O,W=-U*O*ce/R,ie=Y*se-X*W+T*.5,fe=X*se+Y*W+$*.5,be=u(1,0,(ce-se)/R,(ee-W)/O),Pe=u((ce-se)/R,(ee-W)/O,(-ce-se)/R,(-ee-W)/O);D===0&&Pe>0?Pe-=2*F:D===1&&Pe<0&&(Pe+=2*F);for(var Oe=Math.ceil(Math.abs(Pe/F*2)),He=[],Ze=Pe/Oe,Wt=8/3*Math.sin(Ze/4)*Math.sin(Ze/4)/Math.sin(Ze/2),yn=be+Ze,De=0;De<Oe;De++)He[De]=f(be,yn,Y,X,R,O,ie,fe,Wt,J,te),J=He[De][5],te=He[De][6],be=yn,yn+=Ze;return He}function u(T,$,R,O){var V=Math.atan2($,T),D=Math.atan2(O,R);return D>=V?D-V:2*Math.PI-(V-D)}function d(T,$,R,O,V,D,P,F){var j;if(t.cachesBoundsOfCurve&&(j=a.call(arguments),t.boundsOfCurveCache[j]))return t.boundsOfCurveCache[j];var X=Math.sqrt,Y=Math.min,J=Math.max,te=Math.abs,ce=[],ee=[[],[]],K,ae,le,oe,A,U,Z,se;ae=6*T-12*R+6*V,K=-3*T+9*R-9*V+3*P,le=3*R-3*T;for(var W=0;W<2;++W){if(W>0&&(ae=6*$-12*O+6*D,K=-3*$+9*O-9*D+3*F,le=3*O-3*$),te(K)<1e-12){if(te(ae)<1e-12)continue;oe=-le/ae,0<oe&&oe<1&&ce.push(oe);continue}Z=ae*ae-4*le*K,!(Z<0)&&(se=X(Z),A=(-ae+se)/(2*K),0<A&&A<1&&ce.push(A),U=(-ae-se)/(2*K),0<U&&U<1&&ce.push(U))}for(var ie,fe,be=ce.length,Pe=be,Oe;be--;)oe=ce[be],Oe=1-oe,ie=Oe*Oe*Oe*T+3*Oe*Oe*oe*R+3*Oe*oe*oe*V+oe*oe*oe*P,ee[0][be]=ie,fe=Oe*Oe*Oe*$+3*Oe*Oe*oe*O+3*Oe*oe*oe*D+oe*oe*oe*F,ee[1][be]=fe;ee[0][Pe]=T,ee[1][Pe]=$,ee[0][Pe+1]=P,ee[1][Pe+1]=F;var He=[{x:Y.apply(null,ee[0]),y:Y.apply(null,ee[1])},{x:J.apply(null,ee[0]),y:J.apply(null,ee[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[j]=He),He}function h(T,$,R){for(var O=R[1],V=R[2],D=R[3],P=R[4],F=R[5],j=R[6],X=R[7],Y=l(j-T,X-$,O,V,P,F,D),J=0,te=Y.length;J<te;J++)Y[J][1]+=T,Y[J][2]+=$,Y[J][3]+=T,Y[J][4]+=$,Y[J][5]+=T,Y[J][6]+=$;return Y}function g(T){var $=0,R=0,O=T.length,V=0,D=0,P,F,j,X=[],Y,J,te;for(F=0;F<O;++F){switch(j=!1,P=T[F].slice(0),P[0]){case"l":P[0]="L",P[1]+=$,P[2]+=R;case"L":$=P[1],R=P[2];break;case"h":P[1]+=$;case"H":P[0]="L",P[2]=R,$=P[1];break;case"v":P[1]+=R;case"V":P[0]="L",R=P[1],P[1]=$,P[2]=R;break;case"m":P[0]="M",P[1]+=$,P[2]+=R;case"M":$=P[1],R=P[2],V=P[1],D=P[2];break;case"c":P[0]="C",P[1]+=$,P[2]+=R,P[3]+=$,P[4]+=R,P[5]+=$,P[6]+=R;case"C":J=P[3],te=P[4],$=P[5],R=P[6];break;case"s":P[0]="S",P[1]+=$,P[2]+=R,P[3]+=$,P[4]+=R;case"S":Y==="C"?(J=2*$-J,te=2*R-te):(J=$,te=R),$=P[3],R=P[4],P[0]="C",P[5]=P[3],P[6]=P[4],P[3]=P[1],P[4]=P[2],P[1]=J,P[2]=te,J=P[3],te=P[4];break;case"q":P[0]="Q",P[1]+=$,P[2]+=R,P[3]+=$,P[4]+=R;case"Q":J=P[1],te=P[2],$=P[3],R=P[4];break;case"t":P[0]="T",P[1]+=$,P[2]+=R;case"T":Y==="Q"?(J=2*$-J,te=2*R-te):(J=$,te=R),P[0]="Q",$=P[1],R=P[2],P[1]=J,P[2]=te,P[3]=$,P[4]=R;break;case"a":P[0]="A",P[6]+=$,P[7]+=R;case"A":j=!0,X=X.concat(h($,R,P)),$=P[6],R=P[7];break;case"z":case"Z":$=V,R=D;break}j||X.push(P),Y=P[0]}return X}function m(T,$,R,O){return Math.sqrt((R-T)*(R-T)+(O-$)*(O-$))}function v(T){return T*T*T}function y(T){return 3*T*T*(1-T)}function w(T){return 3*T*(1-T)*(1-T)}function x(T){return(1-T)*(1-T)*(1-T)}function S(T,$,R,O,V,D,P,F){return function(j){var X=v(j),Y=y(j),J=w(j),te=x(j);return{x:P*X+V*Y+R*J+T*te,y:F*X+D*Y+O*J+$*te}}}function C(T,$,R,O,V,D,P,F){return function(j){var X=1-j,Y=3*X*X*(R-T)+6*X*j*(V-R)+3*j*j*(P-V),J=3*X*X*(O-$)+6*X*j*(D-O)+3*j*j*(F-D);return Math.atan2(J,Y)}}function E(T){return T*T}function k(T){return 2*T*(1-T)}function L(T){return(1-T)*(1-T)}function B(T,$,R,O,V,D){return function(P){var F=E(P),j=k(P),X=L(P);return{x:V*F+R*j+T*X,y:D*F+O*j+$*X}}}function G(T,$,R,O,V,D){return function(P){var F=1-P,j=2*F*(R-T)+2*P*(V-R),X=2*F*(O-$)+2*P*(D-O);return Math.atan2(X,j)}}function z(T,$,R){var O={x:$,y:R},V,D=0,P;for(P=1;P<=100;P+=1)V=T(P/100),D+=m(O.x,O.y,V.x,V.y),O=V;return D}function Q(T,$){for(var R=0,O=0,V=T.iterator,D={x:T.x,y:T.y},P,F,j=.01,X=T.angleFinder,Y;O<$&&j>1e-4;)P=V(R),Y=R,F=m(D.x,D.y,P.x,P.y),F+O>$?(R-=j,j/=2):(D=P,R+=j,O+=F);return P.angle=X(Y),P}function I(T){for(var $=0,R=T.length,O,V=0,D=0,P=0,F=0,j=[],X,Y,J,te=0;te<R;te++){switch(O=T[te],Y={x:V,y:D,command:O[0]},O[0]){case"M":Y.length=0,P=V=O[1],F=D=O[2];break;case"L":Y.length=m(V,D,O[1],O[2]),V=O[1],D=O[2];break;case"C":X=S(V,D,O[1],O[2],O[3],O[4],O[5],O[6]),J=C(V,D,O[1],O[2],O[3],O[4],O[5],O[6]),Y.iterator=X,Y.angleFinder=J,Y.length=z(X,V,D),V=O[5],D=O[6];break;case"Q":X=B(V,D,O[1],O[2],O[3],O[4]),J=G(V,D,O[1],O[2],O[3],O[4]),Y.iterator=X,Y.angleFinder=J,Y.length=z(X,V,D),V=O[3],D=O[4];break;case"Z":case"z":Y.destX=P,Y.destY=F,Y.length=m(V,D,P,F),V=P,D=F;break}$+=Y.length,j.push(Y)}return j.push({length:$,x:V,y:D}),j}function M(T,$,R){R||(R=I(T));for(var O=0;$-R[O].length>0&&O<R.length-2;)$-=R[O].length,O++;var V=R[O],D=$/V.length,P=V.command,F=T[O],j;switch(P){case"M":return{x:V.x,y:V.y,angle:0};case"Z":case"z":return j=new t.Point(V.x,V.y).lerp(new t.Point(V.destX,V.destY),D),j.angle=Math.atan2(V.destY-V.y,V.destX-V.x),j;case"L":return j=new t.Point(V.x,V.y).lerp(new t.Point(F[1],F[2]),D),j.angle=Math.atan2(F[2]-V.y,F[1]-V.x),j;case"C":return Q(V,$);case"Q":return Q(V,$)}}function N(T){var $=[],R=[],O,V,D=t.rePathCommand,P="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",F="("+P+")"+t.commaWsp,j="([01])"+t.commaWsp+"?",X=F+"?"+F+"?"+F+j+j+F+"?("+P+")",Y=new RegExp(X,"g"),J,te,ce;if(!T||!T.match)return $;ce=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var ee=0,K,ae=ce.length;ee<ae;ee++){O=ce[ee],te=O.slice(1).trim(),R.length=0;var le=O.charAt(0);if(K=[le],le.toLowerCase()==="a")for(var oe;oe=Y.exec(te);)for(var A=1;A<oe.length;A++)R.push(oe[A]);else for(;J=D.exec(te);)R.push(J[0]);for(var A=0,U=R.length;A<U;A++)V=parseFloat(R[A]),isNaN(V)||K.push(V);var Z=s[le.toLowerCase()],se=c[le]||le;if(K.length-1>Z)for(var W=1,ie=K.length;W<ie;W+=Z)$.push([le].concat(K.slice(W,W+Z))),le=se;else $.push(K)}return $}function q(T,$){var R=[],O,V=new t.Point(T[0].x,T[0].y),D=new t.Point(T[1].x,T[1].y),P=T.length,F=1,j=0,X=P>2;for($=$||0,X&&(F=T[2].x<D.x?-1:T[2].x===D.x?0:1,j=T[2].y<D.y?-1:T[2].y===D.y?0:1),R.push(["M",V.x-F*$,V.y-j*$]),O=1;O<P;O++){if(!V.eq(D)){var Y=V.midPointFrom(D);R.push(["Q",V.x,V.y,Y.x,Y.y])}V=T[O],O+1<T.length&&(D=T[O+1])}return X&&(F=V.x>T[O-2].x?1:V.x===T[O-2].x?0:-1,j=V.y>T[O-2].y?1:V.y===T[O-2].y?0:-1),R.push(["L",V.x+F*$,V.y+j*$]),R}function H(T,$,R){return R&&($=t.util.multiplyTransformMatrices($,[1,0,0,1,-R.x,-R.y])),T.map(function(O){for(var V=O.slice(0),D={},P=1;P<O.length-1;P+=2)D.x=O[P],D.y=O[P+1],D=t.util.transformPoint(D,$),V[P]=D.x,V[P+1]=D.y;return V})}t.util.joinPath=function(T){return T.map(function($){return $.join(" ")}).join(" ")},t.util.parsePath=N,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=q,t.util.getPathSegmentsInfo=I,t.util.getBoundsOfCurve=d,t.util.getPointOnPath=M,t.util.transformPath=H}(),function(){var a=Array.prototype.slice;function s(d,h){for(var g=a.call(arguments,2),m=[],v=0,y=d.length;v<y;v++)m[v]=g.length?d[v][h].apply(d[v],g):d[v][h].call(d[v]);return m}function c(d,h){return u(d,h,function(g,m){return g>=m})}function f(d,h){return u(d,h,function(g,m){return g<m})}function l(d,h){for(var g=d.length;g--;)d[g]=h;return d}function u(d,h,g){if(!(!d||d.length===0)){var m=d.length-1,v=h?d[m][h]:d[m];if(h)for(;m--;)g(d[m][h],v)&&(v=d[m][h]);else for(;m--;)g(d[m],v)&&(v=d[m]);return v}}t.util.array={fill:l,invoke:s,min:f,max:c}}(),function(){function a(c,f,l){if(l)if(!t.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var u=0,d=f.length;u<d;u++)c[u]=a({},f[u],l)}else if(f&&typeof f=="object")for(var h in f)h==="canvas"||h==="group"?c[h]=null:f.hasOwnProperty(h)&&(c[h]=a({},f[h],l));else c=f;else for(var h in f)c[h]=f[h];return c}function s(c,f){return a({},c,f)}t.util.object={extend:a,clone:s},t.util.object.extend(t.util,t.Observable)}(),function(){function a(u){return u.replace(/-+(.)?/g,function(d,h){return h?h.toUpperCase():""})}function s(u,d){return u.charAt(0).toUpperCase()+(d?u.slice(1):u.slice(1).toLowerCase())}function c(u){return u.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(u){var d=0,h,g=[];for(d=0,h;d<u.length;d++)(h=l(u,d))!==!1&&g.push(h);return g}function l(u,d){var h=u.charCodeAt(d);if(isNaN(h))return"";if(h<55296||h>57343)return u.charAt(d);if(55296<=h&&h<=56319){if(u.length<=d+1)throw"High surrogate without following low surrogate";var g=u.charCodeAt(d+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return u.charAt(d)+u.charAt(d+1)}if(d===0)throw"Low surrogate without preceding high surrogate";var m=u.charCodeAt(d-1);if(55296>m||m>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:a,capitalize:s,escapeXml:c,graphemeSplit:f}}(),function(){var a=Array.prototype.slice,s=function(){},c=function(){for(var h in{toString:1})if(h==="toString")return!1;return!0}(),f=function(h,g,m){for(var v in g)v in h.prototype&&typeof h.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?h.prototype[v]=function(y){return function(){var w=this.constructor.superclass;this.constructor.superclass=m;var x=g[y].apply(this,arguments);if(this.constructor.superclass=w,y!=="initialize")return x}}(v):h.prototype[v]=g[v],c&&(g.toString!==Object.prototype.toString&&(h.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(h.prototype.valueOf=g.valueOf))};function l(){}function u(h){for(var g=null,m=this;m.constructor.superclass;){var v=m.constructor.superclass.prototype[h];if(m[h]!==v){g=v;break}m=m.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,a.call(arguments,1)):g.call(this):console.log("tried to callSuper "+h+", method not found in prototype chain",this)}function d(){var h=null,g=a.call(arguments,0);typeof g[0]=="function"&&(h=g.shift());function m(){this.initialize.apply(this,arguments)}m.superclass=h,m.subclasses=[],h&&(l.prototype=h.prototype,m.prototype=new l,h.subclasses.push(m));for(var v=0,y=g.length;v<y;v++)f(m,g[v],h);return m.prototype.initialize||(m.prototype.initialize=s),m.prototype.constructor=m,m.prototype.callSuper=u,m}t.util.createClass=d}(),function(){var a=!!t.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];t.util.addListener=function(f,l,u,d){f&&f.addEventListener(l,u,a?!1:d)},t.util.removeListener=function(f,l,u,d){f&&f.removeEventListener(l,u,a?!1:d)};function c(f){var l=f.changedTouches;return l&&l[0]?l[0]:f}t.util.getPointer=function(f){var l=f.target,u=t.util.getScrollLeftTop(l),d=c(f);return{x:d.clientX+u.left,y:d.clientY+u.top}},t.util.isTouchEvent=function(f){return s.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function a(d,h){var g=d.style;if(!g)return d;if(typeof h=="string")return d.style.cssText+=";"+h,h.indexOf("opacity")>-1?u(d,h.match(/opacity:\s*(\d?\.?\d*)/)[1]):d;for(var m in h)if(m==="opacity")u(d,h[m]);else{var v=m==="float"||m==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":m;g.setProperty(v,h[m])}return d}var s=t.document.createElement("div"),c=typeof s.style.opacity=="string",f=typeof s.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,u=function(d){return d};c?u=function(d,h){return d.style.opacity=h,d}:f&&(u=function(d,h){var g=d.style;return d.currentStyle&&!d.currentStyle.hasLayout&&(g.zoom=1),l.test(g.filter)?(h=h>=.9999?"":"alpha(opacity="+h*100+")",g.filter=g.filter.replace(l,h)):g.filter+=" alpha(opacity="+h*100+")",d}),t.util.setStyle=a}(),function(){var a=Array.prototype.slice;function s(x){return typeof x=="string"?t.document.getElementById(x):x}var c,f=function(x){return a.call(x,0)};try{c=f(t.document.childNodes)instanceof Array}catch{}c||(f=function(x){for(var S=new Array(x.length),C=x.length;C--;)S[C]=x[C];return S});function l(x,S){var C=t.document.createElement(x);for(var E in S)E==="class"?C.className=S[E]:E==="for"?C.htmlFor=S[E]:C.setAttribute(E,S[E]);return C}function u(x,S){x&&(" "+x.className+" ").indexOf(" "+S+" ")===-1&&(x.className+=(x.className?" ":"")+S)}function d(x,S,C){return typeof S=="string"&&(S=l(S,C)),x.parentNode&&x.parentNode.replaceChild(S,x),S.appendChild(x),S}function h(x){for(var S=0,C=0,E=t.document.documentElement,k=t.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&(x=x.parentNode||x.host,x===t.document?(S=k.scrollLeft||E.scrollLeft||0,C=k.scrollTop||E.scrollTop||0):(S+=x.scrollLeft||0,C+=x.scrollTop||0),!(x.nodeType===1&&x.style.position==="fixed")););return{left:S,top:C}}function g(x){var S,C=x&&x.ownerDocument,E={left:0,top:0},k={left:0,top:0},L,B={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return k;for(var G in B)k[B[G]]+=parseInt(m(x,G),10)||0;return S=C.documentElement,typeof x.getBoundingClientRect<"u"&&(E=x.getBoundingClientRect()),L=h(x),{left:E.left+L.left-(S.clientLeft||0)+k.left,top:E.top+L.top-(S.clientTop||0)+k.top}}var m;t.document.defaultView&&t.document.defaultView.getComputedStyle?m=function(x,S){var C=t.document.defaultView.getComputedStyle(x,null);return C?C[S]:void 0}:m=function(x,S){var C=x.style[S];return!C&&x.currentStyle&&(C=x.currentStyle[S]),C},function(){var x=t.document.documentElement.style,S="userSelect"in x?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"";function C(k){return typeof k.onselectstart<"u"&&(k.onselectstart=t.util.falseFunction),S?k.style[S]="none":typeof k.unselectable=="string"&&(k.unselectable="on"),k}function E(k){return typeof k.onselectstart<"u"&&(k.onselectstart=null),S?k.style[S]="":typeof k.unselectable=="string"&&(k.unselectable=""),k}t.util.makeElementUnselectable=C,t.util.makeElementSelectable=E}();function v(x){var S=t.jsdomImplForWrapper(x);return S._canvas||S._image}function y(x){if(t.isLikelyNode){var S=t.jsdomImplForWrapper(x);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function w(x,S){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=S}t.util.setImageSmoothing=w,t.util.getById=s,t.util.toArray=f,t.util.addClass=u,t.util.makeElement=l,t.util.wrapElement=d,t.util.getScrollLeftTop=h,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=y}(),function(){function a(f,l){return f+(/\?/.test(f)?"&":"?")+l}function s(){}function c(f,l){l||(l={});var u=l.method?l.method.toUpperCase():"GET",d=l.onComplete||function(){},h=new t.window.XMLHttpRequest,g=l.body||l.parameters;return h.onreadystatechange=function(){h.readyState===4&&(d(h),h.onreadystatechange=s)},u==="GET"&&(g=null,typeof l.parameters=="string"&&(f=a(f,l.parameters))),h.open(u,f,!0),(u==="POST"||u==="PUT")&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(g),h}t.util.request=c}(),t.log=console.log,t.warn=console.warn,function(){var a=t.util.object.extend,s=t.util.object.clone,c=[];t.util.object.extend(c,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(y){y.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var y=this.filter(function(w){return typeof w.target=="object"&&w.target.canvas===v});return y.forEach(function(w){w.cancel()}),y},cancelByTarget:function(v){var y=this.findAnimationsByTarget(v);return y.forEach(function(w){w.cancel()}),y},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(y){return y.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(y){return y.target===v}):[]}});function f(){return!1}function l(v,y,w,x){return-w*Math.cos(v/x*(Math.PI/2))+w+y}function u(v){v||(v={});var y=!1,w,x=function(){var S=t.runningAnimations.indexOf(w);return S>-1&&t.runningAnimations.splice(S,1)[0]};return w=a(s(v),{cancel:function(){return y=!0,x()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(w),g(function(S){var C=S||+new Date,E=v.duration||500,k=C+E,L,B=v.onChange||f,G=v.abort||f,z=v.onComplete||f,Q=v.easing||l,I="startValue"in v?v.startValue.length>0:!1,M="startValue"in v?v.startValue:0,N="endValue"in v?v.endValue:100,q=v.byValue||(I?M.map(function(H,T){return N[T]-M[T]}):N-M);v.onStart&&v.onStart(),function H(T){L=T||+new Date;var $=L>k?E:L-C,R=$/E,O=I?M.map(function(D,P){return Q($,M[P],q[P],E)}):Q($,M,q,E),V=Math.abs(I?(O[0]-M[0])/q[0]:(O-M)/q);if(w.currentValue=I?O.slice():O,w.completionRate=V,w.durationRate=R,!y){if(G(O,V,R)){x();return}if(L>k){w.currentValue=I?N.slice():N,w.completionRate=1,w.durationRate=1,B(I?N.slice():N,1,1),z(N,1,1),x();return}else B(O,V,R),g(H)}}(C)}),w.cancel}var d=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},h=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return d.apply(t.window,arguments)}function m(){return h.apply(t.window,arguments)}t.util.animate=u,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=m,t.runningAnimations=c}(),function(){function a(c,f,l){var u="rgba("+parseInt(c[0]+l*(f[0]-c[0]),10)+","+parseInt(c[1]+l*(f[1]-c[1]),10)+","+parseInt(c[2]+l*(f[2]-c[2]),10);return u+=","+(c&&f?parseFloat(c[3]+l*(f[3]-c[3])):1),u+=")",u}function s(c,f,l,u){var d=new t.Color(c).getSource(),h=new t.Color(f).getSource(),g=u.onComplete,m=u.onChange;return u=u||{},t.util.animate(t.util.object.extend(u,{duration:l||500,startValue:d,endValue:h,byValue:h,easing:function(v,y,w,x){var S=u.colorEasing?u.colorEasing(v,x):1-Math.cos(v/x*(Math.PI/2));return a(y,w,S)},onComplete:function(v,y,w){if(g)return g(a(h,h,0),y,w)},onChange:function(v,y,w){if(m){if(Array.isArray(v))return m(a(v,v,0),y,w);m(v,y,w)}}}))}t.util.animateColor=s}(),function(){function a(T,$,R,O){return T<Math.abs($)?(T=$,O=R/4):$===0&&T===0?O=R/(2*Math.PI)*Math.asin(1):O=R/(2*Math.PI)*Math.asin($/T),{a:T,c:$,p:R,s:O}}function s(T,$,R){return T.a*Math.pow(2,10*($-=1))*Math.sin(($*R-T.s)*(2*Math.PI)/T.p)}function c(T,$,R,O){return R*((T=T/O-1)*T*T+1)+$}function f(T,$,R,O){return T/=O/2,T<1?R/2*T*T*T+$:R/2*((T-=2)*T*T+2)+$}function l(T,$,R,O){return R*(T/=O)*T*T*T+$}function u(T,$,R,O){return-R*((T=T/O-1)*T*T*T-1)+$}function d(T,$,R,O){return T/=O/2,T<1?R/2*T*T*T*T+$:-R/2*((T-=2)*T*T*T-2)+$}function h(T,$,R,O){return R*(T/=O)*T*T*T*T+$}function g(T,$,R,O){return R*((T=T/O-1)*T*T*T*T+1)+$}function m(T,$,R,O){return T/=O/2,T<1?R/2*T*T*T*T*T+$:R/2*((T-=2)*T*T*T*T+2)+$}function v(T,$,R,O){return-R*Math.cos(T/O*(Math.PI/2))+R+$}function y(T,$,R,O){return R*Math.sin(T/O*(Math.PI/2))+$}function w(T,$,R,O){return-R/2*(Math.cos(Math.PI*T/O)-1)+$}function x(T,$,R,O){return T===0?$:R*Math.pow(2,10*(T/O-1))+$}function S(T,$,R,O){return T===O?$+R:R*(-Math.pow(2,-10*T/O)+1)+$}function C(T,$,R,O){return T===0?$:T===O?$+R:(T/=O/2,T<1?R/2*Math.pow(2,10*(T-1))+$:R/2*(-Math.pow(2,-10*--T)+2)+$)}function E(T,$,R,O){return-R*(Math.sqrt(1-(T/=O)*T)-1)+$}function k(T,$,R,O){return R*Math.sqrt(1-(T=T/O-1)*T)+$}function L(T,$,R,O){return T/=O/2,T<1?-R/2*(Math.sqrt(1-T*T)-1)+$:R/2*(Math.sqrt(1-(T-=2)*T)+1)+$}function B(T,$,R,O){var V=1.70158,D=0,P=R;if(T===0)return $;if(T/=O,T===1)return $+R;D||(D=O*.3);var F=a(P,R,D,V);return-s(F,T,O)+$}function G(T,$,R,O){var V=1.70158,D=0,P=R;if(T===0)return $;if(T/=O,T===1)return $+R;D||(D=O*.3);var F=a(P,R,D,V);return F.a*Math.pow(2,-10*T)*Math.sin((T*O-F.s)*(2*Math.PI)/F.p)+F.c+$}function z(T,$,R,O){var V=1.70158,D=0,P=R;if(T===0)return $;if(T/=O/2,T===2)return $+R;D||(D=O*(.3*1.5));var F=a(P,R,D,V);return T<1?-.5*s(F,T,O)+$:F.a*Math.pow(2,-10*(T-=1))*Math.sin((T*O-F.s)*(2*Math.PI)/F.p)*.5+F.c+$}function Q(T,$,R,O,V){return V===void 0&&(V=1.70158),R*(T/=O)*T*((V+1)*T-V)+$}function I(T,$,R,O,V){return V===void 0&&(V=1.70158),R*((T=T/O-1)*T*((V+1)*T+V)+1)+$}function M(T,$,R,O,V){return V===void 0&&(V=1.70158),T/=O/2,T<1?R/2*(T*T*(((V*=1.525)+1)*T-V))+$:R/2*((T-=2)*T*(((V*=1.525)+1)*T+V)+2)+$}function N(T,$,R,O){return R-q(O-T,0,R,O)+$}function q(T,$,R,O){return(T/=O)<1/2.75?R*(7.5625*T*T)+$:T<2/2.75?R*(7.5625*(T-=1.5/2.75)*T+.75)+$:T<2.5/2.75?R*(7.5625*(T-=2.25/2.75)*T+.9375)+$:R*(7.5625*(T-=2.625/2.75)*T+.984375)+$}function H(T,$,R,O){return T<O/2?N(T*2,0,R,O)*.5+$:q(T*2-O,0,R,O)*.5+R*.5+$}t.util.ease={easeInQuad:function(T,$,R,O){return R*(T/=O)*T+$},easeOutQuad:function(T,$,R,O){return-R*(T/=O)*(T-2)+$},easeInOutQuad:function(T,$,R,O){return T/=O/2,T<1?R/2*T*T+$:-R/2*(--T*(T-2)-1)+$},easeInCubic:function(T,$,R,O){return R*(T/=O)*T*T+$},easeOutCubic:c,easeInOutCubic:f,easeInQuart:l,easeOutQuart:u,easeInOutQuart:d,easeInQuint:h,easeOutQuint:g,easeInOutQuint:m,easeInSine:v,easeOutSine:y,easeInOutSine:w,easeInExpo:x,easeOutExpo:S,easeInOutExpo:C,easeInCirc:E,easeOutCirc:k,easeInOutCirc:L,easeInElastic:B,easeOutElastic:G,easeInOutElastic:z,easeInBack:Q,easeOutBack:I,easeInOutBack:M,easeInBounce:N,easeOutBounce:q,easeInOutBounce:H}}(),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l=s.util.toFixed,u=s.util.parseUnit,d=s.util.multiplyTransformMatrices,h=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],m=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},w={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",S="clip-path";s.svgValidTagNamesRegEx=k(h),s.svgViewBoxElementsRegEx=k(g),s.svgInvalidAncestorsRegEx=k(m),s.svgValidParentsRegEx=k(v),s.cssRules={},s.gradientDefs={},s.clipPaths={};function C(D){return D in y?y[D]:D}function E(D,P,F,j){var X=Array.isArray(P),Y;if((D==="fill"||D==="stroke")&&P==="none")P="";else{if(D==="strokeUniform")return P==="non-scaling-stroke";if(D==="strokeDashArray")P==="none"?P=null:P=P.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(D==="transformMatrix")F&&F.transformMatrix?P=d(F.transformMatrix,s.parseTransformAttribute(P)):P=s.parseTransformAttribute(P);else if(D==="visible")P=P!=="none"&&P!=="hidden",F&&F.visible===!1&&(P=!1);else if(D==="opacity")P=parseFloat(P),F&&typeof F.opacity<"u"&&(P*=F.opacity);else if(D==="textAnchor")P=P==="start"?"left":P==="end"?"right":"center";else if(D==="charSpacing")Y=u(P,j)/j*1e3;else if(D==="paintFirst"){var J=P.indexOf("fill"),te=P.indexOf("stroke"),P="fill";(J>-1&&te>-1&&te<J||J===-1&&te>-1)&&(P="stroke")}else{if(D==="href"||D==="xlink:href"||D==="font")return P;if(D==="imageSmoothing")return P==="optimizeQuality";Y=X?P.map(u):u(P,j)}}return!X&&isNaN(Y)?P:Y}function k(D){return new RegExp("^("+D.join("|")+")\\b","i")}function L(D){for(var P in w)if(!(typeof D[w[P]]>"u"||D[P]==="")){if(typeof D[P]>"u"){if(!s.Object.prototype[P])continue;D[P]=s.Object.prototype[P]}if(D[P].indexOf("url(")!==0){var F=new s.Color(D[P]);D[P]=F.setAlpha(l(F.getAlpha()*D[w[P]],2)).toRgba()}}return D}function B(D,P){var F,j=[],X,Y,J;for(Y=0,J=P.length;Y<J;Y++)F=P[Y],X=D.getElementsByTagName(F),j=j.concat(Array.prototype.slice.call(X));return j}s.parseTransformAttribute=function(){function D(W,ie){var fe=s.util.cos(ie[0]),be=s.util.sin(ie[0]),Pe=0,Oe=0;ie.length===3&&(Pe=ie[1],Oe=ie[2]),W[0]=fe,W[1]=be,W[2]=-be,W[3]=fe,W[4]=Pe-(fe*Pe-be*Oe),W[5]=Oe-(be*Pe+fe*Oe)}function P(W,ie){var fe=ie[0],be=ie.length===2?ie[1]:ie[0];W[0]=fe,W[3]=be}function F(W,ie,fe){W[fe]=Math.tan(s.util.degreesToRadians(ie[0]))}function j(W,ie){W[4]=ie[0],ie.length===2&&(W[5]=ie[1])}var X=s.iMatrix,Y=s.reNum,J=s.commaWsp,te="(?:(skewX)\\s*\\(\\s*("+Y+")\\s*\\))",ce="(?:(skewY)\\s*\\(\\s*("+Y+")\\s*\\))",ee="(?:(rotate)\\s*\\(\\s*("+Y+")(?:"+J+"("+Y+")"+J+"("+Y+"))?\\s*\\))",K="(?:(scale)\\s*\\(\\s*("+Y+")(?:"+J+"("+Y+"))?\\s*\\))",ae="(?:(translate)\\s*\\(\\s*("+Y+")(?:"+J+"("+Y+"))?\\s*\\))",le="(?:(matrix)\\s*\\(\\s*("+Y+")"+J+"("+Y+")"+J+"("+Y+")"+J+"("+Y+")"+J+"("+Y+")"+J+"("+Y+")\\s*\\))",oe="(?:"+le+"|"+ae+"|"+K+"|"+ee+"|"+te+"|"+ce+")",A="(?:"+oe+"(?:"+J+"*"+oe+")*)",U="^\\s*(?:"+A+"?)\\s*$",Z=new RegExp(U),se=new RegExp(oe,"g");return function(W){var ie=X.concat(),fe=[];if(!W||W&&!Z.test(W))return ie;W.replace(se,function(Pe){var Oe=new RegExp(oe).exec(Pe).filter(function(Wt){return!!Wt}),He=Oe[1],Ze=Oe.slice(2).map(parseFloat);switch(He){case"translate":j(ie,Ze);break;case"rotate":Ze[0]=s.util.degreesToRadians(Ze[0]),D(ie,Ze);break;case"scale":P(ie,Ze);break;case"skewX":F(ie,Ze,2);break;case"skewY":F(ie,Ze,1);break;case"matrix":ie=Ze;break}fe.push(ie.concat()),ie=X.concat()});for(var be=fe[0];fe.length>1;)fe.shift(),be=s.util.multiplyTransformMatrices(be,fe[0]);return be}}();function G(D,P){var F,j;D.replace(/;\s*$/,"").split(";").forEach(function(X){var Y=X.split(":");F=Y[0].trim().toLowerCase(),j=Y[1].trim(),P[F]=j})}function z(D,P){var F,j;for(var X in D)typeof D[X]>"u"||(F=X.toLowerCase(),j=D[X],P[F]=j)}function Q(D,P){var F={};for(var j in s.cssRules[P])if(I(D,j.split(" ")))for(var X in s.cssRules[P][j])F[X]=s.cssRules[P][j][X];return F}function I(D,P){var F,j=!0;return F=N(D,P.pop()),F&&P.length&&(j=M(D,P)),F&&j&&P.length===0}function M(D,P){for(var F,j=!0;D.parentNode&&D.parentNode.nodeType===1&&P.length;)j&&(F=P.pop()),D=D.parentNode,j=N(D,F);return P.length===0}function N(D,P){var F=D.nodeName,j=D.getAttribute("class"),X=D.getAttribute("id"),Y,J;if(Y=new RegExp("^"+F,"i"),P=P.replace(Y,""),X&&P.length&&(Y=new RegExp("#"+X+"(?![a-zA-Z\\-]+)","i"),P=P.replace(Y,"")),j&&P.length)for(j=j.split(" "),J=j.length;J--;)Y=new RegExp("\\."+j[J]+"(?![a-zA-Z\\-]+)","i"),P=P.replace(Y,"");return P.length===0}function q(D,P){var F;if(D.getElementById&&(F=D.getElementById(P)),F)return F;var j,X,Y,J=D.getElementsByTagName("*");for(X=0,Y=J.length;X<Y;X++)if(j=J[X],P===j.getAttribute("id"))return j}function H(D){for(var P=B(D,["use","svg:use"]),F=0;P.length&&F<P.length;){var j=P[F],X=j.getAttribute("xlink:href")||j.getAttribute("href");if(X===null)return;var Y=X.slice(1),J=j.getAttribute("x")||0,te=j.getAttribute("y")||0,ce=q(D,Y).cloneNode(!0),ee=(ce.getAttribute("transform")||"")+" translate("+J+", "+te+")",K,ae=P.length,le,oe,A,U,Z=s.svgNS;if($(ce),/^svg$/i.test(ce.nodeName)){var se=ce.ownerDocument.createElementNS(Z,"g");for(oe=0,A=ce.attributes,U=A.length;oe<U;oe++)le=A.item(oe),se.setAttributeNS(Z,le.nodeName,le.nodeValue);for(;ce.firstChild;)se.appendChild(ce.firstChild);ce=se}for(oe=0,A=j.attributes,U=A.length;oe<U;oe++)le=A.item(oe),!(le.nodeName==="x"||le.nodeName==="y"||le.nodeName==="xlink:href"||le.nodeName==="href")&&(le.nodeName==="transform"?ee=le.nodeValue+" "+ee:ce.setAttribute(le.nodeName,le.nodeValue));ce.setAttribute("transform",ee),ce.setAttribute("instantiated_by_use","1"),ce.removeAttribute("id"),K=j.parentNode,K.replaceChild(ce,j),P.length===ae&&F++}}var T=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function $(D){if(!s.svgViewBoxElementsRegEx.test(D.nodeName))return{};var P=D.getAttribute("viewBox"),F=1,j=1,X=0,Y=0,J,te,ce,ee,K=D.getAttribute("width"),ae=D.getAttribute("height"),le=D.getAttribute("x")||0,oe=D.getAttribute("y")||0,A=D.getAttribute("preserveAspectRatio")||"",U=!P||!(P=P.match(T)),Z=!K||!ae||K==="100%"||ae==="100%",se=U&&Z,W={},ie="",fe=0,be=0;if(W.width=0,W.height=0,W.toBeParsed=se,U&&(le||oe)&&D.parentNode&&D.parentNode.nodeName!=="#document"&&(ie=" translate("+u(le)+" "+u(oe)+") ",ce=(D.getAttribute("transform")||"")+ie,D.setAttribute("transform",ce),D.removeAttribute("x"),D.removeAttribute("y")),se)return W;if(U)return W.width=u(K),W.height=u(ae),W;if(X=-parseFloat(P[1]),Y=-parseFloat(P[2]),J=parseFloat(P[3]),te=parseFloat(P[4]),W.minX=X,W.minY=Y,W.viewBoxWidth=J,W.viewBoxHeight=te,Z?(W.width=J,W.height=te):(W.width=u(K),W.height=u(ae),F=W.width/J,j=W.height/te),A=s.util.parsePreserveAspectRatioAttribute(A),A.alignX!=="none"&&(A.meetOrSlice==="meet"&&(j=F=F>j?j:F),A.meetOrSlice==="slice"&&(j=F=F>j?F:j),fe=W.width-J*F,be=W.height-te*F,A.alignX==="Mid"&&(fe/=2),A.alignY==="Mid"&&(be/=2),A.alignX==="Min"&&(fe=0),A.alignY==="Min"&&(be=0)),F===1&&j===1&&X===0&&Y===0&&le===0&&oe===0)return W;if((le||oe)&&D.parentNode.nodeName!=="#document"&&(ie=" translate("+u(le)+" "+u(oe)+") "),ce=ie+" matrix("+F+" 0 0 "+j+" "+(X*F+fe)+" "+(Y*j+be)+") ",D.nodeName==="svg"){for(ee=D.ownerDocument.createElementNS(s.svgNS,"g");D.firstChild;)ee.appendChild(D.firstChild);D.appendChild(ee)}else ee=D,ee.removeAttribute("x"),ee.removeAttribute("y"),ce=ee.getAttribute("transform")+ce;return ee.setAttribute("transform",ce),W}function R(D,P){for(;D&&(D=D.parentNode);)if(D.nodeName&&P.test(D.nodeName.replace("svg:",""))&&!D.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(D,P,F,j){if(D){H(D);var X=s.Object.__uid++,Y,J,te=$(D),ce=s.util.toArray(D.getElementsByTagName("*"));if(te.crossOrigin=j&&j.crossOrigin,te.svgUid=X,ce.length===0&&s.isLikelyNode){ce=D.selectNodes('//*[name(.)!="svg"]');var ee=[];for(Y=0,J=ce.length;Y<J;Y++)ee[Y]=ce[Y];ce=ee}var K=ce.filter(function(le){return $(le),s.svgValidTagNamesRegEx.test(le.nodeName.replace("svg:",""))&&!R(le,s.svgInvalidAncestorsRegEx)});if(!K||K&&!K.length){P&&P([],{});return}var ae={};ce.filter(function(le){return le.nodeName.replace("svg:","")==="clipPath"}).forEach(function(le){var oe=le.getAttribute("id");ae[oe]=s.util.toArray(le.getElementsByTagName("*")).filter(function(A){return s.svgValidTagNamesRegEx.test(A.nodeName.replace("svg:",""))})}),s.gradientDefs[X]=s.getGradientDefs(D),s.cssRules[X]=s.getCSSRules(D),s.clipPaths[X]=ae,s.parseElements(K,function(le,oe){P&&(P(le,te,oe,ce),delete s.gradientDefs[X],delete s.cssRules[X],delete s.clipPaths[X])},f(te),F,j)}};function O(D,P){var F=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],j="xlink:href",X=P.getAttribute(j).slice(1),Y=q(D,X);if(Y&&Y.getAttribute(j)&&O(D,Y),F.forEach(function(te){Y&&!P.hasAttribute(te)&&Y.hasAttribute(te)&&P.setAttribute(te,Y.getAttribute(te))}),!P.children.length)for(var J=Y.cloneNode(!0);J.firstChild;)P.appendChild(J.firstChild);P.removeAttribute(j)}var V=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");c(s,{parseFontDeclaration:function(D,P){var F=D.match(V);if(F){var j=F[1],X=F[3],Y=F[4],J=F[5],te=F[6];j&&(P.fontStyle=j),X&&(P.fontWeight=isNaN(parseFloat(X))?X:parseFloat(X)),Y&&(P.fontSize=u(Y)),te&&(P.fontFamily=te),J&&(P.lineHeight=J==="normal"?1:J)}},getGradientDefs:function(D){var P=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],F=B(D,P),j,X=0,Y={};for(X=F.length;X--;)j=F[X],j.getAttribute("xlink:href")&&O(D,j),Y[j.getAttribute("id")]=j;return Y},parseAttributes:function(D,P,F){if(D){var j,X={},Y,J;typeof F>"u"&&(F=D.getAttribute("svgUid")),D.parentNode&&s.svgValidParentsRegEx.test(D.parentNode.nodeName)&&(X=s.parseAttributes(D.parentNode,P,F));var te=P.reduce(function(A,U){return j=D.getAttribute(U),j&&(A[U]=j),A},{}),ce=c(Q(D,F),s.parseStyleAttribute(D));te=c(te,ce),ce[S]&&D.setAttribute(S,ce[S]),Y=J=X.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,te[x]&&(te[x]=Y=u(te[x],J));var ee,K,ae={};for(var le in te)ee=C(le),K=E(ee,te[le],X,Y),ae[ee]=K;ae&&ae.font&&s.parseFontDeclaration(ae.font,ae);var oe=c(X,ae);return s.svgValidParentsRegEx.test(D.nodeName)?oe:L(oe)}},parseElements:function(D,P,F,j,X){new s.ElementsParser(D,P,F,j,X).parse()},parseStyleAttribute:function(D){var P={},F=D.getAttribute("style");return F&&(typeof F=="string"?G(F,P):z(F,P)),P},parsePointsAttribute:function(D){if(!D)return null;D=D.replace(/,/g," ").trim(),D=D.split(/\s+/);var P=[],F,j;for(F=0,j=D.length;F<j;F+=2)P.push({x:parseFloat(D[F]),y:parseFloat(D[F+1])});return P},getCSSRules:function(D){var P=D.getElementsByTagName("style"),F,j,X={},Y;for(F=0,j=P.length;F<j;F++){var J=P[F].textContent;J=J.replace(/\/\*[\s\S]*?\*\//g,""),J.trim()!==""&&(Y=J.split("}"),Y=Y.filter(function(te){return te.trim()}),Y.forEach(function(te){var ce=te.split("{"),ee={},K=ce[1].trim(),ae=K.split(";").filter(function(U){return U.trim()});for(F=0,j=ae.length;F<j;F++){var le=ae[F].split(":"),oe=le[0].trim(),A=le[1].trim();ee[oe]=A}te=ce[0].trim(),te.split(",").forEach(function(U){U=U.replace(/^svg/i,"").trim(),U!==""&&(X[U]?s.util.object.extend(X[U],ee):X[U]=s.util.object.clone(ee))})}))}return X},loadSVGFromURL:function(D,P,F,j){D=D.replace(/^\n\s*/,"").trim(),new s.util.request(D,{method:"get",onComplete:X});function X(Y){var J=Y.responseXML;if(!J||!J.documentElement)return P&&P(null),!1;s.parseSVGDocument(J.documentElement,function(te,ce,ee,K){P&&P(te,ce,ee,K)},F,j)}},loadSVGFromString:function(D,P,F,j){var X=new s.window.DOMParser,Y=X.parseFromString(D.trim(),"text/xml");s.parseSVGDocument(Y.documentElement,function(J,te,ce,ee){P(J,te,ce,ee)},F,j)}})}(e),t.ElementsParser=function(a,s,c,f,l,u){this.elements=a,this.callback=s,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=u},function(a){a.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},a.createObjects=function(){var s=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",s.svgUid),s.createObject(c,f)})},a.findTag=function(s){return t[t.util.string.capitalize(s.tagName.replace("svg:",""))]},a.createObject=function(s,c){var f=this.findTag(s);if(f&&f.fromElement)try{f.fromElement(s,this.createCallback(c,s),this.options)}catch(l){t.log(l)}else this.checkIfDone()},a.createCallback=function(s,c){var f=this;return function(l){var u;f.resolveGradient(l,c,"fill"),f.resolveGradient(l,c,"stroke"),l instanceof t.Image&&l._originalElement&&(u=l.parsePreserveAspectRatioAttribute(c)),l._removeTransformMatrix(u),f.resolveClipPath(l,c),f.reviver&&f.reviver(c,l),f.instances[s]=l,f.checkIfDone()}},a.extractPropertyDefinition=function(s,c,f){var l=s[c],u=this.regexUrl;if(u.test(l)){u.lastIndex=0;var d=u.exec(l)[1];return u.lastIndex=0,t[f][this.svgUid][d]}},a.resolveGradient=function(s,c,f){var l=this.extractPropertyDefinition(s,f,"gradientDefs");if(l){var u=c.getAttribute(f+"-opacity"),d=t.Gradient.fromElement(l,s,u,this.options);s.set(f,d)}},a.createClipPathCallback=function(s,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},a.resolveClipPath=function(s,c){var f=this.extractPropertyDefinition(s,"clipPath","clipPaths"),l,u,d,h,g,m;if(f){h=[],d=t.util.invertTransform(s.calcTransformMatrix());for(var v=f[0].parentNode,y=c;y.parentNode&&y.getAttribute("clip-path")!==s.clipPath;)y=y.parentNode;y.parentNode.appendChild(v);for(var w=0;w<f.length;w++)l=f[w],u=this.findTag(l),u.fromElement(l,this.createClipPathCallback(s,h),this.options);h.length===1?f=h[0]:f=new t.Group(h),g=t.util.multiplyTransformMatrices(d,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,y);var m=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",m.scaleX),f.set("scaleY",m.scaleY),f.angle=m.angle,f.skewX=m.skewX,f.skewY=0,f.setPositionByOrigin({x:m.translateX,y:m.translateY},"center","center"),s.clipPath=f}else delete s.clipPath},a.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(a){var s=a.fabric||(a.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=c;function c(f,l){this.x=f,this.y=l}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new c(this.x+(f.x-this.x)*l,this.y+(f.y-this.y)*l)},distanceFrom:function(f){var l=this.x-f.x,u=this.y-f.y;return Math.sqrt(l*l+u*u)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,l){return this.x=f,this.y=l,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var l=this.x,u=this.y;this.x=f.x,this.y=f.y,f.x=l,f.y=u},clone:function(){return new c(this.x,this.y)}}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}s.Intersection=c,s.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},s.Intersection.intersectLineLine=function(f,l,u,d){var h,g=(d.x-u.x)*(f.y-u.y)-(d.y-u.y)*(f.x-u.x),m=(l.x-f.x)*(f.y-u.y)-(l.y-f.y)*(f.x-u.x),v=(d.y-u.y)*(l.x-f.x)-(d.x-u.x)*(l.y-f.y);if(v!==0){var y=g/v,w=m/v;0<=y&&y<=1&&0<=w&&w<=1?(h=new c("Intersection"),h.appendPoint(new s.Point(f.x+y*(l.x-f.x),f.y+y*(l.y-f.y)))):h=new c}else g===0||m===0?h=new c("Coincident"):h=new c("Parallel");return h},s.Intersection.intersectLinePolygon=function(f,l,u){var d=new c,h=u.length,g,m,v,y;for(y=0;y<h;y++)g=u[y],m=u[(y+1)%h],v=c.intersectLineLine(f,l,g,m),d.appendPoints(v.points);return d.points.length>0&&(d.status="Intersection"),d},s.Intersection.intersectPolygonPolygon=function(f,l){var u=new c,d=f.length,h;for(h=0;h<d;h++){var g=f[h],m=f[(h+1)%d],v=c.intersectLinePolygon(g,m,l);u.appendPoints(v.points)}return u.points.length>0&&(u.status="Intersection"),u},s.Intersection.intersectPolygonRectangle=function(f,l,u){var d=l.min(u),h=l.max(u),g=new s.Point(h.x,d.y),m=new s.Point(d.x,h.y),v=c.intersectLinePolygon(d,g,f),y=c.intersectLinePolygon(g,h,f),w=c.intersectLinePolygon(h,m,f),x=c.intersectLinePolygon(m,d,f),S=new c;return S.appendPoints(v.points),S.appendPoints(y.points),S.appendPoints(w.points),S.appendPoints(x.points),S.points.length>0&&(S.status="Intersection"),S}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function c(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}s.Color=c,s.Color.prototype={_tryParsingColor:function(l){var u;l in c.colorNameMap&&(l=c.colorNameMap[l]),l==="transparent"&&(u=[255,255,255,0]),u||(u=c.sourceFromHex(l)),u||(u=c.sourceFromRgb(l)),u||(u=c.sourceFromHsl(l)),u||(u=[0,0,0,1]),u&&this.setSource(u)},_rgbToHsl:function(l,u,d){l/=255,u/=255,d/=255;var h,g,m,v=s.util.array.max([l,u,d]),y=s.util.array.min([l,u,d]);if(m=(v+y)/2,v===y)h=g=0;else{var w=v-y;switch(g=m>.5?w/(2-v-y):w/(v+y),v){case l:h=(u-d)/w+(u<d?6:0);break;case u:h=(d-l)/w+2;break;case d:h=(l-u)/w+4;break}h/=6}return[Math.round(h*360),Math.round(g*100),Math.round(m*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+u[0]+","+u[1]+"%,"+u[2]+"%)"},toHsla:function(){var l=this.getSource(),u=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+u[0]+","+u[1]+"%,"+u[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),u,d,h;return u=l[0].toString(16),u=u.length===1?"0"+u:u,d=l[1].toString(16),d=d.length===1?"0"+d:d,h=l[2].toString(16),h=h.length===1?"0"+h:h,u.toUpperCase()+d.toUpperCase()+h.toUpperCase()},toHexa:function(){var l=this.getSource(),u;return u=Math.round(l[3]*255),u=u.toString(16),u=u.length===1?"0"+u:u,this.toHex()+u.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var u=this.getSource();return u[3]=l,this.setSource(u),this},toGrayscale:function(){var l=this.getSource(),u=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),d=l[3];return this.setSource([u,u,u,d]),this},toBlackWhite:function(l){var u=this.getSource(),d=(u[0]*.3+u[1]*.59+u[2]*.11).toFixed(0),h=u[3];return l=l||127,d=Number(d)<Number(l)?0:255,this.setSource([d,d,d,h]),this},overlayWith:function(l){l instanceof c||(l=new c(l));var u=[],d=this.getAlpha(),h=.5,g=this.getSource(),m=l.getSource(),v;for(v=0;v<3;v++)u.push(Math.round(g[v]*(1-h)+m[v]*h));return u[3]=d,this.setSource(u),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(l,u,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?l+(u-l)*6*d:d<1/2?u:d<2/3?l+(u-l)*(2/3-d)*6:l}s.Color.fromRgb=function(l){return c.fromSource(c.sourceFromRgb(l))},s.Color.sourceFromRgb=function(l){var u=l.match(c.reRGBa);if(u){var d=parseInt(u[1],10)/(/%$/.test(u[1])?100:1)*(/%$/.test(u[1])?255:1),h=parseInt(u[2],10)/(/%$/.test(u[2])?100:1)*(/%$/.test(u[2])?255:1),g=parseInt(u[3],10)/(/%$/.test(u[3])?100:1)*(/%$/.test(u[3])?255:1);return[parseInt(d,10),parseInt(h,10),parseInt(g,10),u[4]?parseFloat(u[4]):1]}},s.Color.fromRgba=c.fromRgb,s.Color.fromHsl=function(l){return c.fromSource(c.sourceFromHsl(l))},s.Color.sourceFromHsl=function(l){var u=l.match(c.reHSLa);if(u){var d=(parseFloat(u[1])%360+360)%360/360,h=parseFloat(u[2])/(/%$/.test(u[2])?100:1),g=parseFloat(u[3])/(/%$/.test(u[3])?100:1),m,v,y;if(h===0)m=v=y=g;else{var w=g<=.5?g*(h+1):g+h-g*h,x=g*2-w;m=f(x,w,d+1/3),v=f(x,w,d),y=f(x,w,d-1/3)}return[Math.round(m*255),Math.round(v*255),Math.round(y*255),u[4]?parseFloat(u[4]):1]}},s.Color.fromHsla=c.fromHsl,s.Color.fromHex=function(l){return c.fromSource(c.sourceFromHex(l))},s.Color.sourceFromHex=function(l){if(l.match(c.reHex)){var u=l.slice(l.indexOf("#")+1),d=u.length===3||u.length===4,h=u.length===8||u.length===4,g=d?u.charAt(0)+u.charAt(0):u.substring(0,2),m=d?u.charAt(1)+u.charAt(1):u.substring(2,4),v=d?u.charAt(2)+u.charAt(2):u.substring(4,6),y=h?d?u.charAt(3)+u.charAt(3):u.substring(6,8):"FF";return[parseInt(g,16),parseInt(m,16),parseInt(v,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},s.Color.fromSource=function(l){var u=new c;return u.setSource(l),u}}(e),function(a){var s=a.fabric||(a.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],l={},u="left",d="top",h="right",g="bottom",m="center",v={top:g,bottom:d,left:h,right:u,center:m},y=s.util.radiansToDegrees,w=Math.sign||function(ee){return(ee>0)-(ee<0)||+ee};function x(ee,K){var ae=ee.angle+y(Math.atan2(K.y,K.x))+360;return Math.round(ae%360/45)}function S(ee,K){var ae=K.transform.target,le=ae.canvas,oe=s.util.object.clone(K);oe.target=ae,le&&le.fire("object:"+ee,oe),ae.fire(ee,K)}function C(ee,K){var ae=K.canvas,le=ae.uniScaleKey,oe=ee[le];return ae.uniformScaling&&!oe||!ae.uniformScaling&&oe}function E(ee){return ee.originX===m&&ee.originY===m}function k(ee,K,ae){var le=ee.lockScalingX,oe=ee.lockScalingY;return!!(le&&oe||!K&&(le||oe)&&ae||le&&K==="x"||oe&&K==="y")}function L(ee,K,ae){var le="not-allowed",oe=C(ee,ae),A="";if(K.x!==0&&K.y===0?A="x":K.x===0&&K.y!==0&&(A="y"),k(ae,A,oe))return le;var U=x(ae,K);return c[U]+"-resize"}function B(ee,K,ae){var le="not-allowed";if(K.x!==0&&ae.lockSkewingY||K.y!==0&&ae.lockSkewingX)return le;var oe=x(ae,K)%4;return f[oe]+"-resize"}function G(ee,K,ae){return ee[ae.canvas.altActionKey]?l.skewCursorStyleHandler(ee,K,ae):l.scaleCursorStyleHandler(ee,K,ae)}function z(ee,K,ae){var le=ee[ae.canvas.altActionKey];if(K.x===0)return le?"skewX":"scaleY";if(K.y===0)return le?"skewY":"scaleX"}function Q(ee,K,ae){return ae.lockRotation?"not-allowed":K.cursorStyle}function I(ee,K,ae,le){return{e:ee,transform:K,pointer:{x:ae,y:le}}}function M(ee){return function(K,ae,le,oe){var A=ae.target,U=A.getCenterPoint(),Z=A.translateToOriginPoint(U,ae.originX,ae.originY),se=ee(K,ae,le,oe);return A.setPositionByOrigin(Z,ae.originX,ae.originY),se}}function N(ee,K){return function(ae,le,oe,A){var U=K(ae,le,oe,A);return U&&S(ee,I(ae,le,oe,A)),U}}function q(ee,K,ae,le,oe){var A=ee.target,U=A.controls[ee.corner],Z=A.canvas.getZoom(),se=A.padding/Z,W=A.toLocalPoint(new s.Point(le,oe),K,ae);return W.x>=se&&(W.x-=se),W.x<=-se&&(W.x+=se),W.y>=se&&(W.y-=se),W.y<=se&&(W.y+=se),W.x-=U.offsetX,W.y-=U.offsetY,W}function H(ee){return ee.flipX!==ee.flipY}function T(ee,K,ae,le,oe){if(ee[K]!==0){var A=ee._getTransformedDimensions()[le],U=oe/A*ee[ae];ee.set(ae,U)}}function $(ee,K,ae,le){var oe=K.target,A=oe._getTransformedDimensions(0,oe.skewY),U=q(K,K.originX,K.originY,ae,le),Z=Math.abs(U.x*2)-A.x,se=oe.skewX,W;Z<2?W=0:(W=y(Math.atan2(Z/oe.scaleX,A.y/oe.scaleY)),K.originX===u&&K.originY===g&&(W=-W),K.originX===h&&K.originY===d&&(W=-W),H(oe)&&(W=-W));var ie=se!==W;if(ie){var fe=oe._getTransformedDimensions().y;oe.set("skewX",W),T(oe,"skewY","scaleY","y",fe)}return ie}function R(ee,K,ae,le){var oe=K.target,A=oe._getTransformedDimensions(oe.skewX,0),U=q(K,K.originX,K.originY,ae,le),Z=Math.abs(U.y*2)-A.y,se=oe.skewY,W;Z<2?W=0:(W=y(Math.atan2(Z/oe.scaleY,A.x/oe.scaleX)),K.originX===u&&K.originY===g&&(W=-W),K.originX===h&&K.originY===d&&(W=-W),H(oe)&&(W=-W));var ie=se!==W;if(ie){var fe=oe._getTransformedDimensions().x;oe.set("skewY",W),T(oe,"skewX","scaleX","x",fe)}return ie}function O(ee,K,ae,le){var oe=K.target,A=oe.skewX,U,Z=K.originY;if(oe.lockSkewingX)return!1;if(A===0){var se=q(K,m,m,ae,le);se.x>0?U=u:U=h}else A>0&&(U=Z===d?u:h),A<0&&(U=Z===d?h:u),H(oe)&&(U=U===u?h:u);K.originX=U;var W=N("skewing",M($));return W(ee,K,ae,le)}function V(ee,K,ae,le){var oe=K.target,A=oe.skewY,U,Z=K.originX;if(oe.lockSkewingY)return!1;if(A===0){var se=q(K,m,m,ae,le);se.y>0?U=d:U=g}else A>0&&(U=Z===u?d:g),A<0&&(U=Z===u?g:d),H(oe)&&(U=U===d?g:d);K.originY=U;var W=N("skewing",M(R));return W(ee,K,ae,le)}function D(ee,K,ae,le){var oe=K,A=oe.target,U=A.translateToOriginPoint(A.getCenterPoint(),oe.originX,oe.originY);if(A.lockRotation)return!1;var Z=Math.atan2(oe.ey-U.y,oe.ex-U.x),se=Math.atan2(le-U.y,ae-U.x),W=y(se-Z+oe.theta),ie=!0;if(A.snapAngle>0){var fe=A.snapAngle,be=A.snapThreshold||fe,Pe=Math.ceil(W/fe)*fe,Oe=Math.floor(W/fe)*fe;Math.abs(W-Oe)<be?W=Oe:Math.abs(W-Pe)<be&&(W=Pe)}return W<0&&(W=360+W),W%=360,ie=A.angle!==W,A.angle=W,ie}function P(ee,K,ae,le,oe){oe=oe||{};var A=K.target,U=A.lockScalingX,Z=A.lockScalingY,se=oe.by,W,ie,fe,be,Pe=C(ee,A),Oe=k(A,se,Pe),He,Ze,Wt=K.gestureScale;if(Oe)return!1;if(Wt)ie=K.scaleX*Wt,fe=K.scaleY*Wt;else{if(W=q(K,K.originX,K.originY,ae,le),He=se!=="y"?w(W.x):1,Ze=se!=="x"?w(W.y):1,K.signX||(K.signX=He),K.signY||(K.signY=Ze),A.lockScalingFlip&&(K.signX!==He||K.signY!==Ze))return!1;if(be=A._getTransformedDimensions(),Pe&&!se){var yn=Math.abs(W.x)+Math.abs(W.y),De=K.original,Eo=Math.abs(be.x*De.scaleX/A.scaleX)+Math.abs(be.y*De.scaleY/A.scaleY),Li=yn/Eo;ie=De.scaleX*Li,fe=De.scaleY*Li}else ie=Math.abs(W.x*A.scaleX/be.x),fe=Math.abs(W.y*A.scaleY/be.y);E(K)&&(ie*=2,fe*=2),K.signX!==He&&se!=="y"&&(K.originX=v[K.originX],ie*=-1,K.signX=He),K.signY!==Ze&&se!=="x"&&(K.originY=v[K.originY],fe*=-1,K.signY=Ze)}var Fi=A.scaleX,Wl=A.scaleY;return se?(se==="x"&&A.set("scaleX",ie),se==="y"&&A.set("scaleY",fe)):(!U&&A.set("scaleX",ie),!Z&&A.set("scaleY",fe)),Fi!==A.scaleX||Wl!==A.scaleY}function F(ee,K,ae,le){return P(ee,K,ae,le)}function j(ee,K,ae,le){return P(ee,K,ae,le,{by:"x"})}function X(ee,K,ae,le){return P(ee,K,ae,le,{by:"y"})}function Y(ee,K,ae,le){return ee[K.target.canvas.altActionKey]?l.skewHandlerX(ee,K,ae,le):l.scalingY(ee,K,ae,le)}function J(ee,K,ae,le){return ee[K.target.canvas.altActionKey]?l.skewHandlerY(ee,K,ae,le):l.scalingX(ee,K,ae,le)}function te(ee,K,ae,le){var oe=K.target,A=q(K,K.originX,K.originY,ae,le),U=oe.strokeWidth/(oe.strokeUniform?oe.scaleX:1),Z=E(K)?2:1,se=oe.width,W=Math.abs(A.x*Z/oe.scaleX)-U;return oe.set("width",Math.max(W,0)),se!==W}function ce(ee,K,ae,le){var oe=K.target,A=ae-K.offsetX,U=le-K.offsetY,Z=!oe.get("lockMovementX")&&oe.left!==A,se=!oe.get("lockMovementY")&&oe.top!==U;return Z&&oe.set("left",A),se&&oe.set("top",U),(Z||se)&&S("moving",I(ee,K,ae,le)),Z||se}l.scaleCursorStyleHandler=L,l.skewCursorStyleHandler=B,l.scaleSkewCursorStyleHandler=G,l.rotationWithSnapping=N("rotating",M(D)),l.scalingEqually=N("scaling",M(F)),l.scalingX=N("scaling",M(j)),l.scalingY=N("scaling",M(X)),l.scalingYOrSkewingX=Y,l.scalingXOrSkewingY=J,l.changeWidth=N("resizing",M(te)),l.skewHandlerX=O,l.skewHandlerY=V,l.dragHandler=ce,l.scaleOrSkewActionName=z,l.rotationStyleHandler=Q,l.fireEvent=S,l.wrapWithFixedAnchor=M,l.wrapWithFireEvent=N,l.getLocalPoint=q,s.controlsUtils=l}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.degreesToRadians,f=s.controlsUtils;function l(d,h,g,m,v){m=m||{};var y=this.sizeX||m.cornerSize||v.cornerSize,w=this.sizeY||m.cornerSize||v.cornerSize,x=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,S=x?"stroke":"fill",C=!x&&(m.cornerStrokeColor||v.cornerStrokeColor),E=h,k=g,L;d.save(),d.fillStyle=m.cornerColor||v.cornerColor,d.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,y>w?(L=y,d.scale(1,w/y),k=g*y/w):w>y?(L=w,d.scale(y/w,1),E=h*w/y):L=y,d.lineWidth=1,d.beginPath(),d.arc(E,k,L/2,0,2*Math.PI,!1),d[S](),C&&d.stroke(),d.restore()}function u(d,h,g,m,v){m=m||{};var y=this.sizeX||m.cornerSize||v.cornerSize,w=this.sizeY||m.cornerSize||v.cornerSize,x=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,S=x?"stroke":"fill",C=!x&&(m.cornerStrokeColor||v.cornerStrokeColor),E=y/2,k=w/2;d.save(),d.fillStyle=m.cornerColor||v.cornerColor,d.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,d.lineWidth=1,d.translate(h,g),d.rotate(c(v.angle)),d[S+"Rect"](-E,-k,y,w),C&&d.strokeRect(-E,-k,y,w),d.restore()}f.renderCircleControl=l,f.renderSquareControl=u}(e),function(a){var s=a.fabric||(a.fabric={});function c(f){for(var l in f)this[l]=f[l]}s.Control=c,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,l){return l.cursorStyle},getActionName:function(f,l){return l.actionName},getVisibility:function(f,l){var u=f._controlsVisibility;return u&&typeof u[l]<"u"?u[l]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,l){var u=s.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},l);return u},calcCornerCoords:function(f,l,u,d,h){var g,m,v,y,w=h?this.touchSizeX:this.sizeX,x=h?this.touchSizeY:this.sizeY;if(w&&x&&w!==x){var S=Math.atan2(x,w),C=Math.sqrt(w*w+x*x)/2,E=S-s.util.degreesToRadians(f),k=Math.PI/2-S-s.util.degreesToRadians(f);g=C*s.util.cos(E),m=C*s.util.sin(E),v=C*s.util.cos(k),y=C*s.util.sin(k)}else{var L=w&&x?w:l;C=L*.7071067812;var E=s.util.degreesToRadians(45-f);g=v=C*s.util.cos(E),m=y=C*s.util.sin(E)}return{tl:{x:u-y,y:d-v},tr:{x:u+g,y:d-m},bl:{x:u-g,y:d+m},br:{x:u+y,y:d+v}}},render:function(f,l,u,d,h){switch(d=d||{},d.cornerStyle||h.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,f,l,u,d,h);break;default:s.controlsUtils.renderSquareControl.call(this,f,l,u,d,h)}}}}(e),function(){function a(u,d){var h=u.getAttribute("style"),g=u.getAttribute("offset")||0,m,v,y,w;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,h){var x=h.split(/\s*;\s*/);for(x[x.length-1]===""&&x.pop(),w=x.length;w--;){var S=x[w].split(/\s*:\s*/),C=S[0].trim(),E=S[1].trim();C==="stop-color"?m=E:C==="stop-opacity"&&(y=E)}}return m||(m=u.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=u.getAttribute("stop-opacity")),m=new t.Color(m),v=m.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=v*d,{offset:g,color:m.toRgb(),opacity:y}}function s(u){return{x1:u.getAttribute("x1")||0,y1:u.getAttribute("y1")||0,x2:u.getAttribute("x2")||"100%",y2:u.getAttribute("y2")||0}}function c(u){return{x1:u.getAttribute("fx")||u.getAttribute("cx")||"50%",y1:u.getAttribute("fy")||u.getAttribute("cy")||"50%",r1:0,x2:u.getAttribute("cx")||"50%",y2:u.getAttribute("cy")||"50%",r2:u.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(u){u||(u={}),u.coords||(u.coords={});var d,h=this;Object.keys(u).forEach(function(g){h[g]=u[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,d={x1:u.coords.x1||0,y1:u.coords.y1||0,x2:u.coords.x2||0,y2:u.coords.y2||0},this.type==="radial"&&(d.r1=u.coords.r1||0,d.r2=u.coords.r2||0),this.coords=d,this.colorStops=u.colorStops.slice()},addColorStop:function(u){for(var d in u){var h=new t.Color(u[d]);this.colorStops.push({offset:parseFloat(d),color:h.toRgb(),opacity:h.getAlpha()})}return this},toObject:function(u){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,d,u),d},toSVG:function(u,v){var h=f(this.coords,!0),g,m,v=v||{},y,w,x=f(this.colorStops,!0),S=h.r1>h.r2,C=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),E=-this.offsetX,k=-this.offsetY,L=!!v.additionalTransform,B=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(M,N){return M.offset-N.offset}),B==="objectBoundingBox"?(E/=u.width,k/=u.height):(E+=u.width/2,k+=u.height/2),u.type==="path"&&this.gradientUnits!=="percentage"&&(E-=u.pathOffset.x,k-=u.pathOffset.y),C[4]-=E,C[5]-=k,w='id="SVGID_'+this.id+'" gradientUnits="'+B+'"',w+=' gradientTransform="'+(L?v.additionalTransform+" ":"")+t.util.matrixToSVG(C)+'" ',this.type==="linear"?y=["<linearGradient ",w,' x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",w,' cx="',S?h.x1:h.x2,'" cy="',S?h.y1:h.y2,'" r="',S?h.r1:h.r2,'" fx="',S?h.x2:h.x1,'" fy="',S?h.y2:h.y1,`">
`]),this.type==="radial"){if(S)for(x=x.concat(),x.reverse(),g=0,m=x.length;g<m;g++)x[g].offset=1-x[g].offset;var G=Math.min(h.r1,h.r2);if(G>0){var z=Math.max(h.r1,h.r2),Q=G/z;for(g=0,m=x.length;g<m;g++)x[g].offset+=Q*(1-x[g].offset)}}for(g=0,m=x.length;g<m;g++){var I=x[g];y.push("<stop ",'offset="',I.offset*100+"%",'" style="stop-color:',I.color,typeof I.opacity<"u"?";stop-opacity: "+I.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(u){var d,h=t.util.object.clone(this.coords),g,m;if(this.type){for(this.type==="linear"?d=u.createLinearGradient(h.x1,h.y1,h.x2,h.y2):this.type==="radial"&&(d=u.createRadialGradient(h.x1,h.y1,h.r1,h.x2,h.y2,h.r2)),g=0,m=this.colorStops.length;g<m;g++){var v=this.colorStops[g].color,y=this.colorStops[g].opacity,w=this.colorStops[g].offset;typeof y<"u"&&(v=new t.Color(v).setAlpha(y).toRgba()),d.addColorStop(w,v)}return d}}}),t.util.object.extend(t.Gradient,{fromElement:function(u,d,h,g){var m=parseFloat(h)/(/%$/.test(h)?100:1);m=m<0?0:m>1?1:m,isNaN(m)&&(m=1);var v=u.getElementsByTagName("stop"),y,w=u.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=u.getAttribute("gradientTransform")||"",S=[],C,E,k=0,L=0,B;for(u.nodeName==="linearGradient"||u.nodeName==="LINEARGRADIENT"?(y="linear",C=s(u)):(y="radial",C=c(u)),E=v.length;E--;)S.push(a(v[E],m));B=t.parseTransformAttribute(x),l(d,C,g,w),w==="pixels"&&(k=-d.left,L=-d.top);var G=new t.Gradient({id:u.getAttribute("id"),type:y,coords:C,colorStops:S,gradientUnits:w,gradientTransform:B,offsetX:k,offsetY:L});return G}});function l(u,d,h,g){var m,v;Object.keys(d).forEach(function(y){m=d[y],m==="Infinity"?v=1:m==="-Infinity"?v=0:(v=parseFloat(d[y],10),typeof m=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(m)&&(v*=.01,g==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(v*=h.viewBoxWidth||h.width),(y==="y1"||y==="y2")&&(v*=h.viewBoxHeight||h.height)))),d[y]=v})}}(),function(){var a=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(s,c){if(s||(s={}),this.id=t.Object.__uid++,this.setOptions(s),!s.source||s.source&&typeof s.source!="string"){c&&c(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(s.source,function(l,u){f.source=l,c&&c(f,u)},null,this.crossOrigin)}},toObject:function(s){var c=t.Object.NUM_FRACTION_DIGITS,f,l;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),l={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:a(this.offsetX,c),offsetY:a(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,l,s),l},toSVG:function(s){var c=typeof this.source=="function"?this.source():this.source,f=c.width/s.width,l=c.height/s.height,u=this.offsetX/s.width,d=this.offsetY/s.height,h="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,d&&(l+=Math.abs(d))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,u&&(f+=Math.abs(u))),c.src?h=c.src:c.toDataURL&&(h=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+u+'" y="'+d+'" width="'+f+'" height="'+l+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+h+`"></image>
</pattern>
`},setOptions:function(s){for(var c in s)this[c]=s[c]},toLive:function(s){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":s.createPattern(c,this.repeat)}})}(),function(a){var s=a.fabric||(a.fabric={}),c=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var l in f)this[l]=f[l];this.id=s.Object.__uid++},_parseShadow:function(f){var l=f.trim(),u=s.Shadow.reOffsetsAndBlur.exec(l)||[],d=l.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:d.trim(),offsetX:parseFloat(u[1],10)||0,offsetY:parseFloat(u[2],10)||0,blur:parseFloat(u[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var l=40,u=40,d=s.Object.NUM_FRACTION_DIGITS,h=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-f.angle)),g=20,m=new s.Color(this.color);return f.width&&f.height&&(l=c((Math.abs(h.x)+this.blur)/f.width,d)*100+g,u=c((Math.abs(h.y)+this.blur)/f.height,d)*100+g),f.flipX&&(h.x*=-1),f.flipY&&(h.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+u+'%" height="'+(100+2*u)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,d)+`"></feGaussianBlur>
	<feOffset dx="`+c(h.x,d)+'" dy="'+c(h.y,d)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+m.toRgb()+'" flood-opacity="'+m.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},l=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(u){this[u]!==l[u]&&(f[u]=this[u])},this),f}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var a=t.util.object.extend,s=t.util.getElementOffset,c=t.util.removeFromArray,f=t.util.toFixed,l=t.util.transformPoint,u=t.util.invertTransform,d=t.util.getNodeCanvas,h=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(m,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(m,v){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(m),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,y),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,y),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,y),v.overlayColor&&this.setOverlayColor(v.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var m=t.devicePixelRatio;this.__initRetinaScaling(m,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(m,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(m,v,y){v.setAttribute("width",this.width*m),v.setAttribute("height",this.height*m),y.scale(m,m)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(m,v,y){return this.__setBgOverlayImage("overlayImage",m,v,y)},setBackgroundImage:function(m,v,y){return this.__setBgOverlayImage("backgroundImage",m,v,y)},setOverlayColor:function(m,v){return this.__setBgOverlayColor("overlayColor",m,v)},setBackgroundColor:function(m,v){return this.__setBgOverlayColor("backgroundColor",m,v)},__setBgOverlayImage:function(m,v,y,w){return typeof v=="string"?t.util.loadImage(v,function(x,S){if(x){var C=new t.Image(x,w);this[m]=C,C.canvas=this}y&&y(x,S)},this,w&&w.crossOrigin):(w&&v.setOptions(w),this[m]=v,v&&(v.canvas=this),y&&y(v,!1)),this},__setBgOverlayColor:function(m,v,y){return this[m]=v,this._initGradient(v,m),this._initPattern(v,m,y),this},_createCanvasElement:function(){var m=h();if(!m||(m.style||(m.style={}),typeof m.getContext>"u"))throw g;return m},_initOptions:function(m){var v=this.lowerCanvasEl;this._setOptions(m),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(m){m&&m.getContext?this.lowerCanvasEl=m:this.lowerCanvasEl=t.util.getById(m)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(m,v){return this.setDimensions({width:m},v)},setHeight:function(m,v){return this.setDimensions({height:m},v)},setDimensions:function(m,v){var y;v=v||{};for(var w in m)y=m[w],v.cssOnly||(this._setBackstoreDimension(w,m[w]),y+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(w,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(m,v){return this.lowerCanvasEl[m]=v,this.upperCanvasEl&&(this.upperCanvasEl[m]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[m]=v),this[m]=v,this},_setCssDimension:function(m,v){return this.lowerCanvasEl.style[m]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[m]=v),this.wrapperEl&&(this.wrapperEl.style[m]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(m){var v=this._activeObject,y=this.backgroundImage,w=this.overlayImage,x,S,C;for(this.viewportTransform=m,S=0,C=this._objects.length;S<C;S++)x=this._objects[S],x.group||x.setCoords(!0);return v&&v.setCoords(),y&&y.setCoords(!0),w&&w.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(m,v){var y=m,w=this.viewportTransform.slice(0);m=l(m,u(this.viewportTransform)),w[0]=v,w[3]=v;var x=l(m,w);return w[4]+=y.x-x.x,w[5]+=y.y-x.y,this.setViewportTransform(w)},setZoom:function(m){return this.zoomToPoint(new t.Point(0,0),m),this},absolutePan:function(m){var v=this.viewportTransform.slice(0);return v[4]=-m.x,v[5]=-m.y,this.setViewportTransform(v)},relativePan:function(m){return this.absolutePan(new t.Point(-m.x-this.viewportTransform[4],-m.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(m){this.stateful&&m.setupState(),m._set("canvas",this),m.setCoords(),this.fire("object:added",{target:m}),m.fire("added")},_onObjectRemoved:function(m){this.fire("object:removed",{target:m}),m.fire("removed"),delete m.canvas},clearContext:function(m){return m.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var m=this.contextContainer;return this.renderCanvas(m,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var m={},v=this.width,y=this.height,w=u(this.viewportTransform);return m.tl=l({x:0,y:0},w),m.br=l({x:v,y},w),m.tr=new t.Point(m.br.x,m.tl.y),m.bl=new t.Point(m.tl.x,m.br.y),this.vptCoords=m,m},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(m,v){var y=this.viewportTransform,w=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(m),t.util.setImageSmoothing(m,this.imageSmoothingEnabled),this.fire("before:render",{ctx:m}),this._renderBackground(m),m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(m,v),m.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),w&&(w.canvas=this,w.shouldCache(),w._transformDone=!0,w.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(m)),this._renderOverlay(m),this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),this.fire("after:render",{ctx:m})},drawClipPathOnCanvas:function(m){var v=this.viewportTransform,y=this.clipPath;m.save(),m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),m.globalCompositeOperation="destination-in",y.transform(m),m.scale(1/y.zoomX,1/y.zoomY),m.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),m.restore()},_renderObjects:function(m,v){var y,w;for(y=0,w=v.length;y<w;++y)v[y]&&v[y].render(m)},_renderBackgroundOrOverlay:function(m,v){var y=this[v+"Color"],w=this[v+"Image"],x=this.viewportTransform,S=this[v+"Vpt"];if(!(!y&&!w)){if(y){m.save(),m.beginPath(),m.moveTo(0,0),m.lineTo(this.width,0),m.lineTo(this.width,this.height),m.lineTo(0,this.height),m.closePath(),m.fillStyle=y.toLive?y.toLive(m,this):y,S&&m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),m.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var C=y.gradientTransform||y.patternTransform;C&&m.transform(C[0],C[1],C[2],C[3],C[4],C[5]),m.fill(),m.restore()}w&&(m.save(),S&&m.transform(x[0],x[1],x[2],x[3],x[4],x[5]),w.render(m),m.restore())}},_renderBackground:function(m){this._renderBackgroundOrOverlay(m,"background")},_renderOverlay:function(m){this._renderBackgroundOrOverlay(m,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(m){return this._centerObject(m,new t.Point(this.getCenterPoint().x,m.getCenterPoint().y))},centerObjectV:function(m){return this._centerObject(m,new t.Point(m.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(m){var v=this.getCenterPoint();return this._centerObject(m,v)},viewportCenterObject:function(m){var v=this.getVpCenter();return this._centerObject(m,v)},viewportCenterObjectH:function(m){var v=this.getVpCenter();return this._centerObject(m,new t.Point(v.x,m.getCenterPoint().y)),this},viewportCenterObjectV:function(m){var v=this.getVpCenter();return this._centerObject(m,new t.Point(m.getCenterPoint().x,v.y))},getVpCenter:function(){var m=this.getCenterPoint(),v=u(this.viewportTransform);return l(m,v)},_centerObject:function(m,v){return m.setPositionByOrigin(v,"center","center"),m.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(m){return this.toDatalessObject(m)},toObject:function(m){return this._toObjectMethod("toObject",m)},toDatalessObject:function(m){return this._toObjectMethod("toDatalessObject",m)},_toObjectMethod:function(m,v){var y=this.clipPath,w={version:t.version,objects:this._toObjects(m,v)};return y&&!y.excludeFromExport&&(w.clipPath=this._toObject(this.clipPath,m,v)),a(w,this.__serializeBgOverlay(m,v)),t.util.populateWithProperties(this,w,v),w},_toObjects:function(m,v){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,m,v)},this)},_toObject:function(m,v,y){var w;this.includeDefaultValues||(w=m.includeDefaultValues,m.includeDefaultValues=!1);var x=m[v](y);return this.includeDefaultValues||(m.includeDefaultValues=w),x},__serializeBgOverlay:function(m,v){var y={},w=this.backgroundImage,x=this.overlayImage,S=this.backgroundColor,C=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(y.background=S.toObject(v)):S&&(y.background=S),C&&C.toObject?C.excludeFromExport||(y.overlay=C.toObject(v)):C&&(y.overlay=C),w&&!w.excludeFromExport&&(y.backgroundImage=this._toObject(w,m,v)),x&&!x.excludeFromExport&&(y.overlayImage=this._toObject(x,m,v)),y},svgViewportTransformation:!0,toSVG:function(m,v){m||(m={}),m.reviver=v;var y=[];return this._setSVGPreamble(y,m),this._setSVGHeader(y,m),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",v),this._setSVGObjects(y,v),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",v),y.push("</svg>"),y.join("")},_setSVGPreamble:function(m,v){v.suppressPreamble||m.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(m,v){var y=v.width||this.width,w=v.height||this.height,x,S='viewBox="0 0 '+this.width+" "+this.height+'" ',C=t.Object.NUM_FRACTION_DIGITS;v.viewBox?S='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,S='viewBox="'+f(-x[4]/x[0],C)+" "+f(-x[5]/x[3],C)+" "+f(this.width/x[0],C)+" "+f(this.height/x[3],C)+'" '),m.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',w,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(m){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(m.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var m=this,v=["background","overlay"].map(function(y){var w=m[y+"Color"];if(w&&w.toLive){var x=m[y+"Vpt"],S=m.viewportTransform,C={width:m.width/(x?S[0]:1),height:m.height/(x?S[3]:1)};return w.toSVG(C,{additionalTransform:x?t.util.matrixToSVG(S):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var m="",v={},y,w,x,S,C,E,k,L,B,G=t.fontPaths,z=[];for(this._objects.forEach(function I(M){z.push(M),M._objects&&M._objects.forEach(I)}),L=0,B=z.length;L<B;L++)if(y=z[L],w=y.fontFamily,!(y.type.indexOf("text")===-1||v[w]||!G[w])&&(v[w]=!0,!!y.styles)){x=y.styles;for(C in x){S=x[C];for(k in S)E=S[k],w=E.fontFamily,!v[w]&&G[w]&&(v[w]=!0)}}for(var Q in v)m+=[`		@font-face {
`,"			font-family: '",Q,`';
`,"			src: url('",G[Q],`');
`,`		}
`].join("");return m&&(m=['	<style type="text/css">',`<![CDATA[
`,m,"]]>",`</style>
`].join("")),m},_setSVGObjects:function(m,v){var y,w,x,S=this._objects;for(w=0,x=S.length;w<x;w++)y=S[w],!y.excludeFromExport&&this._setSVGObject(m,y,v)},_setSVGObject:function(m,v,y){m.push(v.toSVG(y))},_setSVGBgOverlayImage:function(m,v,y){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&m.push(this[v].toSVG(y))},_setSVGBgOverlayColor:function(m,v){var y=this[v+"Color"],w=this.viewportTransform,x=this.width,S=this.height;if(y)if(y.toLive){var C=y.repeat,E=t.util.invertTransform(w),k=this[v+"Vpt"],L=k?t.util.matrixToSVG(E):"";m.push('<rect transform="'+L+" translate(",x/2,",",S/2,')"',' x="',y.offsetX-x/2,'" y="',y.offsetY-S/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?y.source.width:x,'" height="',C==="repeat-x"||C==="no-repeat"?y.source.height:S,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else m.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(m){if(!m)return this;var v=this._activeObject,y,w,x;if(m===v&&m.type==="activeSelection")for(x=v._objects,y=x.length;y--;)w=x[y],c(this._objects,w),this._objects.unshift(w);else c(this._objects,m),this._objects.unshift(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(m){if(!m)return this;var v=this._activeObject,y,w,x;if(m===v&&m.type==="activeSelection")for(x=v._objects,y=0;y<x.length;y++)w=x[y],c(this._objects,w),this._objects.push(w);else c(this._objects,m),this._objects.push(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(m,v){if(!m)return this;var y=this._activeObject,w,x,S,C,E,k=0;if(m===y&&m.type==="activeSelection")for(E=y._objects,w=0;w<E.length;w++)x=E[w],S=this._objects.indexOf(x),S>0+k&&(C=S-1,c(this._objects,x),this._objects.splice(C,0,x)),k++;else S=this._objects.indexOf(m),S!==0&&(C=this._findNewLowerIndex(m,S,v),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(m,v,y){var w,x;if(y)for(w=v,x=v-1;x>=0;--x){var S=m.intersectsWithObject(this._objects[x])||m.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(m);if(S){w=x;break}}else w=v-1;return w},bringForward:function(m,v){if(!m)return this;var y=this._activeObject,w,x,S,C,E,k=0;if(m===y&&m.type==="activeSelection")for(E=y._objects,w=E.length;w--;)x=E[w],S=this._objects.indexOf(x),S<this._objects.length-1-k&&(C=S+1,c(this._objects,x),this._objects.splice(C,0,x)),k++;else S=this._objects.indexOf(m),S!==this._objects.length-1&&(C=this._findNewUpperIndex(m,S,v),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(m,v,y){var w,x,S;if(y)for(w=v,x=v+1,S=this._objects.length;x<S;++x){var C=m.intersectsWithObject(this._objects[x])||m.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(m);if(C){w=x;break}}else w=v+1;return w},moveTo:function(m,v){return c(this._objects,m),this._objects.splice(v,0,m),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),a(t.StaticCanvas.prototype,t.Observable),a(t.StaticCanvas.prototype,t.Collection),a(t.StaticCanvas.prototype,t.DataURLExporter),a(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(m){var v=h();if(!v||!v.getContext)return null;var y=v.getContext("2d");if(!y)return null;switch(m){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var m=d(this.lowerCanvasEl);return m&&m.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(m){var v=d(this.lowerCanvasEl);return v&&v.createJPEGStream(m)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(a){a.strokeStyle=this.color,a.lineWidth=this.width,a.lineCap=this.strokeLineCap,a.miterLimit=this.strokeMiterLimit,a.lineJoin=this.strokeLineJoin,a.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(a){var s=this.canvas.viewportTransform;a.save(),a.transform(s[0],s[1],s[2],s[3],s[4],s[5])},_setShadow:function(){if(this.shadow){var a=this.canvas,s=this.shadow,c=a.contextTop,f=a.getZoom();a&&a._isRetinaScaling()&&(f*=t.devicePixelRatio),c.shadowColor=s.color,c.shadowBlur=s.blur*f,c.shadowOffsetX=s.offsetX*f,c.shadowOffsetY=s.offsetY*f}},needsFullRender:function(){var a=new t.Color(this.color);return a.getAlpha()<1||!!this.shadow},_resetShadow:function(){var a=this.canvas.contextTop;a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_isOutSideCanvas:function(a){return a.x<0||a.x>this.canvas.getWidth()||a.y<0||a.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(a){this.canvas=a,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(a,s,c){var f=s.midPointFrom(c);return a.quadraticCurveTo(s.x,s.y,f.x,f.y),f},onMouseDown:function(a,s){this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],this._prepareForDrawing(a),this._captureDrawingPath(a),this._render())},onMouseMove:function(a,s){if(this.canvas._isMainEvent(s.e)&&(this.drawStraightLine=s.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a))&&this._captureDrawingPath(a)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,c[f-2],c[f-1],!0),l.stroke(),l.restore()}},onMouseUp:function(a){return this.canvas._isMainEvent(a.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(a){var s=new t.Point(a.x,a.y);this._reset(),this._addPoint(s),this.canvas.contextTop.moveTo(s.x,s.y)},_addPoint:function(a){return this._points.length>1&&a.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(a),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(a){var s=new t.Point(a.x,a.y);return this._addPoint(s)},_render:function(a){var s,c,f=this._points[0],l=this._points[1];if(a=a||this.canvas.contextTop,this._saveAndTransform(a),a.beginPath(),this._points.length===2&&f.x===l.x&&f.y===l.y){var u=this.width/1e3;f=new t.Point(f.x,f.y),l=new t.Point(l.x,l.y),f.x-=u,l.x+=u}for(a.moveTo(f.x,f.y),s=1,c=this._points.length;s<c;s++)this._drawSegment(a,f,l),f=this._points[s],l=this._points[s+1];a.lineTo(f.x,f.y),a.stroke(),a.restore()},convertPointsToSVGPath:function(a){var s=this.width/1e3;return t.util.getSmoothPathFromPoints(a,s)},_isEmptySVGPath:function(a){var s=t.util.joinPath(a);return s==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(a){var s=new t.Path(a,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,s.shadow=new t.Shadow(this.shadow)),s},decimatePoints:function(a,s){if(a.length<=2)return a;var c=this.canvas.getZoom(),f=Math.pow(s/c,2),l,u=a.length-1,d=a[0],h=[d],g;for(l=1;l<u-1;l++)g=Math.pow(d.x-a[l].x,2)+Math.pow(d.y-a[l].y,2),g>=f&&(d=a[l],h.push(d));return h.push(a[u]),h},_finalizeAndAddPath:function(){var a=this.canvas.contextTop;a.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var s=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(s)){this.canvas.requestRenderAll();return}var c=this.createPath(s);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(a){this.canvas=a,this.points=[]},drawDot:function(a){var s=this.addPoint(a),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,s),c.restore()},dot:function(a,s){a.fillStyle=s.fill,a.beginPath(),a.arc(s.x,s.y,s.radius,0,Math.PI*2,!1),a.closePath(),a.fill()},onMouseDown:function(a){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(a)},_render:function(){var a=this.canvas.contextTop,s,c,f=this.points;for(this._saveAndTransform(a),s=0,c=f.length;s<c;s++)this.dot(a,f[s]);a.restore()},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(a),this._render()):this.drawDot(a))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove,s,c;this.canvas.renderOnAddRemove=!1;var f=[];for(s=0,c=this.points.length;s<c;s++){var l=this.points[s],u=new t.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(u.shadow=new t.Shadow(this.shadow)),f.push(u)}var d=new t.Group(f);d.canvas=this.canvas,this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function(a){var s=new t.Point(a.x,a.y),c=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return s.radius=c,s.fill=f,this.points.push(s),s}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(a){this.canvas=a,this.sprayChunks=[]},onMouseDown:function(a){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(a),this.render(this.sprayChunkPoints)},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.addSprayChunk(a),this.render(this.sprayChunkPoints))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var s=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var l=this.sprayChunks[c],u=0,d=l.length;u<d;u++){var h=new t.Rect({width:l[u].width,height:l[u].width,left:l[u].x+1,top:l[u].y+1,originX:"center",originY:"center",fill:this.color});s.push(h)}this.optimizeOverlapping&&(s=this._getOptimizedRects(s));var g=new t.Group(s);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},_getOptimizedRects:function(a){var s={},c,f,l;for(f=0,l=a.length;f<l;f++)c=a[f].left+""+a[f].top,s[c]||(s[c]=a[f]);var u=[];for(c in s)u.push(s[c]);return u},render:function(a){var s=this.canvas.contextTop,c,f;for(s.fillStyle=this.color,this._saveAndTransform(s),c=0,f=a.length;c<f;c++){var l=a[c];typeof l.opacity<"u"&&(s.globalAlpha=l.opacity),s.fillRect(l.x,l.y,l.width,l.width)}s.restore()},_render:function(){var a=this.canvas.contextTop,s,c;for(a.fillStyle=this.color,this._saveAndTransform(a),s=0,c=this.sprayChunks.length;s<c;s++)this.render(this.sprayChunks[s]);a.restore()},addSprayChunk:function(a){this.sprayChunkPoints=[];var s,c,f,l=this.width/2,u;for(u=0;u<this.density;u++){s=t.util.getRandomInt(a.x-l,a.x+l),c=t.util.getRandomInt(a.y-l,a.y+l),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var d=new t.Point(s,c);d.width=f,this.randomOpacity&&(d.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(d)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var a=20,s=5,c=t.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=a+s,f.fillStyle=this.color,f.beginPath(),f.arc(a/2,a/2,a/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(a){return a.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(a){this.callSuper("_setBrushStyles",a),a.strokeStyle=this.getPattern(a)},createPath:function(a){var s=this.callSuper("createPath",a),c=s._getLeftTopCoords().scalarAdd(s.strokeWidth/2);return s.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),s}}),function(){var a=t.util.getPointer,s=t.util.degreesToRadians,c=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(l,u){u||(u={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,u),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),u,d,h;if(l.length>0&&!this.preserveObjectStacking){d=[],h=[];for(var g=0,m=this._objects.length;g<m;g++)u=this._objects[g],l.indexOf(u)===-1?d.push(u):h.push(u);l.length>1&&(this._activeObject._objects=h),d.push.apply(d,h)}else d=this._objects;return d},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,u){var d=l.calcTransformMatrix(),h=t.util.invertTransform(d),g=this.restorePointerVpt(u);return t.util.transformPoint(g,h)},isTargetTransparent:function(l,u,d){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var h=this._normalizePointer(l,{x:u,y:d}),g=Math.max(l.cacheTranslationX+h.x*l.zoomX,0),m=Math.max(l.cacheTranslationY+h.y*l.zoomY,0),x=t.util.isTransparent(l._cacheContext,Math.round(g),Math.round(m),this.targetFindTolerance);return x}var v=this.contextCache,y=l.selectionBackgroundColor,w=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(w[0],w[1],w[2],w[3],w[4],w[5]),l.render(v),v.restore(),l.selectionBackgroundColor=y;var x=t.util.isTransparent(v,u,d,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(l){var u=!1;return Array.isArray(this.selectionKey)?u=!!this.selectionKey.find(function(d){return l[d]===!0}):u=l[this.selectionKey],u},_shouldClearSelection:function(l,u){var d=this.getActiveObjects(),h=this._activeObject;return!u||u&&h&&d.length>1&&d.indexOf(u)===-1&&h!==u&&!this._isSelectionKeyPressed(l)||u&&!u.evented||u&&!u.selectable&&h&&h!==u},_shouldCenterTransform:function(l,u,d){if(l){var h;return u==="scale"||u==="scaleX"||u==="scaleY"||u==="resizing"?h=this.centeredScaling||l.centeredScaling:u==="rotate"&&(h=this.centeredRotation||l.centeredRotation),h?!d:d}},_getOriginFromCorner:function(l,u){var d={x:l.originX,y:l.originY};return u==="ml"||u==="tl"||u==="bl"?d.x="right":(u==="mr"||u==="tr"||u==="br")&&(d.x="left"),u==="tl"||u==="mt"||u==="tr"?d.y="bottom":(u==="bl"||u==="mb"||u==="br")&&(d.y="top"),d},_getActionFromCorner:function(l,u,d,h){if(!u||!l)return"drag";var g=h.controls[u];return g.getActionName(d,g,h)},_setupCurrentTransform:function(l,u,d){if(u){var h=this.getPointer(l),g=u.__corner,m=u.controls[g],v=d&&g?m.getActionHandler(l,u,m):t.controlsUtils.dragHandler,y=this._getActionFromCorner(d,g,l,u),w=this._getOriginFromCorner(u,g),x=l[this.centeredKey],S={target:u,action:y,actionHandler:v,corner:g,scaleX:u.scaleX,scaleY:u.scaleY,skewX:u.skewX,skewY:u.skewY,offsetX:h.x-u.left,offsetY:h.y-u.top,originX:w.x,originY:w.y,ex:h.x,ey:h.y,lastX:h.x,lastY:h.y,theta:s(u.angle),width:u.width*u.scaleX,shiftKey:l.shiftKey,altKey:x,original:t.util.saveObjectTransform(u)};this._shouldCenterTransform(u,y,x)&&(S.originX="center",S.originY="center"),S.original.originX=w.x,S.original.originY=w.y,this._currentTransform=S,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var u=this._groupSelector,d=new t.Point(u.ex,u.ey),h=t.util.transformPoint(d,this.viewportTransform),g=new t.Point(u.ex+u.left,u.ey+u.top),m=t.util.transformPoint(g,this.viewportTransform),v=Math.min(h.x,m.x),y=Math.min(h.y,m.y),w=Math.max(h.x,m.x),x=Math.max(h.y,m.y),S=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(v,y,w-v,x-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,v+=S,y+=S,w-=S,x-=S,t.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(v,y,w-v,x-y))},findTarget:function(l,u){if(!this.skipTargetFind){var d=!0,h=this.getPointer(l,d),g=this._activeObject,m=this.getActiveObjects(),v,y,w=c(l),x=m.length>1&&!u||m.length===1;if(this.targets=[],x&&g._findTargetCorner(h,w)||m.length>1&&!u&&g===this._searchPossibleTargets([g],h))return g;if(m.length===1&&g===this._searchPossibleTargets([g],h))if(this.preserveObjectStacking)v=g,y=this.targets,this.targets=[];else return g;var S=this._searchPossibleTargets(this._objects,h);return l[this.altSelectionKey]&&S&&v&&S!==v&&(S=v,this.targets=y),S}},_checkTarget:function(l,u,d){if(u&&u.visible&&u.evented&&u.containsPoint(l))if((this.perPixelTargetFind||u.perPixelTargetFind)&&!u.isEditing){var h=this.isTargetTransparent(u,d.x,d.y);if(!h)return!0}else return!0},_searchPossibleTargets:function(l,u){for(var d,h=l.length,g;h--;){var m=l[h],v=m.group?this._normalizePointer(m.group,u):u;if(this._checkTarget(v,m,u)){d=l[h],d.subTargetCheck&&d instanceof t.Group&&(g=this._searchPossibleTargets(d._objects,u),g&&this.targets.push(g));break}}return d},restorePointerVpt:function(l){return t.util.transformPoint(l,t.util.invertTransform(this.viewportTransform))},getPointer:function(l,u){if(this._absolutePointer&&!u)return this._absolutePointer;if(this._pointer&&u)return this._pointer;var d=a(l),h=this.upperCanvasEl,g=h.getBoundingClientRect(),m=g.width||0,v=g.height||0,y;(!m||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(m=Math.abs(g.right-g.left))),this.calcOffset(),d.x=d.x-this._offset.left,d.y=d.y-this._offset.top,u||(d=this.restorePointerVpt(d));var w=this.getRetinaScaling();return w!==1&&(d.x/=w,d.y/=w),m===0||v===0?y={width:1,height:1}:y={width:h.width/m,height:h.height/v},{x:d.x*y.width,y:d.y*y.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),u=this.lowerCanvasEl,d=this.upperCanvasEl;d?d.className="":(d=this._createCanvasElement(),this.upperCanvasEl=d),t.util.addClass(d,"upper-canvas "+l),this.wrapperEl.appendChild(d),this._copyCanvasStyle(u,d),this._applyCanvasStyle(d),this.contextTop=d.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var u=this.width||l.width,d=this.height||l.height;t.util.setStyle(l,{position:"absolute",width:u+"px",height:d+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=u,l.height=d,t.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,u){u.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,u){var d=!1,h=this.getActiveObjects(),g=[],m=[];l.forEach(function(v){h.indexOf(v)===-1&&(d=!0,v.fire("deselected",{e:u,target:v}),m.push(v))}),h.forEach(function(v){l.indexOf(v)===-1&&(d=!0,v.fire("selected",{e:u,target:v}),g.push(v))}),l.length>0&&h.length>0?d&&this.fire("selection:updated",{e:u,selected:g,deselected:m}):h.length>0?this.fire("selection:created",{e:u,selected:g}):l.length>0&&this.fire("selection:cleared",{e:u,deselected:m})},setActiveObject:function(l,u){var d=this.getActiveObjects();return this._setActiveObject(l,u),this._fireSelectionEvents(d,u),this},_setActiveObject:function(l,u){return this._activeObject===l||!this._discardActiveObject(u,l)||l.onSelect({e:u})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,u){var d=this._activeObject;if(d){if(d.onDeselect({e:l,object:u}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var u=this.getActiveObjects(),d=this.getActiveObject();return u.length&&this.fire("before:selection:cleared",{target:d,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(u,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var u=this._activeObject;u&&u._renderControls(l)},_toObject:function(l,u,d){var h=this._realizeGroupTransformOnObject(l),g=this.callSuper("_toObject",l,u,d);return this._unwindGroupTransformOnObject(l,h),g},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var u=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],d={};return u.forEach(function(h){d[h]=l[h]}),t.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),d}else return null},_unwindGroupTransformOnObject:function(l,u){u&&l.set(u)},_setSVGObject:function(l,u,d){var h=this._realizeGroupTransformOnObject(u);this.callSuper("_setSVGObject",l,u,d),this._unwindGroupTransformOnObject(u,h)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var a=t.util.addListener,s=t.util.removeListener,c=3,f=2,l=1,u={passive:!1};function d(h,g){return h.button&&h.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(a,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(h,g){var m=this.upperCanvasEl,v=this._getEventPrefix();h(t.window,"resize",this._onResize),h(m,v+"down",this._onMouseDown),h(m,v+"move",this._onMouseMove,u),h(m,v+"out",this._onMouseOut),h(m,v+"enter",this._onMouseEnter),h(m,"wheel",this._onMouseWheel),h(m,"contextmenu",this._onContextMenu),h(m,"dblclick",this._onDoubleClick),h(m,"dragover",this._onDragOver),h(m,"dragenter",this._onDragEnter),h(m,"dragleave",this._onDragLeave),h(m,"drop",this._onDrop),this.enablePointerEvents||h(m,"touchstart",this._onTouchStart,u),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](m,"gesture",this._onGesture),eventjs[g](m,"drag",this._onDrag),eventjs[g](m,"orientation",this._onOrientationChange),eventjs[g](m,"shake",this._onShake),eventjs[g](m,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var h=this._getEventPrefix();s(t.document,h+"up",this._onMouseUp),s(t.document,"touchend",this._onTouchEnd,u),s(t.document,h+"move",this._onMouseMove,u),s(t.document,"touchmove",this._onMouseMove,u)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(h,g){this.__onTransformGesture&&this.__onTransformGesture(h,g)},_onDrag:function(h,g){this.__onDrag&&this.__onDrag(h,g)},_onMouseWheel:function(h){this.__onMouseWheel(h)},_onMouseOut:function(h){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:h}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:h});var m=this;this._hoveredTargets.forEach(function(v){m.fire("mouse:out",{target:g,e:h}),v&&g.fire("mouseout",{e:h})}),this._hoveredTargets=[]},_onMouseEnter:function(h){!this._currentTransform&&!this.findTarget(h)&&(this.fire("mouse:over",{target:null,e:h}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(h,g){this.__onOrientationChange&&this.__onOrientationChange(h,g)},_onShake:function(h,g){this.__onShake&&this.__onShake(h,g)},_onLongPress:function(h,g){this.__onLongPress&&this.__onLongPress(h,g)},_onDragOver:function(h){h.preventDefault();var g=this._simpleEventHandler("dragover",h);this._fireEnterLeaveEvents(g,h)},_onDrop:function(h){return this._simpleEventHandler("drop:before",h),this._simpleEventHandler("drop",h)},_onContextMenu:function(h){return this.stopContextMenu&&(h.stopPropagation(),h.preventDefault()),!1},_onDoubleClick:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"dblclick"),this._resetTransformEventData(h)},getPointerId:function(h){var g=h.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?h.pointerId:-1},_isMainEvent:function(h){return h.isPrimary===!0?!0:h.isPrimary===!1?!1:h.type==="touchend"&&h.touches.length===0?!0:h.changedTouches?h.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(h){h.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(h)),this.__onMouseDown(h),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,u),a(t.document,"touchmove",this._onMouseMove,u),s(g,m+"down",this._onMouseDown)},_onMouseDown:function(h){this.__onMouseDown(h),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();s(g,m+"move",this._onMouseMove,u),a(t.document,m+"up",this._onMouseUp),a(t.document,m+"move",this._onMouseMove,u)},_onTouchEnd:function(h){if(!(h.touches.length>0)){this.__onMouseUp(h),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();s(t.document,"touchend",this._onTouchEnd,u),s(t.document,"touchmove",this._onMouseMove,u);var m=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){a(m.upperCanvasEl,g+"down",m._onMouseDown),m._willAddMouseDown=0},400)}},_onMouseUp:function(h){this.__onMouseUp(h),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();this._isMainEvent(h)&&(s(t.document,m+"up",this._onMouseUp),s(t.document,m+"move",this._onMouseMove,u),a(g,m+"move",this._onMouseMove,u))},_onMouseMove:function(h){!this.allowTouchScrolling&&h.preventDefault&&h.preventDefault(),this.__onMouseMove(h)},_onResize:function(){this.calcOffset()},_shouldRender:function(h){var g=this._activeObject;return!!g!=!!h||g&&h&&g!==h?!0:(g&&g.isEditing,!1)},__onMouseUp:function(h){var g,m=this._currentTransform,v=this._groupSelector,y=!1,w=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(h),g=this._target,this._handleEvent(h,"up:before"),d(h,c)){this.fireRightClick&&this._handleEvent(h,"up",c,w);return}if(d(h,f)){this.fireMiddleClick&&this._handleEvent(h,"up",f,w),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(h);return}if(this._isMainEvent(h)){if(m&&(this._finalizeCurrentTransform(h),y=m.actionPerformed),!w){var x=g===this._activeObject;this._maybeGroupObjects(h),y||(y=this._shouldRender(g)||!x&&g===this._activeObject)}var S,C;if(g){if(S=g._findTargetCorner(this.getPointer(h,!0),t.util.isTouchEvent(h)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,h),y=!0;else{var E=g.controls[S],k=E&&E.getMouseUpHandler(h,g,E);k&&(C=this.getPointer(h),k(h,m,C.x,C.y))}g.isMoving=!1}if(m&&(m.target!==g||m.corner!==S)){var L=m.target&&m.target.controls[m.corner],B=L&&L.getMouseUpHandler(h,g,E);C=C||this.getPointer(h),B&&B(h,m,C.x,C.y)}this._setCursorFromEvent(h,g),this._handleEvent(h,"up",l,w),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),y?this.requestRenderAll():w||this.renderTop()}},_simpleEventHandler:function(h,g){var m=this.findTarget(g),v=this.targets,y={e:g,target:m,subTargets:v};if(this.fire(h,y),m&&m.fire(h,y),!v)return m;for(var w=0;w<v.length;w++)v[w].fire(h,y);return m},_handleEvent:function(h,g,m,v){var y=this._target,w=this.targets||[],x={e:h,target:y,subTargets:w,button:m||l,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(x.currentTarget=this.findTarget(h),x.currentSubTargets=this.targets),this.fire("mouse:"+g,x),y&&y.fire("mouse"+g,x);for(var S=0;S<w.length;S++)w[S].fire("mouse"+g,x)},_finalizeCurrentTransform:function(h){var g=this._currentTransform,m=g.target,v={e:h,target:m,transform:g,action:g.action};m._scaling&&(m._scaling=!1),m.setCoords(),(g.actionPerformed||this.stateful&&m.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(h){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(h).requestRenderAll();var g=this.getPointer(h);this.freeDrawingBrush.onMouseDown(g,{e:h,pointer:g}),this._handleEvent(h,"down")},_onMouseMoveInDrawingMode:function(h){if(this._isCurrentlyDrawing){var g=this.getPointer(h);this.freeDrawingBrush.onMouseMove(g,{e:h,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(h,"move")},_onMouseUpInDrawingMode:function(h){var g=this.getPointer(h);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:h,pointer:g}),this._handleEvent(h,"up")},__onMouseDown:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"down:before");var g=this._target;if(d(h,c)){this.fireRightClick&&this._handleEvent(h,"down",c);return}if(d(h,f)){this.fireMiddleClick&&this._handleEvent(h,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(h);return}if(this._isMainEvent(h)&&!this._currentTransform){var m=this._pointer;this._previousPointer=m;var v=this._shouldRender(g),y=this._shouldGroup(h,g);if(this._shouldClearSelection(h,g)?this.discardActiveObject(h):y&&(this._handleGrouping(h,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var w=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,h);var x=g._findTargetCorner(this.getPointer(h,!0),t.util.isTouchEvent(h));if(g.__corner=x,g===this._activeObject&&(x||!y)){this._setupCurrentTransform(h,g,w);var S=g.controls[x],m=this.getPointer(h),C=S&&S.getMouseDownHandler(h,g,S);C&&C(h,this._currentTransform,m.x,m.y)}}this._handleEvent(h,"down"),(v||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(h){this._resetTransformEventData(),this._pointer=this.getPointer(h,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(h)||null},_beforeTransform:function(h){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:h,transform:g})},__onMouseMove:function(h){this._handleEvent(h,"move:before"),this._cacheTransformEventData(h);var g,m;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(h);return}if(this._isMainEvent(h)){var v=this._groupSelector;v?(m=this._absolutePointer,v.left=m.x-v.ex,v.top=m.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(h):(g=this.findTarget(h)||null,this._setCursorFromEvent(h,g),this._fireOverOutEvents(g,h)),this._handleEvent(h,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(h,g){var m=this._hoveredTarget,v=this._hoveredTargets,y=this.targets,w=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(h,g,{oldTarget:m,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<w;x++)this.fireSyntheticInOutEvents(y[x],g,{oldTarget:v[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=h,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(h,g){var m=this._draggedoverTarget,v=this._hoveredTargets,y=this.targets,w=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(h,g,{oldTarget:m,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<w;x++)this.fireSyntheticInOutEvents(y[x],g,{oldTarget:v[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=h},fireSyntheticInOutEvents:function(h,g,m){var v,y,w=m.oldTarget,x,S,C=w!==h,E=m.canvasEvtIn,k=m.canvasEvtOut;C&&(v={e:g,target:h,previousTarget:w},y={e:g,target:w,nextTarget:h}),S=h&&C,x=w&&C,x&&(k&&this.fire(k,y),w.fire(m.evtOut,y)),S&&(E&&this.fire(E,v),h.fire(m.evtIn,v))},__onMouseWheel:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"wheel"),this._resetTransformEventData()},_transformObject:function(h){var g=this.getPointer(h),m=this._currentTransform;m.reset=!1,m.shiftKey=h.shiftKey,m.altKey=h[this.centeredKey],this._performTransformAction(h,m,g),m.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(h,g,m){var v=m.x,y=m.y,w=g.action,x=!1,S=g.actionHandler;S&&(x=S(h,g,v,y)),w==="drag"&&x&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||x},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(h,g){if(!g)return this.setCursor(this.defaultCursor),!1;var m=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(h,!0));y?this.setCursor(this.getCornerCursor(y,g,h)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(w){m=w.hoverCursor||m}),this.setCursor(m))},getCornerCursor:function(h,g,m){var v=g.controls[h];return v.cursorStyleHandler(m,v,g)}})}(),function(){var a=Math.min,s=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(c,f){var l=this._activeObject;return l&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(l!==f||l.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var l=this._activeObject;l.__corner||f===l&&(f=this.findTarget(c,!0),!f||!f.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var l=this._activeObject,u=l._objects.slice(0);l.contains(c)?(l.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),f)):(l.addWithUpdate(c),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(u,f)},_createActiveSelection:function(c,f){var l=this.getActiveObjects(),u=this._createGroup(c);this._hoveredTarget=u,this._setActiveObject(u,f),this._fireSelectionEvents(l,f)},_createGroup:function(c){var f=this._objects,l=f.indexOf(this._activeObject)<f.indexOf(c),u=l?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(u,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),l;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(l=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(l,c))},_collectObjects:function(c){for(var f=[],l,u=this._groupSelector.ex,d=this._groupSelector.ey,h=u+this._groupSelector.left,g=d+this._groupSelector.top,m=new t.Point(a(u,h),a(d,g)),v=new t.Point(s(u,h),s(d,g)),y=!this.selectionFullyContained,w=u===h&&d===g,x=this._objects.length;x--&&(l=this._objects[x],!(!(!l||!l.selectable||!l.visible)&&(y&&l.intersectsWithRect(m,v,!0)||l.isContainedWithinRect(m,v,!0)||y&&l.containsPoint(m,null,!0)||y&&l.containsPoint(v,null,!0))&&(f.push(l),w))););return f.length>1&&(f=f.filter(function(S){return!S.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(a){a||(a={});var s=a.format||"png",c=a.quality||1,f=(a.multiplier||1)*(a.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(f,a);return t.util.toDataURL(l,s,c)},toCanvasElement:function(a,s){a=a||1,s=s||{};var c=(s.width||this.width)*a,f=(s.height||this.height)*a,l=this.getZoom(),u=this.width,d=this.height,h=l*a,g=this.viewportTransform,m=(g[4]-(s.left||0))*a,v=(g[5]-(s.top||0))*a,y=this.interactive,w=[h,0,0,h,m,v],x=this.enableRetinaScaling,S=t.util.createCanvasElement(),C=this.contextTop;return S.width=c,S.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=w,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=g,this.width=u,this.height=d,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=x,this.contextTop=C,S}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(a,s,c){if(a){var f=typeof a=="string"?JSON.parse(a):t.util.object.clone(a),l=this,u=f.clipPath,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(h){l.clear(),l._setBgOverlay(f,function(){u?l._enlivenObjects([u],function(g){l.clipPath=g[0],l.__setupCanvas.call(l,f,h,d,s)}):l.__setupCanvas.call(l,f,h,d,s)})},c),this}},__setupCanvas:function(a,s,c,f){var l=this;s.forEach(function(u,d){l.insertAt(u,d)}),this.renderOnAddRemove=c,delete a.objects,delete a.backgroundImage,delete a.overlayImage,delete a.background,delete a.overlay,this._setOptions(a),this.renderAll(),f&&f()},_setBgOverlay:function(a,s){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!a.backgroundImage&&!a.overlayImage&&!a.background&&!a.overlay){s&&s();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&s&&s()};this.__setBgOverlay("backgroundImage",a.backgroundImage,c,f),this.__setBgOverlay("overlayImage",a.overlayImage,c,f),this.__setBgOverlay("backgroundColor",a.background,c,f),this.__setBgOverlay("overlayColor",a.overlay,c,f)},__setBgOverlay:function(a,s,c,f){var l=this;if(!s){c[a]=!0,f&&f();return}a==="backgroundImage"||a==="overlayImage"?t.util.enlivenObjects([s],function(u){l[a]=u[0],c[a]=!0,f&&f()}):this["set"+t.util.string.capitalize(a,!0)](s,function(){c[a]=!0,f&&f()})},_enlivenObjects:function(a,s,c){if(!a||a.length===0){s&&s([]);return}t.util.enlivenObjects(a,function(f){s&&s(f)},null,c)},_toDataURL:function(a,s){this.clone(function(c){s(c.toDataURL(a))})},_toDataURLWithMultiplier:function(a,s,c){this.clone(function(f){c(f.toDataURLWithMultiplier(a,s))})},clone:function(a,s){var c=JSON.stringify(this.toJSON(s));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){a&&a(f)})})},cloneWithoutData:function(a){var s=t.util.createCanvasElement();s.width=this.width,s.height=this.height;var c=new t.Canvas(s);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),a&&a(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):a&&a(c)}}),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l=s.util.toFixed,u=s.util.string.capitalize,d=s.util.degreesToRadians,h=!s.isLikelyNode,g=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:h,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(m){m&&this.setOptions(m)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(m){var v=s.perfLimitSizeTotal,y=m.width,w=m.height,x=s.maxCacheSideLimit,S=s.minCacheSideLimit;if(y<=x&&w<=x&&y*w<=v)return y<S&&(m.width=S),w<S&&(m.height=S),m;var C=y/w,E=s.util.limitDimsByArea(C,v),k=s.util.capValue,L=k(S,E.x,x),B=k(S,E.y,x);return y>L&&(m.zoomX/=y/L,m.width=L,m.capped=!0),w>B&&(m.zoomY/=w/B,m.height=B,m.capped=!0),m},_getCacheCanvasDimensions:function(){var m=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),y=v.x*m.scaleX/this.scaleX,w=v.y*m.scaleY/this.scaleY;return{width:y+g,height:w+g,zoomX:m.scaleX,zoomY:m.scaleY,x:y,y:w}},_updateCacheCanvas:function(){var m=this.canvas;if(this.noScaleCache&&m&&m._currentTransform){var v=m._currentTransform.target,y=m._currentTransform.action;if(this===v&&y.slice&&y.slice(0,5)==="scale")return!1}var w=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),S=s.minCacheSideLimit,C=x.width,E=x.height,k,L,B=x.zoomX,G=x.zoomY,z=C!==this.cacheWidth||E!==this.cacheHeight,Q=this.zoomX!==B||this.zoomY!==G,I=z||Q,M=0,N=0,q=!1;if(z){var H=this._cacheCanvas.width,T=this._cacheCanvas.height,$=C>H||E>T,R=(C<H*.9||E<T*.9)&&H>S&&T>S;q=$||R,$&&!x.capped&&(C>S||E>S)&&(M=C*.1,N=E*.1)}return this instanceof s.Text&&this.path&&(I=!0,q=!0,M+=this.getHeightOfLine(0)*this.zoomX,N+=this.getHeightOfLine(0)*this.zoomY),I?(q?(w.width=Math.ceil(C+M),w.height=Math.ceil(E+N)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,w.width,w.height)),k=x.x/2,L=x.y/2,this.cacheTranslationX=Math.round(w.width/2-k)+k,this.cacheTranslationY=Math.round(w.height/2-L)+L,this.cacheWidth=C,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(B,G),this.zoomX=B,this.zoomY=G,!0):!1},setOptions:function(m){this._setOptions(m),this._initGradient(m.fill,"fill"),this._initGradient(m.stroke,"stroke"),this._initPattern(m.fill,"fill"),this._initPattern(m.stroke,"stroke")},transform:function(m){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&m===this.canvas.contextTop,y=this.calcTransformMatrix(!v);m.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(m){var v=s.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:l(this.left,v),top:l(this.top,v),width:l(this.width,v),height:l(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,v),scaleX:l(this.scaleX,v),scaleY:l(this.scaleY,v),angle:l(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,v),skewY:l(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(m),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,y,m),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(m){return this.toObject(m)},_removeDefaultValues:function(m){var v=s.util.getKlass(m.type).prototype,y=v.stateProperties;return y.forEach(function(w){w==="left"||w==="top"||(m[w]===v[w]&&delete m[w],Array.isArray(m[w])&&Array.isArray(v[w])&&m[w].length===0&&v[w].length===0&&delete m[w])}),m},toString:function(){return"#<fabric."+u(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var m=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(m.scaleX),scaleY:Math.abs(m.scaleY)}},getTotalObjectScaling:function(){var m=this.getObjectScaling(),v=m.scaleX,y=m.scaleY;if(this.canvas){var w=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();v*=w*x,y*=w*x}return{scaleX:v,scaleY:y}},getObjectOpacity:function(){var m=this.opacity;return this.group&&(m*=this.group.getObjectOpacity()),m},_set:function(m,v){var y=m==="scaleX"||m==="scaleY",w=this[m]!==v,x=!1;return y&&(v=this._constrainScale(v)),m==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):m==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):m==="shadow"&&v&&!(v instanceof s.Shadow)?v=new s.Shadow(v):m==="dirty"&&this.group&&this.group.set("dirty",v),this[m]=v,w&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(m)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(m)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(m){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(m.save(),this._setupCompositeOperation(m),this.drawSelectionBackground(m),this.transform(m),this._setOpacity(m),this._setShadow(m,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(m)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(m),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),m.restore())},renderCache:function(m){m=m||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,m.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(m,v){if(m.save(),v.inverted?m.globalCompositeOperation="destination-out":m.globalCompositeOperation="destination-in",v.absolutePositioned){var y=s.util.invertTransform(this.calcTransformMatrix());m.transform(y[0],y[1],y[2],y[3],y[4],y[5])}v.transform(m),m.scale(1/v.zoomX,1/v.zoomY),m.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),m.restore()},drawObject:function(m,v){var y=this.fill,w=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(m)):this._renderBackground(m),this._render(m),this._drawClipPath(m,this.clipPath),this.fill=y,this.stroke=w},_drawClipPath:function(m,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(m,v))},drawCacheOnCanvas:function(m){m.scale(1/this.zoomX,1/this.zoomY),m.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(m){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!m&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!m){var v=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-y/2,v,y)}return!0}return!1},_renderBackground:function(m){if(this.backgroundColor){var v=this._getNonTransformedDimensions();m.fillStyle=this.backgroundColor,m.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(m)}},_setOpacity:function(m){this.group&&!this.group._transformDone?m.globalAlpha=this.getObjectOpacity():m.globalAlpha*=this.opacity},_setStrokeStyles:function(m,v){var y=v.stroke;y&&(m.lineWidth=v.strokeWidth,m.lineCap=v.strokeLineCap,m.lineDashOffset=v.strokeDashOffset,m.lineJoin=v.strokeLineJoin,m.miterLimit=v.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(m,y):(m.strokeStyle=y.toLive(m,this),this._applyPatternGradientTransform(m,y)):m.strokeStyle=v.stroke)},_setFillStyles:function(m,v){var y=v.fill;y&&(y.toLive?(m.fillStyle=y.toLive(m,this),this._applyPatternGradientTransform(m,v.fill)):m.fillStyle=y)},_setClippingProperties:function(m){m.globalAlpha=1,m.strokeStyle="transparent",m.fillStyle="#000000"},_setLineDash:function(m,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),m.setLineDash(v))},_renderControls:function(m,v){var y=this.getViewportTransform(),w=this.calcTransformMatrix(),x,S,C;v=v||{},S=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,w=s.util.multiplyTransformMatrices(y,w),x=s.util.qrDecompose(w),m.save(),m.translate(x.translateX,x.translateY),m.lineWidth=1*this.borderScaleFactor,this.group||(m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),m.rotate(d(this.group?x.angle:this.angle)),v.forActiveSelection||this.group?S&&this.drawBordersInGroup(m,x,v):S&&this.drawBorders(m,v),C&&this.drawControls(m,v),m.restore()},_setShadow:function(m){if(this.shadow){var v=this.shadow,y=this.canvas,w,x=y&&y.viewportTransform[0]||1,S=y&&y.viewportTransform[3]||1;v.nonScaling?w={scaleX:1,scaleY:1}:w=this.getObjectScaling(),y&&y._isRetinaScaling()&&(x*=s.devicePixelRatio,S*=s.devicePixelRatio),m.shadowColor=v.color,m.shadowBlur=v.blur*s.browserShadowBlurConstant*(x+S)*(w.scaleX+w.scaleY)/4,m.shadowOffsetX=v.offsetX*x*w.scaleX,m.shadowOffsetY=v.offsetY*S*w.scaleY}},_removeShadow:function(m){this.shadow&&(m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0)},_applyPatternGradientTransform:function(m,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var y=v.gradientTransform||v.patternTransform,w=-this.width/2+v.offsetX||0,x=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?m.transform(this.width,0,0,this.height,w,x):m.transform(1,0,0,1,w,x),y&&m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:w,offsetY:x}},_renderPaintInOrder:function(m){this.paintFirst==="stroke"?(this._renderStroke(m),this._renderFill(m)):(this._renderFill(m),this._renderStroke(m))},_render:function(){},_renderFill:function(m){this.fill&&(m.save(),this._setFillStyles(m,this),this.fillRule==="evenodd"?m.fill("evenodd"):m.fill(),m.restore())},_renderStroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();m.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&m.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(m,this.strokeDashArray),this._setStrokeStyles(m,this),m.stroke(),m.restore()}},_applyPatternForTransformedGradient:function(m,v){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),w=s.util.createCanvasElement(),x,S=this.canvas.getRetinaScaling(),C=y.x/this.scaleX/S,E=y.y/this.scaleY/S;w.width=C,w.height=E,x=w.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(C,0),x.lineTo(C,E),x.lineTo(0,E),x.closePath(),x.translate(C/2,E/2),x.scale(y.zoomX/this.scaleX/S,y.zoomY/this.scaleY/S),this._applyPatternGradientTransform(x,v),x.fillStyle=v.toLive(m),x.fill(),m.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),m.scale(S*this.scaleX/y.zoomX,S*this.scaleY/y.zoomY),m.strokeStyle=x.createPattern(w,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var m=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",m.scaleX),this.set("scaleY",m.scaleY),this.angle=m.angle,this.skewX=m.skewX,this.skewY=0}},_removeTransformMatrix:function(m){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=s.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,m&&(this.scaleX*=m.scaleX,this.scaleY*=m.scaleY,this.cropX=m.cropX,this.cropY=m.cropY,v.x+=m.offsetLeft,v.y+=m.offsetTop,this.width=m.width,this.height=m.height),this.setPositionByOrigin(v,"center","center")},clone:function(m,v){var y=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(y,m):s.Object._fromObject("Object",y,m)},cloneAsImage:function(m,v){var y=this.toCanvasElement(v);return m&&m(new s.Image(y)),this},toCanvasElement:function(m){m||(m={});var v=s.util,y=v.saveObjectTransform(this),w=this.group,x=this.shadow,S=Math.abs,C=(m.multiplier||1)*(m.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,m.withoutTransform&&v.resetObjectTransform(this),m.withoutShadow&&(this.shadow=null);var E=s.util.createCanvasElement(),k=this.getBoundingRect(!0,!0),L=this.shadow,B,G={x:0,y:0},z,Q,I;L&&(z=L.blur,L.nonScaling?B={scaleX:1,scaleY:1}:B=this.getObjectScaling(),G.x=2*Math.round(S(L.offsetX)+z)*S(B.scaleX),G.y=2*Math.round(S(L.offsetY)+z)*S(B.scaleY)),Q=k.width+G.x,I=k.height+G.y,E.width=Math.ceil(Q),E.height=Math.ceil(I);var M=new s.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});m.format==="jpeg"&&(M.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(M.width/2,M.height/2),"center","center");var N=this.canvas;M.add(this);var q=M.toCanvasElement(C||1,m);return this.shadow=x,this.set("canvas",N),w&&(this.group=w),this.set(y).setCoords(),M._objects=[],M.dispose(),M=null,q},toDataURL:function(m){return m||(m={}),s.util.toDataURL(this.toCanvasElement(m),m.format||"png",m.quality||1)},isType:function(m){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===m},complexity:function(){return 1},toJSON:function(m){return this.toObject(m)},rotate:function(m){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",m),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(m,v){v=v||this.canvas.getPointer(m);var y=new s.Point(v.x,v.y),w=this._getLeftTopCoords();return this.angle&&(y=s.util.rotatePoint(y,w,d(-this.angle))),{x:y.x-w.x,y:y.y-w.y}},_setupCompositeOperation:function(m){this.globalCompositeOperation&&(m.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){s.runningAnimations&&s.runningAnimations.cancelByTarget(this)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),c(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object.ENLIVEN_PROPS=["clipPath"],s.Object._fromObject=function(m,v,y,w){var x=s[m];v=f(v,!0),s.util.enlivenPatterns([v.fill,v.stroke],function(S){typeof S[0]<"u"&&(v.fill=S[0]),typeof S[1]<"u"&&(v.stroke=S[1]),s.util.enlivenObjectEnlivables(v,v,function(){var C=w?new x(v[w],v):new x(v);y&&y(C)})})},s.Object.__uid=0)}(e),function(){var a=t.util.degreesToRadians,s={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,l,u,d,h){var g=f.x,m=f.y,v,y,w;return typeof l=="string"?l=s[l]:l-=.5,typeof d=="string"?d=s[d]:d-=.5,v=d-l,typeof u=="string"?u=c[u]:u-=.5,typeof h=="string"?h=c[h]:h-=.5,y=h-u,(v||y)&&(w=this._getTransformedDimensions(),g=f.x+v*w.x,m=f.y+y*w.y),new t.Point(g,m)},translateToCenterPoint:function(f,l,u){var d=this.translateToGivenOrigin(f,l,u,"center","center");return this.angle?t.util.rotatePoint(d,f,a(this.angle)):d},translateToOriginPoint:function(f,l,u){var d=this.translateToGivenOrigin(f,"center","center",l,u);return this.angle?t.util.rotatePoint(d,f,a(this.angle)):d},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,l){var u=this.getCenterPoint();return this.translateToOriginPoint(u,f,l)},toLocalPoint:function(f,l,u){var d=this.getCenterPoint(),h,g;return typeof l<"u"&&typeof u<"u"?h=this.translateToGivenOrigin(d,"center","center",l,u):h=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,d,-a(this.angle))),g.subtractEquals(h)},setPositionByOrigin:function(f,l,u){var d=this.translateToCenterPoint(f,l,u),h=this.translateToOriginPoint(d,this.originX,this.originY);this.set("left",h.x),this.set("top",h.y)},adjustPosition:function(f){var l=a(this.angle),u=this.getScaledWidth(),d=t.util.cos(l)*u,h=t.util.sin(l)*u,g,m;typeof this.originX=="string"?g=s[this.originX]:g=this.originX-.5,typeof f=="string"?m=s[f]:m=f-.5,this.left+=d*(m-g),this.top+=h*(m-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function a(u){return[new t.Point(u.tl.x,u.tl.y),new t.Point(u.tr.x,u.tr.y),new t.Point(u.br.x,u.br.y),new t.Point(u.bl.x,u.bl.y)]}var s=t.util,c=s.degreesToRadians,f=s.multiplyTransformMatrices,l=s.transformPoint;s.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(u,d){return d?u?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),u?this.aCoords:this.lineCoords)},getCoords:function(u,d){return a(this._getCoords(u,d))},intersectsWithRect:function(u,d,h,g){var m=this.getCoords(h,g),v=t.Intersection.intersectPolygonRectangle(m,u,d);return v.status==="Intersection"},intersectsWithObject:function(u,d,h){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(d,h),u.getCoords(d,h));return g.status==="Intersection"||u.isContainedWithinObject(this,d,h)||this.isContainedWithinObject(u,d,h)},isContainedWithinObject:function(u,d,h){for(var g=this.getCoords(d,h),m=d?u.aCoords:u.lineCoords,v=0,y=u._getImageLines(m);v<4;v++)if(!u.containsPoint(g[v],y))return!1;return!0},isContainedWithinRect:function(u,d,h,g){var m=this.getBoundingRect(h,g);return m.left>=u.x&&m.left+m.width<=d.x&&m.top>=u.y&&m.top+m.height<=d.y},containsPoint:function(u,v,h,g){var m=this._getCoords(h,g),v=v||this._getImageLines(m),y=this._findCrossPoints(u,v);return y!==0&&y%2===1},isOnScreen:function(u){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br,g=this.getCoords(!0,u);return g.some(function(m){return m.x<=h.x&&m.x>=d.x&&m.y<=h.y&&m.y>=d.y})||this.intersectsWithRect(d,h,!0,u)?!0:this._containsCenterOfCanvas(d,h,u)},_containsCenterOfCanvas:function(u,d,h){var g={x:(u.x+d.x)/2,y:(u.y+d.y)/2};return!!this.containsPoint(g,null,!0,h)},isPartiallyOnScreen:function(u){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br;if(this.intersectsWithRect(d,h,!0,u))return!0;var g=this.getCoords(!0,u).every(function(m){return(m.x>=h.x||m.x<=d.x)&&(m.y>=h.y||m.y<=d.y)});return g&&this._containsCenterOfCanvas(d,h,u)},_getImageLines:function(u){var d={topline:{o:u.tl,d:u.tr},rightline:{o:u.tr,d:u.br},bottomline:{o:u.br,d:u.bl},leftline:{o:u.bl,d:u.tl}};return d},_findCrossPoints:function(u,d){var h,g,m,v,y,w=0,x;for(var S in d)if(x=d[S],!(x.o.y<u.y&&x.d.y<u.y)&&!(x.o.y>=u.y&&x.d.y>=u.y)&&(x.o.x===x.d.x&&x.o.x>=u.x?y=x.o.x:(h=0,g=(x.d.y-x.o.y)/(x.d.x-x.o.x),m=u.y-h*u.x,v=x.o.y-g*x.o.x,y=-(m-v)/(h-g)),y>=u.x&&(w+=1),w===2))break;return w},getBoundingRect:function(u,d){var h=this.getCoords(u,d);return s.makeBoundingBoxFromPoints(h)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(u){return Math.abs(u)<this.minScaleLimit?u<0?-this.minScaleLimit:this.minScaleLimit:u===0?1e-4:u},scale:function(u){return this._set("scaleX",u),this._set("scaleY",u),this.setCoords()},scaleToWidth:function(u,d){var h=this.getBoundingRect(d).width/this.getScaledWidth();return this.scale(u/this.width/h)},scaleToHeight:function(u,d){var h=this.getBoundingRect(d).height/this.getScaledHeight();return this.scale(u/this.height/h)},calcLineCoords:function(){var u=this.getViewportTransform(),d=this.padding,h=c(this.angle),g=s.cos(h),m=s.sin(h),v=g*d,y=m*d,w=v+y,x=v-y,S=this.calcACoords(),C={tl:l(S.tl,u),tr:l(S.tr,u),bl:l(S.bl,u),br:l(S.br,u)};return d&&(C.tl.x-=x,C.tl.y-=w,C.tr.x+=w,C.tr.y-=x,C.bl.x-=w,C.bl.y+=x,C.br.x+=x,C.br.y+=w),C},calcOCoords:function(){var u=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),h=this.getViewportTransform(),g=f(h,d),m=f(g,u),m=f(m,[1/h[0],0,0,1/h[3],0,0]),v=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(w,x,S){y[x]=w.positionHandler(v,m,S)}),y},calcACoords:function(){var u=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),h=f(d,u),g=this._getTransformedDimensions(),m=g.x/2,v=g.y/2;return{tl:l({x:-m,y:-v},h),tr:l({x:m,y:-v},h),bl:l({x:-m,y:v},h),br:l({x:m,y:v},h)}},setCoords:function(u){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),u?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var u=this.getCenterPoint();return[1,0,0,1,u.x,u.y]},transformMatrixKey:function(u){var d="_",h="";return!u&&this.group&&(h=this.group.transformMatrixKey(u)+d),h+this.top+d+this.left+d+this.scaleX+d+this.scaleY+d+this.skewX+d+this.skewY+d+this.angle+d+this.originX+d+this.originY+d+this.width+d+this.height+d+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(u){var d=this.calcOwnMatrix();if(u||!this.group)return d;var h=this.transformMatrixKey(u),g=this.matrixCache||(this.matrixCache={});return g.key===h?g.value:(this.group&&(d=f(this.group.calcTransformMatrix(!1),d)),g.key=h,g.value=d,d)},calcOwnMatrix:function(){var u=this.transformMatrixKey(!0),d=this.ownMatrixCache||(this.ownMatrixCache={});if(d.key===u)return d.value;var h=this._calcTranslateMatrix(),g={angle:this.angle,translateX:h[4],translateY:h[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return d.key=u,d.value=s.composeMatrix(g),d.value},_getNonTransformedDimensions:function(){var u=this.strokeWidth,d=this.width+u,h=this.height+u;return{x:d,y:h}},_getTransformedDimensions:function(u,d){typeof u>"u"&&(u=this.skewX),typeof d>"u"&&(d=this.skewY);var h,g,m,v=u===0&&d===0;if(this.strokeUniform?(g=this.width,m=this.height):(h=this._getNonTransformedDimensions(),g=h.x,m=h.y),v)return this._finalizeDimensions(g*this.scaleX,m*this.scaleY);var y=s.sizeAfterTransform(g,m,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:u,skewY:d});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(u,d){return this.strokeUniform?{x:u+this.strokeWidth,y:d+this.strokeWidth}:{x:u,y:d}},_calculateCurrentDimensions:function(){var u=this.getViewportTransform(),d=this._getTransformedDimensions(),h=l(d,u,!0);return h.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(a){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas&&this.canvas.sendBackwards(this,a),this},bringForward:function(a){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas&&this.canvas.bringForward(this,a),this},moveTo:function(a){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas&&this.canvas.moveTo(this,a),this}}),function(){function a(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var l=new t.Color(f),u=c+": "+l.toRgb()+"; ",d=l.getAlpha();return d!==1&&(u+=c+"-opacity: "+d.toString()+"; "),u}else return c+": none; "}var s=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",u=this.strokeDashArray?this.strokeDashArray.join(" "):"none",d=this.strokeDashOffset?this.strokeDashOffset:"0",h=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",m=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",w=c?"":this.getSvgFilter(),x=a("fill",this.fill),S=a("stroke",this.stroke);return[S,"stroke-width: ",l,"; ","stroke-dasharray: ",u,"; ","stroke-linecap: ",h,"; ","stroke-dashoffset: ",d,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",m,"; ",x,"fill-rule: ",f,"; ","opacity: ",v,";",w,y].join("")},getSvgSpanStyles:function(c,f){var l="; ",d=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+l:"",u=c.strokeWidth?"stroke-width: "+c.strokeWidth+l:"",d=d,h=c.fontSize?"font-size: "+c.fontSize+"px"+l:"",g=c.fontStyle?"font-style: "+c.fontStyle+l:"",m=c.fontWeight?"font-weight: "+c.fontWeight+l:"",v=c.fill?a("fill",c.fill):"",y=c.stroke?a("stroke",c.stroke):"",w=this.getSvgTextDecoration(c),x=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return w&&(w="text-decoration: "+w+l),[y,u,d,h,g,m,w,v,x,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var l=c?this.calcTransformMatrix():this.calcOwnMatrix(),u='transform="'+t.util.matrixToSVG(l);return u+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,f),'" y="',s(-this.height/2,f),'" width="',s(this.width,f),'" height="',s(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var l=f.reviver,u=f.additionalTransform||"",d=[this.getSvgTransform(!0,u),this.getSvgCommons()].join(""),h=c.indexOf("COMMON_PARTS");return c[h]=d,l?l(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var l=f.noStyle,u=f.reviver,d=l?"":'style="'+this.getSvgStyles()+'" ',h=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,m=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,y=this.stroke,w=this.fill,x=this.shadow,S,C=[],E,k=c.indexOf("COMMON_PARTS"),L=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(u)+`</clipPath>
`),v&&C.push("<g ",h,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":h+this.getSvgCommons(),` >
`),S=[d,m,l?"":this.addPaintOrder()," ",L?'transform="'+L+'" ':""].join(""),c[k]=S,w&&w.toLive&&C.push(w.toSVG(this)),y&&y.toLive&&C.push(y.toSVG(this)),x&&C.push(x.toSVG(this)),g&&C.push(E),C.push(c.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),u?u(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var a=t.util.object.extend,s="stateProperties";function c(l,u,d){var h={},g=!0;d.forEach(function(m){h[m]=l[m]}),a(l[u],h,g)}function f(l,u,d){if(l===u)return!0;if(Array.isArray(l)){if(!Array.isArray(u)||l.length!==u.length)return!1;for(var h=0,g=l.length;h<g;h++)if(!f(l[h],u[h]))return!1;return!0}else if(l&&typeof l=="object"){var m=Object.keys(l),v;if(!u||typeof u!="object"||!d&&m.length!==Object.keys(u).length)return!1;for(var h=0,g=m.length;h<g;h++)if(v=m[h],!(v==="canvas"||v==="group")&&!f(l[v],u[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(l){l=l||s;var u="_"+l;return Object.keys(this[u]).length<this[l].length?!0:!f(this[u],this,!0)},saveState:function(l){var u=l&&l.propertySet||s,d="_"+u;return this[d]?(c(this,d,this[u]),l&&l.stateProperties&&c(this,d,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var u=l.propertySet||s;return l.propertySet=u,this["_"+u]={},this.saveState(l),this}})}(),function(){var a=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(s,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=s.x,l=s.y,u,d,h=Object.keys(this.oCoords),g=h.length-1,m;for(this.__corner=0;g>=0;g--)if(m=h[g],!!this.isControlVisible(m)&&(d=this._getImageLines(c?this.oCoords[m].touchCorner:this.oCoords[m].corner),u=this._findCrossPoints({x:f,y:l},d),u!==0&&u%2===1))return this.__corner=m,m;return!1},forEachControl:function(s){for(var c in this.controls)s(this.controls[c],c,this)},_setCornerCoords:function(){var s=this.oCoords;for(var c in s){var f=this.controls[c];s[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,s[c].x,s[c].y,!1),s[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,s[c].x,s[c].y,!0)}},drawSelectionBackground:function(s){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;s.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return s.translate(c.x,c.y),s.scale(1/l[0],1/l[3]),s.rotate(a(this.angle)),s.fillStyle=this.selectionBackgroundColor,s.fillRect(-f.x/2,-f.y/2,f.x,f.y),s.restore(),this},drawBorders:function(s,c){c=c||{};var f=this._calculateCurrentDimensions(),l=this.borderScaleFactor,u=f.x+l,d=f.y+l,h=typeof c.hasControls<"u"?c.hasControls:this.hasControls,g=!1;return s.save(),s.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(s,c.borderDashArray||this.borderDashArray),s.strokeRect(-u/2,-d/2,u,d),h&&(s.beginPath(),this.forEachControl(function(m,v,y){m.withConnection&&m.getVisibility(y,v)&&(g=!0,s.moveTo(m.x*u,m.y*d),s.lineTo(m.x*u+m.offsetX,m.y*d+m.offsetY))}),g&&s.stroke()),s.restore(),this},drawBordersInGroup:function(s,c,f){f=f||{};var l=t.util.sizeAfterTransform(this.width,this.height,c),u=this.strokeWidth,d=this.strokeUniform,h=this.borderScaleFactor,g=l.x+u*(d?this.canvas.getZoom():c.scaleX)+h,m=l.y+u*(d?this.canvas.getZoom():c.scaleY)+h;return s.save(),this._setLineDash(s,f.borderDashArray||this.borderDashArray),s.strokeStyle=f.borderColor||this.borderColor,s.strokeRect(-g/2,-m/2,g,m),s.restore(),this},drawControls:function(s,c){c=c||{},s.save();var f=this.canvas.getRetinaScaling(),l,u;return s.setTransform(f,0,0,f,0,0),s.strokeStyle=s.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(s.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(s,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(d,h,g){u=g.oCoords[h],d.getVisibility(g,h)&&(l&&(u=t.util.transformPoint(u,l)),d.render(s,u.x,u.y,c,g))}),s.restore(),this},isControlVisible:function(s){return this.controls[s]&&this.controls[s].getVisibility(this,s)},setControlVisible:function(s,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[s]=c,this},setControlsVisibility:function(s){s||(s={});for(var c in s)this.setControlVisible(c,s[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(a,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:a.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(d){a.set("left",d),u.requestRenderAll(),l()},onComplete:function(){a.setCoords(),f()}})},fxCenterObjectV:function(a,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:a.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(d){a.set("top",d),u.requestRenderAll(),l()},onComplete:function(){a.setCoords(),f()}})},fxRemove:function(a,s){s=s||{};var c=function(){},f=s.onComplete||c,l=s.onChange||c,u=this;return t.util.animate({target:this,startValue:a.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(d){a.set("opacity",d),u.requestRenderAll(),l()},onComplete:function(){u.remove(a),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var a=[],s,c,f=[];for(s in arguments[0])a.push(s);for(var l=0,u=a.length;l<u;l++)s=a[l],c=l!==u-1,f.push(this._animate(s,arguments[0][s],arguments[1],c));return f}else return this._animate.apply(this,arguments)},_animate:function(a,s,c,f){var l=this,u;s=s.toString(),c?c=t.util.object.clone(c):c={},~a.indexOf(".")&&(u=a.split("."));var d=l.colorProperties.indexOf(a)>-1||u&&l.colorProperties.indexOf(u[1])>-1,h=u?this.get(u[0])[u[1]]:this.get(a);"from"in c||(c.from=h),d||(~s.indexOf("=")?s=h+parseFloat(s.replace("=","")):s=parseFloat(s));var g={target:this,startValue:c.from,endValue:s,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(m,v,y){return c.abort.call(l,m,v,y)},onChange:function(m,v,y){u?l[u[0]][u[1]]=m:l.set(a,m),!f&&c.onChange&&c.onChange(m,v,y)},onComplete:function(m,v,y){f||(l.setCoords(),c.onComplete&&c.onComplete(m,v,y))}};return d?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(d,h){d||(d=[0,0,0,0]),this.callSuper("initialize",h),this.set("x1",d[0]),this.set("y1",d[1]),this.set("x2",d[2]),this.set("y2",d[3]),this._setWidthHeight(h)},_setWidthHeight:function(d){d||(d={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in d?d.left:this._getLeftToOriginX(),this.top="top"in d?d.top:this._getTopToOriginY()},_set:function(d,h){return this.callSuper("_set",d,h),typeof l[d]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:u({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:u({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(d){d.beginPath();var h=this.calcLinePoints();d.moveTo(h.x1,h.y1),d.lineTo(h.x2,h.y2),d.lineWidth=this.strokeWidth;var g=d.strokeStyle;d.strokeStyle=this.stroke||d.fillStyle,this.stroke&&this._renderStroke(d),d.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(d){return c(this.callSuper("toObject",d),this.calcLinePoints())},_getNonTransformedDimensions:function(){var d=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(d.y-=this.strokeWidth),this.height===0&&(d.x-=this.strokeWidth)),d},calcLinePoints:function(){var d=this.x1<=this.x2?-1:1,h=this.y1<=this.y2?-1:1,g=d*this.width*.5,m=h*this.height*.5,v=d*this.width*-.5,y=h*this.height*-.5;return{x1:g,x2:v,y1:m,y2:y}},_toSVG:function(){var d=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(d,h,g){g=g||{};var m=s.parseAttributes(d,s.Line.ATTRIBUTE_NAMES),v=[m.x1||0,m.y1||0,m.x2||0,m.y2||0];h(new s.Line(v,c(m,g)))},s.Line.fromObject=function(d,h){function g(v){delete v.points,h&&h(v)}var m=f(d,!0);m.points=[d.x1,d.y1,d.x2,d.y2],s.Object._fromObject("Line",m,g,"points")};function u(d,h){var g=d.origin,m=d.axis1,v=d.axis2,y=d.dimension,w=h.nearest,x=h.center,S=h.farthest;return function(){switch(this.get(g)){case w:return Math.min(this.get(m),this.get(v));case x:return Math.min(this.get(m),this.get(v))+.5*this.get(y);case S:return Math.max(this.get(m),this.get(v))}}}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.degreesToRadians;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,u){return this.callSuper("_set",l,u),l==="radius"&&this.setRadius(u),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,u=0,d=0,h=(this.endAngle-this.startAngle)%360;if(h===0)l=["<circle ","COMMON_PARTS",'cx="'+u+'" cy="'+d+'" ','r="',this.radius,`" />
`];else{var g=c(this.startAngle),m=c(this.endAngle),v=this.radius,y=s.util.cos(g)*v,w=s.util.sin(g)*v,x=s.util.cos(m)*v,S=s.util.sin(m)*v,C=h>180?"1":"0";l=['<path d="M '+y+" "+w," A "+v+" "+v," 0 ",+C+" 1"," "+x+" "+S,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(l,u){var d=s.parseAttributes(l,s.Circle.ATTRIBUTE_NAMES);if(!f(d))throw new Error("value of `r` attribute is required and can not be negative");d.left=(d.left||0)-d.radius,d.top=(d.top||0)-d.radius,u(new s.Circle(d))};function f(l){return"radius"in l&&l.radius>=0}s.Circle.fromObject=function(l,u){s.Object._fromObject("Circle",l,u)}}(e),function(a){var s=a.fabric||(a.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,l),c.lineTo(0,-l),c.lineTo(f,l),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,l=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),s.Triangle.fromObject=function(c,f){return s.Object._fromObject("Triangle",c,f)}}(e),function(a){var s=a.fabric||(a.fabric={}),c=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,l){switch(this.callSuper("_set",f,l),f){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(f,l){var u=s.parseAttributes(f,s.Ellipse.ATTRIBUTE_NAMES);u.left=(u.left||0)-u.rx,u.top=(u.top||0)-u.ry,l(new s.Ellipse(u))},s.Ellipse.fromObject=function(f,l){s.Object._fromObject("Ellipse",f,l)}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var l=this.rx?Math.min(this.rx,this.width/2):0,u=this.ry?Math.min(this.ry,this.height/2):0,d=this.width,h=this.height,g=-this.width/2,m=-this.height/2,v=l!==0||u!==0,y=1-.5522847498;f.beginPath(),f.moveTo(g+l,m),f.lineTo(g+d-l,m),v&&f.bezierCurveTo(g+d-y*l,m,g+d,m+y*u,g+d,m+u),f.lineTo(g+d,m+h-u),v&&f.bezierCurveTo(g+d,m+h-y*u,g+d-y*l,m+h,g+d-l,m+h),f.lineTo(g+l,m+h),v&&f.bezierCurveTo(g+y*l,m+h,g,m+h-y*u,g,m+h-u),f.lineTo(g,m+u),v&&f.bezierCurveTo(g,m+y*u,g+y*l,m,g+l,m),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(f,l,u){if(!f)return l(null);u=u||{};var d=s.parseAttributes(f,s.Rect.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0,d.height=d.height||0,d.width=d.width||0;var h=new s.Rect(c(u?s.util.object.clone(u):{},d));h.visible=h.visible&&h.width>0&&h.height>0,l(h)},s.Rect.fromObject=function(f,l){return s.Object._fromObject("Rect",f,l)}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.util.array.min,l=s.util.array.max,u=s.util.toFixed,d=s.util.projectStrokeOnPoints;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(h,g){g=g||{},this.points=h||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return d(this.points,this,!0)},_setPositionDimensions:function(h){var g=this._calcDimensions(h),m,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,h.fromSVG||(m=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof h.left>"u"&&(this.left=h.fromSVG?g.left:m.x),typeof h.top>"u"&&(this.top=h.fromSVG?g.top:m.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var h=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(h,"x")||0,m=f(h,"y")||0,v=l(h,"x")||0,y=l(h,"y")||0,w=v-g,x=y-m;return{left:g,top:m,width:w,height:x}},toObject:function(h){return c(this.callSuper("toObject",h),{points:this.points.concat()})},_toSVG:function(){for(var h=[],g=this.pathOffset.x,m=this.pathOffset.y,v=s.Object.NUM_FRACTION_DIGITS,y=0,w=this.points.length;y<w;y++)h.push(u(this.points[y].x-g,v),",",u(this.points[y].y-m,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',h.join(""),`" />
`]},commonRender:function(h){var g,m=this.points.length,v=this.pathOffset.x,y=this.pathOffset.y;if(!m||isNaN(this.points[m-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-v,this.points[0].y-y);for(var w=0;w<m;w++)g=this.points[w],h.lineTo(g.x-v,g.y-y);return!0},_render:function(h){this.commonRender(h)&&this._renderPaintInOrder(h)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(h){return function(g,m,v){if(!g)return m(null);v||(v={});var y=s.parsePointsAttribute(g.getAttribute("points")),w=s.parseAttributes(g,s[h].ATTRIBUTE_NAMES);w.fromSVG=!0,m(new s[h](y,c(w,v)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(h,g){return s.Object._fromObject("Polyline",h,g,"points")}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.projectStrokeOnPoints;if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(f,l){s.Object._fromObject("Polygon",f,l,"points")}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.array.min,f=s.util.array.max,l=s.util.object.extend,u=s.util.object.clone,d=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(h,g){g=u(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(h||[],g)},_setPath:function(h,g){this.path=s.util.makePathSimpler(Array.isArray(h)?h:s.util.parsePath(h)),s.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(h){var g,m=0,v=0,y=0,w=0,x=0,S=0,C=-this.pathOffset.x,E=-this.pathOffset.y;h.beginPath();for(var k=0,L=this.path.length;k<L;++k)switch(g=this.path[k],g[0]){case"L":y=g[1],w=g[2],h.lineTo(y+C,w+E);break;case"M":y=g[1],w=g[2],m=y,v=w,h.moveTo(y+C,w+E);break;case"C":y=g[5],w=g[6],x=g[3],S=g[4],h.bezierCurveTo(g[1]+C,g[2]+E,x+C,S+E,y+C,w+E);break;case"Q":h.quadraticCurveTo(g[1]+C,g[2]+E,g[3]+C,g[4]+E),y=g[3],w=g[4],x=g[1],S=g[2];break;case"z":case"Z":y=m,w=v,h.closePath();break}},_render:function(h){this._renderPathCommands(h),this._renderPaintInOrder(h)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(h){return l(this.callSuper("toObject",h),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(h){var g=this.toObject(["sourcePath"].concat(h));return g.sourcePath&&delete g.path,g},_toSVG:function(){var h=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',h,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var h=s.Object.NUM_FRACTION_DIGITS;return" translate("+d(-this.pathOffset.x,h)+", "+d(-this.pathOffset.y,h)+")"},toClipPathSVG:function(h){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:g})},toSVG:function(h){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var h=[],g=[],m,v=0,y=0,w=0,x=0,S,C=0,E=this.path.length;C<E;++C){switch(m=this.path[C],m[0]){case"L":w=m[1],x=m[2],S=[];break;case"M":w=m[1],x=m[2],v=w,y=x,S=[];break;case"C":S=s.util.getBoundsOfCurve(w,x,m[1],m[2],m[3],m[4],m[5],m[6]),w=m[5],x=m[6];break;case"Q":S=s.util.getBoundsOfCurve(w,x,m[1],m[2],m[1],m[2],m[3],m[4]),w=m[3],x=m[4];break;case"z":case"Z":w=v,x=y;break}S.forEach(function(I){h.push(I.x),g.push(I.y)}),h.push(w),g.push(x)}var k=c(h)||0,L=c(g)||0,B=f(h)||0,G=f(g)||0,z=B-k,Q=G-L;return{left:k,top:L,width:z,height:Q}}}),s.Path.fromObject=function(h,g){if(typeof h.sourcePath=="string"){var m=h.sourcePath;s.loadSVGFromURL(m,function(v){var y=v[0];y.setOptions(h),h.clipPath?s.util.enlivenObjects([h.clipPath],function(w){y.clipPath=w[0],g&&g(y)}):g&&g(y)})}else s.Object._fromObject("Path",h,g,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(h,g,m){var v=s.parseAttributes(h,s.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new s.Path(v.d,l(v,m)))}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.array.min,f=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,u,d){u=u||{},this._objects=[],d&&this.callSuper("initialize",u),this._objects=l||[];for(var h=this._objects.length;h--;)this._objects[h].group=this;if(d)this._updateObjectsACoords();else{var g=u&&u.centerPoint;u.originX!==void 0&&(this.originX=u.originX),u.originY!==void 0&&(this.originY=u.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete u.centerPoint,this.callSuper("initialize",u)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,u=this._objects.length;u--;)this._objects[u].setCoords(l)},_updateObjectsCoords:function(u){for(var u=u||this.getCenterPoint(),d=this._objects.length;d--;)this._updateObjectCoords(this._objects[d],u)},_updateObjectCoords:function(l,u){var d=l.left,h=l.top,g=!0;l.set({left:d-u.x,top:h-u.y}),l.group=this,l.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var u=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),l&&(u&&s.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,u?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,u){var d=this._objects.length;if(this.useSetOnGroup)for(;d--;)this._objects[d].setOnGroup(l,u);if(l==="canvas")for(;d--;)this._objects[d]._set(l,u);s.Object.prototype._set.call(this,l,u)},toObject:function(l){var u=this.includeDefaultValues,d=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=u;var v=g.toObject(l);return g.includeDefaultValues=m,v}),h=s.Object.prototype.toObject.call(this,l);return h.objects=d,h},toDatalessObject:function(l){var u,d=this.sourcePath;if(d)u=d;else{var h=this.includeDefaultValues;u=this._objects.map(function(m){var v=m.includeDefaultValues;m.includeDefaultValues=h;var y=m.toDatalessObject(l);return m.includeDefaultValues=v,y})}var g=s.Object.prototype.toDatalessObject.call(this,l);return g.objects=u,g},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=s.Object.prototype.shouldCache.call(this);if(l){for(var u=0,d=this._objects.length;u<d;u++)if(this._objects[u].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,u=this._objects.length;l<u;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var u=0,d=this._objects.length;u<d;u++)this._objects[u].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var u=0,d=this._objects.length;u<d;u++)if(this._objects[u].isCacheDirty(!0)){if(this._cacheCanvas){var h=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-h/2,-g/2,h,g)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(u){s.util.addTransformToObject(u,l),delete u.group,u.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,u=this.canvas;this._objects=[];var d=this.toObject();delete d.objects;var h=new s.ActiveSelection([]);return h.set(d),h.type="activeSelection",u.remove(this),l.forEach(function(g){g.group=h,g.dirty=!0,u.add(g)}),h.canvas=u,h._objects=l,u._activeObject=h,h.setCoords(),h}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(u){u.setCoords(l)}),this},_calcBounds:function(l){for(var u=[],d=[],h,g,m,v=["tr","br","bl","tl"],y=0,w=this._objects.length,x,S=v.length;y<w;++y){for(h=this._objects[y],m=h.calcACoords(),x=0;x<S;x++)g=v[x],u.push(m[g].x),d.push(m[g].y);h.aCoords=m}this._getBounds(u,d,l)},_getBounds:function(l,u,d){var h=new s.Point(c(l),c(u)),g=new s.Point(f(l),f(u)),m=h.y||0,v=h.x||0,y=g.x-h.x||0,w=g.y-h.y||0;this.width=y,this.height=w,d||this.setPositionByOrigin({x:v,y:m},"left","top")},_toSVG:function(l){for(var u=["<g ","COMMON_PARTS",` >
`],d=0,h=this._objects.length;d<h;d++)u.push("		",this._objects[d].toSVG(l));return u.push(`</g>
`),u},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",u=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),u].join("")},toClipPathSVG:function(l){for(var u=[],d=0,h=this._objects.length;d<h;d++)u.push("	",this._objects[d].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(u,{reviver:l})}}),s.Group.fromObject=function(l,u){var d=l.objects,h=s.util.object.clone(l,!0);if(delete h.objects,typeof d=="string"){s.loadSVGFromURL(d,function(g){var m=s.util.groupSVGElements(g,l,d),v=h.clipPath;delete h.clipPath,m.set(h),v?s.util.enlivenObjects([v],function(y){m.clipPath=y[0],u&&u(m)}):u&&u(m)});return}s.util.enlivenObjects(d,function(g){s.util.enlivenObjectEnlivables(l,h,function(){u&&u(new s.Group(g,h,!0))})})})}(e),function(a){var s=a.fabric||(a.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=s.Object.prototype.toObject.call(this),l=new s.Group([]);if(delete f.type,l.set(f),c.forEach(function(d){d.canvas.remove(d),d.group=l}),l._objects=c,!this.canvas)return l;var u=this.canvas;return u.add(l),u._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,l){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,f),l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var u=0,d=this._objects.length;u<d;u++)this._objects[u]._renderControls(c,l);c.restore()}}),s.ActiveSelection.fromObject=function(c,f){s.util.enlivenObjects(c.objects,function(l){delete c.objects,f&&f(new s.ActiveSelection(l,c,!0))})})}(e),function(a){var s=t.util.object.extend;if(a.fabric||(a.fabric={}),a.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,-l),c.lineTo(f,-l),c.lineTo(f,l),c.lineTo(-f,l),c.lineTo(-f,-l),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(u){u&&f.push(u.toObject())});var l=s(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],l,u=this._element,d=-this.width/2,h=-this.height/2,g="",m="";if(!u)return[];if(this.hasCrop()){var v=t.Object.__uid++;c.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+d+'" y="'+h+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(m='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',d-this.cropX,'" y="',h-this.cropY,'" width="',u.width||u.naturalWidth,'" height="',u.height||u.height,m,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,l=["	<rect ",'x="',d,'" y="',h,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?c=c.concat(l,f):c=c.concat(f,l),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,l){return t.util.loadImage(c,function(u,d){this.setElement(u,l),this._setWidthHeight(),f&&f(this,d)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),u=l.scaleX,d=l.scaleY,h=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||u>f&&d>f){this._element=h,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=u,this._lastScaleY=d;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),m=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=h.width,y=h.height;g.width=v,g.height=y,this._element=g,this._lastScaleX=c.scaleX=u,this._lastScaleY=c.scaleY=d,t.filterBackend.applyFilters([c],h,v,y,this._element,m),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(h){return h&&!h.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,l=f.naturalWidth||f.width,u=f.naturalHeight||f.height;if(this._element===this._originalElement){var d=t.util.createCanvasElement();d.width=l,d.height=u,this._element=d,this._filteredEl=d}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,u),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(c,this._originalElement,l,u,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var l=this._filterScalingX,u=this._filterScalingY,d=this.width,h=this.height,g=Math.min,m=Math.max,v=m(this.cropX,0),y=m(this.cropY,0),w=f.naturalWidth||f.width,x=f.naturalHeight||f.height,S=v*l,C=y*u,E=g(d*l,w-S),k=g(h*u,x-C),L=-d/2,B=-h/2,G=g(d,w/l-v),z=g(h,x/u-y);f&&c.drawImage(f,S,C,E,k,L,B,G,z)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(t.util.getById(c),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?t.util.enlivenObjects(c,function(l){f&&f(l)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,l=this._element.height,u=1,d=1,h=0,g=0,m=0,v=0,y,w=this.width,x=this.height,S={width:w,height:x};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(u=d=t.util.findScaleToFit(this._element,S),y=(w-f*u)/2,c.alignX==="Min"&&(h=-y),c.alignX==="Max"&&(h=y),y=(x-l*d)/2,c.alignY==="Min"&&(g=-y),c.alignY==="Max"&&(g=y)),c.meetOrSlice==="slice"&&(u=d=t.util.findScaleToCover(this._element,S),y=f-w/u,c.alignX==="Mid"&&(m=y/2),c.alignX==="Max"&&(m=y),y=l-x/d,c.alignY==="Mid"&&(v=y/2),c.alignY==="Max"&&(v=y),f=w/u,l=x/d)):(u=w/f,d=x/l),{width:f,height:l,scaleX:u,scaleY:d,offsetLeft:h,offsetTop:g,cropX:m,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(c,f){var l=t.util.object.clone(c);t.util.loadImage(l.src,function(u,d){if(d){f&&f(null,!0);return}t.Image.prototype._initFilters.call(l,l.filters,function(h){l.filters=h||[],t.Image.prototype._initFilters.call(l,[l.resizeFilter],function(g){l.resizeFilter=g[0],t.util.enlivenObjectEnlivables(l,l,function(){var m=new t.Image(u,l);f(m,!1)})})})},null,l.crossOrigin)},t.Image.fromURL=function(c,f,l){t.util.loadImage(c,function(u,d){f&&f(new t.Image(u,l),d)},null,l&&l.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(c,f,l){var u=t.parseAttributes(c,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(u["xlink:href"],f,s(l?t.util.object.clone(l):{},u))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var a=this.angle%360;return a>0?Math.round((a-1)/90)*90:Math.round(a/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(a){a=a||{};var s=function(){},c=a.onComplete||s,f=a.onChange||s,l=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(u){l.rotate(u),f()},onComplete:function(){l.setCoords(),c()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(a){return a.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(a){return a.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function a(c,f){var l="precision "+f+` float;
void main(){}`,u=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(u,l),c.compileShader(u),!!c.getShaderParameter(u,c.COMPILE_STATUS)}t.isWebglSupported=function(c){if(t.isLikelyNode)return!1;c=c||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),l=f.getContext("webgl")||f.getContext("experimental-webgl"),u=!1;if(l){t.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),u=t.maxTextureSize>=c;for(var d=["highp","mediump","lowp"],h=0;h<3;h++)if(a(l,d[h])){t.webGlPrecision=d[h];break}}return this.isSupported=u,u},t.WebglFilterBackend=s;function s(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var l=typeof window.performance<"u",u;try{new ImageData(1,1),u=!0}catch{u=!1}var d=typeof ArrayBuffer<"u",h=typeof Uint8ClampedArray<"u";if(l&&u&&d&&h){var g=t.util.createCanvasElement(),m=new ArrayBuffer(c*f*4);if(t.forceGLPutImageData){this.imageBuffer=m,this.copyGLTo2D=p;return}var v={imageBuffer:m,destinationWidth:c,destinationHeight:f,targetCanvas:g},y,w,x;g.width=c,g.height=f,y=window.performance.now(),o.call(v,this.gl,v),w=window.performance.now()-y,y=window.performance.now(),p.call(v,this.gl,v),x=window.performance.now()-y,w>x?(this.imageBuffer=m,this.copyGLTo2D=p):this.copyGLTo2D=o}},createWebGLCanvas:function(c,f){var l=t.util.createCanvasElement();l.width=c,l.height=f;var u={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},d=l.getContext("webgl",u);d||(d=l.getContext("experimental-webgl",u)),d&&(d.clearColor(0,0,0,0),this.canvas=l,this.gl=d)},applyFilters:function(c,f,l,u,d,h){var g=this.gl,m;h&&(m=this.getCachedTexture(h,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:l,sourceHeight:u,destinationWidth:l,destinationHeight:u,context:g,sourceTexture:this.createTexture(g,l,u,!m&&f),targetTexture:this.createTexture(g,l,u),originalTexture:m||this.createTexture(g,l,u,!m&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:d},y=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,y),c.forEach(function(w){w&&w.applyTo(v)}),i(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(y),d.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,l,u,d){var h=c.createTexture();return c.bindTexture(c.TEXTURE_2D,h),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,d||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,d||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),u?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,u):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,l,0,c.RGBA,c.UNSIGNED_BYTE,null),h},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var l=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=l,l},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:o,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var l=c.getExtension("WEBGL_debug_renderer_info");if(l){var u=c.getParameter(l.UNMASKED_RENDERER_WEBGL),d=c.getParameter(l.UNMASKED_VENDOR_WEBGL);u&&(f.renderer=u.toLowerCase()),d&&(f.vendor=d.toLowerCase())}return this.gpuInfo=f,f}}}();function i(a){var s=a.targetCanvas,c=s.width,f=s.height,l=a.destinationWidth,u=a.destinationHeight;(c!==l||f!==u)&&(s.width=l,s.height=u)}function o(a,s){var c=a.canvas,f=s.targetCanvas,l=f.getContext("2d");l.translate(0,f.height),l.scale(1,-1);var u=c.height-f.height;l.drawImage(c,0,u,f.width,f.height,0,0,f.width,f.height)}function p(a,s){var c=s.targetCanvas,f=c.getContext("2d"),l=s.destinationWidth,u=s.destinationHeight,d=l*u*4,h=new Uint8Array(this.imageBuffer,0,d),g=new Uint8ClampedArray(this.imageBuffer,0,d);a.readPixels(0,0,l,u,a.RGBA,a.UNSIGNED_BYTE,h);var m=new ImageData(g,l,u);f.putImageData(m,0,0)}(function(){var a=function(){};t.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:a,dispose:a,clearWebGLCaches:a,resources:{},applyFilters:function(c,f,l,u,d){var h=d.getContext("2d");h.drawImage(f,0,0,l,u);var g=h.getImageData(0,0,l,u),m=h.getImageData(0,0,l,u),v={sourceWidth:l,sourceHeight:u,imageData:g,originalEl:f,originalImageData:m,canvasEl:d,ctx:h,filterBackend:this};return c.forEach(function(y){y.applyTo(v)}),(v.imageData.width!==l||v.imageData.height!==u)&&(d.width=v.imageData.width,d.height=v.imageData.height),h.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(a){a&&this.setOptions(a)},setOptions:function(a){for(var s in a)this[s]=a[s]},createProgram:function(a,s,c){s=s||this.fragmentSource,c=c||this.vertexSource,t.webGlPrecision!=="highp"&&(s=s.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(f,c),a.compileShader(f),!a.getShaderParameter(f,a.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+a.getShaderInfoLog(f));var l=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(l,s),a.compileShader(l),!a.getShaderParameter(l,a.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+a.getShaderInfoLog(l));var u=a.createProgram();if(a.attachShader(u,f),a.attachShader(u,l),a.linkProgram(u),!a.getProgramParameter(u,a.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+a.getProgramInfoLog(u));var d=this.getAttributeLocations(a,u),h=this.getUniformLocations(a,u)||{};return h.uStepW=a.getUniformLocation(u,"uStepW"),h.uStepH=a.getUniformLocation(u,"uStepH"),{program:u,attributeLocations:d,uniformLocations:h}},getAttributeLocations:function(a,s){return{aPosition:a.getAttribLocation(s,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(a,s,c){var f=s.aPosition,l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(f),a.vertexAttribPointer(f,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,c,a.STATIC_DRAW)},_setupFrameBuffer:function(a){var s=a.context,c,f;a.passes>1?(c=a.destinationWidth,f=a.destinationHeight,(a.sourceWidth!==c||a.sourceHeight!==f)&&(s.deleteTexture(a.targetTexture),a.targetTexture=a.filterBackend.createTexture(s,c,f)),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,a.targetTexture,0)):(s.bindFramebuffer(s.FRAMEBUFFER,null),s.finish())},_swapTextures:function(a){a.passes--,a.pass++;var s=a.targetTexture;a.targetTexture=a.sourceTexture,a.sourceTexture=s},isNeutralState:function(){var a=this.mainParameter,s=t.Image.filters[this.type].prototype;if(a)if(Array.isArray(s[a])){for(var c=s[a].length;c--;)if(this[a][c]!==s[a][c])return!1;return!0}else return s[a]===this[a];else return!1},applyTo:function(a){a.webgl?(this._setupFrameBuffer(a),this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},retrieveShader:function(a){return a.programCache.hasOwnProperty(this.type)||(a.programCache[this.type]=this.createProgram(a.context)),a.programCache[this.type]},applyToWebGL:function(a){var s=a.context,c=this.retrieveShader(a);a.pass===0&&a.originalTexture?s.bindTexture(s.TEXTURE_2D,a.originalTexture):s.bindTexture(s.TEXTURE_2D,a.sourceTexture),s.useProgram(c.program),this.sendAttributeData(s,c.attributeLocations,a.aPosition),s.uniform1f(c.uniformLocations.uStepW,1/a.sourceWidth),s.uniform1f(c.uniformLocations.uStepH,1/a.sourceHeight),this.sendUniformData(s,c.uniformLocations),s.viewport(0,0,a.destinationWidth,a.destinationHeight),s.drawArrays(s.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(a,s,c){a.activeTexture(c),a.bindTexture(a.TEXTURE_2D,s),a.activeTexture(a.TEXTURE0)},unbindAdditionalTexture:function(a,s){a.activeTexture(s),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(a){this[this.mainParameter]=a},sendUniformData:function(){},createHelpLayer:function(a){if(!a.helpLayer){var s=document.createElement("canvas");s.width=a.sourceWidth,s.height=a.sourceHeight,a.helpLayer=s}},toObject:function(){var a={type:this.type},s=this.mainParameter;return s&&(a[s]=this[s]),a},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(a,s){var c=new t.Image.filters[a.type](a);return s&&s(c),c},function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var u=l.imageData,d=u.data,h=d.length,g=this.matrix,m,v,y,w,x,S=this.colorsOnly;for(x=0;x<h;x+=4)m=d[x],v=d[x+1],y=d[x+2],S?(d[x]=m*g[0]+v*g[1]+y*g[2]+g[4]*255,d[x+1]=m*g[5]+v*g[6]+y*g[7]+g[9]*255,d[x+2]=m*g[10]+v*g[11]+y*g[12]+g[14]*255):(w=d[x+3],d[x]=m*g[0]+v*g[1]+y*g[2]+w*g[3]+g[4]*255,d[x+1]=m*g[5]+v*g[6]+y*g[7]+w*g[8]+g[9]*255,d[x+2]=m*g[10]+v*g[11]+y*g[12]+w*g[13]+g[14]*255,d[x+3]=m*g[15]+v*g[16]+y*g[17]+w*g[18]+g[19]*255)},getUniformLocations:function(l,u){return{uColorMatrix:l.getUniformLocation(u,"uColorMatrix"),uConstants:l.getUniformLocation(u,"uConstants")}},sendUniformData:function(l,u){var d=this.matrix,h=[d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]],g=[d[4],d[9],d[14],d[19]];l.uniformMatrix4fv(u.uColorMatrix,!1,h),l.uniform4fv(u.uConstants,g)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var u=l.imageData,d=u.data,h,g=d.length,m=Math.round(this.brightness*255);for(h=0;h<g;h+=4)d[h]=d[h]+m,d[h+1]=d[h+1]+m,d[h+2]=d[h+2]+m}},getUniformLocations:function(l,u){return{uBrightness:l.getUniformLocation(u,"uBrightness")}},sendUniformData:function(l,u){l.uniform1f(u.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.Convolute=l(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(u){var d=Math.sqrt(this.matrix.length),h=this.type+"_"+d+"_"+(this.opaque?1:0),g=this.fragmentSource[h];return u.programCache.hasOwnProperty(h)||(u.programCache[h]=this.createProgram(u.context,g)),u.programCache[h]},applyTo2d:function(u){var d=u.imageData,h=d.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),v=Math.floor(m/2),y=d.width,w=d.height,x=u.ctx.createImageData(y,w),S=x.data,C=this.opaque?1:0,E,k,L,B,G,z,Q,I,M,N,q,H,T;for(q=0;q<w;q++)for(N=0;N<y;N++){for(G=(q*y+N)*4,E=0,k=0,L=0,B=0,T=0;T<m;T++)for(H=0;H<m;H++)Q=q+T-v,z=N+H-v,!(Q<0||Q>=w||z<0||z>=y)&&(I=(Q*y+z)*4,M=g[T*m+H],E+=h[I]*M,k+=h[I+1]*M,L+=h[I+2]*M,C||(B+=h[I+3]*M));S[G]=E,S[G+1]=k,S[G+2]=L,C?S[G+3]=h[G+3]:S[G+3]=B}u.imageData=x},getUniformLocations:function(u,d){return{uMatrix:u.getUniformLocation(d,"uMatrix"),uOpaque:u.getUniformLocation(d,"uOpaque"),uHalfSize:u.getUniformLocation(d,"uHalfSize"),uSize:u.getUniformLocation(d,"uSize")}},sendUniformData:function(u,d){u.uniform1fv(d.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var u=l.imageData,d=u.data,h,g=d.length,m,v=this.mode;for(h=0;h<g;h+=4)v==="average"?m=(d[h]+d[h+1]+d[h+2])/3:v==="lightness"?m=(Math.min(d[h],d[h+1],d[h+2])+Math.max(d[h],d[h+1],d[h+2]))/2:v==="luminosity"&&(m=.21*d[h]+.72*d[h+1]+.07*d[h+2]),d[h]=m,d[h+1]=m,d[h+2]=m},retrieveShader:function(l){var u=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(u)){var d=this.fragmentSource[this.mode];l.programCache[u]=this.createProgram(l.context,d)}return l.programCache[u]},getUniformLocations:function(l,u){return{uMode:l.getUniformLocation(u,"uMode")}},sendUniformData:function(l,u){var d=1;l.uniform1i(u.uMode,d)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var u=l.imageData,d=u.data,h,g=d.length;for(h=0;h<g;h+=4)d[h]=255-d[h],d[h+1]=255-d[h+1],d[h+2]=255-d[h+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,u){return{uInvert:l.getUniformLocation(u,"uInvert")}},sendUniformData:function(l,u){l.uniform1i(u.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.Noise=l(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(u){if(this.noise!==0){var d=u.imageData,h=d.data,g,m=h.length,v=this.noise,y;for(g=0,m=h.length;g<m;g+=4)y=(.5-Math.random())*v,h[g]+=y,h[g+1]+=y,h[g+2]+=y}},getUniformLocations:function(u,d){return{uNoise:u.getUniformLocation(d,"uNoise"),uSeed:u.getUniformLocation(d,"uSeed")}},sendUniformData:function(u,d){u.uniform1f(d.uNoise,this.noise/255),u.uniform1f(d.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var u=l.imageData,d=u.data,h=u.height,g=u.width,m,v,y,w,x,S,C,E,k,L,B;for(v=0;v<h;v+=this.blocksize)for(y=0;y<g;y+=this.blocksize)for(m=v*4*g+y*4,w=d[m],x=d[m+1],S=d[m+2],C=d[m+3],L=Math.min(v+this.blocksize,h),B=Math.min(y+this.blocksize,g),E=v;E<L;E++)for(k=y;k<B;k++)m=E*4*g+k*4,d[m]=w,d[m+1]=x,d[m+2]=S,d[m+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,u){return{uBlocksize:l.getUniformLocation(u,"uBlocksize"),uStepW:l.getUniformLocation(u,"uStepW"),uStepH:l.getUniformLocation(u,"uStepH")}},sendUniformData:function(l,u){l.uniform1f(u.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.extend,f=s.Image.filters,l=s.util.createClass;f.RemoveColor=l(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(u){var d=u.imageData,h=d.data,g,m=this.distance*255,v,y,w,x=new s.Color(this.color).getSource(),S=[x[0]-m,x[1]-m,x[2]-m],C=[x[0]+m,x[1]+m,x[2]+m];for(g=0;g<h.length;g+=4)v=h[g],y=h[g+1],w=h[g+2],v>S[0]&&y>S[1]&&w>S[2]&&v<C[0]&&y<C[1]&&w<C[2]&&(h[g+3]=0)},getUniformLocations:function(u,d){return{uLow:u.getUniformLocation(d,"uLow"),uHigh:u.getUniformLocation(d,"uHigh")}},sendUniformData:function(u,d){var h=new s.Color(this.color).getSource(),g=parseFloat(this.distance),m=[0+h[0]/255-g,0+h[1]/255-g,0+h[2]/255-g,1],v=[h[0]/255+g,h[1]/255+g,h[2]/255+g,1];u.uniform4fv(d.uLow,m),u.uniform4fv(d.uHigh,v)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var u in l)c[u]=f(c.ColorMatrix,{type:u,matrix:l[u],mainParameter:!1,colorsOnly:!0}),s.Image.filters[u].fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric,c=s.Image.filters,f=s.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,d;return l.programCache.hasOwnProperty(u)||(d=this.buildSource(this.mode),l.programCache[u]=this.createProgram(l.context,d)),l.programCache[u]},applyTo2d:function(l){var u=l.imageData,d=u.data,h=d.length,g,m,v,y,w,x,S,C=1-this.alpha;S=new s.Color(this.color).getSource(),g=S[0]*this.alpha,m=S[1]*this.alpha,v=S[2]*this.alpha;for(var E=0;E<h;E+=4)switch(y=d[E],w=d[E+1],x=d[E+2],this.mode){case"multiply":d[E]=y*g/255,d[E+1]=w*m/255,d[E+2]=x*v/255;break;case"screen":d[E]=255-(255-y)*(255-g)/255,d[E+1]=255-(255-w)*(255-m)/255,d[E+2]=255-(255-x)*(255-v)/255;break;case"add":d[E]=y+g,d[E+1]=w+m,d[E+2]=x+v;break;case"diff":case"difference":d[E]=Math.abs(y-g),d[E+1]=Math.abs(w-m),d[E+2]=Math.abs(x-v);break;case"subtract":d[E]=y-g,d[E+1]=w-m,d[E+2]=x-v;break;case"darken":d[E]=Math.min(y,g),d[E+1]=Math.min(w,m),d[E+2]=Math.min(x,v);break;case"lighten":d[E]=Math.max(y,g),d[E+1]=Math.max(w,m),d[E+2]=Math.max(x,v);break;case"overlay":d[E]=g<128?2*y*g/255:255-2*(255-y)*(255-g)/255,d[E+1]=m<128?2*w*m/255:255-2*(255-w)*(255-m)/255,d[E+2]=v<128?2*x*v/255:255-2*(255-x)*(255-v)/255;break;case"exclusion":d[E]=g+y-2*g*y/255,d[E+1]=m+w-2*m*w/255,d[E+2]=v+x-2*v*x/255;break;case"tint":d[E]=g+y*C,d[E+1]=m+w*C,d[E+2]=v+x*C}},getUniformLocations:function(l,u){return{uColor:l.getUniformLocation(u,"uColor")}},sendUniformData:function(l,u){var d=new s.Color(this.color).getSource();d[0]=this.alpha*d[0]/255,d[1]=this.alpha*d[1]/255,d[2]=this.alpha*d[2]/255,d[3]=this.alpha,l.uniform4fv(u.uColor,d)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric,c=s.Image.filters,f=s.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var u=this.type+"_"+this.mode,d=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(u)||(l.programCache[u]=this.createProgram(l.context,d)),l.programCache[u]},applyToWebGL:function(l){var u=l.context,d=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(u,d,u.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(u,u.TEXTURE1)},createTexture:function(l,u){return l.getCachedTexture(u.cacheKey,u._element)},calculateMatrix:function(){var l=this.image,u=l._element.width,d=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/u,-l.top/d,1]},applyTo2d:function(l){var u=l.imageData,d=l.filterBackend.resources,h=u.data,g=h.length,m=u.width,v=u.height,y,w,x,S,C,E,k,L,B,G,z=this.image,Q;d.blendImage||(d.blendImage=s.util.createCanvasElement()),B=d.blendImage,G=B.getContext("2d"),B.width!==m||B.height!==v?(B.width=m,B.height=v):G.clearRect(0,0,m,v),G.setTransform(z.scaleX,0,0,z.scaleY,z.left,z.top),G.drawImage(z._element,0,0,m,v),Q=G.getImageData(0,0,m,v).data;for(var I=0;I<g;I+=4)switch(C=h[I],E=h[I+1],k=h[I+2],L=h[I+3],y=Q[I],w=Q[I+1],x=Q[I+2],S=Q[I+3],this.mode){case"multiply":h[I]=C*y/255,h[I+1]=E*w/255,h[I+2]=k*x/255,h[I+3]=L*S/255;break;case"mask":h[I+3]=S;break}},getUniformLocations:function(l,u){return{uTransformMatrix:l.getUniformLocation(u,"uTransformMatrix"),uImage:l.getUniformLocation(u,"uImage")}},sendUniformData:function(l,u){var d=this.calculateMatrix();l.uniform1i(u.uImage,1),l.uniformMatrix3fv(u.uTransformMatrix,!1,d)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(l,u){s.Image.fromObject(l.image,function(d){var h=s.util.object.clone(l);h.image=d,u(new s.Image.filters.BlendImage(h))})}}(e),function(a){var s=a.fabric||(a.fabric={}),c=Math.pow,f=Math.floor,l=Math.sqrt,u=Math.abs,d=Math.round,h=Math.sin,g=Math.ceil,m=s.Image.filters,v=s.util.createClass;m.Resize=v(m.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,w){return{uDelta:y.getUniformLocation(w,"uDelta"),uTaps:y.getUniformLocation(w,"uTaps")}},sendUniformData:function(y,w){y.uniform2fv(w.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(w.uTaps,this.taps)},retrieveShader:function(y){var w=this.getFilterWindow(),x=this.type+"_"+w;if(!y.programCache.hasOwnProperty(x)){var S=this.generateShader(w);y.programCache[x]=this.createProgram(y.context,S)}return y.programCache[x]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),w=this.tempScale,x=this.getFilterWindow(),S=new Array(x),C=1;C<=x;C++)S[C-1]=y(C*w);return S},generateShader:function(S){for(var w=new Array(S),x=this.fragmentSourceTOP,S,C=1;C<=S;C++)w[C-1]=C+".0 * uDelta";return x+="uniform float uTaps["+S+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,w.forEach(function(E,k){x+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+k+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+k+`];
`,x+="  sum += 2.0 * uTaps["+k+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(w){if(w>=y||w<=-y)return 0;if(w<11920929e-14&&w>-11920929e-14)return 1;w*=Math.PI;var x=w/y;return h(w)/w*h(x)/x}},applyTo2d:function(y){var w=y.imageData,x=this.scaleX,S=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/S;var C=w.width,E=w.height,k=d(C*x),L=d(E*S),B;this.resizeType==="sliceHack"?B=this.sliceByTwo(y,C,E,k,L):this.resizeType==="hermite"?B=this.hermiteFastResize(y,C,E,k,L):this.resizeType==="bilinear"?B=this.bilinearFiltering(y,C,E,k,L):this.resizeType==="lanczos"&&(B=this.lanczosResize(y,C,E,k,L)),y.imageData=B},sliceByTwo:function(y,w,x,S,C){var E=y.imageData,k=.5,L=!1,B=!1,G=w*k,z=x*k,Q=s.filterBackend.resources,I,M,N=0,q=0,H=w,T=0;for(Q.sliceByTwo||(Q.sliceByTwo=document.createElement("canvas")),I=Q.sliceByTwo,(I.width<w*1.5||I.height<x)&&(I.width=w*1.5,I.height=x),M=I.getContext("2d"),M.clearRect(0,0,w*1.5,x),M.putImageData(E,0,0),S=f(S),C=f(C);!L||!B;)w=G,x=z,S<f(G*k)?G=f(G*k):(G=S,L=!0),C<f(z*k)?z=f(z*k):(z=C,B=!0),M.drawImage(I,N,q,w,x,H,T,G,z),N=H,q=T,T+=z;return M.getImageData(N,q,S,C)},lanczosResize:function(y,w,x,S,C){function E(R){var O,V,D,P,F,j,X,Y,J,te,ce;for(T.x=(R+.5)*z,$.x=f(T.x),O=0;O<C;O++){for(T.y=(O+.5)*Q,$.y=f(T.y),F=0,j=0,X=0,Y=0,J=0,V=$.x-N;V<=$.x+N;V++)if(!(V<0||V>=w)){te=f(1e3*u(V-T.x)),H[te]||(H[te]={});for(var ee=$.y-q;ee<=$.y+q;ee++)ee<0||ee>=x||(ce=f(1e3*u(ee-T.y)),H[te][ce]||(H[te][ce]=G(l(c(te*I,2)+c(ce*M,2))/1e3)),D=H[te][ce],D>0&&(P=(ee*w+V)*4,F+=D,j+=D*k[P],X+=D*k[P+1],Y+=D*k[P+2],J+=D*k[P+3]))}P=(O*S+R)*4,B[P]=j/F,B[P+1]=X/F,B[P+2]=Y/F,B[P+3]=J/F}return++R<S?E(R):L}var k=y.imageData.data,L=y.ctx.createImageData(S,C),B=L.data,G=this.lanczosCreate(this.lanczosLobes),z=this.rcpScaleX,Q=this.rcpScaleY,I=2/this.rcpScaleX,M=2/this.rcpScaleY,N=g(z*this.lanczosLobes/2),q=g(Q*this.lanczosLobes/2),H={},T={},$={};return E(0)},bilinearFiltering:function(y,w,x,S,C){var E,k,L,B,G,z,Q,I,M,N,q,H,T=0,$,R=this.rcpScaleX,O=this.rcpScaleY,V=4*(w-1),D=y.imageData,P=D.data,F=y.ctx.createImageData(S,C),j=F.data;for(Q=0;Q<C;Q++)for(I=0;I<S;I++)for(G=f(R*I),z=f(O*Q),M=R*I-G,N=O*Q-z,$=4*(z*w+G),q=0;q<4;q++)E=P[$+q],k=P[$+4+q],L=P[$+V+q],B=P[$+V+4+q],H=E*(1-M)*(1-N)+k*M*(1-N)+L*N*(1-M)+B*M*N,j[T++]=H;return F},hermiteFastResize:function(y,w,x,S,C){for(var E=this.rcpScaleX,k=this.rcpScaleY,L=g(E/2),B=g(k/2),G=y.imageData,z=G.data,Q=y.ctx.createImageData(S,C),I=Q.data,M=0;M<C;M++)for(var N=0;N<S;N++){for(var q=(N+M*S)*4,H=0,T=0,$=0,R=0,O=0,V=0,D=0,P=(M+.5)*k,F=f(M*k);F<(M+1)*k;F++)for(var j=u(P-(F+.5))/B,X=(N+.5)*E,Y=j*j,J=f(N*E);J<(N+1)*E;J++){var te=u(X-(J+.5))/L,ce=l(Y+te*te);ce>1&&ce<-1||(H=2*ce*ce*ce-3*ce*ce+1,H>0&&(te=4*(J+F*w),D+=H*z[te+3],$+=H,z[te+3]<255&&(H=H*z[te+3]/250),R+=H*z[te],O+=H*z[te+1],V+=H*z[te+2],T+=H))}I[q]=R/T,I[q+1]=O/T,I[q+2]=V/T,I[q+3]=D/$}return Q},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var u=l.imageData,d,g,h=u.data,g=h.length,m=Math.floor(this.contrast*255),v=259*(m+255)/(255*(259-m));for(d=0;d<g;d+=4)h[d]=v*(h[d]-128)+128,h[d+1]=v*(h[d+1]-128)+128,h[d+2]=v*(h[d+2]-128)+128}},getUniformLocations:function(l,u){return{uContrast:l.getUniformLocation(u,"uContrast")}},sendUniformData:function(l,u){l.uniform1f(u.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var u=l.imageData,d=u.data,h=d.length,g=-this.saturation,m,v;for(m=0;m<h;m+=4)v=Math.max(d[m],d[m+1],d[m+2]),d[m]+=v!==d[m]?(v-d[m])*g:0,d[m+1]+=v!==d[m+1]?(v-d[m+1])*g:0,d[m+2]+=v!==d[m+2]?(v-d[m+2])*g:0}},getUniformLocations:function(l,u){return{uSaturation:l.getUniformLocation(u,"uSaturation")}},sendUniformData:function(l,u){l.uniform1f(u.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var u=l.imageData,d=u.data,h=d.length,g=-this.vibrance,m,v,y,w;for(m=0;m<h;m+=4)v=Math.max(d[m],d[m+1],d[m+2]),y=(d[m]+d[m+1]+d[m+2])/3,w=Math.abs(v-y)*2/255*g,d[m]+=v!==d[m]?(v-d[m])*w:0,d[m+1]+=v!==d[m+1]?(v-d[m+1])*w:0,d[m+2]+=v!==d[m+2]?(v-d[m+2])*w:0}},getUniformLocations:function(l,u){return{uVibrance:l.getUniformLocation(u,"uVibrance")}},sendUniformData:function(l,u){l.uniform1f(u.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var u=l.filterBackend.resources,d,h,g=l.imageData.width,m=l.imageData.height;u.blurLayer1||(u.blurLayer1=s.util.createCanvasElement(),u.blurLayer2=s.util.createCanvasElement()),d=u.blurLayer1,h=u.blurLayer2,(d.width!==g||d.height!==m)&&(h.width=d.width=g,h.height=d.height=m);var v=d.getContext("2d"),y=h.getContext("2d"),w=15,x,S,C,E,k=this.blur*.06*.5;for(v.putImageData(l.imageData,0,0),y.clearRect(0,0,g,m),E=-w;E<=w;E++)x=(Math.random()-.5)/4,S=E/w,C=k*S*g+x,y.globalAlpha=1-Math.abs(S),y.drawImage(d,C,x),v.drawImage(h,0,0),y.globalAlpha=1,y.clearRect(0,0,h.width,h.height);for(E=-w;E<=w;E++)x=(Math.random()-.5)/4,S=E/w,C=k*S*m+x,y.globalAlpha=1-Math.abs(S),y.drawImage(d,x,C),v.drawImage(h,0,0),y.globalAlpha=1,y.clearRect(0,0,h.width,h.height);l.ctx.drawImage(d,0,0);var L=l.ctx.getImageData(0,0,d.width,d.height);return v.globalAlpha=1,v.clearRect(0,0,d.width,d.height),L},getUniformLocations:function(l,u){return{delta:l.getUniformLocation(u,"uDelta")}},sendUniformData:function(l,u){var d=this.chooseRightDelta();l.uniform2fv(u.delta,d)},chooseRightDelta:function(){var l=1,u=[0,0],d;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),d=l*this.blur*.12,this.horizontal?u[0]=d:u[1]=d,u}}),c.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var u=l.imageData,d=u.data,h=this.gamma,g=d.length,m=1/h[0],v=1/h[1],y=1/h[2],w;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),w=0,g=256;w<g;w++)this.rVals[w]=Math.pow(w/255,m)*255,this.gVals[w]=Math.pow(w/255,v)*255,this.bVals[w]=Math.pow(w/255,y)*255;for(w=0,g=d.length;w<g;w+=4)d[w]=this.rVals[d[w]],d[w+1]=this.gVals[d[w+1]],d[w+2]=this.bVals[d[w+2]]},getUniformLocations:function(l,u){return{uGamma:l.getUniformLocation(u,"uGamma")}},sendUniformData:function(l,u){l.uniform3fv(u.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(u){u.applyTo(l)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(l,u){var d=l.subFilters||[],h=d.map(function(m){return new s.Image.filters[m.type](m)}),g=new s.Image.filters.Composed({subFilters:h});return u&&u(g),g}}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.Image.filters,f=s.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,u=s.util.cos(l),d=s.util.sin(l),h=1/3,g=Math.sqrt(h)*d,m=1-u;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=u+m/3,this.matrix[1]=h*m-g,this.matrix[2]=h*m+g,this.matrix[5]=h*m+g,this.matrix[6]=u+h*m,this.matrix[7]=h*m-g,this.matrix[10]=h*m-g,this.matrix[11]=h*m+g,this.matrix[12]=u+h*m},isNeutralState:function(l){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,l)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(e),function(a){var s=a.fabric||(a.fabric={}),c=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(f),cacheProperties:s.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,u){this.styles=u?u.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",u),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=s.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,u,d,h,g,m,v,y=0,w=this._textLines.length;y<w;y++)if(!(this.textAlign!=="justify"&&(y===w-1||this.isEndOfWrapping(y)))&&(h=0,g=this._textLines[y],u=this.getLineWidth(y),u<this.width&&(v=this.textLines[y].match(this._reSpacesAndTabs)))){d=v.length,l=(this.width-u)/d;for(var x=0,S=g.length;x<=S;x++)m=this.__charBounds[y][x],this._reSpaceAndTab.test(g[x])?(m.width+=l,m.kernedWidth+=l,m.left+=h,h+=l):m.left+=h}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),u=this.fontSize;return l.width+=u*l.zoomX,l.height+=u*l.zoomY,l},_render:function(l){var u=this.path;u&&!u.isNotVisible()&&u._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,u,d){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(u,d)},calcTextWidth:function(){for(var l=this.getLineWidth(0),u=1,d=this._textLines.length;u<d;u++){var h=this.getLineWidth(u);h>l&&(l=h)}return l},_renderTextLine:function(l,u,d,h,g,m){this._renderChars(l,u,d,h,g,m)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var u,d,h=l.fillStyle,g,m,v=this._getLeftOffset(),y=this._getTopOffset(),w=0,x=0,S,C,E=this.path,k,L=0,B=this._textLines.length;L<B;L++){if(u=this.getHeightOfLine(L),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",L)){y+=u;continue}g=this._textLines[L],d=this._getLineLeftOffset(L),x=0,w=0,m=this.getValueOfPropertyAt(L,0,"textBackgroundColor");for(var G=0,z=g.length;G<z;G++)S=this.__charBounds[L][G],C=this.getValueOfPropertyAt(L,G,"textBackgroundColor"),E?(l.save(),l.translate(S.renderLeft,S.renderTop),l.rotate(S.angle),l.fillStyle=C,C&&l.fillRect(-S.width/2,-u/this.lineHeight*(1-this._fontSizeFraction),S.width,u/this.lineHeight),l.restore()):C!==m?(k=v+d+w,this.direction==="rtl"&&(k=this.width-k-x),l.fillStyle=m,m&&l.fillRect(k,y,x,u/this.lineHeight),w=S.left,x=S.width,m=C):x+=S.kernedWidth;C&&!E&&(k=v+d+w,this.direction==="rtl"&&(k=this.width-k-x),l.fillStyle=C,l.fillRect(k,y,x,u/this.lineHeight)),y+=u}l.fillStyle=h,this._removeShadow(l)}},getFontCache:function(l){var u=l.fontFamily.toLowerCase();s.charWidthsCache[u]||(s.charWidthsCache[u]={});var d=s.charWidthsCache[u],h=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return d[h]||(d[h]={}),d[h]},_measureChar:function(l,u,d,h){var g=this.getFontCache(u),m=this._getFontDeclaration(u),v=this._getFontDeclaration(h),y=d+l,w=m===v,x,S,C,E=u.fontSize/this.CACHE_FONT_SIZE,k;if(d&&g[d]!==void 0&&(C=g[d]),g[l]!==void 0&&(k=x=g[l]),w&&g[y]!==void 0&&(S=g[y],k=S-C),x===void 0||C===void 0||S===void 0){var L=this.getMeasuringContext();this._setTextStyles(L,u,!0)}return x===void 0&&(k=x=L.measureText(l).width,g[l]=x),C===void 0&&w&&d&&(C=L.measureText(d).width,g[d]=C),w&&S===void 0&&(S=L.measureText(y).width,g[y]=S,k=S-C),{width:x*E,kernedWidth:k*E}},getHeightOfChar:function(l,u){return this.getValueOfPropertyAt(l,u,"fontSize")},measureLine:function(l){var u=this._measureLine(l);return this.charSpacing!==0&&(u.width-=this._getWidthOfCharSpacing()),u.width<0&&(u.width=0),u},_measureLine:function(l){var u=0,d,h,g=this._textLines[l],m,v,y=0,w=new Array(g.length),x=0,S,C,E=this.path,k=this.pathSide==="right";for(this.__charBounds[l]=w,d=0;d<g.length;d++)h=g[d],v=this._getGraphemeBox(h,l,d,m),w[d]=v,u+=v.kernedWidth,m=h;if(w[d]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(C=E.segmentsInfo[E.segmentsInfo.length-1].length,S=s.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":x=k?C-u:0;break;case"center":x=(C-u)/2;break;case"right":x=k?0:C-u;break}for(x+=this.pathStartOffset*(k?-1:1),d=k?g.length-1:0;k?d>=0:d<g.length;k?d--:d++)v=w[d],x>C?x%=C:x<0&&(x+=C),this._setGraphemeOnPath(x,v,S),x+=v.kernedWidth}return{width:u,numOfSpaces:y}},_setGraphemeOnPath:function(l,u,d){var h=l+u.kernedWidth/2,g=this.path,m=s.util.getPointOnPath(g.path,h,g.segmentsInfo);u.renderLeft=m.x-d.x,u.renderTop=m.y-d.y,u.angle=m.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,u,d,h,g){var m=this.getCompleteStyleDeclaration(u,d),v=h?this.getCompleteStyleDeclaration(u,d-1):{},y=this._measureChar(l,m,h,v),w=y.kernedWidth,x=y.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),x+=S,w+=S);var C={width:x,left:0,height:m.fontSize,kernedWidth:w,deltaY:m.deltaY};if(d>0&&!g){var E=this.__charBounds[u][d-1];C.left=E.left+E.width+y.kernedWidth-y.width}return C},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var u=this._textLines[l],d=this.getHeightOfChar(l,0),h=1,g=u.length;h<g;h++)d=Math.max(this.getHeightOfChar(l,h),d);return this.__lineHeights[l]=d*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,u=0,d=0,h=this._textLines.length;d<h;d++)l=this.getHeightOfLine(d),u+=d===h-1?l/this.lineHeight:l;return u},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,u){l.save();for(var d=0,h=this._getLeftOffset(),g=this._getTopOffset(),m=0,v=this._textLines.length;m<v;m++){var y=this.getHeightOfLine(m),w=y/this.lineHeight,x=this._getLineLeftOffset(m);this._renderTextLine(u,l,this._textLines[m],h+x,g+d+w,m),d+=y}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,u,d,h,g,m){var v=this.getHeightOfLine(m),y=this.textAlign.indexOf("justify")!==-1,w,x,S="",C,E=0,k,L=this.path,B=!y&&this.charSpacing===0&&this.isEmptyStyles(m)&&!L,G=this.direction==="ltr",z=this.direction==="ltr"?1:-1,Q,I=u.canvas.getAttribute("dir");if(u.save(),I!==this.direction&&(u.canvas.setAttribute("dir",G?"ltr":"rtl"),u.direction=G?"ltr":"rtl",u.textAlign=G?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,B){this._renderChar(l,u,m,0,d.join(""),h,g,v),u.restore();return}for(var M=0,N=d.length-1;M<=N;M++)k=M===N||this.charSpacing||L,S+=d[M],C=this.__charBounds[m][M],E===0?(h+=z*(C.kernedWidth-C.width),E+=C.width):E+=C.kernedWidth,y&&!k&&this._reSpaceAndTab.test(d[M])&&(k=!0),k||(w=w||this.getCompleteStyleDeclaration(m,M),x=this.getCompleteStyleDeclaration(m,M+1),k=s.util.hasStyleChanged(w,x,!1)),k&&(L?(u.save(),u.translate(C.renderLeft,C.renderTop),u.rotate(C.angle),this._renderChar(l,u,m,M,S,-E/2,0,v),u.restore()):(Q=h,this._renderChar(l,u,m,M,S,Q,g,v)),S="",w=x,h+=z*E,E=0);u.restore()},_applyPatternGradientTransformText:function(l){var u=s.util.createCanvasElement(),d,h=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return u.width=h,u.height=g,d=u.getContext("2d"),d.beginPath(),d.moveTo(0,0),d.lineTo(h,0),d.lineTo(h,g),d.lineTo(0,g),d.closePath(),d.translate(h/2,g/2),d.fillStyle=l.toLive(d),this._applyPatternGradientTransform(d,l),d.fill(),d.createPattern(u,"no-repeat")},handleFiller:function(l,u,d){var h,g;return d.toLive?d.gradientUnits==="percentage"||d.gradientTransform||d.patternTransform?(h=-this.width/2,g=-this.height/2,l.translate(h,g),l[u]=this._applyPatternGradientTransformText(d),{offsetX:h,offsetY:g}):(l[u]=d.toLive(l,this),this._applyPatternGradientTransform(l,d)):(l[u]=d,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,u){return l.lineWidth=u.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",u.stroke)},_setFillStyles:function(l,u){return this.handleFiller(l,"fillStyle",u.fill)},_renderChar:function(l,u,d,h,g,m,v){var y=this._getStyleDeclaration(d,h),w=this.getCompleteStyleDeclaration(d,h),x=l==="fillText"&&w.fill,S=l==="strokeText"&&w.stroke&&w.strokeWidth,C,E;!S&&!x||(u.save(),x&&(C=this._setFillStyles(u,w)),S&&(E=this._setStrokeStyles(u,w)),u.font=this._getFontDeclaration(w),y&&y.textBackgroundColor&&this._removeShadow(u),y&&y.deltaY&&(v+=y.deltaY),x&&u.fillText(g,m-C.offsetX,v-C.offsetY),S&&u.strokeText(g,m-E.offsetX,v-E.offsetY),u.restore())},setSuperscript:function(l,u){return this._setScript(l,u,this.superscript)},setSubscript:function(l,u){return this._setScript(l,u,this.subscript)},_setScript:function(l,u,d){var h=this.get2DCursorLocation(l,!0),g=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"fontSize"),m=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"deltaY"),v={fontSize:g*d.size,deltaY:m+g*d.baseline};return this.setSelectionStyles(v,l,u),this},_getLineLeftOffset:function(l){var u=this.getLineWidth(l),d=this.width-u,h=this.textAlign,g=this.direction,v,m=0,v=this.isEndOfWrapping(l);return h==="justify"||h==="justify-center"&&!v||h==="justify-right"&&!v||h==="justify-left"&&!v?0:(h==="center"&&(m=d/2),h==="right"&&(m=d),h==="justify-center"&&(m=d/2),h==="justify-right"&&(m=d),g==="rtl"&&(m-=d),m)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var u=this.measureLine(l),d=u.width;return this.__lineWidths[l]=d,d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,u,d){var h=this._getStyleDeclaration(l,u);return h&&typeof h[d]<"u"?h[d]:this[d]},_renderTextDecoration:function(l,u){if(!(!this[u]&&!this.styleHas(u))){for(var d,h,g,m,v,y,w,x,S=this._getLeftOffset(),C=this._getTopOffset(),E,k,L,B,G,z,Q,I,M=this.path,N=this._getWidthOfCharSpacing(),q=this.offsets[u],H=0,T=this._textLines.length;H<T;H++){if(d=this.getHeightOfLine(H),!this[u]&&!this.styleHas(u,H)){C+=d;continue}w=this._textLines[H],z=d/this.lineHeight,m=this._getLineLeftOffset(H),k=0,L=0,x=this.getValueOfPropertyAt(H,0,u),I=this.getValueOfPropertyAt(H,0,"fill"),E=C+z*(1-this._fontSizeFraction),h=this.getHeightOfChar(H,0),v=this.getValueOfPropertyAt(H,0,"deltaY");for(var $=0,R=w.length;$<R;$++)if(B=this.__charBounds[H][$],G=this.getValueOfPropertyAt(H,$,u),Q=this.getValueOfPropertyAt(H,$,"fill"),g=this.getHeightOfChar(H,$),y=this.getValueOfPropertyAt(H,$,"deltaY"),M&&G&&Q)l.save(),l.fillStyle=I,l.translate(B.renderLeft,B.renderTop),l.rotate(B.angle),l.fillRect(-B.kernedWidth/2,q*g+y,B.kernedWidth,this.fontSize/15),l.restore();else if((G!==x||Q!==I||g!==h||y!==v)&&L>0){var O=S+m+k;this.direction==="rtl"&&(O=this.width-O-L),x&&I&&(l.fillStyle=I,l.fillRect(O,E+q*h+v,L,this.fontSize/15)),k=B.left,L=B.width,x=G,I=Q,h=g,v=y}else L+=B.kernedWidth;var O=S+m+k;this.direction==="rtl"&&(O=this.width-O-L),l.fillStyle=Q,G&&Q&&l.fillRect(O,E+q*h+v,L-N,this.fontSize/15),C+=d}this._removeShadow(l)}},_getFontDeclaration:function(l,u){var d=l||this,h=this.fontFamily,g=s.Text.genericFonts.indexOf(h.toLowerCase())>-1,m=h===void 0||h.indexOf("'")>-1||h.indexOf(",")>-1||h.indexOf('"')>-1||g?d.fontFamily:'"'+d.fontFamily+'"';return[s.isLikelyNode?d.fontWeight:d.fontStyle,s.isLikelyNode?d.fontStyle:d.fontWeight,u?this.CACHE_FONT_SIZE+"px":d.fontSize+"px",m].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var u=l.split(this._reNewline),d=new Array(u.length),h=[`
`],g=[],m=0;m<u.length;m++)d[m]=s.util.string.graphemeSplit(u[m]),g=g.concat(d[m],h);return g.pop(),{_unwrappedLines:d,lines:u,graphemeText:g,graphemeLines:d}},toObject:function(l){var u=f.concat(l),d=this.callSuper("toObject",u);return d.styles=s.util.stylesToArray(this.styles,this.text),d.path&&(d.path=this.path.toObject()),d},set:function(l,u){this.callSuper("set",l,u);var d=!1,h=!1;if(typeof l=="object")for(var g in l)g==="path"&&this.setPathInfo(),d=d||this._dimensionAffectingProps.indexOf(g)!==-1,h=h||g==="path";else d=this._dimensionAffectingProps.indexOf(l)!==-1,h=l==="path";return h&&this.setPathInfo(),d&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(l,u,d){if(!l)return u(null);var h=s.parseAttributes(l,s.Text.ATTRIBUTE_NAMES),g=h.textAnchor||"left";if(d=s.util.object.extend(d?c(d):{},h),d.top=d.top||0,d.left=d.left||0,h.textDecoration){var m=h.textDecoration;m.indexOf("underline")!==-1&&(d.underline=!0),m.indexOf("overline")!==-1&&(d.overline=!0),m.indexOf("line-through")!==-1&&(d.linethrough=!0),delete d.textDecoration}"dx"in h&&(d.left+=h.dx),"dy"in h&&(d.top+=h.dy),"fontSize"in d||(d.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in l?v=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(v=l.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=d.strokeWidth;d.strokeWidth=0;var w=new s.Text(v,d),x=w.getScaledHeight()/w.height,S=(w.height+w.strokeWidth)*w.lineHeight-w.height,C=S*x,E=w.getScaledHeight()+C,k=0;g==="center"&&(k=w.getScaledWidth()/2),g==="right"&&(k=w.getScaledWidth()),w.set({left:w.left-k,top:w.top-(E-w.fontSize*(.07+w._fontSizeFraction))/w.lineHeight,strokeWidth:typeof y<"u"?y:1}),u(w)},s.Text.fromObject=function(l,u){var d=c(l),h=l.path;return delete d.path,s.Object._fromObject("Text",d,function(g){g.styles=s.util.stylesFromArray(l.styles,l.text),h?s.Object._fromObject("Path",h,function(m){g.set("path",m),u(g)},"path"):u(g)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(a){if(!this.styles||typeof a<"u"&&!this.styles[a])return!0;var s=typeof a>"u"?this.styles:{line:this.styles[a]};for(var c in s)for(var f in s[c])for(var l in s[c][f])return!1;return!0},styleHas:function(a,s){if(!this.styles||!a||a===""||typeof s<"u"&&!this.styles[s])return!1;var c=typeof s>"u"?this.styles:{0:this.styles[s]};for(var f in c)for(var l in c[f])if(typeof c[f][l][a]<"u")return!0;return!1},cleanStyle:function(a){if(!this.styles||!a||a==="")return!1;var s=this.styles,c=0,f,l,u=!0,d=0,h;for(var g in s){f=0;for(var m in s[g]){var h=s[g][m],v=h.hasOwnProperty(a);c++,v?(l?h[a]!==l&&(u=!1):l=h[a],h[a]===this[a]&&delete h[a]):u=!1,Object.keys(h).length!==0?f++:delete s[g][m]}f===0&&delete s[g]}for(var y=0;y<this._textLines.length;y++)d+=this._textLines[y].length;u&&c===d&&(this[a]=l,this.removeStyle(a))},removeStyle:function(a){if(!(!this.styles||!a||a==="")){var s=this.styles,c,f,l;for(f in s){c=s[f];for(l in c)delete c[l][a],Object.keys(c[l]).length===0&&delete c[l];Object.keys(c).length===0&&delete s[f]}}},_extendStyles:function(a,s){var c=this.get2DCursorLocation(a);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),s)},get2DCursorLocation:function(a,s){typeof a>"u"&&(a=this.selectionStart);for(var c=s?this._unwrappedTextLines:this._textLines,f=c.length,l=0;l<f;l++){if(a<=c[l].length)return{lineIndex:l,charIndex:a};a-=c[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:c[l-1].length<a?c[l-1].length:a}},getSelectionStyles:function(a,s,c){typeof a>"u"&&(a=this.selectionStart||0),typeof s>"u"&&(s=this.selectionEnd||a);for(var f=[],l=a;l<s;l++)f.push(this.getStyleAtPosition(l,c));return f},getStyleAtPosition:function(a,s){var c=this.get2DCursorLocation(a),f=s?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(a,s,c){typeof s>"u"&&(s=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||s);for(var f=s;f<c;f++)this._extendStyles(f,a);return this._forceClearCache=!0,this},_getStyleDeclaration:function(a,s){var c=this.styles&&this.styles[a];return c?c[s]:null},getCompleteStyleDeclaration:function(a,s){for(var c=this._getStyleDeclaration(a,s)||{},f={},l,u=0;u<this._styleProperties.length;u++)l=this._styleProperties[u],f[l]=typeof c[l]>"u"?this[l]:c[l];return f},_setStyleDeclaration:function(a,s,c){this.styles[a][s]=c},_deleteStyleDeclaration:function(a,s){delete this.styles[a][s]},_getLineStyle:function(a){return!!this.styles[a]},_setLineStyle:function(a){this.styles[a]={}},_deleteLineStyle:function(a){delete this.styles[a]}})}(),function(){function a(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(s,c){this.callSuper("initialize",s,c),this.initBehavior()},setSelectionStart:function(s){s=Math.max(s,0),this._updateAndFire("selectionStart",s)},setSelectionEnd:function(s){s=Math.min(s,this.text.length),this._updateAndFire("selectionEnd",s)},_updateAndFire:function(s,c){this[s]!==c&&(this._fireSelectionChanged(),this[s]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(s){this.clearContextTop(),this.callSuper("render",s),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(s){this.callSuper("_render",s)},clearContextTop:function(s){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),s||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var s=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(s,c):this.renderSelection(s,c),c.restore()}},_clearTextArea:function(s){var c=this.width+4,f=this.height+4;s.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(s){typeof s>"u"&&(s=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),l=this._getCursorBoundariesOffsets(s);return{left:c,top:f,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(s){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,l,u=0,d=0,h,g=this.get2DCursorLocation(s);l=g.charIndex,f=g.lineIndex;for(var m=0;m<f;m++)u+=this.getHeightOfLine(m);c=this._getLineLeftOffset(f);var v=this.__charBounds[f][l];return v&&(d=v.left),this.charSpacing!==0&&l===this._textLines[f].length&&(d-=this._getWidthOfCharSpacing()),h={top:u,left:c+(d>0?d:0)},this.direction==="rtl"&&(h.left*=-1),this.cursorOffsetCache=h,this.cursorOffsetCache},renderCursor:function(s,c){var f=this.get2DCursorLocation(),l=f.lineIndex,u=f.charIndex>0?f.charIndex-1:0,d=this.getValueOfPropertyAt(l,u,"fontSize"),h=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/h,m=s.topOffset,v=this.getValueOfPropertyAt(l,u,"deltaY");m+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-d*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(s,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,u,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(s.left+s.leftOffset-g/2,m+s.top+v,g,d)},renderSelection:function(s,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,u=this.textAlign.indexOf("justify")!==-1,d=this.get2DCursorLocation(f),h=this.get2DCursorLocation(l),g=d.lineIndex,m=h.lineIndex,v=d.charIndex<0?0:d.charIndex,y=h.charIndex<0?0:h.charIndex,w=g;w<=m;w++){var x=this._getLineLeftOffset(w)||0,S=this.getHeightOfLine(w),C=0,E=0,k=0;if(w===g&&(E=this.__charBounds[g][v].left),w>=g&&w<m)k=u&&!this.isEndOfWrapping(w)?this.width:this.getLineWidth(w)||5;else if(w===m)if(y===0)k=this.__charBounds[m][y].left;else{var L=this._getWidthOfCharSpacing();k=this.__charBounds[m][y-1].left+this.__charBounds[m][y-1].width-L}C=S,(this.lineHeight<1||w===m&&this.lineHeight>1)&&(S/=this.lineHeight);var B=s.left+x+E,G=k-E,z=S,Q=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",z=1,Q=S):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(B=this.width-B-G),c.fillRect(B,s.top+s.topOffset+Q,G,z),s.topOffset+=C}},getCurrentCharFontSize:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fontSize")},getCurrentCharColor:function(){var s=this._getCurrentCharIndex();return this.getValueOfPropertyAt(s.l,s.c,"fill")},_getCurrentCharIndex:function(){var s=this.get2DCursorLocation(this.selectionStart,!0),c=s.charIndex>0?s.charIndex-1:0;return{l:s.lineIndex,c}}}),t.IText.fromObject=function(s,c){var f=t.util.stylesFromArray(s.styles,s.text),l=Object.assign({},s,{styles:f});if(a(l),l.styles)for(var u in l.styles)for(var d in l.styles[u])a(l.styles[u][d]);t.Object._fromObject("IText",l,c,"text")}}(),function(){var a=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var s=this;this.on("added",function(){var c=s.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,s._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(s))})},initRemovedHandler:function(){var s=this;this.on("removed",function(){var c=s.canvas;c&&(c._iTextInstances=c._iTextInstances||[],t.util.removeFromArray(c._iTextInstances,s),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,s._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(s){s._mouseUpITextHandler=function(){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.__isMousedown=!1})},s.on("mouse:up",s._mouseUpITextHandler)},_removeCanvasHandlers:function(s){s.off("mouse:up",s._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(s,c,f,l){var u;return u={isAborted:!1,abort:function(){this.isAborted=!0}},s.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){u.isAborted||s[l]()},onChange:function(){s.canvas&&s.selectionStart===s.selectionEnd&&s.renderCursorOrSelection()},abort:function(){return u.isAborted}}),u},_onTickComplete:function(){var s=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){s._currentTickCompleteState=s._animateCursor(s,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(s){var c=this,f=s?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var s=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,s&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(s){var c=0,f=s-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return s-c},findWordBoundaryRight:function(s){var c=0,f=s;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return s+c},findLineBoundaryLeft:function(s){for(var c=0,f=s-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return s-c},findLineBoundaryRight:function(s){for(var c=0,f=s;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return s+c},searchWordBoundary:function(s,c){for(var f=this._text,l=this._reSpace.test(f[s])?s-1:s,u=f[l],d=t.reNonWord;!d.test(u)&&l>0&&l<f.length;)l+=c,u=f[l];return d.test(u)&&(l+=c===1?0:1),l},selectWord:function(s){s=s||this.selectionStart;var c=this.searchWordBoundary(s,-1),f=this.searchWordBoundary(s,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(s){s=s||this.selectionStart;var c=this.findLineBoundaryLeft(s),f=this.findLineBoundaryRight(s);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(s){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(s),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(s){s._iTextInstances&&s._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(s){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(s.e),f=this.selectionStart,l=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===l)&&(f===c||l===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(s,c,f){var l=f.slice(0,s),u=t.util.string.graphemeSplit(l).length;if(s===c)return{selectionStart:u,selectionEnd:u};var d=f.slice(s,c),h=t.util.string.graphemeSplit(d).length;return{selectionStart:u,selectionEnd:u+h}},fromGraphemeToStringSelection:function(s,c,f){var l=f.slice(0,s),u=l.join("").length;if(s===c)return{selectionStart:u,selectionEnd:u};var d=f.slice(s,c),h=d.join("").length;return{selectionStart:u,selectionEnd:u+h}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var s=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=s.selectionStart,this.hiddenTextarea.selectionEnd=s.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var s=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=s.selectionEnd,this.inCompositionMode||(this.selectionStart=s.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var s=this._calcTextareaPosition();this.hiddenTextarea.style.left=s.left,this.hiddenTextarea.style.top=s.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var s=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(s),f=this.get2DCursorLocation(s),l=f.lineIndex,u=f.charIndex,d=this.getValueOfPropertyAt(l,u,"fontSize")*this.lineHeight,h=c.leftOffset,g=this.calcTransformMatrix(),m={x:c.left+h,y:c.top+c.topOffset+d},v=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,w=y.width/v,x=y.height/v,S=w-d,C=x-d,E=y.clientWidth/w,k=y.clientHeight/x;return m=t.util.transformPoint(m,g),m=t.util.transformPoint(m,this.canvas.viewportTransform),m.x*=E,m.y*=k,m.x<0&&(m.x=0),m.x>S&&(m.x=S),m.y<0&&(m.y=0),m.y>C&&(m.y=C),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:d+"px",charHeight:d}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var s=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),s&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),s&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var s in this.styles)this._textLines[s]||delete this.styles[s]},removeStyleFromTo:function(s,c){var f=this.get2DCursorLocation(s,!0),l=this.get2DCursorLocation(c,!0),u=f.lineIndex,d=f.charIndex,h=l.lineIndex,g=l.charIndex,m,v;if(u!==h){if(this.styles[u])for(m=d;m<this._unwrappedTextLines[u].length;m++)delete this.styles[u][m];if(this.styles[h])for(m=g;m<this._unwrappedTextLines[h].length;m++)v=this.styles[h][m],v&&(this.styles[u]||(this.styles[u]={}),this.styles[u][d+m-g]=v);for(m=u+1;m<=h;m++)delete this.styles[m];this.shiftLineStyles(h,u-h)}else if(this.styles[u]){v=this.styles[u];var y=g-d,w,x;for(m=d;m<g;m++)delete v[m];for(x in this.styles[u])w=parseInt(x,10),w>=g&&(v[w-y]=v[x],delete v[x])}},shiftLineStyles:function(s,c){var f=a(this.styles);for(var l in this.styles){var u=parseInt(l,10);u>s&&(this.styles[u+c]=f[u],f[u-c]||delete this.styles[u])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(s,c,f,l){var u,d={},h=!1,g=this._unwrappedTextLines[s].length===c;f||(f=1),this.shiftLineStyles(s,f),this.styles[s]&&(u=this.styles[s][c===0?c:c-1]);for(var m in this.styles[s]){var v=parseInt(m,10);v>=c&&(h=!0,d[v-c]=this.styles[s][m],g&&c===0||delete this.styles[s][m])}var y=!1;for(h&&!g&&(this.styles[s+f]=d,y=!0),y&&f--;f>0;)l&&l[f-1]?this.styles[s+f]={0:a(l[f-1])}:u?this.styles[s+f]={0:a(u)}:delete this.styles[s+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(s,c,f,l){this.styles||(this.styles={});var u=this.styles[s],d=u?a(u):{};f||(f=1);for(var h in d){var g=parseInt(h,10);g>=c&&(u[g+f]=d[g],d[g-f]||delete u[g])}if(this._forceClearCache=!0,l){for(;f--;)Object.keys(l[f]).length&&(this.styles[s]||(this.styles[s]={}),this.styles[s][c+f]=a(l[f]));return}if(u)for(var m=u[c?c-1:1];m&&f--;)this.styles[s][c+f]=a(m)},insertNewStyleBlock:function(s,c,f){for(var l=this.get2DCursorLocation(c,!0),u=[0],d=0,h=0;h<s.length;h++)s[h]===`
`?(d++,u[d]=0):u[d]++;u[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,u[0],f),f=f&&f.slice(u[0]+1)),d&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+u[0],d);for(var h=1;h<d;h++)u[h]>0?this.insertCharStyleObject(l.lineIndex+h,0,u[h],f):f&&this.styles[l.lineIndex+h]&&f[0]&&(this.styles[l.lineIndex+h][0]=f[0]),f=f&&f.slice(u[h]+1);u[h]>0&&this.insertCharStyleObject(l.lineIndex+h,0,u[h],f)},setSelectionStartEndWithShift:function(s,c,f){f<=s?(c===s?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=s),this.selectionStart=f):f>s&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===s?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var s=this.text.length;this.selectionStart>s?this.selectionStart=s:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>s?this.selectionEnd=s:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(a){if(this.canvas){this.__newClickTime=+new Date;var s=a.pointer;this.isTripleClick(s)&&(this.fire("tripleclick",a),this._stopEvent(a.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=s,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(a){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===a.x&&this.__lastPointer.y===a.y},_stopEvent:function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(a){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(a.e))},tripleClickHandler:function(a){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(a.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(a.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(a){if(this.__isMousedown=!1,!(!this.editable||this.group||a.transform&&a.transform.actionPerformed||a.e.button&&a.e.button!==1)){if(this.canvas){var s=this.canvas._activeObject;if(s&&s!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(a.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(a){var s=this.getSelectionStartFromPointer(a),c=this.selectionStart,f=this.selectionEnd;a.shiftKey?this.setSelectionStartEndWithShift(c,f,s):(this.selectionStart=s,this.selectionEnd=s),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(a){for(var s=this.getLocalPointer(a),c=0,f=0,l=0,u=0,d=0,h,g,m=0,v=this._textLines.length;m<v&&l<=s.y;m++)l+=this.getHeightOfLine(m)*this.scaleY,d=m,m>0&&(u+=this._textLines[m-1].length+this.missingNewlineOffset(m-1));h=this._getLineLeftOffset(d),f=h*this.scaleX,g=this._textLines[d],this.direction==="rtl"&&(s.x=this.width*this.scaleX-s.x+f);for(var y=0,w=g.length;y<w&&(c=f,f+=this.__charBounds[d][y].kernedWidth*this.scaleX,f<=s.x);y++)u++;return this._getNewSelectionStartFromOffset(s,c,f,u,w)},_getNewSelectionStartFromOffset:function(a,s,c,f,l){var u=a.x-s,d=c-a.x,h=d>u||d<0?0:1,g=f+h;return this.flipX&&(g=l-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var a=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+a.top+"; left: "+a.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+a.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(a){if(this.isEditing){var s=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(a.keyCode in s)this[s[a.keyCode]](a);else if(a.keyCode in this.ctrlKeysMapDown&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapDown[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),a.keyCode>=33&&a.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(a){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(a.keyCode in this.ctrlKeysMapUp&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapUp[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(a){var s=this.fromPaste;if(this.fromPaste=!1,a&&a.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,l=c.length,u,d,h=l-f,g=this.selectionStart,m=this.selectionEnd,v=g!==m,y,w,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>S.selectionStart;v?(u=this._text.slice(g,m),h+=m-g):l<f&&(C?u=this._text.slice(m+h,m):u=this._text.slice(g,g-h)),d=c.slice(S.selectionEnd-h,S.selectionEnd),u&&u.length&&(d.length&&(y=this.getSelectionStyles(g,g+1,!1),y=d.map(function(){return y[0]})),v?(w=g,x=m):C?(w=m-u.length,x=m):(w=m,x=m+u.length),this.removeStyleFromTo(w,x)),d.length&&(s&&d.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(y=t.copiedTextStyle),this.insertNewStyleBlock(d,g,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(a){this.compositionStart=a.target.selectionStart,this.compositionEnd=a.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(a){return a&&a.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(a,s){var c=this._getLineLeftOffset(a),f;return s>0&&(f=this.__charBounds[a][s-1],c+=f.left+f.width),c},getDownCursorOffset:function(a,s){var c=this._getSelectionForOffset(a,s),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===this._textLines.length-1||a.metaKey||a.keyCode===34)return this._text.length-c;var u=f.charIndex,d=this._getWidthBeforeCursor(l,u),h=this._getIndexOnLine(l+1,d),g=this._textLines[l].slice(u);return g.length+h+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(a,s){return a.shiftKey&&this.selectionStart!==this.selectionEnd&&s?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(a,s){var c=this._getSelectionForOffset(a,s),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===0||a.metaKey||a.keyCode===33)return-c;var u=f.charIndex,d=this._getWidthBeforeCursor(l,u),h=this._getIndexOnLine(l-1,d),g=this._textLines[l].slice(0,u),m=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+h-g.length+(1-m)},_getIndexOnLine:function(a,s){for(var c=this._textLines[a],f=this._getLineLeftOffset(a),l=f,u=0,d,h,g=0,m=c.length;g<m;g++)if(d=this.__charBounds[a][g].width,l+=d,l>s){h=!0;var v=l-d,y=l,w=Math.abs(v-s),x=Math.abs(y-s);u=x<w?g:g-1;break}return h||(u=c.length-1),u},moveCursorDown:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",a)},moveCursorUp:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",a)},_moveCursorUpOrDown:function(a,s){var c="get"+a+"CursorOffset",f=this[c](s,this._selectionDirection==="right");s.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(a){var s=this._selectionDirection==="left"?this.selectionStart+a:this.selectionEnd+a;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,s),a!==0},moveCursorWithoutShift:function(a){return a<0?(this.selectionStart+=a,this.selectionEnd=this.selectionStart):(this.selectionEnd+=a,this.selectionStart=this.selectionEnd),a!==0},moveCursorLeft:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",a)},_move:function(a,s,c){var f;if(a.altKey)f=this["findWordBoundary"+c](this[s]);else if(a.metaKey||a.keyCode===35||a.keyCode===36)f=this["findLineBoundary"+c](this[s]);else return this[s]+=c==="Left"?-1:1,!0;if(typeof f<"u"&&this[s]!==f)return this[s]=f,!0},_moveLeft:function(a,s){return this._move(a,s,"Left")},_moveRight:function(a,s){return this._move(a,s,"Right")},moveCursorLeftWithoutShift:function(a){var s=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(s=this._moveLeft(a,"selectionStart")),this.selectionEnd=this.selectionStart,s},moveCursorLeftWithShift:function(a){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(a,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(a,"selectionStart")},moveCursorRight:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",a)},_moveCursorLeftOrRight:function(a,s){var c="moveCursor"+a+"With";this._currentCursorOpacity=1,s.shiftKey?c+="Shift":c+="outShift",this[c](s)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(a){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(a,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(a,"selectionEnd")},moveCursorRightWithoutShift:function(a){var s=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(s=this._moveRight(a,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,s},removeChars:function(a,s){typeof s>"u"&&(s=a+1),this.removeStyleFromTo(a,s),this._text.splice(a,s-a),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(a,s,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var l=t.util.string.graphemeSplit(a);this.insertNewStyleBlock(l,c,s),this._text=[].concat(this._text.slice(0,c),l,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var a=t.util.toFixed,s=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var f=!0,l=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,f){var l=[],u=[],d=c,h;this._setSVGBg(u);for(var g=0,m=this._textLines.length;g<m;g++)h=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(u,g,f+h,d),this._setSVGTextLineText(l,g,f+h,d),d+=this.getHeightOfLine(g);return{textSpans:l,textBgRects:u}},_createTextCharSpan:function(c,f,l,u){var d=c!==c.trim()||c.match(s),h=this.getSvgSpanStyles(f,d),g=h?'style="'+h+'"':"",m=f.deltaY,v="",y=t.Object.NUM_FRACTION_DIGITS;return m&&(v=' dy="'+a(m,y)+'" '),['<tspan x="',a(l,y),'" y="',a(u,y),'" ',v,g,">",t.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,f,l,u){var d=this.getHeightOfLine(f),h=this.textAlign.indexOf("justify")!==-1,g,m,v="",y,w,x=0,S=this._textLines[f],C;u+=d*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,k=S.length-1;E<=k;E++)C=E===k||this.charSpacing,v+=S[E],y=this.__charBounds[f][E],x===0?(l+=y.kernedWidth-y.width,x+=y.width):x+=y.kernedWidth,h&&!C&&this._reSpaceAndTab.test(S[E])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,E),m=this.getCompleteStyleDeclaration(f,E+1),C=t.util.hasStyleChanged(g,m,!0)),C&&(w=this._getStyleDeclaration(f,E)||{},c.push(this._createTextCharSpan(v,w,l,u)),v="",g=m,l+=x,x=0)},_pushTextBgRect:function(c,f,l,u,d,h){var g=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(f),' x="',a(l,g),'" y="',a(u,g),'" width="',a(d,g),'" height="',a(h,g),`"></rect>
`)},_setSVGTextLineBg:function(c,f,l,u){for(var d=this._textLines[f],h=this.getHeightOfLine(f)/this.lineHeight,g=0,m=0,v,y,w=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),x=0,S=d.length;x<S;x++)v=this.__charBounds[f][x],y=this.getValueOfPropertyAt(f,x,"textBackgroundColor"),y!==w?(w&&this._pushTextBgRect(c,w,l+m,u,g,h),m=v.left,g=v.width,w=y):g+=v.kernedWidth;y&&this._pushTextBgRect(c,y,l+m,u,g,h)},_getFillAttributes:function(c){var f=c&&typeof c=="string"?new t.Color(c):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+c+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var f=0,l=0,u=0;u<c;u++)f+=this.getHeightOfLine(u);return l=this.getHeightOfLine(u),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var f=t.Object.prototype.getSvgStyles.call(this,c);return f+" white-space: pre;"}})}(),function(a){var s=a.fabric||(a.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,l=0,u=0,d={},h=0;h<c.graphemeLines.length;h++)c.graphemeText[u]===`
`&&h>0?(l=0,u++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[u])&&h>0&&(l++,u++),d[h]={line:f,offset:l},u+=c.graphemeLines[h].length,l+=c.graphemeLines[h].length;return d},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[f];l&&(f=l.line)}return s.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,l=c+1,u,d,h=!1,g=this._styleMap[c],m=this._styleMap[c+1];g&&(c=g.line,f=g.offset),m&&(l=m.line,h=l===c,u=m.offset),d=typeof c>"u"?this.styles:{line:this.styles[c]};for(var v in d)for(var y in d[v])if(y>=f&&(!h||y<u))for(var w in d[v][y])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[c];if(!l)return null;c=l.line,f=l.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,l){var u=this._styleMap[c];c=u.line,f=u.offset+f,this.styles[c][f]=l},_deleteStyleDeclaration:function(c,f){var l=this._styleMap[c];c=l.line,f=l.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var l=[],u;for(this.isWrapping=!0,u=0;u<c.length;u++)l=l.concat(this._wrapLine(c[u],u,f));return this.isWrapping=!1,l},_measureWord:function(c,f,l){var u=0,d,h=!0;l=l||0;for(var g=0,m=c.length;g<m;g++){var v=this._getGraphemeBox(c[g],f,g+l,d,h);u+=v.kernedWidth,d=c[g]}return u},_wrapLine:function(c,f,l,B){var d=0,h=this.splitByGrapheme,g=[],m=[],v=h?s.util.string.graphemeSplit(c):c.split(this._wordJoiners),y="",w=0,x=h?"":" ",S=0,C=0,E=0,k=!0,L=this._getWidthOfCharSpacing(),B=B||0;v.length===0&&v.push([]),l-=B;for(var G=0;G<v.length;G++)y=h?v[G]:s.util.string.graphemeSplit(v[G]),S=this._measureWord(y,f,w),w+=y.length,d+=C+S-L,d>l&&!k?(g.push(m),m=[],d=S,k=!0):d+=L,!k&&!h&&m.push(x),m=m.concat(y),C=h?0:this._measureWord([x],f,w),w++,k=!1,S>E&&(E=S);return G&&g.push(m),E+B>this.dynamicMinWidth&&(this.dynamicMinWidth=E-L+B),g},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=s.Text.prototype._splitTextIntoLines.call(this,c),l=this._wrapText(f.lines,this.width),u=new Array(l.length),d=0;d<l.length;d++)u[d]=l[d].join("");return f.lines=u,f.graphemeLines=l,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),s.Textbox.fromObject=function(c,f){var l=s.util.stylesFromArray(c.styles,c.text),u=Object.assign({},c,{styles:l});return s.Object._fromObject("Textbox",u,f,"text")}}(e),function(){var a=t.controlsUtils,s=a.scaleSkewCursorStyleHandler,c=a.scaleCursorStyleHandler,f=a.scalingEqually,l=a.scalingYOrSkewingX,u=a.scalingXOrSkewingY,d=a.scaleOrSkewActionName,h=t.Object.prototype.controls;if(h.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:u,getActionName:d}),h.mr=new t.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:u,getActionName:d}),h.mb=new t.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:l,getActionName:d}),h.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:l,getActionName:d}),h.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),h.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),h.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),h.br=new t.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),h.mtr=new t.Control({x:0,y:-.5,actionHandler:a.rotationWithSnapping,cursorStyleHandler:a.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=h.mtr,g.tr=h.tr,g.br=h.br,g.tl=h.tl,g.bl=h.bl,g.mt=h.mt,g.mb=h.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()})(Na);function ye(...e){return ug(TO(e))}function W0(e){const t=e.split(",")[0].split(":")[1].split(";")[0],n=atob(e.split(",")[1]),r=[];for(let i=0;i<n.length;i+=1)r.push(n.charCodeAt(i));return new Blob([new Uint8Array(r)],{type:t})}function Bc(e,t){return new Promise((n,r)=>{const i=e.src,o=e;o.onload=n,o.onerror=p=>{o.src=i,r(p)},o.src=t})}async function d$(e){const t=URL.createObjectURL(e),n=new Image;return await Bc(n,t),n}function f$(e){return new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>{t(r)}),r.addEventListener("error",i=>{n(i)}),r.src=e.toDataURL()})}function zc(e,t,n){return fetch(e).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],t,{type:n})})}function z1(e,t){return Math.floor(Math.random()*(t-e+1))+e}async function h$(){try{const{state:e}=await navigator.permissions.query({name:"clipboard-write"});return e==="granted"}catch{return!1}}function p$(e,t){return new Promise((n,r)=>e.toBlob(async i=>{i?n(i):r(new Error("Expected toBlob() to be defined"))},t))}function V1(e){const t=atob(e),n=new Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=new Uint8Array(n);return new Blob([r],{type:"image/png"})}const m$=async e=>{const t=[new ClipboardItem({[e.type]:e})];await navigator.clipboard.write(t)};function g$(e){return e.e.button===0}function Y0(e){return e.e.button===1}async function v$(e){const t=await p$(e,"image/png");try{await m$(t)}catch{console.log("Copy image failed!")}}function y$(e,t,n=Cu){e.strokeStyle=n,e.lineCap="round",e.lineJoin="round",t.forEach(r=>{!(r!=null&&r.pts.length)||!r.size||(e.lineWidth=r.size,e.beginPath(),e.moveTo(r.pts[0].x,r.pts[0].y),r.pts.forEach(i=>e.lineTo(i.x,i.y)),e.stroke())})}const X0=(e,t,n,r=[],i="white")=>{const o=document.createElement("canvas");o.width=e,o.height=t;const p=o.getContext("2d");if(!p)throw new Error("could not retrieve mask canvas");return r.forEach(a=>{p.drawImage(a,0,0,e,t)}),n.forEach(a=>{y$(p,a,i)}),o},w$=(e,t,n)=>new Promise((r,i)=>{var o=new Na.fabric.Canvas(null,{width:t,height:n});const p=JSON.parse(e),a=p.objects.filter(c=>c.type==="path"),s={...p,objects:a};o.loadFromJSON(s,()=>{try{const c=o.toDataURL();r(c)}catch(c){i(c)}})}),La=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{var p;const o=(p=i.target)==null?void 0:p.result;t(o)},r.onerror=i=>{n(i)},r.readAsDataURL(e)}),b$=CO,U1=b.forwardRef(({className:e,...t},n)=>_.jsx(E1,{ref:n,className:ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),tabIndex:-1,...t}));U1.displayName=E1.displayName;const x$=Td("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),H1=b.forwardRef(({className:e,variant:t,...n},r)=>_.jsx(T1,{ref:r,className:ye(x$({variant:t}),e),tabIndex:-1,...n}));H1.displayName=T1.displayName;const S$=b.forwardRef(({className:e,...t},n)=>_.jsx(O1,{ref:n,className:ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),tabIndex:-1,...t}));S$.displayName=O1.displayName;const W1=b.forwardRef(({className:e,...t},n)=>_.jsx($1,{ref:n,className:ye("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",tabIndex:-1,...t,children:_.jsx(p1,{className:"h-4 w-4"})}));W1.displayName=$1.displayName;const Y1=b.forwardRef(({className:e,...t},n)=>_.jsx(k1,{ref:n,className:ye("text-sm font-semibold [&+div]:text-xs",e),tabIndex:-1,...t}));Y1.displayName=k1.displayName;const X1=b.forwardRef(({className:e,...t},n)=>_.jsx(P1,{ref:n,className:ye("text-sm opacity-90",e),...t,tabIndex:-1}));X1.displayName=P1.displayName;const _$=1,C$=1e6;let Wf=0;function E$(){return Wf=(Wf+1)%Number.MAX_VALUE,Wf.toString()}const Yf=new Map,G0=e=>{if(Yf.has(e))return;const t=setTimeout(()=>{Yf.delete(e),Fa({type:"REMOVE_TOAST",toastId:e})},C$);Yf.set(e,t)},T$=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_$)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?G0(n):e.toasts.forEach(r=>{G0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vc=[];let Uc={toasts:[]};function Fa(e){Uc=T$(Uc,e),Vc.forEach(t=>{t(Uc)})}function ba({...e}){const t=E$(),n=i=>Fa({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Fa({type:"DISMISS_TOAST",toastId:t});return Fa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function dg(){const[e,t]=b.useState(Uc);return b.useEffect(()=>(Vc.push(t),()=>{const n=Vc.indexOf(t);n>-1&&Vc.splice(n,1)}),[e]),{...e,toast:ba,dismiss:n=>Fa({type:"DISMISS_TOAST",toastId:n})}}function k$(){const{toasts:e}=dg();return _.jsxs(b$,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return _.jsxs(H1,{...o,children:[_.jsxs("div",{className:"grid gap-1",children:[n&&_.jsx(Y1,{children:n}),r&&_.jsx(X1,{children:r})]}),i,_.jsx(W1,{})]},t)}),_.jsx(U1,{})]})}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G1=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var O$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:p,...a},s)=>b.createElement("svg",{ref:s,...O$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:G1("lucide",i),...a},[...p.map(([c,f])=>b.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const n=b.forwardRef(({className:r,...i},o)=>b.createElement($$,{ref:o,iconNode:t,className:G1(`lucide-${P$(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=ft("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=ft("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=ft("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=ft("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=ft("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=ft("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=ft("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=ft("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=ft("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=ft("Slice",[["path",{d:"m8 14-6 6h9v-3",key:"zo3j9a"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z",key:"1dzx0j"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ft("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=ft("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var K$={VITE_BACKEND:"https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",VITE_RUNPOD:"J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",BASE_URL:"/images-project",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function q$(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const p=s=>s===null?null:JSON.parse(s,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(p):p(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const sl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return sl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return sl(r)(n)}}}},Z$=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,v)=>({...v,...m}),...t},p=!1;const a=new Set,s=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const f=sl(o.serialize),l=()=>{const m=o.partialize({...r()});let v;const y=f({state:m,version:o.version}).then(w=>c.setItem(o.name,w)).catch(w=>{v=w});if(v)throw v;return y},u=i.setState;i.setState=(m,v)=>{u(m,v),l()};const d=e((...m)=>{n(...m),l()},r,i);let h;const g=()=>{var m;if(!c)return;p=!1,a.forEach(y=>y(r()));const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,r()))||void 0;return sl(c.getItem.bind(c))(o.name).then(y=>{if(y)return o.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return o.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return h=o.merge(y,(w=r())!=null?w:d),n(h,!0),l()}).then(()=>{v==null||v(h,void 0),p=!0,s.forEach(y=>y(h))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(c=m.getStorage())},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>p,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(s.add(m),()=>{s.delete(m)})},g(),h||d},Q$=(e,t)=>(n,r,i)=>{let o={storage:q$(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...t},p=!1;const a=new Set,s=new Set;let c=o.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,i);const f=()=>{const g=o.partialize({...r()});return c.setItem(o.name,{state:g,version:o.version})},l=i.setState;i.setState=(g,m)=>{l(g,m),f()};const u=e((...g)=>{n(...g),f()},r,i);i.getInitialState=()=>u;let d;const h=()=>{var g,m;if(!c)return;p=!1,a.forEach(y=>{var w;return y((w=r())!=null?w:u)});const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=r())!=null?g:u))||void 0;return sl(c.getItem.bind(c))(o.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return o.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var w;return d=o.merge(y,(w=r())!=null?w:u),n(d,!0),f()}).then(()=>{v==null||v(d,void 0),d=r(),p=!0,s.forEach(y=>y(d))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>h(),hasHydrated:()=>p,onHydrate:g=>(a.add(g),()=>{a.delete(g)}),onFinishHydration:g=>(s.add(g),()=>{s.delete(g)})},o.skipHydration||h(),d||u},J$=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((K$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Z$(e,t)):Q$(e,t),eR=J$;function tR(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var K1=Symbol.for("immer-nothing"),Z0=Symbol.for("immer-draftable"),hn=Symbol.for("immer-state");function zn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cs=Object.getPrototypeOf;function Es(e){return!!e&&!!e[hn]}function fo(e){var t;return e?q1(e)||Array.isArray(e)||!!e[Z0]||!!((t=e.constructor)!=null&&t[Z0])||Pd(e)||Od(e):!1}var nR=Object.prototype.constructor.toString();function q1(e){if(!e||typeof e!="object")return!1;const t=Cs(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===nR}function Eu(e,t){kd(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function kd(e){const t=e[hn];return t?t.type_:Array.isArray(e)?1:Pd(e)?2:Od(e)?3:0}function xp(e,t){return kd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Z1(e,t,n){const r=kd(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function rR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pd(e){return e instanceof Map}function Od(e){return e instanceof Set}function zi(e){return e.copy_||e.base_}function Sp(e,t){if(Pd(e))return new Map(e);if(Od(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=q1(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[hn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const p=i[o],a=r[p];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[p]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[p]})}return Object.create(Cs(e),r)}else{const r=Cs(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function fg(e,t=!1){return $d(e)||Es(e)||!fo(e)||(kd(e)>1&&(e.set=e.add=e.clear=e.delete=iR),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>fg(r,!0))),e}function iR(){zn(2)}function $d(e){return Object.isFrozen(e)}var oR={};function ho(e){const t=oR[e];return t||zn(0,e),t}var al;function Q1(){return al}function sR(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Q0(e,t){t&&(ho("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _p(e){Cp(e),e.drafts_.forEach(aR),e.drafts_=null}function Cp(e){e===al&&(al=e.parent_)}function J0(e){return al=sR(al,e)}function aR(e){const t=e[hn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ey(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[hn].modified_&&(_p(t),zn(4)),fo(e)&&(e=Tu(t,e),t.parent_||ku(t,e)),t.patches_&&ho("Patches").generateReplacementPatches_(n[hn].base_,e,t.patches_,t.inversePatches_)):e=Tu(t,n,[]),_p(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==K1?e:void 0}function Tu(e,t,n){if($d(t))return t;const r=t[hn];if(!r)return Eu(t,(i,o)=>ty(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return ku(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,p=!1;r.type_===3&&(o=new Set(i),i.clear(),p=!0),Eu(o,(a,s)=>ty(e,r,i,a,s,n,p)),ku(e,i,!1),n&&e.patches_&&ho("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ty(e,t,n,r,i,o,p){if(Es(i)){const a=o&&t&&t.type_!==3&&!xp(t.assigned_,r)?o.concat(r):void 0,s=Tu(e,i,a);if(Z1(n,r,s),Es(s))e.canAutoFreeze_=!1;else return}else p&&n.add(i);if(fo(i)&&!$d(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Tu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ku(e,i)}}function ku(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&fg(t,n)}function lR(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Q1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=hg;n&&(i=[r],o=ll);const{revoke:p,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=p,a}var hg={get(e,t){if(t===hn)return e;const n=zi(e);if(!xp(n,t))return cR(e,n,t);const r=n[t];return e.finalized_||!fo(r)?r:r===Xf(e.base_,t)?(Gf(e),e.copy_[t]=Tp(r,e)):r},has(e,t){return t in zi(e)},ownKeys(e){return Reflect.ownKeys(zi(e))},set(e,t,n){const r=J1(zi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Xf(zi(e),t),o=i==null?void 0:i[hn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(rR(n,i)&&(n!==void 0||xp(e.base_,t)))return!0;Gf(e),Ep(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Xf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gf(e),Ep(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=zi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){zn(11)},getPrototypeOf(e){return Cs(e.base_)},setPrototypeOf(){zn(12)}},ll={};Eu(hg,(e,t)=>{ll[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ll.deleteProperty=function(e,t){return ll.set.call(this,e,t,void 0)};ll.set=function(e,t,n){return hg.set.call(this,e[0],t,n,e[0])};function Xf(e,t){const n=e[hn];return(n?zi(n):e)[t]}function cR(e,t,n){var i;const r=J1(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function J1(e,t){if(!(t in e))return;let n=Cs(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cs(n)}}function Ep(e){e.modified_||(e.modified_=!0,e.parent_&&Ep(e.parent_))}function Gf(e){e.copy_||(e.copy_=Sp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uR=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const p=this;return function(s=o,...c){return p.produce(s,f=>n.call(this,f,...c))}}typeof n!="function"&&zn(6),r!==void 0&&typeof r!="function"&&zn(7);let i;if(fo(t)){const o=J0(this),p=Tp(t,void 0);let a=!0;try{i=n(p),a=!1}finally{a?_p(o):Cp(o)}return Q0(o,r),ey(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===K1&&(i=void 0),this.autoFreeze_&&fg(i,!0),r){const o=[],p=[];ho("Patches").generateReplacementPatches_(t,i,o,p),r(o,p)}return i}else zn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(p,...a)=>this.produceWithPatches(p,s=>t(s,...a));let r,i;return[this.produce(t,n,(p,a)=>{r=p,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){fo(e)||zn(8),Es(e)&&(e=dR(e));const t=J0(this),n=Tp(e,void 0);return n[hn].isManual_=!0,Cp(t),n}finishDraft(e,t){const n=e&&e[hn];(!n||!n.isManual_)&&zn(9);const{scope_:r}=n;return Q0(r,t),ey(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ho("Patches").applyPatches_;return Es(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Tp(e,t){const n=Pd(e)?ho("MapSet").proxyMap_(e,t):Od(e)?ho("MapSet").proxySet_(e,t):lR(e,t);return(t?t.scope_:Q1()).drafts_.push(n),n}function dR(e){return Es(e)||zn(10,e),eS(e)}function eS(e){if(!fo(e)||$d(e))return e;const t=e[hn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Sp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Sp(e,!0);return Eu(n,(r,i)=>{Z1(n,r,eS(i))}),t&&(t.finalized_=!1),n}var pn=new uR,fR=pn.produce;pn.produceWithPatches.bind(pn);pn.setAutoFreeze.bind(pn);pn.setUseStrictShallowCopy.bind(pn);pn.applyPatches.bind(pn);pn.createDraft.bind(pn);pn.finishDraft.bind(pn);const hR=e=>(t,n,r)=>(r.setState=(i,o,...p)=>{const a=typeof i=="function"?fR(i):i;return t(a,o,...p)},e(r.setState,n,r)),pR=hR;var tS={exports:{}},nS={},rS={exports:{}},iS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ts=b;function mR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gR=typeof Object.is=="function"?Object.is:mR,vR=Ts.useState,yR=Ts.useEffect,wR=Ts.useLayoutEffect,bR=Ts.useDebugValue;function xR(e,t){var n=t(),r=vR({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return wR(function(){i.value=n,i.getSnapshot=t,Kf(i)&&o({inst:i})},[e,n,t]),yR(function(){return Kf(i)&&o({inst:i}),e(function(){Kf(i)&&o({inst:i})})},[e]),bR(n),n}function Kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gR(e,n)}catch{return!0}}function SR(e,t){return t()}var _R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?SR:xR;iS.useSyncExternalStore=Ts.useSyncExternalStore!==void 0?Ts.useSyncExternalStore:_R;rS.exports=iS;var CR=rS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd=b,ER=CR;function TR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kR=typeof Object.is=="function"?Object.is:TR,PR=ER.useSyncExternalStore,OR=Rd.useRef,$R=Rd.useEffect,RR=Rd.useMemo,AR=Rd.useDebugValue;nS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=OR(null);if(o.current===null){var p={hasValue:!1,value:null};o.current=p}else p=o.current;o=RR(function(){function s(d){if(!c){if(c=!0,f=d,d=r(d),i!==void 0&&p.hasValue){var h=p.value;if(i(h,d))return l=h}return l=d}if(h=l,kR(f,d))return h;var g=r(d);return i!==void 0&&i(h,g)?h:(f=d,l=g)}var c=!1,f,l,u=n===void 0?null:n;return[function(){return s(t())},u===null?void 0:function(){return s(u())}]},[t,n,r,i]);var a=PR(e,o[0],o[1]);return $R(function(){p.hasValue=!0,p.value=a},[a]),AR(a),a};tS.exports=nS;var DR=tS.exports;const MR=cm(DR);var NR={VITE_BACKEND:"https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",VITE_RUNPOD:"J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",BASE_URL:"/images-project",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const ny=e=>{let t;const n=new Set,r=(f,l)=>{const u=typeof f=="function"?f(t):f;if(!Object.is(u,t)){const d=t;t=l??(typeof u!="object"||u===null)?u:Object.assign({},t,u),n.forEach(h=>h(t,d))}},i=()=>t,s={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(NR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,s);return s},LR=e=>e?ny(e):ny,{useDebugValue:FR}=Ce,{useSyncExternalStoreWithSelector:jR}=MR,IR=e=>e;function BR(e,t=IR,n){const r=jR(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return FR(r),r}const ry=(e,t)=>{const n=LR(e),r=(i,o=t)=>BR(n,i,o);return Object.assign(r,n),r},oS=(e,t)=>e?ry(e,t):ry;var qr=(e=>(e.RemoveBG="RemoveBG",e.AnimeSeg="AnimeSeg",e.RealESRGAN="RealESRGAN",e.GFPGAN="GFPGAN",e.RestoreFormer="RestoreFormer",e.InteractiveSeg="InteractiveSeg",e))(qr||{}),sS=(e=>(e.NAME="name",e.CTIME="ctime",e.MTIME="mtime",e))(sS||{}),aS=(e=>(e.DESCENDING="desc",e.ASCENDING="asc",e))(aS||{}),pg=(e=>(e.ddim="ddim",e.plms="plms",e))(pg||{}),mg=(e=>(e.INPAINT_NS="INPAINT_NS",e.INPAINT_TELEA="INPAINT_TELEA",e))(mg||{}),Lt=(e=>(e.x="x",e.y="y",e.xy="xy",e))(Lt||{}),is=(e=>(e.text_guided="text-guided",e.shape_guided="shape-guided",e.object_remove="object-remove",e.outpainting="outpainting",e))(is||{});const zR={plugins:[{name:"RemoveBG",support_gen_image:!0,support_gen_mask:!0}],modelInfos:[{name:"lama",path:"lama",model_type:"inpaint",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"cv2",path:"cv2",model_type:"inpaint",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"runwayml/stable-diffusion-v1-5",path:"runwayml/stable-diffusion-v1-5",model_type:"diffusers_sd",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!0,support_controlnet:!0,support_freeu:!0},{name:"Sanster/PowerPaint-V1-stable-diffusion-inpainting",path:"Sanster/PowerPaint-V1-stable-diffusion-inpainting",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"redstonehero/ReV_Animated_Inpainting",path:"redstonehero/ReV_Animated_Inpainting",model_type:"diffusers_sd",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!0,support_controlnet:!0,support_freeu:!0},{name:"Fantasy-Studio/Paint-by-Example",path:"Fantasy-Studio/Paint-by-Example",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1}],removeBGModel:"briaai/RMBG-1.4",removeBGModels:["u2net","u2netp","u2net_human_seg","u2net_cloth_seg","silueta","isnet-general-use","briaai/RMBG-1.4"],realesrganModel:"realesr-general-x4v3",realesrganModels:["realesr-general-x4v3","RealESRGAN_x4plus","RealESRGAN_x4plus_anime_6B"],interactiveSegModel:"vit_b",interactiveSegModels:["vit_b","vit_l","vit_h","sam_hq_vit_b","sam_hq_vit_l","sam_hq_vit_h","mobile_sam"],enableFileManager:!1,enableAutoSaving:!1,enableControlnet:!1,controlnetMethod:"",disableModelSwitch:!1,isDesktop:!1,samplers:["DPM++ 2M","DPM++ 2M Karras","DPM++ 2M SDE","DPM++ 2M SDE Karras","DPM++ SDE","DPM++ SDE Karras","DPM2","DPM2 Karras","DPM2 a","DPM2 a Karras","Euler","Euler a","Heun","LMS","LMS Karras","DDIM","PNDM","UniPC","LCM"]};function lS(e,t){return function(){return e.apply(t,arguments)}}const{toString:VR}=Object.prototype,{getPrototypeOf:gg}=Object,Ad=(e=>t=>{const n=VR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),vr=e=>(e=e.toLowerCase(),t=>Ad(t)===e),Dd=e=>t=>typeof t===e,{isArray:Vs}=Array,cl=Dd("undefined");function UR(e){return e!==null&&!cl(e)&&e.constructor!==null&&!cl(e.constructor)&&En(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cS=vr("ArrayBuffer");function HR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cS(e.buffer),t}const WR=Dd("string"),En=Dd("function"),uS=Dd("number"),Md=e=>e!==null&&typeof e=="object",YR=e=>e===!0||e===!1,Hc=e=>{if(Ad(e)!=="object")return!1;const t=gg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},XR=vr("Date"),GR=vr("File"),KR=vr("Blob"),qR=vr("FileList"),ZR=e=>Md(e)&&En(e.pipe),QR=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||En(e.append)&&((t=Ad(e))==="formdata"||t==="object"&&En(e.toString)&&e.toString()==="[object FormData]"))},JR=vr("URLSearchParams"),e5=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Vs(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),p=o.length;let a;for(r=0;r<p;r++)a=o[r],t.call(null,e[a],a,e)}}function dS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const fS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hS=e=>!cl(e)&&e!==fS;function kp(){const{caseless:e}=hS(this)&&this||{},t={},n=(r,i)=>{const o=e&&dS(t,i)||i;Hc(t[o])&&Hc(r)?t[o]=kp(t[o],r):Hc(r)?t[o]=kp({},r):Vs(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Rl(arguments[r],n);return t}const t5=(e,t,n,{allOwnKeys:r}={})=>(Rl(t,(i,o)=>{n&&En(i)?e[o]=lS(i,n):e[o]=i},{allOwnKeys:r}),e),n5=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),r5=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},i5=(e,t,n,r)=>{let i,o,p;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)p=i[o],(!r||r(p,e,t))&&!a[p]&&(t[p]=e[p],a[p]=!0);e=n!==!1&&gg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},o5=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},s5=e=>{if(!e)return null;if(Vs(e))return e;let t=e.length;if(!uS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},a5=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&gg(Uint8Array)),l5=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},c5=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},u5=vr("HTMLFormElement"),d5=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),iy=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),f5=vr("RegExp"),pS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Rl(n,(i,o)=>{let p;(p=t(i,o,e))!==!1&&(r[o]=p||i)}),Object.defineProperties(e,r)},h5=e=>{pS(e,(t,n)=>{if(En(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(En(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},p5=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Vs(e)?r(e):r(String(e).split(t)),n},m5=()=>{},g5=(e,t)=>(e=+e,Number.isFinite(e)?e:t),qf="abcdefghijklmnopqrstuvwxyz",oy="0123456789",mS={DIGIT:oy,ALPHA:qf,ALPHA_DIGIT:qf+qf.toUpperCase()+oy},v5=(e=16,t=mS.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function y5(e){return!!(e&&En(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const w5=e=>{const t=new Array(10),n=(r,i)=>{if(Md(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Vs(r)?[]:{};return Rl(r,(p,a)=>{const s=n(p,i+1);!cl(s)&&(o[a]=s)}),t[i]=void 0,o}}return r};return n(e,0)},b5=vr("AsyncFunction"),x5=e=>e&&(Md(e)||En(e))&&En(e.then)&&En(e.catch),ue={isArray:Vs,isArrayBuffer:cS,isBuffer:UR,isFormData:QR,isArrayBufferView:HR,isString:WR,isNumber:uS,isBoolean:YR,isObject:Md,isPlainObject:Hc,isUndefined:cl,isDate:XR,isFile:GR,isBlob:KR,isRegExp:f5,isFunction:En,isStream:ZR,isURLSearchParams:JR,isTypedArray:a5,isFileList:qR,forEach:Rl,merge:kp,extend:t5,trim:e5,stripBOM:n5,inherits:r5,toFlatObject:i5,kindOf:Ad,kindOfTest:vr,endsWith:o5,toArray:s5,forEachEntry:l5,matchAll:c5,isHTMLForm:u5,hasOwnProperty:iy,hasOwnProp:iy,reduceDescriptors:pS,freezeMethods:h5,toObjectSet:p5,toCamelCase:d5,noop:m5,toFiniteNumber:g5,findKey:dS,global:fS,isContextDefined:hS,ALPHABET:mS,generateString:v5,isSpecCompliantForm:y5,toJSONObject:w5,isAsyncFn:b5,isThenable:x5};function Le(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ue.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gS=Le.prototype,vS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{vS[e]={value:e}});Object.defineProperties(Le,vS);Object.defineProperty(gS,"isAxiosError",{value:!0});Le.from=(e,t,n,r,i,o)=>{const p=Object.create(gS);return ue.toFlatObject(e,p,function(s){return s!==Error.prototype},a=>a!=="isAxiosError"),Le.call(p,e.message,t,n,r,i),p.cause=e,p.name=e.name,o&&Object.assign(p,o),p};const S5=null;function Pp(e){return ue.isPlainObject(e)||ue.isArray(e)}function yS(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function sy(e,t,n){return e?e.concat(t).map(function(i,o){return i=yS(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function _5(e){return ue.isArray(e)&&!e.some(Pp)}const C5=ue.toFlatObject(ue,{},null,function(t){return/^is[A-Z]/.test(t)});function Nd(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!ue.isUndefined(m[g])});const r=n.metaTokens,i=n.visitor||f,o=n.dots,p=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(i))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(ue.isDate(h))return h.toISOString();if(!s&&ue.isBlob(h))throw new Le("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(h)||ue.isTypedArray(h)?s&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function f(h,g,m){let v=h;if(h&&!m&&typeof h=="object"){if(ue.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(ue.isArray(h)&&_5(h)||(ue.isFileList(h)||ue.endsWith(g,"[]"))&&(v=ue.toArray(h)))return g=yS(g),v.forEach(function(w,x){!(ue.isUndefined(w)||w===null)&&t.append(p===!0?sy([g],x,o):p===null?g:g+"[]",c(w))}),!1}return Pp(h)?!0:(t.append(sy(m,g,o),c(h)),!1)}const l=[],u=Object.assign(C5,{defaultVisitor:f,convertValue:c,isVisitable:Pp});function d(h,g){if(!ue.isUndefined(h)){if(l.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));l.push(h),ue.forEach(h,function(v,y){(!(ue.isUndefined(v)||v===null)&&i.call(t,v,ue.isString(y)?y.trim():y,g,u))===!0&&d(v,g?g.concat(y):[y])}),l.pop()}}if(!ue.isObject(e))throw new TypeError("data must be an object");return d(e),t}function ay(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function vg(e,t){this._pairs=[],e&&Nd(e,this,t)}const wS=vg.prototype;wS.append=function(t,n){this._pairs.push([t,n])};wS.toString=function(t){const n=t?function(r){return t.call(this,r,ay)}:ay;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function E5(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bS(e,t,n){if(!t)return e;const r=n&&n.encode||E5,i=n&&n.serialize;let o;if(i?o=i(t,n):o=ue.isURLSearchParams(t)?t.toString():new vg(t,n).toString(r),o){const p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ly{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ue.forEach(this.handlers,function(r){r!==null&&t(r)})}}const xS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T5=typeof URLSearchParams<"u"?URLSearchParams:vg,k5=typeof FormData<"u"?FormData:null,P5=typeof Blob<"u"?Blob:null,O5={isBrowser:!0,classes:{URLSearchParams:T5,FormData:k5,Blob:P5},protocols:["http","https","file","blob","url","data"]},SS=typeof window<"u"&&typeof document<"u",$5=(e=>SS&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),R5=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",A5=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:SS,hasStandardBrowserEnv:$5,hasStandardBrowserWebWorkerEnv:R5},Symbol.toStringTag,{value:"Module"})),ir={...A5,...O5};function D5(e,t){return Nd(e,new ir.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ir.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function M5(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function N5(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function _S(e){function t(n,r,i,o){let p=n[o++];if(p==="__proto__")return!0;const a=Number.isFinite(+p),s=o>=n.length;return p=!p&&ue.isArray(i)?i.length:p,s?(ue.hasOwnProp(i,p)?i[p]=[i[p],r]:i[p]=r,!a):((!i[p]||!ue.isObject(i[p]))&&(i[p]=[]),t(n,r,i[p],o)&&ue.isArray(i[p])&&(i[p]=N5(i[p])),!a)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,(r,i)=>{t(M5(r),i,n,0)}),n}return null}function L5(e,t,n){if(ue.isString(e))try{return(t||JSON.parse)(e),ue.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Al={transitional:xS,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ue.isObject(t);if(o&&ue.isHTMLForm(t)&&(t=new FormData(t)),ue.isFormData(t))return i?JSON.stringify(_S(t)):t;if(ue.isArrayBuffer(t)||ue.isBuffer(t)||ue.isStream(t)||ue.isFile(t)||ue.isBlob(t))return t;if(ue.isArrayBufferView(t))return t.buffer;if(ue.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return D5(t,this.formSerializer).toString();if((a=ue.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return Nd(a?{"files[]":t}:t,s&&new s,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),L5(t)):t}],transformResponse:[function(t){const n=this.transitional||Al.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&ue.isString(t)&&(r&&!this.responseType||i)){const p=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(p)throw a.name==="SyntaxError"?Le.from(a,Le.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ir.classes.FormData,Blob:ir.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],e=>{Al.headers[e]={}});const F5=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j5=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(p){i=p.indexOf(":"),n=p.substring(0,i).trim().toLowerCase(),r=p.substring(i+1).trim(),!(!n||t[n]&&F5[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},cy=Symbol("internals");function aa(e){return e&&String(e).trim().toLowerCase()}function Wc(e){return e===!1||e==null?e:ue.isArray(e)?e.map(Wc):String(e)}function I5(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const B5=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zf(e,t,n,r,i){if(ue.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!ue.isString(t)){if(ue.isString(r))return t.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(t)}}function z5(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function V5(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,p){return this[r].call(this,t,i,o,p)},configurable:!0})})}class Tn{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,s,c){const f=aa(s);if(!f)throw new Error("header name must be a non-empty string");const l=ue.findKey(i,f);(!l||i[l]===void 0||c===!0||c===void 0&&i[l]!==!1)&&(i[l||s]=Wc(a))}const p=(a,s)=>ue.forEach(a,(c,f)=>o(c,f,s));return ue.isPlainObject(t)||t instanceof this.constructor?p(t,n):ue.isString(t)&&(t=t.trim())&&!B5(t)?p(j5(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=aa(t),t){const r=ue.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return I5(i);if(ue.isFunction(n))return n.call(this,i,r);if(ue.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=aa(t),t){const r=ue.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Zf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(p){if(p=aa(p),p){const a=ue.findKey(r,p);a&&(!n||Zf(r,r[a],a,n))&&(delete r[a],i=!0)}}return ue.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Zf(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return ue.forEach(this,(i,o)=>{const p=ue.findKey(r,o);if(p){n[p]=Wc(i),delete n[o];return}const a=t?z5(o):String(o).trim();a!==o&&delete n[o],n[a]=Wc(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ue.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[cy]=this[cy]={accessors:{}}).accessors,i=this.prototype;function o(p){const a=aa(p);r[a]||(V5(i,p),r[a]=!0)}return ue.isArray(t)?t.forEach(o):o(t),this}}Tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Tn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ue.freezeMethods(Tn);function Qf(e,t){const n=this||Al,r=t||n,i=Tn.from(r.headers);let o=r.data;return ue.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function CS(e){return!!(e&&e.__CANCEL__)}function Dl(e,t,n){Le.call(this,e??"canceled",Le.ERR_CANCELED,t,n),this.name="CanceledError"}ue.inherits(Dl,Le,{__CANCEL__:!0});function U5(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const H5=ir.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const p=[e+"="+encodeURIComponent(t)];ue.isNumber(n)&&p.push("expires="+new Date(n).toGMTString()),ue.isString(r)&&p.push("path="+r),ue.isString(i)&&p.push("domain="+i),o===!0&&p.push("secure"),document.cookie=p.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function W5(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Y5(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ES(e,t){return e&&!W5(t)?Y5(e,t):t}const X5=ir.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let p=o;return t&&(n.setAttribute("href",p),p=n.href),n.setAttribute("href",p),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(p){const a=ue.isString(p)?i(p):p;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function G5(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function K5(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,p;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),f=r[o];p||(p=c),n[i]=s,r[i]=c;let l=o,u=0;for(;l!==i;)u+=n[l++],l=l%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-p<t)return;const d=f&&c-f;return d?Math.round(u*1e3/d):void 0}}function uy(e,t){let n=0;const r=K5(50,250);return i=>{const o=i.loaded,p=i.lengthComputable?i.total:void 0,a=o-n,s=r(a),c=o<=p;n=o;const f={loaded:o,total:p,progress:p?o/p:void 0,bytes:a,rate:s||void 0,estimated:s&&p&&c?(p-o)/s:void 0,event:i};f[t?"download":"upload"]=!0,e(f)}}const q5=typeof XMLHttpRequest<"u",Z5=q5&&function(e){return new Promise(function(n,r){let i=e.data;const o=Tn.from(e.headers).normalize();let{responseType:p,withXSRFToken:a}=e,s;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}let f;if(ue.isFormData(i)){if(ir.hasStandardBrowserEnv||ir.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((f=o.getContentType())!==!1){const[g,...m]=f?f.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([g||"multipart/form-data",...m].join("; "))}}let l=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+m))}const u=ES(e.baseURL,e.url);l.open(e.method.toUpperCase(),bS(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function d(){if(!l)return;const g=Tn.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),v={data:!p||p==="text"||p==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:g,config:e,request:l};U5(function(w){n(w),c()},function(w){r(w),c()},v),l=null}if("onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(r(new Le("Request aborted",Le.ECONNABORTED,e,l)),l=null)},l.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||xS;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),r(new Le(m,v.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,l)),l=null},ir.hasStandardBrowserEnv&&(a&&ue.isFunction(a)&&(a=a(e)),a||a!==!1&&X5(u))){const g=e.xsrfHeaderName&&e.xsrfCookieName&&H5.read(e.xsrfCookieName);g&&o.set(e.xsrfHeaderName,g)}i===void 0&&o.setContentType(null),"setRequestHeader"in l&&ue.forEach(o.toJSON(),function(m,v){l.setRequestHeader(v,m)}),ue.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),p&&p!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",uy(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",uy(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=g=>{l&&(r(!g||g.type?new Dl(null,e,l):g),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const h=G5(u);if(h&&ir.protocols.indexOf(h)===-1){r(new Le("Unsupported protocol "+h+":",Le.ERR_BAD_REQUEST,e));return}l.send(i||null)})},Op={http:S5,xhr:Z5};ue.forEach(Op,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dy=e=>`- ${e}`,Q5=e=>ue.isFunction(e)||e===null||e===!1,TS={getAdapter:e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let p;if(r=n,!Q5(n)&&(r=Op[(p=String(n)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${p}'`);if(r)break;i[p||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,s])=>`adapter ${a} `+(s===!1?"is not supported by the environment":"is not available in the build"));let p=t?o.length>1?`since :
`+o.map(dy).join(`
`):" "+dy(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return r},adapters:Op};function Jf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Dl(null,e)}function fy(e){return Jf(e),e.headers=Tn.from(e.headers),e.data=Qf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),TS.getAdapter(e.adapter||Al.adapter)(e).then(function(r){return Jf(e),r.data=Qf.call(e,e.transformResponse,r),r.headers=Tn.from(r.headers),r},function(r){return CS(r)||(Jf(e),r&&r.response&&(r.response.data=Qf.call(e,e.transformResponse,r.response),r.response.headers=Tn.from(r.response.headers))),Promise.reject(r)})}const hy=e=>e instanceof Tn?{...e}:e;function ks(e,t){t=t||{};const n={};function r(c,f,l){return ue.isPlainObject(c)&&ue.isPlainObject(f)?ue.merge.call({caseless:l},c,f):ue.isPlainObject(f)?ue.merge({},f):ue.isArray(f)?f.slice():f}function i(c,f,l){if(ue.isUndefined(f)){if(!ue.isUndefined(c))return r(void 0,c,l)}else return r(c,f,l)}function o(c,f){if(!ue.isUndefined(f))return r(void 0,f)}function p(c,f){if(ue.isUndefined(f)){if(!ue.isUndefined(c))return r(void 0,c)}else return r(void 0,f)}function a(c,f,l){if(l in t)return r(c,f);if(l in e)return r(void 0,c)}const s={url:o,method:o,data:o,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:a,headers:(c,f)=>i(hy(c),hy(f),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),function(f){const l=s[f]||i,u=l(e[f],t[f],f);ue.isUndefined(u)&&l!==a||(n[f]=u)}),n}const kS="1.6.8",yg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yg[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const py={};yg.transitional=function(t,n,r){function i(o,p){return"[Axios v"+kS+"] Transitional option '"+o+"'"+p+(r?". "+r:"")}return(o,p,a)=>{if(t===!1)throw new Le(i(p," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!py[p]&&(py[p]=!0,console.warn(i(p," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,p,a):!0}};function J5(e,t,n){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],p=t[o];if(p){const a=e[o],s=a===void 0||p(a,o,e);if(s!==!0)throw new Le("option "+o+" must be "+s,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const $p={assertOptions:J5,validators:yg},Gr=$p.validators;class oo{constructor(t){this.defaults=t,this.interceptors={request:new ly,response:new ly}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ks(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&$p.assertOptions(r,{silentJSONParsing:Gr.transitional(Gr.boolean),forcedJSONParsing:Gr.transitional(Gr.boolean),clarifyTimeoutError:Gr.transitional(Gr.boolean)},!1),i!=null&&(ue.isFunction(i)?n.paramsSerializer={serialize:i}:$p.assertOptions(i,{encode:Gr.function,serialize:Gr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let p=o&&ue.merge(o.common,o[n.method]);o&&ue.forEach(["delete","get","head","post","put","patch","common"],h=>{delete o[h]}),n.headers=Tn.concat(p,o);const a=[];let s=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(s=s&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let f,l=0,u;if(!s){const h=[fy.bind(this),void 0];for(h.unshift.apply(h,a),h.push.apply(h,c),u=h.length,f=Promise.resolve(n);l<u;)f=f.then(h[l++],h[l++]);return f}u=a.length;let d=n;for(l=0;l<u;){const h=a[l++],g=a[l++];try{d=h(d)}catch(m){g.call(this,m);break}}try{f=fy.call(this,d)}catch(h){return Promise.reject(h)}for(l=0,u=c.length;l<u;)f=f.then(c[l++],c[l++]);return f}getUri(t){t=ks(this.defaults,t);const n=ES(t.baseURL,t.url);return bS(n,t.params,t.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(t){oo.prototype[t]=function(n,r){return this.request(ks(r||{},{method:t,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(t){function n(r){return function(o,p,a){return this.request(ks(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:p}))}}oo.prototype[t]=n(),oo.prototype[t+"Form"]=n(!0)});class wg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const p=new Promise(a=>{r.subscribe(a),o=a}).then(i);return p.cancel=function(){r.unsubscribe(o)},p},t(function(o,p,a){r.reason||(r.reason=new Dl(o,p,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new wg(function(i){t=i}),cancel:t}}}function eA(e){return function(n){return e.apply(null,n)}}function tA(e){return ue.isObject(e)&&e.isAxiosError===!0}const Rp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Rp).forEach(([e,t])=>{Rp[t]=e});function PS(e){const t=new oo(e),n=lS(oo.prototype.request,t);return ue.extend(n,oo.prototype,t,{allOwnKeys:!0}),ue.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return PS(ks(e,i))},n}const dt=PS(Al);dt.Axios=oo;dt.CanceledError=Dl;dt.CancelToken=wg;dt.isCancel=CS;dt.VERSION=kS;dt.toFormData=Nd;dt.AxiosError=Le;dt.Cancel=dt.CanceledError;dt.all=function(t){return Promise.all(t)};dt.spread=eA;dt.isAxiosError=tA;dt.mergeConfig=ks;dt.AxiosHeaders=Tn;dt.formToJSON=e=>_S(ue.isHTMLForm(e)?new FormData(e):e);dt.getAdapter=TS.getAdapter;dt.HttpStatusCode=Rp;dt.default=dt;const Ld="https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",OS="J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",$S=dt.create({baseURL:Ld});async function nA(e,t,n,r,i,o=null,p){const a=await La(e),s=await La(i),c=o?await La(o):null,f=await fetch(`${Ld}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${OS}`},body:JSON.stringify({id:z1(1,65536),input:{image:a,mask:s,call_to_api:{api_call:"inpainting"},model:p,ldm_steps:t.ldmSteps,ldm_sampler:t.ldmSampler,zits_wireframe:t.zitsWireframe,cv2_flag:t.cv2Flag,cv2_radius:t.cv2Radius,hd_strategy:"Crop",hd_strategy_crop_triger_size:640,hd_strategy_crop_margin:128,hd_trategy_resize_imit:2048,prompt:t.prompt,negative_prompt:t.negativePrompt,use_croper:t.showCropper,croper_x:n.x,croper_y:n.y,croper_height:n.height,croper_width:n.width,use_extender:t.showExtender,extender_x:r.x,extender_y:r.y,extender_height:r.height,extender_width:r.width,sd_mask_blur:t.sdMaskBlur,sd_strength:t.sdStrength,sd_steps:t.sdSteps,sd_guidance_scale:t.sdGuidanceScale,sd_sampler:t.sdSampler,sd_seed:t.seedFixed?t.seed:-1,sd_match_histograms:t.sdMatchHistograms,sd_freeu:t.enableFreeu,sd_freeu_config:t.freeuConfig,sd_lcm_lora:t.enableLCMLora,paint_by_example_example_image:c,p2p_image_guidance_scale:t.p2pImageGuidanceScale,enable_controlnet:t.enableControlnet,controlnet_conditioning_scale:t.controlnetConditioningScale,controlnet_method:t.controlnetMethod?t.controlnetMethod:"",powerpaint_task:t.showExtender?is.outpainting:t.powerpaintTask}})});if(f.ok){const u=await f.json(),{output:d}=u,h=V1(d);return{blob:URL.createObjectURL(h),seed:"42"}}const l=await f.json();throw new Error(`Something went wrong: ${l.errors}`)}async function rA(e){return(await $S.post("/model",{name:e})).data}async function my(e,t){return $S.post("/switch_plugin_model",{plugin_name:e,model_name:t})}async function iA(e,t,n,r,i,o){const p=await La(n),a=await fetch(`${Ld}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${OS}`},body:JSON.stringify({id:z1(1,65536),input:{call_to_api:{api_call:t,plugin_name:t,model_name:r.removeBGModel},name:t,image:p,upscale:i,clicks:o}})});if(a.ok){const c=await a.json(),{output:f}=c,l=V1(f);return{blob:URL.createObjectURL(l)}}const s=await a.json();throw new Error(s)}async function oA(e,t,n){const r=await La(e),i=await fetch(`${Ld}/adjust_mask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mask:r,operate:t,kernel_size:n})});if(i.ok)return await i.blob();const o=await i.json();throw new Error(o)}const ji={file:null,paintByExampleFile:null,customMask:null,imageHeight:0,imageWidth:0,isInpainting:!1,isPluginRunning:!1,isAdjustingMask:!1,disableShortCuts:!1,windowSize:{height:600,width:800},editorState:{baseBrushSize:j1,brushSizeScale:1,renders:[],extraMasks:[],prevExtraMasks:[],temporaryMasks:[],lineGroups:[],lastLineGroup:[],curLineGroup:[],currentCanvas:"",canvasGroups:[],currCanvasGroups:[],lastCanvasGroups:[],redoRenders:[],redoCurLines:[],redoLineGroups:[],redoCurCanvas:[]},interactiveSegState:{isInteractiveSeg:!1,tmpInteractiveSegMask:null,clicks:[]},cropperState:{x:0,y:0,width:512,height:512},extenderState:{x:0,y:0,width:512,height:512},isCropperExtenderResizing:!1,fileManagerState:{sortBy:sS.CTIME,sortOrder:aS.DESCENDING,layout:"masonry",searchText:"",inputDirectory:"",outputDirectory:""},serverConfig:zR,settings:{model:{name:"lama",path:"lama",model_type:"inpaint",support_controlnet:!1,support_strength:!1,support_outpainting:!1,controlnets:[],support_freeu:!1,support_lcm_lora:!1,is_single_file_diffusers:!1,need_prompt:!1},enableControlnet:!1,showCropper:!1,showExtender:!1,extenderDirection:Lt.xy,enableDownloadMask:!1,enableManualInpainting:!1,enableUploadMask:!1,enableAutoExtractPrompt:!0,ldmSteps:30,ldmSampler:pg.ddim,zitsWireframe:!0,cv2Radius:5,cv2Flag:mg.INPAINT_NS,prompt:"",negativePrompt:l$,seed:42,seedFixed:!1,sdMaskBlur:12,sdStrength:1,sdSteps:50,sdGuidanceScale:7.5,sdSampler:"DPM++ 2M",sdMatchHistograms:!1,sdScale:1,p2pImageGuidanceScale:1.5,controlnetConditioningScale:.4,controlnetMethod:"lllyasviel/control_v11p_sd15_canny",enableLCMLora:!1,enableFreeu:!1,freeuConfig:{s1:.9,s2:.2,b1:1.2,b2:1.4},powerpaintTask:is.text_guided,adjustMaskKernelSize:12}},sA=oS(e=>({language:"",setLanguage:t=>e({language:t})})),We=oS()(eR(pR((e,t)=>({...ji,showPrevMask:async()=>{if(t().settings.showExtender)return;const{lastLineGroup:n,curLineGroup:r,prevExtraMasks:i,extraMasks:o}=t().editorState;if(r.length!==0||o.length!==0)return;const{imageWidth:p,imageHeight:a}=t(),s=X0(p,a,[n],i,Cu);try{const c=await f$(s);e(f=>{f.editorState.temporaryMasks.push(c)})}catch(c){console.error(c);return}},hidePrevMask:()=>{e(n=>{n.editorState.temporaryMasks=[]})},getCurrentTargetFile:async()=>{const n=t().file,r=t().editorState.renders;let i=n;if(r.length>0){const o=r[r.length-1];i=await zc(o.currentSrc,n.name,n.type)}return i},runInpainting:async n=>{const{isInpainting:r,file:i,paintByExampleFile:o,imageWidth:p,imageHeight:a,settings:s,cropperState:c,extenderState:f}=t();if(r||i===null||t().settings.model.support_outpainting&&s.showExtender&&f.height===a&&f.width===p)return;const{lastLineGroup:l,curLineGroup:u,lineGroups:d,renders:h,prevExtraMasks:g,extraMasks:m,currCanvasGroups:v}=t().editorState,y=u.length===0&&m.length===0&&!s.showExtender;let w=[],x=[];if(y===!0?(x=l,w=g):(x=u,w=m),v.length===0){ba({variant:"destructive",description:"Please draw mask on picture"});return}const S=[...d,x];e(k=>{k.isInpainting=!0});let C=i;if(y===!0){if(h.length>1){const k=h[h.length-2];C=await zc(k.currentSrc,i.name,i.type)}}else if(h.length>0){const k=h[h.length-1];C=await zc(k.currentSrc,i.name,i.type)}const E=await w$(v[v.length-1],p,a);try{const k=await nA(C,s,c,f,W0(E),o,n),{blob:L,seed:B}=k;B&&t().setSeed(parseInt(B,10));const G=new Image;await Bc(G,L);const z=[...h,G];t().setImageSize(G.width,G.height),t().updateEditorState({renders:z,lineGroups:S,lastLineGroup:x,curLineGroup:[],extraMasks:[],prevExtraMasks:w})}catch(k){ba({variant:"destructive",description:k.message?k.message:k.toString()})}t().resetRedoState(),e(k=>{k.isInpainting=!1,k.editorState.temporaryMasks=[]})},runRenderablePlugin:async(n,r,i={upscale:1})=>{const{renders:o,lineGroups:p}=t().editorState;e(a=>{a.isPluginRunning=!0});try{const a=new Date,s=await t().getCurrentTargetFile(),c=await iA(n,r,s,t().serverConfig,i.upscale),{blob:f}=c;if(n){const d=new Image;await Bc(d,f),e(h=>{h.editorState.extraMasks.push(d)})}else{const d=new Image;await Bc(d,f),t().setImageSize(d.width,d.height);const h=[...o,d],g=[...p,[]];t().updateEditorState({renders:h,lineGroups:g})}const u=new Date().getTime()-a.getTime();ba({description:`Run ${r} successfully in ${u/1e3}s`})}catch(a){ba({variant:"destructive",description:a.message?a.message:a.toString()})}e(a=>{a.isPluginRunning=!1})},updateEditorState:n=>{e(r=>{r.editorState={...r.editorState,...n}})},cleanCurLineGroup:()=>{t().updateEditorState({curLineGroup:[]})},handleCanvasMouseDown:n=>{let r=[];const i=t();i.runMannually()&&(r=[...i.editorState.curLineGroup]),r.push({size:i.getBrushSize(),pts:[n]}),e(o=>{o.editorState.curLineGroup=r})},handleSaveState:n=>{let r=[];const i=t();i.runMannually()&&(r=[...i.editorState.currCanvasGroups]),r.push(n),e(o=>{o.editorState.currCanvasGroups=r})},handleCanvasMouseMove:n=>{e(r=>{const i=r.editorState.curLineGroup;i.length&&i[i.length-1].pts.push(n)})},runMannually:()=>{const n=t();return n.settings.enableManualInpainting||n.settings.model.model_type!==ci},getIsProcessing:()=>t().isInpainting||t().isPluginRunning||t().isAdjustingMask,isSD:()=>t().settings.model.model_type!==ci,undoDisabled:()=>{const n=t().editorState;if(n.renders.length>0)return!1;if(t().runMannually()){if(n.currCanvasGroups.length===0)return!0}else if(n.renders.length===0)return!0;return!1},undo:()=>{t().runMannually()&&t().editorState.currCanvasGroups.length!==0?e(n=>{const r=n.editorState;if(r.currCanvasGroups.length===0)return;r.lastCanvasGroups=[];const i=r.currCanvasGroups.pop();r.redoCurCanvas.push(i)}):e(n=>{const r=n.editorState;if(r.renders.length===0||r.lineGroups.length===0)return;const i=r.lineGroups.pop();r.redoLineGroups.push(i),r.redoCurLines=[],r.curLineGroup=[];const o=r.renders.pop();r.redoRenders.push(o)})},redoDisabled:()=>{const n=t().editorState;if(n.redoRenders.length>0)return!1;if(t().runMannually()){if(n.redoCurCanvas.length===0)return!0}else if(n.redoRenders.length===0)return!0;return!1},redo:()=>{t().runMannually()&&t().editorState.redoCurCanvas.length!==0?e(n=>{const r=n.editorState;if(r.redoCurCanvas.length===0)return;const i=r.redoCurCanvas.pop();r.currCanvasGroups.push(i)}):e(n=>{const r=n.editorState;if(r.redoRenders.length===0||r.redoLineGroups.length===0)return;const i=r.redoLineGroups.pop();r.lineGroups.push(i),r.curLineGroup=[];const o=r.redoRenders.pop();r.renders.push(o)})},resetRedoState:()=>{e(n=>{n.editorState.redoCurLines=[],n.editorState.redoLineGroups=[],n.editorState.redoRenders=[]})},updateAppState:n=>{e(()=>n)},getBrushSize:()=>t().editorState.baseBrushSize*t().editorState.brushSizeScale,showPromptInput:()=>{const n=t().settings.model;return n.model_type!==ci&&n.name!==B1},setServerConfig:n=>{e(r=>{r.serverConfig=n,r.settings.enableControlnet=n.enableControlnet,r.settings.controlnetMethod=n.controlnetMethod})},updateServerConfig:n=>{e(r=>{r.serverConfig={...r.serverConfig,...n},console.log(r.serverConfig)})},updateSettings:n=>{e(r=>{r.settings={...r.settings,...n}})},setModel:n=>{e(r=>{r.settings.model=n,n.support_controlnet&&!n.controlnets.includes(r.settings.controlnetMethod)&&(r.settings.controlnetMethod=n.controlnets[0])})},updateFileManagerState:n=>{e(r=>{r.fileManagerState={...r.fileManagerState,...n}})},updateInteractiveSegState:n=>{e(r=>({...r,interactiveSegState:{...r.interactiveSegState,...n}}))},resetInteractiveSegState:()=>{t().updateInteractiveSegState(ji.interactiveSegState)},handleInteractiveSegAccept:()=>{e(n=>{n.interactiveSegState.tmpInteractiveSegMask&&n.editorState.extraMasks.push(n.interactiveSegState.tmpInteractiveSegMask),n.interactiveSegState={...ji.interactiveSegState}})},setIsInpainting:n=>e(r=>{r.isInpainting=n}),setFile:async n=>{e(r=>{r.file=n,r.interactiveSegState=ji.interactiveSegState,r.editorState=ji.editorState,r.cropperState=ji.cropperState})},setCustomFile:n=>e(r=>{r.customMask=n}),setBaseBrushSize:n=>e(r=>{r.editorState.baseBrushSize=n}),decreaseBaseBrushSize:()=>{const n=t().editorState.baseBrushSize;let r=n;n>10&&(r=n-10),n<=10&&n>0&&(r=n-3),t().setBaseBrushSize(r)},increaseBaseBrushSize:()=>{const n=t().editorState.baseBrushSize,r=Math.min(n+10,I1);t().setBaseBrushSize(r)},setImageSize:(n,r)=>{e(i=>{i.imageWidth=n,i.imageHeight=r,i.editorState.brushSizeScale=Math.max(Math.min(n,r),512)/512}),t().resetExtender(n,r)},setCropperX:n=>e(r=>{r.cropperState.x=n}),setCropperY:n=>e(r=>{r.cropperState.y=n}),setCropperWidth:n=>e(r=>{r.cropperState.width=n}),setCropperHeight:n=>e(r=>{r.cropperState.height=n}),setExtenderX:n=>e(r=>{r.extenderState.x=n}),setExtenderY:n=>e(r=>{r.extenderState.y=n}),setExtenderWidth:n=>e(r=>{r.extenderState.width=n}),setExtenderHeight:n=>e(r=>{r.extenderState.height=n}),setIsCropperExtenderResizing:n=>e(r=>{r.isCropperExtenderResizing=n}),updateExtenderDirection:n=>{console.log(`updateExtenderDirection: ${JSON.stringify(t().extenderState)}`),e(r=>{r.settings.extenderDirection=n,r.extenderState.x=0,r.extenderState.y=0,r.extenderState.width=r.imageWidth,r.extenderState.height=r.imageHeight}),t().updateExtenderByBuiltIn(n,1.5)},updateExtenderByBuiltIn:(n,r)=>{const i={...ji.extenderState};let{x:o,y:p,width:a,height:s}=i;const{imageWidth:c,imageHeight:f}=t();switch(a=c,s=f,n){case Lt.x:o=-Math.ceil(c*(r-1)/2),a=Math.ceil(c*r);break;case Lt.y:p=-Math.ceil(f*(r-1)/2),s=Math.ceil(f*r);break;case Lt.xy:o=-Math.ceil(c*(r-1)/2),p=-Math.ceil(f*(r-1)/2),a=Math.ceil(c*r),s=Math.ceil(f*r);break}e(l=>{l.extenderState.x=o,l.extenderState.y=p,l.extenderState.width=a,l.extenderState.height=s})},resetExtender:(n,r)=>{e(i=>{i.extenderState.x=0,i.extenderState.y=0,i.extenderState.width=n,i.extenderState.height=r})},setSeed:n=>e(r=>{r.settings.seed=n}),adjustMask:async n=>{const{imageWidth:r,imageHeight:i}=t(),{curLineGroup:o,extraMasks:p}=t().editorState,{adjustMaskKernelSize:a}=t().settings;if(o.length===0&&p.length===0)return;e(u=>{u.isAdjustingMask=!0});const s=X0(r,i,[o],p,Cu),c=W0(s.toDataURL()),f=await oA(c,n,a),l=await d$(f);e(u=>{u.editorState.extraMasks=[l],u.editorState.curLineGroup=[]}),e(u=>{u.isAdjustingMask=!1})},clearMask:()=>{e(n=>{n.editorState.extraMasks=[],n.editorState.curLineGroup=[]})}})),{name:"ZUSTAND_STATE",version:1,partialize:e=>Object.fromEntries(Object.entries(e).filter(([t])=>["fileManagerState","settings"].includes(t)))}),tR),bg=b.forwardRef(({className:e,type:t,...n},r)=>{const i=We(a=>a.updateAppState),o=()=>{i({disableShortCuts:!0})},p=()=>{i({disableShortCuts:!1})};return _.jsx("input",{type:t,className:ye("flex h-8 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,autoComplete:"off",tabIndex:-1,onFocus:o,onBlur:p,...n})});bg.displayName="Input";const Xt=b.forwardRef(({numberValue:e,allowFloat:t,onNumberValueChange:n,...r},i)=>{const[o,p]=b.useState(e.toString());b.useEffect(()=>{o!==e.toString()+"."&&p(e.toString())},[e]);const a=s=>{let f=s.target.value;if(t){if(f=f.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1"),f.length===0){n(0);return}n(parseFloat(f))}else{if(f=f.replace(/\D/g,""),f.length===0){n(0);return}n(parseInt(f,10))}p(f)};return _.jsx(bg,{ref:i,value:o,onInput:a,...r})}),aA=W2.useId||(()=>{});let lA=0;function en(e){const[t,n]=b.useState(aA());return Rt(()=>{n(r=>r??String(lA++))},[e]),t?`radix-${t}`:""}const cA=["top","right","bottom","left"],Ci=Math.min,ln=Math.max,Pu=Math.round,gc=Math.floor,Ei=e=>({x:e,y:e}),uA={left:"right",right:"left",bottom:"top",top:"bottom"},dA={start:"end",end:"start"};function Ap(e,t,n){return ln(e,Ci(t,n))}function jr(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function Us(e){return e.split("-")[1]}function xg(e){return e==="x"?"y":"x"}function Sg(e){return e==="y"?"height":"width"}function Hs(e){return["top","bottom"].includes(Ir(e))?"y":"x"}function _g(e){return xg(Hs(e))}function fA(e,t,n){n===void 0&&(n=!1);const r=Us(e),i=_g(e),o=Sg(i);let p=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(p=Ou(p)),[p,Ou(p)]}function hA(e){const t=Ou(e);return[Dp(e),t,Dp(t)]}function Dp(e){return e.replace(/start|end/g,t=>dA[t])}function pA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],p=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:p;default:return[]}}function mA(e,t,n,r){const i=Us(e);let o=pA(Ir(e),n==="start",r);return i&&(o=o.map(p=>p+"-"+i),t&&(o=o.concat(o.map(Dp)))),o}function Ou(e){return e.replace(/left|right|bottom|top/g,t=>uA[t])}function gA(e){return{top:0,right:0,bottom:0,left:0,...e}}function RS(e){return typeof e!="number"?gA(e):{top:e,right:e,bottom:e,left:e}}function $u(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function gy(e,t,n){let{reference:r,floating:i}=e;const o=Hs(t),p=_g(t),a=Sg(p),s=Ir(t),c=o==="y",f=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2,u=r[a]/2-i[a]/2;let d;switch(s){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:l};break;case"left":d={x:r.x-i.width,y:l};break;default:d={x:r.x,y:r.y}}switch(Us(t)){case"start":d[p]-=u*(n&&c?-1:1);break;case"end":d[p]+=u*(n&&c?-1:1);break}return d}const vA=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:p}=n,a=o.filter(Boolean),s=await(p.isRTL==null?void 0:p.isRTL(t));let c=await p.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:l}=gy(c,r,s),u=r,d={},h=0;for(let g=0;g<a.length;g++){const{name:m,fn:v}=a[g],{x:y,y:w,data:x,reset:S}=await v({x:f,y:l,initialPlacement:r,placement:u,strategy:i,middlewareData:d,rects:c,platform:p,elements:{reference:e,floating:t}});f=y??f,l=w??l,d={...d,[m]:{...d[m],...x}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(u=S.placement),S.rects&&(c=S.rects===!0?await p.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:f,y:l}=gy(c,u,s)),g=-1)}return{x:f,y:l,placement:u,strategy:i,middlewareData:d}};async function ul(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:p,elements:a,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:l="floating",altBoundary:u=!1,padding:d=0}=jr(t,e),h=RS(d),m=a[u?l==="floating"?"reference":"floating":l],v=$u(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:s})),y=l==="floating"?{x:r,y:i,width:p.floating.width,height:p.floating.height}:p.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=$u(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:s}):y);return{top:(v.top-S.top+h.top)/x.y,bottom:(S.bottom-v.bottom+h.bottom)/x.y,left:(v.left-S.left+h.left)/x.x,right:(S.right-v.right+h.right)/x.x}}const yA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:p,elements:a,middlewareData:s}=t,{element:c,padding:f=0}=jr(e,t)||{};if(c==null)return{};const l=RS(f),u={x:n,y:r},d=_g(i),h=Sg(d),g=await p.getDimensions(c),m=d==="y",v=m?"top":"left",y=m?"bottom":"right",w=m?"clientHeight":"clientWidth",x=o.reference[h]+o.reference[d]-u[d]-o.floating[h],S=u[d]-o.reference[d],C=await(p.getOffsetParent==null?void 0:p.getOffsetParent(c));let E=C?C[w]:0;(!E||!await(p.isElement==null?void 0:p.isElement(C)))&&(E=a.floating[w]||o.floating[h]);const k=x/2-S/2,L=E/2-g[h]/2-1,B=Ci(l[v],L),G=Ci(l[y],L),z=B,Q=E-g[h]-G,I=E/2-g[h]/2+k,M=Ap(z,I,Q),N=!s.arrow&&Us(i)!=null&&I!==M&&o.reference[h]/2-(I<z?B:G)-g[h]/2<0,q=N?I<z?I-z:I-Q:0;return{[d]:u[d]+q,data:{[d]:M,centerOffset:I-M-q,...N&&{alignmentOffset:q}},reset:N}}}),wA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:p,initialPlacement:a,platform:s,elements:c}=t,{mainAxis:f=!0,crossAxis:l=!0,fallbackPlacements:u,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...m}=jr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Ir(i),y=Ir(a)===a,w=await(s.isRTL==null?void 0:s.isRTL(c.floating)),x=u||(y||!g?[Ou(a)]:hA(a));!u&&h!=="none"&&x.push(...mA(a,g,h,w));const S=[a,...x],C=await ul(t,m),E=[];let k=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&E.push(C[v]),l){const z=fA(i,p,w);E.push(C[z[0]],C[z[1]])}if(k=[...k,{placement:i,overflows:E}],!E.every(z=>z<=0)){var L,B;const z=(((L=o.flip)==null?void 0:L.index)||0)+1,Q=S[z];if(Q)return{data:{index:z,overflows:k},reset:{placement:Q}};let I=(B=k.filter(M=>M.overflows[0]<=0).sort((M,N)=>M.overflows[1]-N.overflows[1])[0])==null?void 0:B.placement;if(!I)switch(d){case"bestFit":{var G;const M=(G=k.map(N=>[N.placement,N.overflows.filter(q=>q>0).reduce((q,H)=>q+H,0)]).sort((N,q)=>N[1]-q[1])[0])==null?void 0:G[0];M&&(I=M);break}case"initialPlacement":I=a;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function vy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function yy(e){return cA.some(t=>e[t]>=0)}const bA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=jr(e,t);switch(r){case"referenceHidden":{const o=await ul(t,{...i,elementContext:"reference"}),p=vy(o,n.reference);return{data:{referenceHiddenOffsets:p,referenceHidden:yy(p)}}}case"escaped":{const o=await ul(t,{...i,altBoundary:!0}),p=vy(o,n.floating);return{data:{escapedOffsets:p,escaped:yy(p)}}}default:return{}}}}};async function xA(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),p=Ir(n),a=Us(n),s=Hs(n)==="y",c=["left","top"].includes(p)?-1:1,f=o&&s?-1:1,l=jr(t,e);let{mainAxis:u,crossAxis:d,alignmentAxis:h}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return a&&typeof h=="number"&&(d=a==="end"?h*-1:h),s?{x:d*f,y:u*c}:{x:u*c,y:d*f}}const SA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:p,middlewareData:a}=t,s=await xA(t,e);return p===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+s.x,y:o+s.y,data:{...s,placement:p}}}}},_A=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:p=!1,limiter:a={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...s}=jr(e,t),c={x:n,y:r},f=await ul(t,s),l=Hs(Ir(i)),u=xg(l);let d=c[u],h=c[l];if(o){const m=u==="y"?"top":"left",v=u==="y"?"bottom":"right",y=d+f[m],w=d-f[v];d=Ap(y,d,w)}if(p){const m=l==="y"?"top":"left",v=l==="y"?"bottom":"right",y=h+f[m],w=h-f[v];h=Ap(y,h,w)}const g=a.fn({...t,[u]:d,[l]:h});return{...g,data:{x:g.x-n,y:g.y-r}}}}},CA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:p}=t,{offset:a=0,mainAxis:s=!0,crossAxis:c=!0}=jr(e,t),f={x:n,y:r},l=Hs(i),u=xg(l);let d=f[u],h=f[l];const g=jr(a,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(s){const w=u==="y"?"height":"width",x=o.reference[u]-o.floating[w]+m.mainAxis,S=o.reference[u]+o.reference[w]-m.mainAxis;d<x?d=x:d>S&&(d=S)}if(c){var v,y;const w=u==="y"?"width":"height",x=["top","left"].includes(Ir(i)),S=o.reference[l]-o.floating[w]+(x&&((v=p.offset)==null?void 0:v[l])||0)+(x?0:m.crossAxis),C=o.reference[l]+o.reference[w]+(x?0:((y=p.offset)==null?void 0:y[l])||0)-(x?m.crossAxis:0);h<S?h=S:h>C&&(h=C)}return{[u]:d,[l]:h}}}},EA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:p=()=>{},...a}=jr(e,t),s=await ul(t,a),c=Ir(n),f=Us(n),l=Hs(n)==="y",{width:u,height:d}=r.floating;let h,g;c==="top"||c==="bottom"?(h=c,g=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=c,h=f==="end"?"top":"bottom");const m=d-s[h],v=u-s[g],y=!t.middlewareData.shift;let w=m,x=v;if(l){const C=u-s.left-s.right;x=f||y?Ci(v,C):C}else{const C=d-s.top-s.bottom;w=f||y?Ci(m,C):C}if(y&&!f){const C=ln(s.left,0),E=ln(s.right,0),k=ln(s.top,0),L=ln(s.bottom,0);l?x=u-2*(C!==0||E!==0?C+E:ln(s.left,s.right)):w=d-2*(k!==0||L!==0?k+L:ln(s.top,s.bottom))}await p({...t,availableWidth:x,availableHeight:w});const S=await i.getDimensions(o.floating);return u!==S.width||d!==S.height?{reset:{rects:!0}}:{}}}};function Ws(e){return AS(e)?(e.nodeName||"").toLowerCase():"#document"}function dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ur(e){var t;return(t=(AS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function AS(e){return e instanceof Node||e instanceof dn(e).Node}function pr(e){return e instanceof Element||e instanceof dn(e).Element}function mr(e){return e instanceof HTMLElement||e instanceof dn(e).HTMLElement}function wy(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dn(e).ShadowRoot}function Ml(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Xn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function TA(e){return["table","td","th"].includes(Ws(e))}function Cg(e){const t=Eg(),n=Xn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kA(e){let t=Ti(e);for(;mr(t)&&!Ps(t);){if(Cg(t))return t;t=Ti(t)}return null}function Eg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ps(e){return["html","body","#document"].includes(Ws(e))}function Xn(e){return dn(e).getComputedStyle(e)}function Fd(e){return pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ti(e){if(Ws(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wy(e)&&e.host||Ur(e);return wy(t)?t.host:t}function DS(e){const t=Ti(e);return Ps(t)?e.ownerDocument?e.ownerDocument.body:e.body:mr(t)&&Ml(t)?t:DS(t)}function dl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=DS(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),p=dn(i);return o?t.concat(p,p.visualViewport||[],Ml(i)?i:[],p.frameElement&&n?dl(p.frameElement):[]):t.concat(i,dl(i,[],n))}function MS(e){const t=Xn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=mr(e),o=i?e.offsetWidth:n,p=i?e.offsetHeight:r,a=Pu(n)!==o||Pu(r)!==p;return a&&(n=o,r=p),{width:n,height:r,$:a}}function Tg(e){return pr(e)?e:e.contextElement}function os(e){const t=Tg(e);if(!mr(t))return Ei(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=MS(t);let p=(o?Pu(n.width):n.width)/r,a=(o?Pu(n.height):n.height)/i;return(!p||!Number.isFinite(p))&&(p=1),(!a||!Number.isFinite(a))&&(a=1),{x:p,y:a}}const PA=Ei(0);function NS(e){const t=dn(e);return!Eg()||!t.visualViewport?PA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dn(e)?!1:t}function po(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Tg(e);let p=Ei(1);t&&(r?pr(r)&&(p=os(r)):p=os(e));const a=OA(o,n,r)?NS(o):Ei(0);let s=(i.left+a.x)/p.x,c=(i.top+a.y)/p.y,f=i.width/p.x,l=i.height/p.y;if(o){const u=dn(o),d=r&&pr(r)?dn(r):r;let h=u,g=h.frameElement;for(;g&&r&&d!==h;){const m=os(g),v=g.getBoundingClientRect(),y=Xn(g),w=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,x=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;s*=m.x,c*=m.y,f*=m.x,l*=m.y,s+=w,c+=x,h=dn(g),g=h.frameElement}}return $u({width:f,height:l,x:s,y:c})}const $A=[":popover-open",":modal"];function kg(e){return $A.some(t=>{try{return e.matches(t)}catch{return!1}})}function RA(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",p=Ur(r),a=t?kg(t.floating):!1;if(r===p||a&&o)return n;let s={scrollLeft:0,scrollTop:0},c=Ei(1);const f=Ei(0),l=mr(r);if((l||!l&&!o)&&((Ws(r)!=="body"||Ml(p))&&(s=Fd(r)),mr(r))){const u=po(r);c=os(r),f.x=u.x+r.clientLeft,f.y=u.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+f.x,y:n.y*c.y-s.scrollTop*c.y+f.y}}function AA(e){return Array.from(e.getClientRects())}function LS(e){return po(Ur(e)).left+Fd(e).scrollLeft}function DA(e){const t=Ur(e),n=Fd(e),r=e.ownerDocument.body,i=ln(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ln(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let p=-n.scrollLeft+LS(e);const a=-n.scrollTop;return Xn(r).direction==="rtl"&&(p+=ln(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:p,y:a}}function MA(e,t){const n=dn(e),r=Ur(e),i=n.visualViewport;let o=r.clientWidth,p=r.clientHeight,a=0,s=0;if(i){o=i.width,p=i.height;const c=Eg();(!c||c&&t==="fixed")&&(a=i.offsetLeft,s=i.offsetTop)}return{width:o,height:p,x:a,y:s}}function NA(e,t){const n=po(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=mr(e)?os(e):Ei(1),p=e.clientWidth*o.x,a=e.clientHeight*o.y,s=i*o.x,c=r*o.y;return{width:p,height:a,x:s,y:c}}function by(e,t,n){let r;if(t==="viewport")r=MA(e,n);else if(t==="document")r=DA(Ur(e));else if(pr(t))r=NA(t,n);else{const i=NS(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return $u(r)}function FS(e,t){const n=Ti(e);return n===t||!pr(n)||Ps(n)?!1:Xn(n).position==="fixed"||FS(n,t)}function LA(e,t){const n=t.get(e);if(n)return n;let r=dl(e,[],!1).filter(a=>pr(a)&&Ws(a)!=="body"),i=null;const o=Xn(e).position==="fixed";let p=o?Ti(e):e;for(;pr(p)&&!Ps(p);){const a=Xn(p),s=Cg(p);!s&&a.position==="fixed"&&(i=null),(o?!s&&!i:!s&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ml(p)&&!s&&FS(e,p))?r=r.filter(f=>f!==p):i=a,p=Ti(p)}return t.set(e,r),r}function FA(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const p=[...n==="clippingAncestors"?kg(t)?[]:LA(t,this._c):[].concat(n),r],a=p[0],s=p.reduce((c,f)=>{const l=by(t,f,i);return c.top=ln(l.top,c.top),c.right=Ci(l.right,c.right),c.bottom=Ci(l.bottom,c.bottom),c.left=ln(l.left,c.left),c},by(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function jA(e){const{width:t,height:n}=MS(e);return{width:t,height:n}}function IA(e,t,n){const r=mr(t),i=Ur(t),o=n==="fixed",p=po(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const s=Ei(0);if(r||!r&&!o)if((Ws(t)!=="body"||Ml(i))&&(a=Fd(t)),r){const l=po(t,!0,o,t);s.x=l.x+t.clientLeft,s.y=l.y+t.clientTop}else i&&(s.x=LS(i));const c=p.left+a.scrollLeft-s.x,f=p.top+a.scrollTop-s.y;return{x:c,y:f,width:p.width,height:p.height}}function eh(e){return Xn(e).position==="static"}function xy(e,t){return!mr(e)||Xn(e).position==="fixed"?null:t?t(e):e.offsetParent}function jS(e,t){const n=dn(e);if(kg(e))return n;if(!mr(e)){let i=Ti(e);for(;i&&!Ps(i);){if(pr(i)&&!eh(i))return i;i=Ti(i)}return n}let r=xy(e,t);for(;r&&TA(r)&&eh(r);)r=xy(r,t);return r&&Ps(r)&&eh(r)&&!Cg(r)?n:r||kA(e)||n}const BA=async function(e){const t=this.getOffsetParent||jS,n=this.getDimensions,r=await n(e.floating);return{reference:IA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zA(e){return Xn(e).direction==="rtl"}const VA={convertOffsetParentRelativeRectToViewportRelativeRect:RA,getDocumentElement:Ur,getClippingRect:FA,getOffsetParent:jS,getElementRects:BA,getClientRects:AA,getDimensions:jA,getScale:os,isElement:pr,isRTL:zA};function UA(e,t){let n=null,r;const i=Ur(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function p(a,s){a===void 0&&(a=!1),s===void 0&&(s=1),o();const{left:c,top:f,width:l,height:u}=e.getBoundingClientRect();if(a||t(),!l||!u)return;const d=gc(f),h=gc(i.clientWidth-(c+l)),g=gc(i.clientHeight-(f+u)),m=gc(c),y={rootMargin:-d+"px "+-h+"px "+-g+"px "+-m+"px",threshold:ln(0,Ci(1,s))||1};let w=!0;function x(S){const C=S[0].intersectionRatio;if(C!==s){if(!w)return p();C?p(!1,C):r=setTimeout(()=>{p(!1,1e-7)},1e3)}w=!1}try{n=new IntersectionObserver(x,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,y)}n.observe(e)}return p(!0),o}function HA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:p=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=Tg(e),f=i||o?[...c?dl(c):[],...dl(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const l=c&&a?UA(c,n):null;let u=-1,d=null;p&&(d=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),c&&!s&&d.observe(c),d.observe(t));let h,g=s?po(e):null;s&&m();function m(){const v=po(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,h=requestAnimationFrame(m)}return n(),()=>{var v;f.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),l==null||l(),(v=d)==null||v.disconnect(),d=null,s&&cancelAnimationFrame(h)}}const WA=SA,YA=_A,XA=wA,GA=EA,KA=bA,Sy=yA,qA=CA,ZA=(e,t,n)=>{const r=new Map,i={platform:VA,...n},o={...i.platform,_c:r};return vA(e,t,{...i,platform:o})},QA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Sy({element:r.current,padding:i}).fn(n):{}:r?Sy({element:r,padding:i}).fn(n):{}}}};var Yc=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Ru(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ru(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ru(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function IS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _y(e,t){const n=IS(e);return Math.round(t*n)/n}function Cy(e){const t=b.useRef(e);return Yc(()=>{t.current=e}),t}function JA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:p}={},transform:a=!0,whileElementsMounted:s,open:c}=e,[f,l]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,d]=b.useState(r);Ru(u,r)||d(r);const[h,g]=b.useState(null),[m,v]=b.useState(null),y=b.useCallback(q=>{q!==C.current&&(C.current=q,g(q))},[]),w=b.useCallback(q=>{q!==E.current&&(E.current=q,v(q))},[]),x=o||h,S=p||m,C=b.useRef(null),E=b.useRef(null),k=b.useRef(f),L=s!=null,B=Cy(s),G=Cy(i),z=b.useCallback(()=>{if(!C.current||!E.current)return;const q={placement:t,strategy:n,middleware:u};G.current&&(q.platform=G.current),ZA(C.current,E.current,q).then(H=>{const T={...H,isPositioned:!0};Q.current&&!Ru(k.current,T)&&(k.current=T,Ri.flushSync(()=>{l(T)}))})},[u,t,n,G]);Yc(()=>{c===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,l(q=>({...q,isPositioned:!1})))},[c]);const Q=b.useRef(!1);Yc(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Yc(()=>{if(x&&(C.current=x),S&&(E.current=S),x&&S){if(B.current)return B.current(x,S,z);z()}},[x,S,z,B,L]);const I=b.useMemo(()=>({reference:C,floating:E,setReference:y,setFloating:w}),[y,w]),M=b.useMemo(()=>({reference:x,floating:S}),[x,S]),N=b.useMemo(()=>{const q={position:n,left:0,top:0};if(!M.floating)return q;const H=_y(M.floating,f.x),T=_y(M.floating,f.y);return a?{...q,transform:"translate("+H+"px, "+T+"px)",...IS(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:T}},[n,a,M.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:z,refs:I,elements:M,floatingStyles:N}),[f,z,I,M,N])}function Pg(e){const[t,n]=b.useState(void 0);return Rt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let p,a;if("borderBoxSize"in o){const s=o.borderBoxSize,c=Array.isArray(s)?s[0]:s;p=c.inlineSize,a=c.blockSize}else p=e.offsetWidth,a=e.offsetHeight;n({width:p,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const BS="Popper",[zS,Ai]=Ht(BS),[eD,VS]=zS(BS),tD=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return b.createElement(eD,{scope:t,anchor:r,onAnchorChange:i},n)},nD="PopperAnchor",rD=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=VS(nD,n),p=b.useRef(null),a=Te(t,p);return b.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||p.current)}),r?null:b.createElement(Se.div,re({},i,{ref:a}))}),US="PopperContent",[iD,t8]=zS(US),oD=b.forwardRef((e,t)=>{var n,r,i,o,p,a,s,c;const{__scopePopper:f,side:l="bottom",sideOffset:u=0,align:d="center",alignOffset:h=0,arrowPadding:g=0,avoidCollisions:m=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:w="partial",hideWhenDetached:x=!1,updatePositionStrategy:S="optimized",onPlaced:C,...E}=e,k=VS(US,f),[L,B]=b.useState(null),G=Te(t,ae=>B(ae)),[z,Q]=b.useState(null),I=Pg(z),M=(n=I==null?void 0:I.width)!==null&&n!==void 0?n:0,N=(r=I==null?void 0:I.height)!==null&&r!==void 0?r:0,q=l+(d!=="center"?"-"+d:""),H=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},T=Array.isArray(v)?v:[v],$=T.length>0,R={padding:H,boundary:T.filter(sD),altBoundary:$},{refs:O,floatingStyles:V,placement:D,isPositioned:P,middlewareData:F}=JA({strategy:"fixed",placement:q,whileElementsMounted:(...ae)=>HA(...ae,{animationFrame:S==="always"}),elements:{reference:k.anchor},middleware:[WA({mainAxis:u+N,alignmentAxis:h}),m&&YA({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?qA():void 0,...R}),m&&XA({...R}),GA({...R,apply:({elements:ae,rects:le,availableWidth:oe,availableHeight:A})=>{const{width:U,height:Z}=le.reference,se=ae.floating.style;se.setProperty("--radix-popper-available-width",`${oe}px`),se.setProperty("--radix-popper-available-height",`${A}px`),se.setProperty("--radix-popper-anchor-width",`${U}px`),se.setProperty("--radix-popper-anchor-height",`${Z}px`)}}),z&&QA({element:z,padding:g}),aD({arrowWidth:M,arrowHeight:N}),x&&KA({strategy:"referenceHidden",...R})]}),[j,X]=HS(D),Y=tt(C);Rt(()=>{P&&(Y==null||Y())},[P,Y]);const J=(i=F.arrow)===null||i===void 0?void 0:i.x,te=(o=F.arrow)===null||o===void 0?void 0:o.y,ce=((p=F.arrow)===null||p===void 0?void 0:p.centerOffset)!==0,[ee,K]=b.useState();return Rt(()=>{L&&K(window.getComputedStyle(L).zIndex)},[L]),b.createElement("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:P?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(a=F.transformOrigin)===null||a===void 0?void 0:a.x,(s=F.transformOrigin)===null||s===void 0?void 0:s.y].join(" ")},dir:e.dir},b.createElement(iD,{scope:f,placedSide:j,onArrowChange:Q,arrowX:J,arrowY:te,shouldHideArrow:ce},b.createElement(Se.div,re({"data-side":j,"data-align":X},E,{ref:G,style:{...E.style,animation:P?void 0:"none",opacity:(c=F.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function sD(e){return e!==null}const aD=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,p;const{placement:a,rects:s,middlewareData:c}=t,l=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[h,g]=HS(a),m={start:"0%",center:"50%",end:"100%"}[g],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+u/2,y=((o=(p=c.arrow)===null||p===void 0?void 0:p.y)!==null&&o!==void 0?o:0)+d/2;let w="",x="";return h==="bottom"?(w=l?m:`${v}px`,x=`${-d}px`):h==="top"?(w=l?m:`${v}px`,x=`${s.floating.height+d}px`):h==="right"?(w=`${-d}px`,x=l?m:`${y}px`):h==="left"&&(w=`${s.floating.width+d}px`,x=l?m:`${y}px`),{data:{x:w,y:x}}}});function HS(e){const[t,n="center"]=e.split("-");return[t,n]}const Nl=tD,jd=rD,Id=oD,[Bd,n8]=Ht("Tooltip",[Ai]),Og=Ai(),lD="TooltipProvider",cD=700,Mp="tooltip.open",[uD,$g]=Bd(lD),dD=e=>{const{__scopeTooltip:t,delayDuration:n=cD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[p,a]=b.useState(!0),s=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const f=c.current;return()=>window.clearTimeout(f)},[]),b.createElement(uD,{scope:t,isOpenDelayed:p,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(f=>{s.current=f},[]),disableHoverableContent:i},o)},Rg="Tooltip",[fD,zd]=Bd(Rg),hD=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:p,delayDuration:a}=e,s=$g(Rg,e.__scopeTooltip),c=Og(t),[f,l]=b.useState(null),u=en(),d=b.useRef(0),h=p??s.disableHoverableContent,g=a??s.delayDuration,m=b.useRef(!1),[v=!1,y]=$n({prop:r,defaultProp:i,onChange:E=>{E?(s.onOpen(),document.dispatchEvent(new CustomEvent(Mp))):s.onClose(),o==null||o(E)}}),w=b.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),x=b.useCallback(()=>{window.clearTimeout(d.current),m.current=!1,y(!0)},[y]),S=b.useCallback(()=>{window.clearTimeout(d.current),y(!1)},[y]),C=b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{m.current=!0,y(!0)},g)},[g,y]);return b.useEffect(()=>()=>window.clearTimeout(d.current),[]),b.createElement(Nl,c,b.createElement(fD,{scope:t,contentId:u,open:v,stateAttribute:w,trigger:f,onTriggerChange:l,onTriggerEnter:b.useCallback(()=>{s.isOpenDelayed?C():x()},[s.isOpenDelayed,C,x]),onTriggerLeave:b.useCallback(()=>{h?S():window.clearTimeout(d.current)},[S,h]),onOpen:x,onClose:S,disableHoverableContent:h},n))},Ey="TooltipTrigger",pD=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zd(Ey,n),o=$g(Ey,n),p=Og(n),a=b.useRef(null),s=Te(t,a,i.onTriggerChange),c=b.useRef(!1),f=b.useRef(!1),l=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",l),[l]),b.createElement(jd,re({asChild:!0},p),b.createElement(Se.button,re({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:s,onPointerMove:pe(e.onPointerMove,u=>{u.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",l,{once:!0})}),onFocus:pe(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})))}),mD="TooltipPortal",[r8,gD]=Bd(mD,{forceMount:void 0}),fl="TooltipContent",vD=b.forwardRef((e,t)=>{const n=gD(fl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,p=zd(fl,e.__scopeTooltip);return b.createElement(Ct,{present:r||p.open},p.disableHoverableContent?b.createElement(WS,re({side:i},o,{ref:t})):b.createElement(yD,re({side:i},o,{ref:t})))}),yD=b.forwardRef((e,t)=>{const n=zd(fl,e.__scopeTooltip),r=$g(fl,e.__scopeTooltip),i=b.useRef(null),o=Te(t,i),[p,a]=b.useState(null),{trigger:s,onClose:c}=n,f=i.current,{onPointerInTransitChange:l}=r,u=b.useCallback(()=>{a(null),l(!1)},[l]),d=b.useCallback((h,g)=>{const m=h.currentTarget,v={x:h.clientX,y:h.clientY},y=bD(v,m.getBoundingClientRect()),w=xD(v,y),x=SD(g.getBoundingClientRect()),S=CD([...w,...x]);a(S),l(!0)},[l]);return b.useEffect(()=>()=>u(),[u]),b.useEffect(()=>{if(s&&f){const h=m=>d(m,f),g=m=>d(m,s);return s.addEventListener("pointerleave",h),f.addEventListener("pointerleave",g),()=>{s.removeEventListener("pointerleave",h),f.removeEventListener("pointerleave",g)}}},[s,f,d,u]),b.useEffect(()=>{if(p){const h=g=>{const m=g.target,v={x:g.clientX,y:g.clientY},y=(s==null?void 0:s.contains(m))||(f==null?void 0:f.contains(m)),w=!_D(v,p);y?u():w&&(u(),c())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[s,f,p,c,u]),b.createElement(WS,re({},e,{ref:o}))}),[wD,i8]=Bd(Rg,{isInside:!1}),WS=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:p,...a}=e,s=zd(fl,n),c=Og(n),{onClose:f}=s;return b.useEffect(()=>(document.addEventListener(Mp,f),()=>document.removeEventListener(Mp,f)),[f]),b.useEffect(()=>{if(s.trigger){const l=u=>{const d=u.target;d!=null&&d.contains(s.trigger)&&f()};return window.addEventListener("scroll",l,{capture:!0}),()=>window.removeEventListener("scroll",l,{capture:!0})}},[s.trigger,f]),b.createElement(Bs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:p,onFocusOutside:l=>l.preventDefault(),onDismiss:f},b.createElement(Id,re({"data-state":s.stateAttribute},c,a,{ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),b.createElement(sg,null,r),b.createElement(wD,{scope:n,isInside:!0},b.createElement(tO,{id:s.contentId,role:"tooltip"},i||r))))});function bD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function xD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function SD(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function _D(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,p=t.length-1;o<t.length;p=o++){const a=t[o].x,s=t[o].y,c=t[p].x,f=t[p].y;s>r!=f>r&&n<(c-a)*(r-s)/(f-s)+a&&(i=!i)}return i}function CD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ED(t)}function ED(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],p=t[t.length-2];if((o.x-p.x)*(i.y-p.y)>=(o.y-p.y)*(i.x-p.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],p=n[n.length-2];if((o.x-p.x)*(i.y-p.y)>=(o.y-p.y)*(i.x-p.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}const TD=dD,kD=hD,PD=pD,YS=vD,OD=TD,XS=kD,GS=PD,Ag=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>_.jsx(YS,{ref:r,sideOffset:t,className:ye("z-50 border overflow-hidden rounded-md bg-background text-foreground px-3 py-1.5 text-xs animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Ag.displayName=YS.displayName;const Dg=Td("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),It=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const p=r?hr:"button";return _.jsx(p,{className:ye(Dg({variant:t,size:n,className:e}),"outline-none cursor-default select-none"),ref:o,tabIndex:-1,...i})});It.displayName="Button";const Er=b.forwardRef(({tooltip:e,children:t,...n},r)=>_.jsxs(XS,{children:[_.jsx(GS,{asChild:!0,children:_.jsx(It,{variant:"ghost",size:"icon",...n,ref:r,tabIndex:-1,className:"cursor-default bg-background",children:_.jsx("div",{className:"icon-button-icon-wrapper",children:t})})}),_.jsx(Ag,{children:_.jsx("p",{children:e})})]})),KS=e=>{const{onFileUpload:t,children:n,...r}=e,[i]=b.useState(`file-upload-${Math.random().toString()}`),o=p=>{var s;const a=(s=p.currentTarget.files)==null?void 0:s[0];a&&t(a)};return _.jsxs(_.Fragment,{children:[_.jsx("label",{htmlFor:i,children:_.jsx(Er,{...r,asChild:!0,children:n})}),_.jsx(bg,{style:{display:"none"},id:i,name:i,type:"file",onChange:o,accept:"image/png, image/jpeg"})]})};function qS(e){const[t,n]=b.useState(()=>e),r=b.useCallback(i=>n(typeof i=="boolean"?i:o=>!o),[]);return[t,r]}const th="focusScope.autoFocusOnMount",nh="focusScope.autoFocusOnUnmount",Ty={bubbles:!1,cancelable:!0},Vd=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...p}=e,[a,s]=b.useState(null),c=tt(i),f=tt(o),l=b.useRef(null),u=Te(t,g=>s(g)),d=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(C){if(d.paused||!a)return;const E=C.target;a.contains(E)?l.current=E:Zr(l.current,{select:!0})},w=function(C){if(d.paused||!a)return;const E=C.relatedTarget;E!==null&&(a.contains(E)||Zr(l.current,{select:!0}))},x=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Zr(a)};var g=y,m=w,v=x;document.addEventListener("focusin",y),document.addEventListener("focusout",w);const S=new MutationObserver(x);return a&&S.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",w),S.disconnect()}}},[r,a,d.paused]),b.useEffect(()=>{if(a){Py.add(d);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(th,Ty);a.addEventListener(th,c),a.dispatchEvent(v),v.defaultPrevented||($D(ND(ZS(a)),{select:!0}),document.activeElement===g&&Zr(a))}return()=>{a.removeEventListener(th,c),setTimeout(()=>{const v=new CustomEvent(nh,Ty);a.addEventListener(nh,f),a.dispatchEvent(v),v.defaultPrevented||Zr(g??document.body,{select:!0}),a.removeEventListener(nh,f),Py.remove(d)},0)}}},[a,c,f,d]);const h=b.useCallback(g=>{if(!n&&!r||d.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(m&&v){const y=g.currentTarget,[w,x]=RD(y);w&&x?!g.shiftKey&&v===x?(g.preventDefault(),n&&Zr(w,{select:!0})):g.shiftKey&&v===w&&(g.preventDefault(),n&&Zr(x,{select:!0})):v===y&&g.preventDefault()}},[n,r,d.paused]);return b.createElement(Se.div,re({tabIndex:-1},p,{ref:u,onKeyDown:h}))});function $D(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Zr(r,{select:t}),document.activeElement!==n)return}function RD(e){const t=ZS(e),n=ky(t,e),r=ky(t.reverse(),e);return[n,r]}function ZS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ky(e,t){for(const n of e)if(!AD(n,{upTo:t}))return n}function AD(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function DD(e){return e instanceof HTMLInputElement&&"select"in e}function Zr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&DD(e)&&t&&e.select()}}const Py=MD();function MD(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Oy(e,t),e.unshift(t)},remove(t){var n;e=Oy(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Oy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ND(e){return e.filter(t=>t.tagName!=="A")}let rh=0;function Ud(){b.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:$y()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:$y()),rh++,()=>{rh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),rh--}},[])}function $y(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var nr=function(){return nr=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},nr.apply(this,arguments)};function QS(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function LD(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Xc="right-scroll-bar-position",Gc="width-before-scroll-bar",FD="with-scroll-bars-hidden",jD="--removed-body-scroll-bar-size";function ih(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ID(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var BD=typeof window<"u"?b.useLayoutEffect:b.useEffect,Ry=new WeakMap;function zD(e,t){var n=ID(null,function(r){return e.forEach(function(i){return ih(i,r)})});return BD(function(){var r=Ry.get(n);if(r){var i=new Set(r),o=new Set(e),p=n.current;i.forEach(function(a){o.has(a)||ih(a,null)}),o.forEach(function(a){i.has(a)||ih(a,p)})}Ry.set(n,e)},[e]),n}function VD(e){return e}function UD(e,t){t===void 0&&(t=VD);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var p=t(o,r);return n.push(p),function(){n=n.filter(function(a){return a!==p})}},assignSyncMedium:function(o){for(r=!0;n.length;){var p=n;n=[],p.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var p=[];if(n.length){var a=n;n=[],a.forEach(o),p=n}var s=function(){var f=p;p=[],f.forEach(o)},c=function(){return Promise.resolve().then(s)};c(),n={push:function(f){p.push(f),c()},filter:function(f){return p=p.filter(f),n}}}};return i}function HD(e){e===void 0&&(e={});var t=UD(null);return t.options=nr({async:!0,ssr:!1},e),t}var JS=function(e){var t=e.sideCar,n=QS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,nr({},n))};JS.isSideCarExport=!0;function WD(e,t){return e.useMedium(t),JS}var e_=HD(),oh=function(){},Hd=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:oh,onWheelCapture:oh,onTouchMoveCapture:oh}),i=r[0],o=r[1],p=e.forwardProps,a=e.children,s=e.className,c=e.removeScrollBar,f=e.enabled,l=e.shards,u=e.sideCar,d=e.noIsolation,h=e.inert,g=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=QS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=u,x=zD([n,t]),S=nr(nr({},y),i);return b.createElement(b.Fragment,null,f&&b.createElement(w,{sideCar:e_,removeScrollBar:c,shards:l,noIsolation:d,inert:h,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),p?b.cloneElement(b.Children.only(a),nr(nr({},S),{ref:x})):b.createElement(v,nr({},S,{className:s,ref:x}),a))});Hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hd.classNames={fullWidth:Gc,zeroRight:Xc};var YD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=YD();return t&&e.setAttribute("nonce",t),e}function GD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function KD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qD=function(){var e=0,t=null;return{add:function(n){e==0&&(t=XD())&&(GD(t,n),KD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ZD=function(){var e=qD();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},t_=function(){var e=ZD(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},QD={left:0,top:0,right:0,gap:0},sh=function(e){return parseInt(e||"",10)||0},JD=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sh(n),sh(r),sh(i)]},eM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return QD;var t=JD(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},tM=t_(),ss="data-scroll-locked",nM=function(e,t,n,r){var i=e.left,o=e.top,p=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(FD,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ss,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(p,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xc," .").concat(Xc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gc," .").concat(Gc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ss,`] {
    `).concat(jD,": ").concat(a,`px;
  }
`)},Ay=function(){var e=parseInt(document.body.getAttribute(ss)||"0",10);return isFinite(e)?e:0},rM=function(){b.useEffect(function(){return document.body.setAttribute(ss,(Ay()+1).toString()),function(){var e=Ay()-1;e<=0?document.body.removeAttribute(ss):document.body.setAttribute(ss,e.toString())}},[])},iM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;rM();var o=b.useMemo(function(){return eM(i)},[i]);return b.createElement(tM,{styles:nM(o,!t,i,n?"":"!important")})},Np=!1;if(typeof window<"u")try{var vc=Object.defineProperty({},"passive",{get:function(){return Np=!0,!0}});window.addEventListener("test",vc,vc),window.removeEventListener("test",vc,vc)}catch{Np=!1}var Po=Np?{passive:!1}:!1,oM=function(e){return e.tagName==="TEXTAREA"},n_=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!oM(e)&&n[t]==="visible")},sM=function(e){return n_(e,"overflowY")},aM=function(e){return n_(e,"overflowX")},Dy=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=r_(e,n);if(r){var i=i_(e,n),o=i[1],p=i[2];if(o>p)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},lM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},cM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},r_=function(e,t){return e==="v"?sM(t):aM(t)},i_=function(e,t){return e==="v"?lM(t):cM(t)},uM=function(e,t){return e==="h"&&t==="rtl"?-1:1},dM=function(e,t,n,r,i){var o=uM(e,window.getComputedStyle(t).direction),p=o*r,a=n.target,s=t.contains(a),c=!1,f=p>0,l=0,u=0;do{var d=i_(e,a),h=d[0],g=d[1],m=d[2],v=g-m-o*h;(h||v)&&r_(e,a)&&(l+=v,u+=h),a=a.parentNode}while(!s&&a!==document.body||s&&(t.contains(a)||t===a));return(f&&(l===0||!i)||!f&&(u===0||!i))&&(c=!0),c},yc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},My=function(e){return[e.deltaX,e.deltaY]},Ny=function(e){return e&&"current"in e?e.current:e},fM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pM=0,Oo=[];function mM(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(pM++)[0],o=b.useState(function(){return t_()})[0],p=b.useRef(e);b.useEffect(function(){p.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=LD([e.lockRef.current],(e.shards||[]).map(Ny),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=b.useCallback(function(g,m){if("touches"in g&&g.touches.length===2)return!p.current.allowPinchZoom;var v=yc(g),y=n.current,w="deltaX"in g?g.deltaX:y[0]-v[0],x="deltaY"in g?g.deltaY:y[1]-v[1],S,C=g.target,E=Math.abs(w)>Math.abs(x)?"h":"v";if("touches"in g&&E==="h"&&C.type==="range")return!1;var k=Dy(E,C);if(!k)return!0;if(k?S=E:(S=E==="v"?"h":"v",k=Dy(E,C)),!k)return!1;if(!r.current&&"changedTouches"in g&&(w||x)&&(r.current=S),!S)return!0;var L=r.current||S;return dM(L,m,g,L==="h"?w:x,!0)},[]),s=b.useCallback(function(g){var m=g;if(!(!Oo.length||Oo[Oo.length-1]!==o)){var v="deltaY"in m?My(m):yc(m),y=t.current.filter(function(S){return S.name===m.type&&S.target===m.target&&fM(S.delta,v)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var w=(p.current.shards||[]).map(Ny).filter(Boolean).filter(function(S){return S.contains(m.target)}),x=w.length>0?a(m,w[0]):!p.current.noIsolation;x&&m.cancelable&&m.preventDefault()}}},[]),c=b.useCallback(function(g,m,v,y){var w={name:g,delta:m,target:v,should:y};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(x){return x!==w})},1)},[]),f=b.useCallback(function(g){n.current=yc(g),r.current=void 0},[]),l=b.useCallback(function(g){c(g.type,My(g),g.target,a(g,e.lockRef.current))},[]),u=b.useCallback(function(g){c(g.type,yc(g),g.target,a(g,e.lockRef.current))},[]);b.useEffect(function(){return Oo.push(o),e.setCallbacks({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:u}),document.addEventListener("wheel",s,Po),document.addEventListener("touchmove",s,Po),document.addEventListener("touchstart",f,Po),function(){Oo=Oo.filter(function(g){return g!==o}),document.removeEventListener("wheel",s,Po),document.removeEventListener("touchmove",s,Po),document.removeEventListener("touchstart",f,Po)}},[]);var d=e.removeScrollBar,h=e.inert;return b.createElement(b.Fragment,null,h?b.createElement(o,{styles:hM(i)}):null,d?b.createElement(iM,{gapMode:"margin"}):null)}const gM=WD(e_,mM);var Ll=b.forwardRef(function(e,t){return b.createElement(Hd,nr({},e,{ref:t,sideCar:gM}))});Ll.classNames=Hd.classNames;var vM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},$o=new WeakMap,wc=new WeakMap,bc={},ah=0,o_=function(e){return e&&(e.host||o_(e.parentNode))},yM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=o_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},wM=function(e,t,n,r){var i=yM(t,Array.isArray(e)?e:[e]);bc[n]||(bc[n]=new WeakMap);var o=bc[n],p=[],a=new Set,s=new Set(i),c=function(l){!l||a.has(l)||(a.add(l),c(l.parentNode))};i.forEach(c);var f=function(l){!l||s.has(l)||Array.prototype.forEach.call(l.children,function(u){if(a.has(u))f(u);else try{var d=u.getAttribute(r),h=d!==null&&d!=="false",g=($o.get(u)||0)+1,m=(o.get(u)||0)+1;$o.set(u,g),o.set(u,m),p.push(u),g===1&&h&&wc.set(u,!0),m===1&&u.setAttribute(n,"true"),h||u.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",u,v)}})};return f(t),a.clear(),ah++,function(){p.forEach(function(l){var u=$o.get(l)-1,d=o.get(l)-1;$o.set(l,u),o.set(l,d),u||(wc.has(l)||l.removeAttribute(r),wc.delete(l)),d||l.removeAttribute(n)}),ah--,ah||($o=new WeakMap,$o=new WeakMap,wc=new WeakMap,bc={})}},Wd=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=vM(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),wM(r,i,n,"aria-hidden")):function(){return null}};const s_="Dialog",[a_,l_]=Ht(s_),[bM,Gn]=a_(s_),xM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:p=!0}=e,a=b.useRef(null),s=b.useRef(null),[c=!1,f]=$n({prop:r,defaultProp:i,onChange:o});return b.createElement(bM,{scope:t,triggerRef:a,contentRef:s,contentId:en(),titleId:en(),descriptionId:en(),open:c,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(l=>!l),[f]),modal:p},n)},SM="DialogTrigger",_M=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Gn(SM,n),o=Te(t,i.triggerRef);return b.createElement(Se.button,re({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Mg(i.open)},r,{ref:o,onClick:pe(e.onClick,i.onOpenToggle)}))}),c_="DialogPortal",[CM,u_]=a_(c_,{forceMount:void 0}),EM=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Gn(c_,t);return b.createElement(CM,{scope:t,forceMount:n},b.Children.map(r,p=>b.createElement(Ct,{present:n||o.open},b.createElement($l,{asChild:!0,container:i},p))))},Lp="DialogOverlay",TM=b.forwardRef((e,t)=>{const n=u_(Lp,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Gn(Lp,e.__scopeDialog);return o.modal?b.createElement(Ct,{present:r||o.open},b.createElement(kM,re({},i,{ref:t}))):null}),kM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Gn(Lp,n);return b.createElement(Ll,{as:hr,allowPinchZoom:!0,shards:[i.contentRef]},b.createElement(Se.div,re({"data-state":Mg(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Os="DialogContent",PM=b.forwardRef((e,t)=>{const n=u_(Os,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Gn(Os,e.__scopeDialog);return b.createElement(Ct,{present:r||o.open},o.modal?b.createElement(OM,re({},i,{ref:t})):b.createElement($M,re({},i,{ref:t})))}),OM=b.forwardRef((e,t)=>{const n=Gn(Os,e.__scopeDialog),r=b.useRef(null),i=Te(t,n.contentRef,r);return b.useEffect(()=>{const o=r.current;if(o)return Wd(o)},[]),b.createElement(d_,re({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var p;o.preventDefault(),(p=n.triggerRef.current)===null||p===void 0||p.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const p=o.detail.originalEvent,a=p.button===0&&p.ctrlKey===!0;(p.button===2||a)&&o.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault())}))}),$M=b.forwardRef((e,t)=>{const n=Gn(Os,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return b.createElement(d_,re({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var p;if((p=e.onCloseAutoFocus)===null||p===void 0||p.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var p,a;(p=e.onInteractOutside)===null||p===void 0||p.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),d_=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...p}=e,a=Gn(Os,n),s=b.useRef(null),c=Te(t,s);return Ud(),b.createElement(b.Fragment,null,b.createElement(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},b.createElement(Bs,re({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mg(a.open)},p,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),f_="DialogTitle",RM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Gn(f_,n);return b.createElement(Se.h2,re({id:i.titleId},r,{ref:t}))}),AM="DialogDescription",DM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Gn(AM,n);return b.createElement(Se.p,re({id:i.descriptionId},r,{ref:t}))}),MM="DialogClose",NM=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Gn(MM,n);return b.createElement(Se.button,re({type:"button"},r,{ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))}))});function Mg(e){return e?"open":"closed"}const LM="DialogTitleWarning",[FM,o8]=IP(LM,{contentName:Os,titleName:f_,docsSlug:"dialog"}),Yd=xM,h_=_M,Xd=EM,Ys=TM,Xs=PM,Fl=RM,jl=DM,Ng=NM,p_=Yd,m_=h_,jM=Xd,g_=b.forwardRef(({className:e,...t},n)=>_.jsx(Ys,{ref:n,className:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));g_.displayName=Ys.displayName;const Lg=b.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(jM,{children:[_.jsx(g_,{}),_.jsxs(Xs,{ref:r,className:ye("fixed left-[50%] top-[50%] z-50 flex flex-col w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e,"outline-none"),onCloseAutoFocus:i=>i.preventDefault(),...n,children:[t,_.jsxs(Ng,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[_.jsx(p1,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lg.displayName=Xs.displayName;const v_=({className:e,...t})=>_.jsx("div",{className:ye("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});v_.displayName="DialogHeader";const Fg=b.forwardRef(({className:e,...t},n)=>_.jsx(Fl,{ref:n,className:ye("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fg.displayName=Fl.displayName;const IM=b.forwardRef(({className:e,...t},n)=>_.jsx(jl,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));IM.displayName=jl.displayName;function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(this,arguments)}var y_=["shift","alt","meta","mod","ctrl"],BM={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ui(e){return(BM[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function zM(e){return y_.includes(e)}function lh(e,t){return t===void 0&&(t=","),e.split(t)}function ch(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(p){return ui(p)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},o=r.filter(function(p){return!y_.includes(p)});return Fp({},i,{keys:o,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&w_([ui(e.key),ui(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&b_([ui(e.key),ui(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){di.clear()})})();var di=new Set;function jg(e){return Array.isArray(e)}function VM(e,t){t===void 0&&(t=",");var n=jg(e)?e:e.split(t);return n.every(function(r){return di.has(r.trim().toLowerCase())})}function w_(e){var t=Array.isArray(e)?e:[e];di.has("meta")&&di.forEach(function(n){return!zM(n)&&di.delete(n.toLowerCase())}),t.forEach(function(n){return di.add(n.toLowerCase())})}function b_(e){var t=Array.isArray(e)?e:[e];e==="meta"?di.clear():t.forEach(function(n){return di.delete(n.toLowerCase())})}function UM(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function HM(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function WM(e){return x_(e,["input","textarea","select"])}function x_(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return jg(t)?!!(r&&t&&t.some(function(i){return i.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function YM(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var XM=function(t,n,r){r===void 0&&(r=!1);var i=n.alt,o=n.meta,p=n.mod,a=n.shift,s=n.ctrl,c=n.keys,f=t.key,l=t.code,u=t.ctrlKey,d=t.metaKey,h=t.shiftKey,g=t.altKey,m=ui(l),v=f.toLowerCase();if(!(c!=null&&c.includes(m))&&!(c!=null&&c.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(m))return!1;if(!r){if(i===!g&&v!=="alt"||a===!h&&v!=="shift")return!1;if(p){if(!d&&!u)return!1}else if(o===!d&&v!=="meta"&&v!=="os"||s===!u&&v!=="ctrl"&&v!=="control")return!1}return c&&c.length===1&&(c.includes(v)||c.includes(m))?!0:c?VM(c):!c},GM=b.createContext(void 0),KM=function(){return b.useContext(GM)};function S_(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&S_(e[r],t[r])},!0):e===t}var qM=b.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),ZM=function(){return b.useContext(qM)};function QM(e){var t=b.useRef(void 0);return S_(t.current,e)||(t.current=e),t.current}var Ly=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},JM=typeof window<"u"?b.useLayoutEffect:b.useEffect;function e3(e,t,n,r){var i=b.useRef(null),o=b.useRef(!1),p=n instanceof Array?r instanceof Array?void 0:r:n,a=jg(e)?e.join(p==null?void 0:p.splitKey):e,s=n instanceof Array?n:r instanceof Array?r:void 0,c=b.useCallback(t,s??[]),f=b.useRef(c);s?f.current=c:f.current=t;var l=QM(p),u=ZM(),d=u.enabledScopes,h=KM();return JM(function(){if(!((l==null?void 0:l.enabled)===!1||!YM(d,l==null?void 0:l.scopes))){var g=function(x,S){var C;if(S===void 0&&(S=!1),!(WM(x)&&!x_(x,l==null?void 0:l.enableOnFormTags))){if(i.current!==null){var E=i.current.getRootNode();if((E instanceof Document||E instanceof ShadowRoot)&&E.activeElement!==i.current&&!i.current.contains(E.activeElement)){Ly(x);return}}(C=x.target)!=null&&C.isContentEditable&&!(l!=null&&l.enableOnContentEditable)||lh(a,l==null?void 0:l.splitKey).forEach(function(k){var L,B=ch(k,l==null?void 0:l.combinationKey);if(XM(x,B,l==null?void 0:l.ignoreModifiers)||(L=B.keys)!=null&&L.includes("*")){if(l!=null&&l.ignoreEventWhen!=null&&l.ignoreEventWhen(x)||S&&o.current)return;if(UM(x,B,l==null?void 0:l.preventDefault),!HM(x,B,l==null?void 0:l.enabled)){Ly(x);return}f.current(x,B),S||(o.current=!0)}})}},m=function(x){x.key!==void 0&&(w_(ui(x.code)),((l==null?void 0:l.keydown)===void 0&&(l==null?void 0:l.keyup)!==!0||l!=null&&l.keydown)&&g(x))},v=function(x){x.key!==void 0&&(b_(ui(x.code)),o.current=!1,l!=null&&l.keyup&&g(x,!0))},y=i.current||(p==null?void 0:p.document)||document;return y.addEventListener("keyup",v),y.addEventListener("keydown",m),h&&lh(a,l==null?void 0:l.splitKey).forEach(function(w){return h.addHotkey(ch(w,l==null?void 0:l.combinationKey,l==null?void 0:l.description))}),function(){y.removeEventListener("keyup",v),y.removeEventListener("keydown",m),h&&lh(a,l==null?void 0:l.splitKey).forEach(function(w){return h.removeHotkey(ch(w,l==null?void 0:l.combinationKey,l==null?void 0:l.description))})}}},[a,l,d]),i}const Zn=(e,t,n)=>{const r=We(o=>o.disableShortCuts);return e3(e,t,{enabled:!r},n)};function t3(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Fy={};function jp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&Fy[t[0]]||(typeof t[0]=="string"&&(Fy[t[0]]=new Date),t3(...t))}const __=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function jy(e,t,n){e.loadNamespaces(t,__(e,n))}function Iy(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,__(e,r))}function n3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const p=(a,s)=>{const c=t.services.backendConnector.state[`${a}|${s}`];return c===-1||c===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!p(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||p(r,e)&&(!i||p(o,e)))}function r3(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(jp("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):n3(e,t,n)}const i3=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,o3={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},s3=e=>o3[e],a3=e=>e.replace(i3,s3);let Ip={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:a3};function l3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ip={...Ip,...e}}function c3(){return Ip}let C_;function u3(e){C_=e}function d3(){return C_}const f3={type:"3rdParty",init(e){l3(e.options.react),u3(e)}},h3=b.createContext();class p3{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const m3=(e,t)=>{const n=b.useRef();return b.useEffect(()=>{n.current=e},[e,t]),n.current};function E_(e,t,n,r){return e.getFixedT(t,n,r)}function g3(e,t,n,r){return b.useCallback(E_(e,t,n,r),[e,t,n,r])}function Gd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=b.useContext(h3)||{},o=n||r||d3();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new p3),!o){jp("You will need to pass in an i18next instance by using initReactI18next");const x=(C,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(C)?C[C.length-1]:C,S=[x,{},!1];return S.t=x,S.i18n={},S.ready=!1,S}o.options.react&&o.options.react.wait!==void 0&&jp("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const p={...c3(),...o.options.react,...t},{useSuspense:a,keyPrefix:s}=p;let c=i||o.options&&o.options.defaultNS;c=typeof c=="string"?[c]:c||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(c);const f=(o.isInitialized||o.initializedStoreOnce)&&c.every(x=>r3(x,o,p)),l=g3(o,t.lng||null,p.nsMode==="fallback"?c:c[0],s),u=()=>l,d=()=>E_(o,t.lng||null,p.nsMode==="fallback"?c:c[0],s),[h,g]=b.useState(u);let m=c.join();t.lng&&(m=`${t.lng}${m}`);const v=m3(m),y=b.useRef(!0);b.useEffect(()=>{const{bindI18n:x,bindI18nStore:S}=p;y.current=!0,!f&&!a&&(t.lng?Iy(o,t.lng,c,()=>{y.current&&g(d)}):jy(o,c,()=>{y.current&&g(d)})),f&&v&&v!==m&&y.current&&g(d);function C(){y.current&&g(d)}return x&&o&&o.on(x,C),S&&o&&o.store.on(S,C),()=>{y.current=!1,x&&o&&x.split(" ").forEach(E=>o.off(E,C)),S&&o&&S.split(" ").forEach(E=>o.store.off(E,C))}},[o,m]),b.useEffect(()=>{y.current&&f&&g(u)},[o,s,f]);const w=[h,o,f];if(w.t=h,w.i18n=o,w.ready=f,f||!f&&!a)return w;throw new Promise(x=>{t.lng?Iy(o,t.lng,c,()=>x()):jy(o,c,()=>x())})}function rn(e){const{content:t,keys:n}=e;return _.jsxs("div",{className:"flex justify-between",children:[_.jsx("div",{children:t}),_.jsx("div",{className:"flex gap-[8px]",children:n.map(r=>_.jsx("div",{className:"border px-2 py-1 rounded-lg",children:r},r))})]})}const v3=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},xc=()=>v3()?"Cmd":"Ctrl";function y3(){const[e,t]=qS(!1),{t:n}=Gd();return Zn("h",()=>{t()}),_.jsxs(p_,{open:e,onOpenChange:t,children:[_.jsx(m_,{asChild:!0,children:_.jsx(Er,{tooltip:"Hotkeys",children:_.jsx(V$,{})})}),_.jsx(Lg,{children:_.jsxs(v_,{children:[_.jsx(Fg,{children:"Hotkeys"}),_.jsxs("div",{className:"flex gap-2 flex-col pt-4",children:[_.jsx(rn,{content:n("Pan"),keys:["Space + Drag"]}),_.jsx(rn,{content:n("Reset Zoom/Pan"),keys:["Esc"]}),_.jsx(rn,{content:n("Decrease Brush Size"),keys:["["]}),_.jsx(rn,{content:n("Increase Brush Size"),keys:["]"]}),_.jsx(rn,{content:n("View Original Image"),keys:["Hold Tab"]}),_.jsx(rn,{content:n("Undo"),keys:[xc(),"Z"]}),_.jsx(rn,{content:n("Redo"),keys:[xc(),"Shift","Z"]}),_.jsx(rn,{content:n("Copy Result"),keys:[xc(),"C"]}),_.jsx(rn,{content:n("Paste Image"),keys:[xc(),"V"]}),_.jsx(rn,{content:n("Trigger Manually Inpainting"),keys:["Shift","R"]}),_.jsx(rn,{content:n("Toggle Hotkeys Dialog"),keys:["H"]}),_.jsx(rn,{content:n("Toggle Settings Dialog"),keys:["S"]}),_.jsx(rn,{content:n("Toggle File Manager"),keys:["F"]})]})]})})]})}var Il=e=>e.type==="checkbox",Zo=e=>e instanceof Date,Ft=e=>e==null;const T_=e=>typeof e=="object";var gt=e=>!Ft(e)&&!Array.isArray(e)&&T_(e)&&!Zo(e),k_=e=>gt(e)&&e.target?Il(e.target)?e.target.checked:e.target.value:e,w3=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,P_=(e,t)=>e.has(w3(t)),b3=e=>{const t=e.constructor&&e.constructor.prototype;return gt(t)&&t.hasOwnProperty("isPrototypeOf")},Ig=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Gt(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ig&&(e instanceof Blob||e instanceof FileList))&&(n||gt(e)))if(t=n?[]:{},!n&&!b3(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Gt(e[r]));else return e;return t}var Bl=e=>Array.isArray(e)?e.filter(Boolean):[],lt=e=>e===void 0,ge=(e,t,n)=>{if(!t||!gt(e))return n;const r=Bl(t.split(/[,[\].]+?/)).reduce((i,o)=>Ft(i)?i:i[o],e);return lt(r)||r===e?lt(e[t])?n:e[t]:r},Bn=e=>typeof e=="boolean";const Au={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},O_=Ce.createContext(null),Kd=()=>Ce.useContext(O_),x3=e=>{const{children:t,...n}=e;return Ce.createElement(O_.Provider,{value:n},t)};var $_=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const p=o;return t._proxyFormState[p]!==Vn.all&&(t._proxyFormState[p]=!r||Vn.all),n&&(n[p]=!0),e[p]}});return i},sn=e=>gt(e)&&!Object.keys(e).length,R_=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return sn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(p=>t[p]===(!r||Vn.all))},Kc=e=>Array.isArray(e)?e:[e],A_=(e,t,n)=>!e||!t||e===t||Kc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function Bg(e){const t=Ce.useRef(e);t.current=e,Ce.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function S3(e){const t=Kd(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[p,a]=Ce.useState(n._formState),s=Ce.useRef(!0),c=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=Ce.useRef(i);return f.current=i,Bg({disabled:r,next:l=>s.current&&A_(f.current,l.name,o)&&R_(l,c.current,n._updateFormState)&&a({...n._formState,...l}),subject:n._subjects.state}),Ce.useEffect(()=>(s.current=!0,c.current.isValid&&n._updateValid(!0),()=>{s.current=!1}),[n]),$_(p,n,c.current,!1)}var or=e=>typeof e=="string",D_=(e,t,n,r,i)=>or(e)?(r&&t.watch.add(e),ge(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),ge(n,o))):(r&&(t.watchAll=!0),n);function _3(e){const t=Kd(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:p}=e||{},a=Ce.useRef(r);a.current=r,Bg({disabled:o,subject:n._subjects.values,next:f=>{A_(a.current,f.name,p)&&c(Gt(D_(a.current,n._names,f.values||n._formValues,!1,i)))}});const[s,c]=Ce.useState(n._getWatch(r,i));return Ce.useEffect(()=>n._removeUnmounted()),s}var zg=e=>/^\w*$/.test(e),M_=e=>Bl(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ze=(e,t,n)=>{let r=-1;const i=zg(t)?[t]:M_(t),o=i.length,p=o-1;for(;++r<o;){const a=i[r];let s=n;if(r!==p){const c=e[a];s=gt(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[a]=s,e=e[a]}return e};function C3(e){const t=Kd(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,p=P_(i._names.array,n),a=_3({control:i,name:n,defaultValue:ge(i._formValues,n,ge(i._defaultValues,n,e.defaultValue)),exact:!0}),s=S3({control:i,name:n}),c=Ce.useRef(i.register(n,{...e.rules,value:a,...Bn(e.disabled)?{disabled:e.disabled}:{}}));return Ce.useEffect(()=>{const f=i._options.shouldUnregister||o,l=(u,d)=>{const h=ge(i._fields,u);h&&(h._f.mount=d)};if(l(n,!0),f){const u=Gt(ge(i._options.defaultValues,n));ze(i._defaultValues,n,u),lt(ge(i._formValues,n))&&ze(i._formValues,n,u)}return()=>{(p?f&&!i._state.action:f)?i.unregister(n):l(n,!1)}},[n,i,p,o]),Ce.useEffect(()=>{ge(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ge(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...Bn(r)||s.disabled?{disabled:s.disabled||r}:{},onChange:Ce.useCallback(f=>c.current.onChange({target:{value:k_(f),name:n},type:Au.CHANGE}),[n]),onBlur:Ce.useCallback(()=>c.current.onBlur({target:{value:ge(i._formValues,n),name:n},type:Au.BLUR}),[n,i]),ref:f=>{const l=ge(i._fields,n);l&&f&&(l._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:u=>f.setCustomValidity(u),reportValidity:()=>f.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ge(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!ge(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ge(s.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ge(s.validatingFields,n)},error:{enumerable:!0,get:()=>ge(s.errors,n)}})}}const E3=e=>e.render(C3(e));var N_=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},By=e=>({isOnSubmit:!e||e===Vn.onSubmit,isOnBlur:e===Vn.onBlur,isOnChange:e===Vn.onChange,isOnAll:e===Vn.all,isOnTouch:e===Vn.onTouched}),zy=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ja=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=ge(e,i);if(o){const{_f:p,...a}=o;if(p){if(p.refs&&p.refs[0]&&t(p.refs[0],i)&&!r)break;if(p.ref&&t(p.ref,p.name)&&!r)break;ja(a,t)}else gt(a)&&ja(a,t)}}};var T3=(e,t,n)=>{const r=Bl(ge(e,n));return ze(r,"root",t[n]),ze(e,n,r),e},Vg=e=>e.type==="file",fi=e=>typeof e=="function",Du=e=>{if(!Ig)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},qc=e=>or(e),Ug=e=>e.type==="radio",Mu=e=>e instanceof RegExp;const Vy={value:!1,isValid:!1},Uy={value:!0,isValid:!0};var L_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!lt(e[0].attributes.value)?lt(e[0].value)||e[0].value===""?Uy:{value:e[0].value,isValid:!0}:Uy:Vy}return Vy};const Hy={isValid:!1,value:null};var F_=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Hy):Hy;function Wy(e,t,n="validate"){if(qc(e)||Array.isArray(e)&&e.every(qc)||Bn(e)&&!e)return{type:n,message:qc(e)?e:"",ref:t}}var Ro=e=>gt(e)&&!Mu(e)?e:{value:e,message:""},Yy=async(e,t,n,r,i)=>{const{ref:o,refs:p,required:a,maxLength:s,minLength:c,min:f,max:l,pattern:u,validate:d,name:h,valueAsNumber:g,mount:m,disabled:v}=e._f,y=ge(t,h);if(!m||v)return{};const w=p?p[0]:o,x=z=>{r&&w.reportValidity&&(w.setCustomValidity(Bn(z)?"":z||""),w.reportValidity())},S={},C=Ug(o),E=Il(o),k=C||E,L=(g||Vg(o))&&lt(o.value)&&lt(y)||Du(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,B=N_.bind(null,h,n,S),G=(z,Q,I,M=wr.maxLength,N=wr.minLength)=>{const q=z?Q:I;S[h]={type:z?M:N,message:q,ref:o,...B(z?M:N,q)}};if(i?!Array.isArray(y)||!y.length:a&&(!k&&(L||Ft(y))||Bn(y)&&!y||E&&!L_(p).isValid||C&&!F_(p).isValid)){const{value:z,message:Q}=qc(a)?{value:!!a,message:a}:Ro(a);if(z&&(S[h]={type:wr.required,message:Q,ref:w,...B(wr.required,Q)},!n))return x(Q),S}if(!L&&(!Ft(f)||!Ft(l))){let z,Q;const I=Ro(l),M=Ro(f);if(!Ft(y)&&!isNaN(y)){const N=o.valueAsNumber||y&&+y;Ft(I.value)||(z=N>I.value),Ft(M.value)||(Q=N<M.value)}else{const N=o.valueAsDate||new Date(y),q=$=>new Date(new Date().toDateString()+" "+$),H=o.type=="time",T=o.type=="week";or(I.value)&&y&&(z=H?q(y)>q(I.value):T?y>I.value:N>new Date(I.value)),or(M.value)&&y&&(Q=H?q(y)<q(M.value):T?y<M.value:N<new Date(M.value))}if((z||Q)&&(G(!!z,I.message,M.message,wr.max,wr.min),!n))return x(S[h].message),S}if((s||c)&&!L&&(or(y)||i&&Array.isArray(y))){const z=Ro(s),Q=Ro(c),I=!Ft(z.value)&&y.length>+z.value,M=!Ft(Q.value)&&y.length<+Q.value;if((I||M)&&(G(I,z.message,Q.message),!n))return x(S[h].message),S}if(u&&!L&&or(y)){const{value:z,message:Q}=Ro(u);if(Mu(z)&&!y.match(z)&&(S[h]={type:wr.pattern,message:Q,ref:o,...B(wr.pattern,Q)},!n))return x(Q),S}if(d){if(fi(d)){const z=await d(y,t),Q=Wy(z,w);if(Q&&(S[h]={...Q,...B(wr.validate,Q.message)},!n))return x(Q.message),S}else if(gt(d)){let z={};for(const Q in d){if(!sn(z)&&!n)break;const I=Wy(await d[Q](y,t),w,Q);I&&(z={...I,...B(Q,I.message)},x(I.message),n&&(S[h]=z))}if(!sn(z)&&(S[h]={ref:w,...z},!n))return S}}return x(!0),S};function k3(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=lt(e)?r++:e[t[r++]];return e}function P3(e){for(const t in e)if(e.hasOwnProperty(t)&&!lt(e[t]))return!1;return!0}function ht(e,t){const n=Array.isArray(t)?t:zg(t)?[t]:M_(t),r=n.length===1?e:k3(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(gt(r)&&sn(r)||Array.isArray(r)&&P3(r))&&ht(e,n.slice(0,-1)),e}var uh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Nu=e=>Ft(e)||!T_(e);function Qi(e,t){if(Nu(e)||Nu(t))return e===t;if(Zo(e)&&Zo(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const p=t[i];if(Zo(o)&&Zo(p)||gt(o)&&gt(p)||Array.isArray(o)&&Array.isArray(p)?!Qi(o,p):o!==p)return!1}}return!0}var j_=e=>e.type==="select-multiple",O3=e=>Ug(e)||Il(e),dh=e=>Du(e)&&e.isConnected,I_=e=>{for(const t in e)if(fi(e[t]))return!0;return!1};function Lu(e,t={}){const n=Array.isArray(e);if(gt(e)||n)for(const r in e)Array.isArray(e[r])||gt(e[r])&&!I_(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Lu(e[r],t[r])):Ft(e[r])||(t[r]=!0);return t}function B_(e,t,n){const r=Array.isArray(e);if(gt(e)||r)for(const i in e)Array.isArray(e[i])||gt(e[i])&&!I_(e[i])?lt(t)||Nu(n[i])?n[i]=Array.isArray(e[i])?Lu(e[i],[]):{...Lu(e[i])}:B_(e[i],Ft(t)?{}:t[i],n[i]):n[i]=!Qi(e[i],t[i]);return n}var Sc=(e,t)=>B_(e,t,Lu(t)),z_=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>lt(e)?e:t?e===""?NaN:e&&+e:n&&or(e)?new Date(e):r?r(e):e;function fh(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return Vg(t)?t.files:Ug(t)?F_(e.refs).value:j_(t)?[...t.selectedOptions].map(({value:n})=>n):Il(t)?L_(e.refs).value:z_(lt(t.value)?e.ref.value:t.value,e)}var $3=(e,t,n,r)=>{const i={};for(const o of e){const p=ge(t,o);p&&ze(i,o,p._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},la=e=>lt(e)?e:Mu(e)?e.source:gt(e)?Mu(e.value)?e.value.source:e.value:e,R3=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Xy(e,t,n){const r=ge(e,n);if(r||zg(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),p=ge(t,o),a=ge(e,o);if(p&&!Array.isArray(p)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var A3=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,D3=(e,t)=>!Bl(ge(e,t)).length&&ht(e,t);const M3={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function N3(e={}){let t={...M3,...e},n={submitCount:0,isDirty:!1,isLoading:fi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=gt(t.defaultValues)||gt(t.values)?Gt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Gt(i),p={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},s,c=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},l={values:uh(),array:uh(),state:uh()},u=By(t.mode),d=By(t.reValidateMode),h=t.criteriaMode===Vn.all,g=A=>U=>{clearTimeout(c),c=setTimeout(A,U)},m=async A=>{if(f.isValid||A){const U=t.resolver?sn((await k()).errors):await B(r,!0);U!==n.isValid&&l.state.next({isValid:U})}},v=(A,U)=>{(f.isValidating||f.validatingFields)&&((A||Array.from(a.mount)).forEach(Z=>{Z&&(U?ze(n.validatingFields,Z,U):ht(n.validatingFields,Z))}),l.state.next({validatingFields:n.validatingFields,isValidating:!sn(n.validatingFields)}))},y=(A,U=[],Z,se,W=!0,ie=!0)=>{if(se&&Z){if(p.action=!0,ie&&Array.isArray(ge(r,A))){const fe=Z(ge(r,A),se.argA,se.argB);W&&ze(r,A,fe)}if(ie&&Array.isArray(ge(n.errors,A))){const fe=Z(ge(n.errors,A),se.argA,se.argB);W&&ze(n.errors,A,fe),D3(n.errors,A)}if(f.touchedFields&&ie&&Array.isArray(ge(n.touchedFields,A))){const fe=Z(ge(n.touchedFields,A),se.argA,se.argB);W&&ze(n.touchedFields,A,fe)}f.dirtyFields&&(n.dirtyFields=Sc(i,o)),l.state.next({name:A,isDirty:z(A,U),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ze(o,A,U)},w=(A,U)=>{ze(n.errors,A,U),l.state.next({errors:n.errors})},x=A=>{n.errors=A,l.state.next({errors:n.errors,isValid:!1})},S=(A,U,Z,se)=>{const W=ge(r,A);if(W){const ie=ge(o,A,lt(Z)?ge(i,A):Z);lt(ie)||se&&se.defaultChecked||U?ze(o,A,U?ie:fh(W._f)):M(A,ie),p.mount&&m()}},C=(A,U,Z,se,W)=>{let ie=!1,fe=!1;const be={name:A},Pe=!!(ge(r,A)&&ge(r,A)._f.disabled);if(!Z||se){f.isDirty&&(fe=n.isDirty,n.isDirty=be.isDirty=z(),ie=fe!==be.isDirty);const Oe=Pe||Qi(ge(i,A),U);fe=!!(!Pe&&ge(n.dirtyFields,A)),Oe||Pe?ht(n.dirtyFields,A):ze(n.dirtyFields,A,!0),be.dirtyFields=n.dirtyFields,ie=ie||f.dirtyFields&&fe!==!Oe}if(Z){const Oe=ge(n.touchedFields,A);Oe||(ze(n.touchedFields,A,Z),be.touchedFields=n.touchedFields,ie=ie||f.touchedFields&&Oe!==Z)}return ie&&W&&l.state.next(be),ie?be:{}},E=(A,U,Z,se)=>{const W=ge(n.errors,A),ie=f.isValid&&Bn(U)&&n.isValid!==U;if(e.delayError&&Z?(s=g(()=>w(A,Z)),s(e.delayError)):(clearTimeout(c),s=null,Z?ze(n.errors,A,Z):ht(n.errors,A)),(Z?!Qi(W,Z):W)||!sn(se)||ie){const fe={...se,...ie&&Bn(U)?{isValid:U}:{},errors:n.errors,name:A};n={...n,...fe},l.state.next(fe)}},k=async A=>{v(A,!0);const U=await t.resolver(o,t.context,$3(A||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return v(A),U},L=async A=>{const{errors:U}=await k(A);if(A)for(const Z of A){const se=ge(U,Z);se?ze(n.errors,Z,se):ht(n.errors,Z)}else n.errors=U;return U},B=async(A,U,Z={valid:!0})=>{for(const se in A){const W=A[se];if(W){const{_f:ie,...fe}=W;if(ie){const be=a.array.has(ie.name);v([se],!0);const Pe=await Yy(W,o,h,t.shouldUseNativeValidation&&!U,be);if(v([se]),Pe[ie.name]&&(Z.valid=!1,U))break;!U&&(ge(Pe,ie.name)?be?T3(n.errors,Pe,ie.name):ze(n.errors,ie.name,Pe[ie.name]):ht(n.errors,ie.name))}fe&&await B(fe,U,Z)}}return Z.valid},G=()=>{for(const A of a.unMount){const U=ge(r,A);U&&(U._f.refs?U._f.refs.every(Z=>!dh(Z)):!dh(U._f.ref))&&F(A)}a.unMount=new Set},z=(A,U)=>(A&&U&&ze(o,A,U),!Qi(R(),i)),Q=(A,U,Z)=>D_(A,a,{...p.mount?o:lt(U)?i:or(A)?{[A]:U}:U},Z,U),I=A=>Bl(ge(p.mount?o:i,A,e.shouldUnregister?ge(i,A,[]):[])),M=(A,U,Z={})=>{const se=ge(r,A);let W=U;if(se){const ie=se._f;ie&&(!ie.disabled&&ze(o,A,z_(U,ie)),W=Du(ie.ref)&&Ft(U)?"":U,j_(ie.ref)?[...ie.ref.options].forEach(fe=>fe.selected=W.includes(fe.value)):ie.refs?Il(ie.ref)?ie.refs.length>1?ie.refs.forEach(fe=>(!fe.defaultChecked||!fe.disabled)&&(fe.checked=Array.isArray(W)?!!W.find(be=>be===fe.value):W===fe.value)):ie.refs[0]&&(ie.refs[0].checked=!!W):ie.refs.forEach(fe=>fe.checked=fe.value===W):Vg(ie.ref)?ie.ref.value="":(ie.ref.value=W,ie.ref.type||l.values.next({name:A,values:{...o}})))}(Z.shouldDirty||Z.shouldTouch)&&C(A,W,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&$(A)},N=(A,U,Z)=>{for(const se in U){const W=U[se],ie=`${A}.${se}`,fe=ge(r,ie);(a.array.has(A)||!Nu(W)||fe&&!fe._f)&&!Zo(W)?N(ie,W,Z):M(ie,W,Z)}},q=(A,U,Z={})=>{const se=ge(r,A),W=a.array.has(A),ie=Gt(U);ze(o,A,ie),W?(l.array.next({name:A,values:{...o}}),(f.isDirty||f.dirtyFields)&&Z.shouldDirty&&l.state.next({name:A,dirtyFields:Sc(i,o),isDirty:z(A,ie)})):se&&!se._f&&!Ft(ie)?N(A,ie,Z):M(A,ie,Z),zy(A,a)&&l.state.next({...n}),l.values.next({name:p.mount?A:void 0,values:{...o}})},H=async A=>{p.mount=!0;const U=A.target;let Z=U.name,se=!0;const W=ge(r,Z),ie=()=>U.type?fh(W._f):k_(A),fe=be=>{se=Number.isNaN(be)||be===ge(o,Z,be)};if(W){let be,Pe;const Oe=ie(),He=A.type===Au.BLUR||A.type===Au.FOCUS_OUT,Ze=!R3(W._f)&&!t.resolver&&!ge(n.errors,Z)&&!W._f.deps||A3(He,ge(n.touchedFields,Z),n.isSubmitted,d,u),Wt=zy(Z,a,He);ze(o,Z,Oe),He?(W._f.onBlur&&W._f.onBlur(A),s&&s(0)):W._f.onChange&&W._f.onChange(A);const yn=C(Z,Oe,He,!1),De=!sn(yn)||Wt;if(!He&&l.values.next({name:Z,type:A.type,values:{...o}}),Ze)return f.isValid&&m(),De&&l.state.next({name:Z,...Wt?{}:yn});if(!He&&Wt&&l.state.next({...n}),t.resolver){const{errors:Eo}=await k([Z]);if(fe(Oe),se){const Li=Xy(n.errors,r,Z),Fi=Xy(Eo,r,Li.name||Z);be=Fi.error,Z=Fi.name,Pe=sn(Eo)}}else v([Z],!0),be=(await Yy(W,o,h,t.shouldUseNativeValidation))[Z],v([Z]),fe(Oe),se&&(be?Pe=!1:f.isValid&&(Pe=await B(r,!0)));se&&(W._f.deps&&$(W._f.deps),E(Z,Pe,be,yn))}},T=(A,U)=>{if(ge(n.errors,U)&&A.focus)return A.focus(),1},$=async(A,U={})=>{let Z,se;const W=Kc(A);if(t.resolver){const ie=await L(lt(A)?A:W);Z=sn(ie),se=A?!W.some(fe=>ge(ie,fe)):Z}else A?(se=(await Promise.all(W.map(async ie=>{const fe=ge(r,ie);return await B(fe&&fe._f?{[ie]:fe}:fe)}))).every(Boolean),!(!se&&!n.isValid)&&m()):se=Z=await B(r);return l.state.next({...!or(A)||f.isValid&&Z!==n.isValid?{}:{name:A},...t.resolver||!A?{isValid:Z}:{},errors:n.errors}),U.shouldFocus&&!se&&ja(r,T,A?W:a.mount),se},R=A=>{const U={...p.mount?o:i};return lt(A)?U:or(A)?ge(U,A):A.map(Z=>ge(U,Z))},O=(A,U)=>({invalid:!!ge((U||n).errors,A),isDirty:!!ge((U||n).dirtyFields,A),isTouched:!!ge((U||n).touchedFields,A),isValidating:!!ge((U||n).validatingFields,A),error:ge((U||n).errors,A)}),V=A=>{A&&Kc(A).forEach(U=>ht(n.errors,U)),l.state.next({errors:A?n.errors:{}})},D=(A,U,Z)=>{const se=(ge(r,A,{_f:{}})._f||{}).ref;ze(n.errors,A,{...U,ref:se}),l.state.next({name:A,errors:n.errors,isValid:!1}),Z&&Z.shouldFocus&&se&&se.focus&&se.focus()},P=(A,U)=>fi(A)?l.values.subscribe({next:Z=>A(Q(void 0,U),Z)}):Q(A,U,!0),F=(A,U={})=>{for(const Z of A?Kc(A):a.mount)a.mount.delete(Z),a.array.delete(Z),U.keepValue||(ht(r,Z),ht(o,Z)),!U.keepError&&ht(n.errors,Z),!U.keepDirty&&ht(n.dirtyFields,Z),!U.keepTouched&&ht(n.touchedFields,Z),!U.keepIsValidating&&ht(n.validatingFields,Z),!t.shouldUnregister&&!U.keepDefaultValue&&ht(i,Z);l.values.next({values:{...o}}),l.state.next({...n,...U.keepDirty?{isDirty:z()}:{}}),!U.keepIsValid&&m()},j=({disabled:A,name:U,field:Z,fields:se,value:W})=>{if(Bn(A)){const ie=A?void 0:lt(W)?fh(Z?Z._f:ge(se,U)._f):W;ze(o,U,ie),C(U,ie,!1,!1,!0)}},X=(A,U={})=>{let Z=ge(r,A);const se=Bn(U.disabled);return ze(r,A,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:A}},name:A,mount:!0,...U}}),a.mount.add(A),Z?j({field:Z,disabled:U.disabled,name:A,value:U.value}):S(A,!0,U.value),{...se?{disabled:U.disabled}:{},...t.progressive?{required:!!U.required,min:la(U.min),max:la(U.max),minLength:la(U.minLength),maxLength:la(U.maxLength),pattern:la(U.pattern)}:{},name:A,onChange:H,onBlur:H,ref:W=>{if(W){X(A,U),Z=ge(r,A);const ie=lt(W.value)&&W.querySelectorAll&&W.querySelectorAll("input,select,textarea")[0]||W,fe=O3(ie),be=Z._f.refs||[];if(fe?be.find(Pe=>Pe===ie):ie===Z._f.ref)return;ze(r,A,{_f:{...Z._f,...fe?{refs:[...be.filter(dh),ie,...Array.isArray(ge(i,A))?[{}]:[]],ref:{type:ie.type,name:A}}:{ref:ie}}}),S(A,!1,void 0,ie)}else Z=ge(r,A,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(P_(a.array,A)&&p.action)&&a.unMount.add(A)}}},Y=()=>t.shouldFocusError&&ja(r,T,a.mount),J=A=>{Bn(A)&&(l.state.next({disabled:A}),ja(r,(U,Z)=>{let se=A;const W=ge(r,Z);W&&Bn(W._f.disabled)&&(se||(se=W._f.disabled)),U.disabled=se},0,!1))},te=(A,U)=>async Z=>{let se;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let W=Gt(o);if(l.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:fe}=await k();n.errors=ie,W=fe}else await B(r);if(ht(n.errors,"root"),sn(n.errors)){l.state.next({errors:{}});try{await A(W,Z)}catch(ie){se=ie}}else U&&await U({...n.errors},Z),Y(),setTimeout(Y);if(l.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sn(n.errors)&&!se,submitCount:n.submitCount+1,errors:n.errors}),se)throw se},ce=(A,U={})=>{ge(r,A)&&(lt(U.defaultValue)?q(A,Gt(ge(i,A))):(q(A,U.defaultValue),ze(i,A,Gt(U.defaultValue))),U.keepTouched||ht(n.touchedFields,A),U.keepDirty||(ht(n.dirtyFields,A),n.isDirty=U.defaultValue?z(A,Gt(ge(i,A))):z()),U.keepError||(ht(n.errors,A),f.isValid&&m()),l.state.next({...n}))},ee=(A,U={})=>{const Z=A?Gt(A):i,se=Gt(Z),W=sn(A),ie=W?i:se;if(U.keepDefaultValues||(i=Z),!U.keepValues){if(U.keepDirtyValues)for(const fe of a.mount)ge(n.dirtyFields,fe)?ze(ie,fe,ge(o,fe)):q(fe,ge(ie,fe));else{if(Ig&&lt(A))for(const fe of a.mount){const be=ge(r,fe);if(be&&be._f){const Pe=Array.isArray(be._f.refs)?be._f.refs[0]:be._f.ref;if(Du(Pe)){const Oe=Pe.closest("form");if(Oe){Oe.reset();break}}}}r={}}o=e.shouldUnregister?U.keepDefaultValues?Gt(i):{}:Gt(ie),l.array.next({values:{...ie}}),l.values.next({values:{...ie}})}a={mount:U.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},p.mount=!f.isValid||!!U.keepIsValid||!!U.keepDirtyValues,p.watch=!!e.shouldUnregister,l.state.next({submitCount:U.keepSubmitCount?n.submitCount:0,isDirty:W?!1:U.keepDirty?n.isDirty:!!(U.keepDefaultValues&&!Qi(A,i)),isSubmitted:U.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:W?[]:U.keepDirtyValues?U.keepDefaultValues&&o?Sc(i,o):n.dirtyFields:U.keepDefaultValues&&A?Sc(i,A):{},touchedFields:U.keepTouched?n.touchedFields:{},errors:U.keepErrors?n.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},K=(A,U)=>ee(fi(A)?A(o):A,U);return{control:{register:X,unregister:F,getFieldState:O,handleSubmit:te,setError:D,_executeSchema:k,_getWatch:Q,_getDirty:z,_updateValid:m,_removeUnmounted:G,_updateFieldArray:y,_updateDisabledField:j,_getFieldArray:I,_reset:ee,_resetDefaultValues:()=>fi(t.defaultValues)&&t.defaultValues().then(A=>{K(A,t.resetOptions),l.state.next({isLoading:!1})}),_updateFormState:A=>{n={...n,...A}},_disableForm:J,_subjects:l,_proxyFormState:f,_setErrors:x,get _fields(){return r},get _formValues(){return o},get _state(){return p},set _state(A){p=A},get _defaultValues(){return i},get _names(){return a},set _names(A){a=A},get _formState(){return n},set _formState(A){n=A},get _options(){return t},set _options(A){t={...t,...A}}},trigger:$,register:X,handleSubmit:te,watch:P,setValue:q,getValues:R,reset:K,resetField:ce,clearErrors:V,unregister:F,setError:D,setFocus:(A,U={})=>{const Z=ge(r,A),se=Z&&Z._f;if(se){const W=se.refs?se.refs[0]:se.ref;W.focus&&(W.focus(),U.shouldSelect&&W.select())}},getFieldState:O}}function L3(e={}){const t=Ce.useRef(),n=Ce.useRef(),[r,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:fi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:fi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...N3(e),formState:r});const o=t.current.control;return o._options=e,Bg({subject:o._subjects.state,next:p=>{R_(p,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),Ce.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),Ce.useEffect(()=>{if(o._proxyFormState.isDirty){const p=o._getDirty();p!==r.isDirty&&o._subjects.state.next({isDirty:p})}},[o,r.isDirty]),Ce.useEffect(()=>{e.values&&!Qi(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(p=>({...p}))):o._resetDefaultValues()},[e.values,o]),Ce.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),Ce.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Ce.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=$_(r,o),t.current}var Gy=function(e,t,n){if(e&&"reportValidity"in e){var r=ge(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},V_=function(e,t){var n=function(i){var o=t.fields[i];o&&o.ref&&"reportValidity"in o.ref?Gy(o.ref,i,e):o.refs&&o.refs.forEach(function(p){return Gy(p,i,e)})};for(var r in t.fields)n(r)},F3=function(e,t){t.shouldUseNativeValidation&&V_(e,t);var n={};for(var r in e){var i=ge(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(j3(t.names||Object.keys(e),r)){var p=Object.assign({},ge(n,r));ze(p,"root",o),ze(n,r,p)}else ze(n,r,o)}return n},j3=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},I3=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,p=r.path.join(".");if(!n[p])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[p]={message:a.message,type:a.code}}else n[p]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(l){return e.push(l)})}),t){var s=n[p].types,c=s&&s[r.code];n[p]=N_(p,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n},B3=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(p,a){try{var s=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return o.shouldUseNativeValidation&&V_({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return s&&s.then?s.then(void 0,a):s}(0,function(p){if(function(a){return a.errors!=null}(p))return{values:{},errors:F3(I3(p.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw p}))}catch(p){return Promise.reject(p)}}},Fe;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const p of i)o[p]=p;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),p={};for(const a of o)p[a]=i[a];return e.objectValues(p)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const p in i)Object.prototype.hasOwnProperty.call(i,p)&&o.push(p);return o},e.find=(i,o)=>{for(const p of i)if(o(p))return p},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(p=>typeof p=="string"?`'${p}'`:p).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Fe||(Fe={}));var Ky;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ky||(Ky={}));const we=Fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},me=Fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class kn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const p of o.issues)if(p.code==="invalid_union")p.unionErrors.map(i);else if(p.code==="invalid_return_type")i(p.returnTypeError);else if(p.code==="invalid_arguments")i(p.argumentsError);else if(p.path.length===0)r._errors.push(n(p));else{let a=r,s=0;for(;s<p.path.length;){const c=p.path[s];s===p.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(p))):a[c]=a[c]||{_errors:[]},a=a[c],s++}}};return i(this),r}static assert(t){if(!(t instanceof kn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}kn.create=e=>new kn(e);const hl=(e,t)=>{let n;switch(e.code){case me.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Fe.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${Fe.joinValues(e.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Fe.joinValues(e.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${Fe.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Fe.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case me.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case me.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=t.defaultError,Fe.assertNever(e)}return{message:n}};let z3=hl;function Bp(){return z3}const zp=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],p={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const s=r.filter(c=>!!c).slice().reverse();for(const c of s)a=c(p,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function ve(e,t){const n=Bp(),r=zp({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===hl?void 0:hl].filter(i=>!!i)});e.common.issues.push(r)}class zt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return ke;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,p=await i.value;r.push({key:o,value:p})}return zt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:p}=i;if(o.status==="aborted"||p.status==="aborted")return ke;o.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof p.value<"u"||i.alwaysSet)&&(r[o.value]=p.value)}return{status:t.value,value:r}}}const ke=Object.freeze({status:"aborted"}),xa=e=>({status:"dirty",value:e}),tn=e=>({status:"valid",value:e}),qy=e=>e.status==="aborted",Zy=e=>e.status==="dirty",Fu=e=>e.status==="valid",ju=e=>typeof Promise<"u"&&e instanceof Promise;function Iu(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function U_(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var _e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(_e||(_e={}));var Sa,_a;class gr{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Qy=(e,t)=>{if(Fu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new kn(e.common.issues);return this._error=n,this._error}}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(p,a)=>{var s,c;const{message:f}=e;return p.code==="invalid_enum_value"?{message:f??a.defaultError}:typeof a.data>"u"?{message:(s=f??r)!==null&&s!==void 0?s:a.defaultError}:p.code!=="invalid_type"?{message:a.defaultError}:{message:(c=f??n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Me{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Yi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Yi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new zt,ctx:{common:t.parent.common,data:t.data,parsedType:Yi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(ju(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yi(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Qy(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Yi(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(ju(i)?i:Promise.resolve(i));return Qy(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const p=t(i),a=()=>o.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&p instanceof Promise?p.then(s=>s?!0:(a(),!1)):p?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new zr({schema:this,typeName:Ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Dr.create(this,this._def)}nullable(){return go.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fr.create(this,this._def)}promise(){return ml.create(this,this._def)}or(t){return Vu.create([this,t],this._def)}and(t){return Uu.create(this,t,this._def)}transform(t){return new zr({...$e(this._def),schema:this,typeName:Ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Gu({...$e(this._def),innerType:this,defaultValue:n,typeName:Ee.ZodDefault})}brand(){return new X_({typeName:Ee.ZodBranded,type:this,...$e(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ku({...$e(this._def),innerType:this,catchValue:n,typeName:Ee.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return qd.create(this,t)}readonly(){return qu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const V3=/^c[^\s-]{8,}$/i,U3=/^[0-9a-z]+$/,H3=/^[0-9A-HJKMNP-TV-Z]{26}$/,W3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Y3=/^[a-z0-9_-]{21}$/i,X3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,G3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,K3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hh;const q3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Z3=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Q3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H_="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",J3=new RegExp(`^${H_}$`);function W_(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function eN(e){return new RegExp(`^${W_(e)}$`)}function tN(e){let t=`${H_}T${W_(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function nN(e,t){return!!((t==="v4"||!t)&&q3.test(e)||(t==="v6"||!t)&&Z3.test(e))}class Pr extends Me{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const o=this._getOrReturnCtx(t);return ve(o,{code:me.invalid_type,expected:we.string,received:o.parsedType}),ke}const r=new zt;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),ve(i,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),ve(i,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const p=t.data.length>o.value,a=t.data.length<o.value;(p||a)&&(i=this._getOrReturnCtx(t,i),p?ve(i,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ve(i,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")G3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"email",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")hh||(hh=new RegExp(K3,"u")),hh.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"emoji",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")W3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"uuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Y3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"nanoid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")V3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"cuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")U3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"cuid2",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")H3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"ulid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ve(i,{validation:"url",code:me.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"regex",code:me.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?tN(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?J3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?eN(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{code:me.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?X3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"duration",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?nN(t.data,o.version)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"ip",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Q3.test(t.data)||(i=this._getOrReturnCtx(t,i),ve(i,{validation:"base64",code:me.invalid_string,message:o.message}),r.dirty()):Fe.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:me.invalid_string,..._e.errToObj(r)})}_addCheck(t){return new Pr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",..._e.errToObj(t)})}url(t){return this._addCheck({kind:"url",..._e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",..._e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",..._e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",..._e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",..._e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",..._e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",..._e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",..._e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",..._e.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,..._e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,..._e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",..._e.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,..._e.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,..._e.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,..._e.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,..._e.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,..._e.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,..._e.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,..._e.errToObj(n)})}nonempty(t){return this.min(1,_e.errToObj(t))}trim(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Pr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Pr.create=e=>{var t;return new Pr({checks:[],typeName:Ee.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$e(e)})};function rN(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),p=parseInt(t.toFixed(i).replace(".",""));return o%p/Math.pow(10,i)}class $s extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const o=this._getOrReturnCtx(t);return ve(o,{code:me.invalid_type,expected:we.number,received:o.parsedType}),ke}let r;const i=new zt;for(const o of this._def.checks)o.kind==="int"?Fe.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ve(r,{code:me.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?rN(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ve(r,{code:me.not_finite,message:o.message}),i.dirty()):Fe.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,_e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,_e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,_e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,_e.toString(n))}setLimit(t,n,r,i){return new $s({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:_e.toString(i)}]})}_addCheck(t){return new $s({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:_e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:_e.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:_e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_e.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Fe.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$s.create=e=>new $s({checks:[],typeName:Ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class Rs extends Me{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==we.bigint){const o=this._getOrReturnCtx(t);return ve(o,{code:me.invalid_type,expected:we.bigint,received:o.parsedType}),ke}let r;const i=new zt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ve(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Fe.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,_e.toString(n))}gt(t,n){return this.setLimit("min",t,!1,_e.toString(n))}lte(t,n){return this.setLimit("max",t,!0,_e.toString(n))}lt(t,n){return this.setLimit("max",t,!1,_e.toString(n))}setLimit(t,n,r,i){return new Rs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:_e.toString(i)}]})}_addCheck(t){return new Rs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_e.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:_e.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Rs.create=e=>{var t;return new Rs({checks:[],typeName:Ee.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$e(e)})};class Vp extends Me{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.boolean,received:r.parsedType}),ke}return tn(t.data)}}Vp.create=e=>new Vp({typeName:Ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class pl extends Me{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const o=this._getOrReturnCtx(t);return ve(o,{code:me.invalid_type,expected:we.date,received:o.parsedType}),ke}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ve(o,{code:me.invalid_date}),ke}const r=new zt;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),ve(i,{code:me.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),ve(i,{code:me.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Fe.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:_e.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:_e.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}pl.create=e=>new pl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ee.ZodDate,...$e(e)});class Up extends Me{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.symbol,received:r.parsedType}),ke}return tn(t.data)}}Up.create=e=>new Up({typeName:Ee.ZodSymbol,...$e(e)});class Bu extends Me{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.undefined,received:r.parsedType}),ke}return tn(t.data)}}Bu.create=e=>new Bu({typeName:Ee.ZodUndefined,...$e(e)});class zu extends Me{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.null,received:r.parsedType}),ke}return tn(t.data)}}zu.create=e=>new zu({typeName:Ee.ZodNull,...$e(e)});class Hp extends Me{constructor(){super(...arguments),this._any=!0}_parse(t){return tn(t.data)}}Hp.create=e=>new Hp({typeName:Ee.ZodAny,...$e(e)});class as extends Me{constructor(){super(...arguments),this._unknown=!0}_parse(t){return tn(t.data)}}as.create=e=>new as({typeName:Ee.ZodUnknown,...$e(e)});class ki extends Me{_parse(t){const n=this._getOrReturnCtx(t);return ve(n,{code:me.invalid_type,expected:we.never,received:n.parsedType}),ke}}ki.create=e=>new ki({typeName:Ee.ZodNever,...$e(e)});class Wp extends Me{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.void,received:r.parsedType}),ke}return tn(t.data)}}Wp.create=e=>new Wp({typeName:Ee.ZodVoid,...$e(e)});class fr extends Me{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==we.array)return ve(n,{code:me.invalid_type,expected:we.array,received:n.parsedType}),ke;if(i.exactLength!==null){const p=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(p||a)&&(ve(n,{code:p?me.too_big:me.too_small,minimum:a?i.exactLength.value:void 0,maximum:p?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ve(n,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ve(n,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((p,a)=>i.type._parseAsync(new gr(n,p,n.path,a)))).then(p=>zt.mergeArray(r,p));const o=[...n.data].map((p,a)=>i.type._parseSync(new gr(n,p,n.path,a)));return zt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new fr({...this._def,minLength:{value:t,message:_e.toString(n)}})}max(t,n){return new fr({...this._def,maxLength:{value:t,message:_e.toString(n)}})}length(t,n){return new fr({...this._def,exactLength:{value:t,message:_e.toString(n)}})}nonempty(t){return this.min(1,t)}}fr.create=(e,t)=>new fr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ee.ZodArray,...$e(t)});function Fo(e){if(e instanceof st){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Dr.create(Fo(r))}return new st({...e._def,shape:()=>t})}else return e instanceof fr?new fr({...e._def,type:Fo(e.element)}):e instanceof Dr?Dr.create(Fo(e.unwrap())):e instanceof go?go.create(Fo(e.unwrap())):e instanceof Br?Br.create(e.items.map(t=>Fo(t))):e}class st extends Me{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Fe.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==we.object){const c=this._getOrReturnCtx(t);return ve(c,{code:me.invalid_type,expected:we.object,received:c.parsedType}),ke}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:p}=this._getCached(),a=[];if(!(this._def.catchall instanceof ki&&this._def.unknownKeys==="strip"))for(const c in i.data)p.includes(c)||a.push(c);const s=[];for(const c of p){const f=o[c],l=i.data[c];s.push({key:{status:"valid",value:c},value:f._parse(new gr(i,l,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof ki){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of a)s.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(c==="strict")a.length>0&&(ve(i,{code:me.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of a){const l=i.data[f];s.push({key:{status:"valid",value:f},value:c._parse(new gr(i,l,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of s){const l=await f.key,u=await f.value;c.push({key:l,value:u,alwaysSet:f.alwaysSet})}return c}).then(c=>zt.mergeObjectSync(r,c)):zt.mergeObjectSync(r,s)}get shape(){return this._def.shape()}strict(t){return _e.errToObj,new st({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,p,a;const s=(p=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&p!==void 0?p:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=_e.errToObj(t).message)!==null&&a!==void 0?a:s}:{message:s}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(t){return new st({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new st({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ee.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new st({...this._def,catchall:t})}pick(t){const n={};return Fe.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new st({...this._def,shape:()=>n})}omit(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new st({...this._def,shape:()=>n})}deepPartial(){return Fo(this)}partial(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new st({...this._def,shape:()=>n})}required(t){const n={};return Fe.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Dr;)o=o._def.innerType;n[r]=o}}),new st({...this._def,shape:()=>n})}keyof(){return Y_(Fe.objectKeys(this.shape))}}st.create=(e,t)=>new st({shape:()=>e,unknownKeys:"strip",catchall:ki.create(),typeName:Ee.ZodObject,...$e(t)});st.strictCreate=(e,t)=>new st({shape:()=>e,unknownKeys:"strict",catchall:ki.create(),typeName:Ee.ZodObject,...$e(t)});st.lazycreate=(e,t)=>new st({shape:e,unknownKeys:"strip",catchall:ki.create(),typeName:Ee.ZodObject,...$e(t)});class Vu extends Me{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const p=o.map(a=>new kn(a.ctx.common.issues));return ve(n,{code:me.invalid_union,unionErrors:p}),ke}if(n.common.async)return Promise.all(r.map(async o=>{const p={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:p}),ctx:p}})).then(i);{let o;const p=[];for(const s of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=s._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!o&&(o={result:f,ctx:c}),c.common.issues.length&&p.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=p.map(s=>new kn(s));return ve(n,{code:me.invalid_union,unionErrors:a}),ke}}get options(){return this._def.options}}Vu.create=(e,t)=>new Vu({options:e,typeName:Ee.ZodUnion,...$e(t)});const xr=e=>e instanceof Wu?xr(e.schema):e instanceof zr?xr(e.innerType()):e instanceof Yu?[e.value]:e instanceof mo?e.options:e instanceof Xu?Fe.objectValues(e.enum):e instanceof Gu?xr(e._def.innerType):e instanceof Bu?[void 0]:e instanceof zu?[null]:e instanceof Dr?[void 0,...xr(e.unwrap())]:e instanceof go?[null,...xr(e.unwrap())]:e instanceof X_||e instanceof qu?xr(e.unwrap()):e instanceof Ku?xr(e._def.innerType):[];class Hg extends Me{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return ve(n,{code:me.invalid_type,expected:we.object,received:n.parsedType}),ke;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ve(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),ke)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const p=xr(o.shape[t]);if(!p.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of p){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new Hg({typeName:Ee.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...$e(r)})}}function Yp(e,t){const n=Yi(e),r=Yi(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const i=Fe.objectKeys(t),o=Fe.objectKeys(e).filter(a=>i.indexOf(a)!==-1),p={...e,...t};for(const a of o){const s=Yp(e[a],t[a]);if(!s.valid)return{valid:!1};p[a]=s.data}return{valid:!0,data:p}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const p=e[o],a=t[o],s=Yp(p,a);if(!s.valid)return{valid:!1};i.push(s.data)}return{valid:!0,data:i}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Uu extends Me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,p)=>{if(qy(o)||qy(p))return ke;const a=Yp(o.value,p.value);return a.valid?((Zy(o)||Zy(p))&&n.dirty(),{status:n.value,value:a.data}):(ve(r,{code:me.invalid_intersection_types}),ke)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,p])=>i(o,p)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uu.create=(e,t,n)=>new Uu({left:e,right:t,typeName:Ee.ZodIntersection,...$e(n)});class Br extends Me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return ve(r,{code:me.invalid_type,expected:we.array,received:r.parsedType}),ke;if(r.data.length<this._def.items.length)return ve(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ke;!this._def.rest&&r.data.length>this._def.items.length&&(ve(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((p,a)=>{const s=this._def.items[a]||this._def.rest;return s?s._parse(new gr(r,p,r.path,a)):null}).filter(p=>!!p);return r.common.async?Promise.all(o).then(p=>zt.mergeArray(n,p)):zt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Br({...this._def,rest:t})}}Br.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Br({items:e,typeName:Ee.ZodTuple,rest:null,...$e(t)})};class Hu extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return ve(r,{code:me.invalid_type,expected:we.object,received:r.parsedType}),ke;const i=[],o=this._def.keyType,p=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new gr(r,a,r.path,a)),value:p._parse(new gr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?zt.mergeObjectAsync(n,i):zt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Me?new Hu({keyType:t,valueType:n,typeName:Ee.ZodRecord,...$e(r)}):new Hu({keyType:Pr.create(),valueType:t,typeName:Ee.ZodRecord,...$e(n)})}}class Xp extends Me{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return ve(r,{code:me.invalid_type,expected:we.map,received:r.parsedType}),ke;const i=this._def.keyType,o=this._def.valueType,p=[...r.data.entries()].map(([a,s],c)=>({key:i._parse(new gr(r,a,r.path,[c,"key"])),value:o._parse(new gr(r,s,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const s of p){const c=await s.key,f=await s.value;if(c.status==="aborted"||f.status==="aborted")return ke;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const s of p){const c=s.key,f=s.value;if(c.status==="aborted"||f.status==="aborted")return ke;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),a.set(c.value,f.value)}return{status:n.value,value:a}}}}Xp.create=(e,t,n)=>new Xp({valueType:t,keyType:e,typeName:Ee.ZodMap,...$e(n)});class As extends Me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return ve(r,{code:me.invalid_type,expected:we.set,received:r.parsedType}),ke;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ve(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ve(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function p(s){const c=new Set;for(const f of s){if(f.status==="aborted")return ke;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((s,c)=>o._parse(new gr(r,s,r.path,c)));return r.common.async?Promise.all(a).then(s=>p(s)):p(a)}min(t,n){return new As({...this._def,minSize:{value:t,message:_e.toString(n)}})}max(t,n){return new As({...this._def,maxSize:{value:t,message:_e.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}As.create=(e,t)=>new As({valueType:e,minSize:null,maxSize:null,typeName:Ee.ZodSet,...$e(t)});class Ia extends Me{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.function)return ve(n,{code:me.invalid_type,expected:we.function,received:n.parsedType}),ke;function r(a,s){return zp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bp(),hl].filter(c=>!!c),issueData:{code:me.invalid_arguments,argumentsError:s}})}function i(a,s){return zp({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Bp(),hl].filter(c=>!!c),issueData:{code:me.invalid_return_type,returnTypeError:s}})}const o={errorMap:n.common.contextualErrorMap},p=n.data;if(this._def.returns instanceof ml){const a=this;return tn(async function(...s){const c=new kn([]),f=await a._def.args.parseAsync(s,o).catch(d=>{throw c.addIssue(r(s,d)),c}),l=await Reflect.apply(p,this,f);return await a._def.returns._def.type.parseAsync(l,o).catch(d=>{throw c.addIssue(i(l,d)),c})})}else{const a=this;return tn(function(...s){const c=a._def.args.safeParse(s,o);if(!c.success)throw new kn([r(s,c.error)]);const f=Reflect.apply(p,this,c.data),l=a._def.returns.safeParse(f,o);if(!l.success)throw new kn([i(f,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ia({...this._def,args:Br.create(t).rest(as.create())})}returns(t){return new Ia({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Ia({args:t||Br.create([]).rest(as.create()),returns:n||as.create(),typeName:Ee.ZodFunction,...$e(r)})}}class Wu extends Me{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Wu.create=(e,t)=>new Wu({getter:e,typeName:Ee.ZodLazy,...$e(t)});class Yu extends Me{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ve(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),ke}return{status:"valid",value:t.data}}get value(){return this._def.value}}Yu.create=(e,t)=>new Yu({value:e,typeName:Ee.ZodLiteral,...$e(t)});function Y_(e,t){return new mo({values:e,typeName:Ee.ZodEnum,...$e(t)})}class mo extends Me{constructor(){super(...arguments),Sa.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ve(n,{expected:Fe.joinValues(r),received:n.parsedType,code:me.invalid_type}),ke}if(Iu(this,Sa)||U_(this,Sa,new Set(this._def.values)),!Iu(this,Sa).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ve(n,{received:n.data,code:me.invalid_enum_value,options:r}),ke}return tn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return mo.create(t,{...this._def,...n})}exclude(t,n=this._def){return mo.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Sa=new WeakMap;mo.create=Y_;class Xu extends Me{constructor(){super(...arguments),_a.set(this,void 0)}_parse(t){const n=Fe.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const i=Fe.objectValues(n);return ve(r,{expected:Fe.joinValues(i),received:r.parsedType,code:me.invalid_type}),ke}if(Iu(this,_a)||U_(this,_a,new Set(Fe.getValidEnumValues(this._def.values))),!Iu(this,_a).has(t.data)){const i=Fe.objectValues(n);return ve(r,{received:r.data,code:me.invalid_enum_value,options:i}),ke}return tn(t.data)}get enum(){return this._def.values}}_a=new WeakMap;Xu.create=(e,t)=>new Xu({values:e,typeName:Ee.ZodNativeEnum,...$e(t)});class ml extends Me{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return ve(n,{code:me.invalid_type,expected:we.promise,received:n.parsedType}),ke;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return tn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}ml.create=(e,t)=>new ml({type:e,typeName:Ee.ZodPromise,...$e(t)});class zr extends Me{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:p=>{ve(r,p),p.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const p=i.transform(r.data,o);if(r.common.async)return Promise.resolve(p).then(async a=>{if(n.value==="aborted")return ke;const s=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return s.status==="aborted"?ke:s.status==="dirty"||n.value==="dirty"?xa(s.value):s});{if(n.value==="aborted")return ke;const a=this._def.schema._parseSync({data:p,path:r.path,parent:r});return a.status==="aborted"?ke:a.status==="dirty"||n.value==="dirty"?xa(a.value):a}}if(i.type==="refinement"){const p=a=>{const s=i.refinement(a,o);if(r.common.async)return Promise.resolve(s);if(s instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?ke:(a.status==="dirty"&&n.dirty(),p(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?ke:(a.status==="dirty"&&n.dirty(),p(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const p=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Fu(p))return p;const a=i.transform(p.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(p=>Fu(p)?Promise.resolve(i.transform(p.value,o)).then(a=>({status:n.value,value:a})):p);Fe.assertNever(i)}}zr.create=(e,t,n)=>new zr({schema:e,typeName:Ee.ZodEffects,effect:t,...$e(n)});zr.createWithPreprocess=(e,t,n)=>new zr({schema:t,effect:{type:"preprocess",transform:e},typeName:Ee.ZodEffects,...$e(n)});class Dr extends Me{_parse(t){return this._getType(t)===we.undefined?tn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dr.create=(e,t)=>new Dr({innerType:e,typeName:Ee.ZodOptional,...$e(t)});class go extends Me{_parse(t){return this._getType(t)===we.null?tn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}go.create=(e,t)=>new go({innerType:e,typeName:Ee.ZodNullable,...$e(t)});class Gu extends Me{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Gu.create=(e,t)=>new Gu({innerType:e,typeName:Ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$e(t)});class Ku extends Me{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return ju(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new kn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new kn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ku.create=(e,t)=>new Ku({innerType:e,typeName:Ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$e(t)});class Gp extends Me{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return ve(r,{code:me.invalid_type,expected:we.nan,received:r.parsedType}),ke}return{status:"valid",value:t.data}}}Gp.create=e=>new Gp({typeName:Ee.ZodNaN,...$e(e)});class X_ extends Me{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class qd extends Me{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?ke:o.status==="dirty"?(n.dirty(),xa(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?ke:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new qd({in:t,out:n,typeName:Ee.ZodPipeline})}}class qu extends Me{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Fu(i)&&(i.value=Object.freeze(i.value)),i);return ju(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}qu.create=(e,t)=>new qu({innerType:e,typeName:Ee.ZodReadonly,...$e(t)});st.lazycreate;var Ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ee||(Ee={}));const ca=Pr.create;$s.create;Gp.create;Rs.create;const ua=Vp.create;pl.create;Up.create;Bu.create;zu.create;Hp.create;as.create;ki.create;Wp.create;fr.create;const iN=st.create;st.strictCreate;Vu.create;Hg.create;Uu.create;Br.create;Hu.create;Xp.create;As.create;Ia.create;Wu.create;Yu.create;mo.create;Xu.create;ml.create;zr.create;Dr.create;go.create;zr.createWithPreprocess;qd.create;const Kp="horizontal",oN=["horizontal","vertical"],G_=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=Kp,...i}=e,o=K_(r)?r:Kp,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return b.createElement(Se.div,re({"data-orientation":o},a,i,{ref:t}))});G_.propTypes={orientation(e,t,n){const r=e[t],i=String(r);return r&&!K_(r)?new Error(sN(i,n)):null}};function sN(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${Kp}\`.`}function K_(e){return oN.includes(e)}const q_=G_,xt=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>_.jsx(q_,{ref:i,decorative:n,orientation:t,className:ye("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));xt.displayName=q_.displayName;const aN=b.forwardRef((e,t)=>b.createElement(Se.label,re({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),Z_=aN,lN=Td("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wg=b.forwardRef(({className:e,disabled:t,...n},r)=>_.jsx(Z_,{ref:r,className:ye(lN(),e,t?"opacity-50":"","select-none"),...n}));Wg.displayName=Z_.displayName;const cN=x3,Q_=b.createContext({}),Ao=({...e})=>_.jsx(Q_.Provider,{value:{name:e.name},children:_.jsx(E3,{...e})}),Zd=()=>{const e=b.useContext(Q_),t=b.useContext(J_),{getFieldState:n,formState:r}=Kd(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},J_=b.createContext({}),Vi=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return _.jsx(J_.Provider,{value:{id:r},children:_.jsx("div",{ref:n,className:ye("space-y-2",e),...t})})});Vi.displayName="FormItem";const Ui=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=Zd();return _.jsx(Wg,{ref:n,className:ye(r&&"text-destructive","text-sm",e),htmlFor:i,...t})});Ui.displayName="FormLabel";const Hi=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=Zd();return _.jsx(hr,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});Hi.displayName="FormControl";const Wi=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Zd();return _.jsx("p",{ref:n,id:r,className:ye("text-[0.8rem] text-muted-foreground",e),...t})});Wi.displayName="FormDescription";const uN=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=Zd(),p=i?String(i==null?void 0:i.message):t;return p?_.jsx("p",{ref:r,id:o,className:ye("text-[0.8rem] font-medium text-destructive",e),...n,children:p}):null});uN.displayName="FormMessage";function Yg(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const eC="Switch",[dN,s8]=Ht(eC),[fN,hN]=dN(eC),pN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:p,disabled:a,value:s="on",onCheckedChange:c,...f}=e,[l,u]=b.useState(null),d=Te(t,y=>u(y)),h=b.useRef(!1),g=l?!!l.closest("form"):!0,[m=!1,v]=$n({prop:i,defaultProp:o,onChange:c});return b.createElement(fN,{scope:n,checked:m,disabled:a},b.createElement(Se.button,re({type:"button",role:"switch","aria-checked":m,"aria-required":p,"data-state":tC(m),"data-disabled":a?"":void 0,disabled:a,value:s},f,{ref:d,onClick:pe(e.onClick,y=>{v(w=>!w),g&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})),g&&b.createElement(vN,{control:l,bubbles:!h.current,name:r,value:s,checked:m,required:p,disabled:a,style:{transform:"translateX(-100%)"}}))}),mN="SwitchThumb",gN=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=hN(mN,n);return b.createElement(Se.span,re({"data-state":tC(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:t}))}),vN=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=b.useRef(null),p=Yg(n),a=Pg(t);return b.useEffect(()=>{const s=o.current,c=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(c,"checked").set;if(p!==n&&l){const u=new Event("click",{bubbles:r});l.call(s,n),s.dispatchEvent(u)}},[p,n,r]),b.createElement("input",re({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function tC(e){return e?"checked":"unchecked"}const nC=pN,yN=gN,Fn=b.forwardRef(({className:e,...t},n)=>_.jsx(nC,{className:ye("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),tabIndex:-1,...t,ref:n,children:_.jsx(yN,{className:ye("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Fn.displayName=nC.displayName;const wN=b.createContext(void 0);function Gs(e){const t=b.useContext(wN);return e||t||"ltr"}const ph="rovingFocusGroup.onEntryFocus",bN={bubbles:!1,cancelable:!0},Xg="RovingFocusGroup",[qp,rC,xN]=Ol(Xg),[SN,Qd]=Ht(Xg,[xN]),[_N,CN]=SN(Xg),EN=b.forwardRef((e,t)=>b.createElement(qp.Provider,{scope:e.__scopeRovingFocusGroup},b.createElement(qp.Slot,{scope:e.__scopeRovingFocusGroup},b.createElement(TN,re({},e,{ref:t}))))),TN=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:p,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:s,onEntryFocus:c,...f}=e,l=b.useRef(null),u=Te(t,l),d=Gs(o),[h=null,g]=$n({prop:p,defaultProp:a,onChange:s}),[m,v]=b.useState(!1),y=tt(c),w=rC(n),x=b.useRef(!1),[S,C]=b.useState(0);return b.useEffect(()=>{const E=l.current;if(E)return E.addEventListener(ph,y),()=>E.removeEventListener(ph,y)},[y]),b.createElement(_N,{scope:n,orientation:r,dir:d,loop:i,currentTabStopId:h,onItemFocus:b.useCallback(E=>g(E),[g]),onItemShiftTab:b.useCallback(()=>v(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:b.useCallback(()=>C(E=>E-1),[])},b.createElement(Se.div,re({tabIndex:m||S===0?-1:0,"data-orientation":r},f,{ref:u,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{x.current=!0}),onFocus:pe(e.onFocus,E=>{const k=!x.current;if(E.target===E.currentTarget&&k&&!m){const L=new CustomEvent(ph,bN);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const B=w().filter(M=>M.focusable),G=B.find(M=>M.active),z=B.find(M=>M.id===h),I=[G,z,...B].filter(Boolean).map(M=>M.ref.current);iC(I)}}x.current=!1}),onBlur:pe(e.onBlur,()=>v(!1))})))}),kN="RovingFocusGroupItem",PN=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...p}=e,a=en(),s=o||a,c=CN(kN,n),f=c.currentTabStopId===s,l=rC(n),{onFocusableItemAdd:u,onFocusableItemRemove:d}=c;return b.useEffect(()=>{if(r)return u(),()=>d()},[r,u,d]),b.createElement(qp.ItemSlot,{scope:n,id:s,focusable:r,active:i},b.createElement(Se.span,re({tabIndex:f?0:-1,"data-orientation":c.orientation},p,{ref:t,onMouseDown:pe(e.onMouseDown,h=>{r?c.onItemFocus(s):h.preventDefault()}),onFocus:pe(e.onFocus,()=>c.onItemFocus(s)),onKeyDown:pe(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){c.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const g=RN(h,c.orientation,c.dir);if(g!==void 0){h.preventDefault();let v=l().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const y=v.indexOf(h.currentTarget);v=c.loop?AN(v,y+1):v.slice(y+1)}setTimeout(()=>iC(v))}})})))}),ON={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $N(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function RN(e,t,n){const r=$N(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ON[r]}function iC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function AN(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const oC=EN,sC=PN,aC="Tabs",[DN,a8]=Ht(aC,[Qd]),lC=Qd(),[MN,Gg]=DN(aC),NN=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:p="horizontal",dir:a,activationMode:s="automatic",...c}=e,f=Gs(a),[l,u]=$n({prop:r,onChange:i,defaultProp:o});return b.createElement(MN,{scope:n,baseId:en(),value:l,onValueChange:u,orientation:p,dir:f,activationMode:s},b.createElement(Se.div,re({dir:f,"data-orientation":p},c,{ref:t})))}),LN="TabsList",FN=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=Gg(LN,n),p=lC(n);return b.createElement(oC,re({asChild:!0},p,{orientation:o.orientation,dir:o.dir,loop:r}),b.createElement(Se.div,re({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))}),jN="TabsTrigger",IN=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,p=Gg(jN,n),a=lC(n),s=cC(p.baseId,r),c=uC(p.baseId,r),f=r===p.value;return b.createElement(sC,re({asChild:!0},a,{focusable:!i,active:f}),b.createElement(Se.button,re({type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:s},o,{ref:t,onMouseDown:pe(e.onMouseDown,l=>{!i&&l.button===0&&l.ctrlKey===!1?p.onValueChange(r):l.preventDefault()}),onKeyDown:pe(e.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&p.onValueChange(r)}),onFocus:pe(e.onFocus,()=>{const l=p.activationMode!=="manual";!f&&!i&&l&&p.onValueChange(r)})})))}),BN="TabsContent",zN=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...p}=e,a=Gg(BN,n),s=cC(a.baseId,r),c=uC(a.baseId,r),f=r===a.value,l=b.useRef(f);return b.useEffect(()=>{const u=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(u)},[]),b.createElement(Ct,{present:i||f},({present:u})=>b.createElement(Se.div,re({"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":s,hidden:!u,id:c,tabIndex:0},p,{ref:t,style:{...e.style,animationDuration:l.current?"0s":void 0}}),u&&o))});function cC(e,t){return`${e}-trigger-${t}`}function uC(e,t){return`${e}-content-${t}`}const VN=NN,dC=FN,fC=IN,hC=zN,UN=VN,pC=b.forwardRef(({className:e,...t},n)=>_.jsx(dC,{ref:n,className:ye("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),tabIndex:-1,...t}));pC.displayName=dC.displayName;const Ca=b.forwardRef(({className:e,...t},n)=>_.jsx(fC,{ref:n,className:ye("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),tabIndex:-1,...t}));Ca.displayName=fC.displayName;const Ea=b.forwardRef(({className:e,...t},n)=>_.jsx(hC,{ref:n,className:ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),tabIndex:-1,...t}));Ea.displayName=hC.displayName;function gl(e,[t,n]){return Math.min(n,Math.max(t,e))}function HN(e,t){return b.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const mC="ScrollArea",[gC,l8]=Ht(mC),[WN,Rn]=gC(mC),YN=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...p}=e,[a,s]=b.useState(null),[c,f]=b.useState(null),[l,u]=b.useState(null),[d,h]=b.useState(null),[g,m]=b.useState(null),[v,y]=b.useState(0),[w,x]=b.useState(0),[S,C]=b.useState(!1),[E,k]=b.useState(!1),L=Te(t,G=>s(G)),B=Gs(i);return b.createElement(WN,{scope:n,type:r,dir:B,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:f,content:l,onContentChange:u,scrollbarX:d,onScrollbarXChange:h,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:E,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:x},b.createElement(Se.div,re({dir:B},p,{ref:L,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})))}),XN="ScrollAreaViewport",GN=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,o=Rn(XN,n),p=b.useRef(null),a=Te(t,p,o.onViewportChange);return b.createElement(b.Fragment,null,b.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),b.createElement(Se.div,re({"data-radix-scroll-area-viewport":""},i,{ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style}}),b.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Hr="ScrollAreaScrollbar",vC=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rn(Hr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:p}=i,a=e.orientation==="horizontal";return b.useEffect(()=>(a?o(!0):p(!0),()=>{a?o(!1):p(!1)}),[a,o,p]),i.type==="hover"?b.createElement(KN,re({},r,{ref:t,forceMount:n})):i.type==="scroll"?b.createElement(qN,re({},r,{ref:t,forceMount:n})):i.type==="auto"?b.createElement(yC,re({},r,{ref:t,forceMount:n})):i.type==="always"?b.createElement(Kg,re({},r,{ref:t})):null}),KN=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rn(Hr,e.__scopeScrollArea),[o,p]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let s=0;if(a){const c=()=>{window.clearTimeout(s),p(!0)},f=()=>{s=window.setTimeout(()=>p(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(s),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),b.createElement(Ct,{present:n||o},b.createElement(yC,re({"data-state":o?"visible":"hidden"},r,{ref:t})))}),qN=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rn(Hr,e.__scopeScrollArea),o=e.orientation==="horizontal",p=ef(()=>s("SCROLL_END"),100),[a,s]=HN("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>s("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,s]),b.useEffect(()=>{const c=i.viewport,f=o?"scrollLeft":"scrollTop";if(c){let l=c[f];const u=()=>{const d=c[f];l!==d&&(s("SCROLL"),p()),l=d};return c.addEventListener("scroll",u),()=>c.removeEventListener("scroll",u)}},[i.viewport,o,s,p]),b.createElement(Ct,{present:n||a!=="hidden"},b.createElement(Kg,re({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:pe(e.onPointerEnter,()=>s("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>s("POINTER_LEAVE"))})))}),yC=b.forwardRef((e,t)=>{const n=Rn(Hr,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,p]=b.useState(!1),a=e.orientation==="horizontal",s=ef(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;p(a?c:f)}},10);return Ds(n.viewport,s),Ds(n.content,s),b.createElement(Ct,{present:r||o},b.createElement(Kg,re({"data-state":o?"visible":"hidden"},i,{ref:t})))}),Kg=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Rn(Hr,e.__scopeScrollArea),o=b.useRef(null),p=b.useRef(0),[a,s]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=SC(a.viewport,a.content),f={...r,sizes:a,onSizesChange:s,hasThumb:c>0&&c<1,onThumbChange:u=>o.current=u,onThumbPointerUp:()=>p.current=0,onThumbPointerDown:u=>p.current=u};function l(u,d){return iL(u,p.current,a,d)}return n==="horizontal"?b.createElement(ZN,re({},f,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const u=i.viewport.scrollLeft,d=Jy(u,a,i.dir);o.current.style.transform=`translate3d(${d}px, 0, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollLeft=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollLeft=l(u,i.dir))}})):n==="vertical"?b.createElement(QN,re({},f,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const u=i.viewport.scrollTop,d=Jy(u,a);o.current.style.transform=`translate3d(0, ${d}px, 0)`}},onWheelScroll:u=>{i.viewport&&(i.viewport.scrollTop=u)},onDragScroll:u=>{i.viewport&&(i.viewport.scrollTop=l(u))}})):null}),ZN=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Rn(Hr,e.__scopeScrollArea),[p,a]=b.useState(),s=b.useRef(null),c=Te(t,s,o.onScrollbarXChange);return b.useEffect(()=>{s.current&&a(getComputedStyle(s.current))},[s]),b.createElement(bC,re({"data-orientation":"horizontal"},i,{ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Jd(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,l)=>{if(o.viewport){const u=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(u),CC(u,l)&&f.preventDefault()}},onResize:()=>{s.current&&o.viewport&&p&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:s.current.clientWidth,paddingStart:Zu(p.paddingLeft),paddingEnd:Zu(p.paddingRight)}})}}))}),QN=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Rn(Hr,e.__scopeScrollArea),[p,a]=b.useState(),s=b.useRef(null),c=Te(t,s,o.onScrollbarYChange);return b.useEffect(()=>{s.current&&a(getComputedStyle(s.current))},[s]),b.createElement(bC,re({"data-orientation":"vertical"},i,{ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Jd(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,l)=>{if(o.viewport){const u=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(u),CC(u,l)&&f.preventDefault()}},onResize:()=>{s.current&&o.viewport&&p&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:s.current.clientHeight,paddingStart:Zu(p.paddingTop),paddingEnd:Zu(p.paddingBottom)}})}}))}),[JN,wC]=gC(Hr),bC=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:p,onThumbPointerDown:a,onThumbPositionChange:s,onDragScroll:c,onWheelScroll:f,onResize:l,...u}=e,d=Rn(Hr,n),[h,g]=b.useState(null),m=Te(t,L=>g(L)),v=b.useRef(null),y=b.useRef(""),w=d.viewport,x=r.content-r.viewport,S=tt(f),C=tt(s),E=ef(l,10);function k(L){if(v.current){const B=L.clientX-v.current.left,G=L.clientY-v.current.top;c({x:B,y:G})}}return b.useEffect(()=>{const L=B=>{const G=B.target;(h==null?void 0:h.contains(G))&&S(B,x)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[w,h,x,S]),b.useEffect(C,[r,C]),Ds(h,E),Ds(d.content,E),b.createElement(JN,{scope:n,scrollbar:h,hasThumb:i,onThumbChange:tt(o),onThumbPointerUp:tt(p),onThumbPositionChange:C,onThumbPointerDown:tt(a)},b.createElement(Se.div,re({},u,{ref:m,style:{position:"absolute",...u.style},onPointerDown:pe(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),v.current=h.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",d.viewport&&(d.viewport.style.scrollBehavior="auto"),k(L))}),onPointerMove:pe(e.onPointerMove,k),onPointerUp:pe(e.onPointerUp,L=>{const B=L.target;B.hasPointerCapture(L.pointerId)&&B.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=y.current,d.viewport&&(d.viewport.style.scrollBehavior=""),v.current=null})})))}),Zp="ScrollAreaThumb",eL=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=wC(Zp,e.__scopeScrollArea);return b.createElement(Ct,{present:n||i.hasThumb},b.createElement(tL,re({ref:t},r)))}),tL=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Rn(Zp,n),p=wC(Zp,n),{onThumbPositionChange:a}=p,s=Te(t,l=>p.onThumbChange(l)),c=b.useRef(),f=ef(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const l=o.viewport;if(l){const u=()=>{if(f(),!c.current){const d=oL(l,a);c.current=d,a()}};return a(),l.addEventListener("scroll",u),()=>l.removeEventListener("scroll",u)}},[o.viewport,f,a]),b.createElement(Se.div,re({"data-state":p.hasThumb?"visible":"hidden"},i,{ref:s,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(e.onPointerDownCapture,l=>{const d=l.target.getBoundingClientRect(),h=l.clientX-d.left,g=l.clientY-d.top;p.onThumbPointerDown({x:h,y:g})}),onPointerUp:pe(e.onPointerUp,p.onThumbPointerUp)}))}),xC="ScrollAreaCorner",nL=b.forwardRef((e,t)=>{const n=Rn(xC,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.createElement(rL,re({},e,{ref:t})):null}),rL=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Rn(xC,n),[o,p]=b.useState(0),[a,s]=b.useState(0),c=!!(o&&a);return Ds(i.scrollbarX,()=>{var f;const l=((f=i.scrollbarX)===null||f===void 0?void 0:f.offsetHeight)||0;i.onCornerHeightChange(l),s(l)}),Ds(i.scrollbarY,()=>{var f;const l=((f=i.scrollbarY)===null||f===void 0?void 0:f.offsetWidth)||0;i.onCornerWidthChange(l),p(l)}),c?b.createElement(Se.div,re({},r,{ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Zu(e){return e?parseInt(e,10):0}function SC(e,t){const n=e/t;return isNaN(n)?0:n}function Jd(e){const t=SC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function iL(e,t,n,r="ltr"){const i=Jd(n),o=i/2,p=t||o,a=i-p,s=n.scrollbar.paddingStart+p,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,l=r==="ltr"?[0,f]:[f*-1,0];return _C([s,c],l)(e)}function Jy(e,t,n="ltr"){const r=Jd(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,p=t.content-t.viewport,a=o-r,s=n==="ltr"?[0,p]:[p*-1,0],c=gl(e,s);return _C([0,p],[0,a])(c)}function _C(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function CC(e,t){return e>0&&e<t}const oL=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},p=n.left!==o.left,a=n.top!==o.top;(p||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function ef(e,t){const n=tt(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ds(e,t){const n=tt(t);Rt(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const EC=YN,sL=GN,aL=nL,qg=b.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(EC,{ref:r,className:ye("relative overflow-hidden",e),scrollHideDelay:400,...n,children:[_.jsx(sL,{className:"h-full w-full rounded-[inherit]",children:t}),_.jsx(TC,{}),_.jsx(aL,{})]}));qg.displayName=EC.displayName;const TC=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>_.jsx(vC,{ref:r,orientation:t,className:ye("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:_.jsx(eL,{className:"relative flex-1 rounded-full bg-border"})}));TC.displayName=vC.displayName;const lL="AlertDialog",[cL,c8]=Ht(lL,[l_]),Di=l_(),uL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Di(t);return b.createElement(Yd,re({},r,n,{modal:!0}))},dL=e=>{const{__scopeAlertDialog:t,...n}=e,r=Di(t);return b.createElement(Xd,re({},r,n))},fL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Di(n);return b.createElement(Ys,re({},i,r,{ref:t}))}),kC="AlertDialogContent",[hL,pL]=cL(kC),mL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Di(n),p=b.useRef(null),a=Te(t,p),s=b.useRef(null);return b.createElement(FM,{contentName:kC,titleName:gL,docsSlug:"alert-dialog"},b.createElement(hL,{scope:n,cancelRef:s},b.createElement(Xs,re({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:pe(i.onOpenAutoFocus,c=>{var f;c.preventDefault(),(f=s.current)===null||f===void 0||f.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault()}),b.createElement(sg,null,r),!1)))}),gL="AlertDialogTitle",vL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Di(n);return b.createElement(Fl,re({},i,r,{ref:t}))}),yL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Di(n);return b.createElement(jl,re({},i,r,{ref:t}))}),wL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Di(n);return b.createElement(Ng,re({},i,r,{ref:t}))}),bL="AlertDialogCancel",xL=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=pL(bL,n),o=Di(n),p=Te(t,i);return b.createElement(Ng,re({},o,r,{ref:p}))}),SL=uL,_L=dL,PC=fL,OC=mL,$C=wL,RC=xL,AC=vL,DC=yL,CL=SL,EL=_L,MC=b.forwardRef(({className:e,...t},n)=>_.jsx(PC,{className:ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));MC.displayName=PC.displayName;const NC=b.forwardRef(({className:e,...t},n)=>_.jsxs(EL,{children:[_.jsx(MC,{}),_.jsx(OC,{ref:n,className:ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));NC.displayName=OC.displayName;const LC=({className:e,...t})=>_.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});LC.displayName="AlertDialogHeader";const TL=b.forwardRef(({className:e,...t},n)=>_.jsx(AC,{ref:n,className:ye("text-lg font-semibold",e),...t}));TL.displayName=AC.displayName;const kL=b.forwardRef(({className:e,...t},n)=>_.jsx(DC,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));kL.displayName=DC.displayName;const PL=b.forwardRef(({className:e,...t},n)=>_.jsx($C,{ref:n,className:ye(Dg(),e),...t}));PL.displayName=$C.displayName;const OL=b.forwardRef(({className:e,...t},n)=>_.jsx(RC,{ref:n,className:ye(Dg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));OL.displayName=RC.displayName;const $L=[" ","Enter","ArrowUp","ArrowDown"],RL=[" ","Enter"],tf="Select",[nf,rf,AL]=Ol(tf),[Ks,u8]=Ht(tf,[AL,Ai]),Zg=Ai(),[DL,So]=Ks(tf),[ML,NL]=Ks(tf),LL=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:p,defaultValue:a,onValueChange:s,dir:c,name:f,autoComplete:l,disabled:u,required:d}=e,h=Zg(t),[g,m]=b.useState(null),[v,y]=b.useState(null),[w,x]=b.useState(!1),S=Gs(c),[C=!1,E]=$n({prop:r,defaultProp:i,onChange:o}),[k,L]=$n({prop:p,defaultProp:a,onChange:s}),B=b.useRef(null),G=g?!!g.closest("form"):!0,[z,Q]=b.useState(new Set),I=Array.from(z).map(M=>M.props.value).join(";");return b.createElement(Nl,h,b.createElement(DL,{required:d,scope:t,trigger:g,onTriggerChange:m,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:en(),value:k,onValueChange:L,open:C,onOpenChange:E,dir:S,triggerPointerDownPosRef:B,disabled:u},b.createElement(nf.Provider,{scope:t},b.createElement(ML,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(M=>{Q(N=>new Set(N).add(M))},[]),onNativeOptionRemove:b.useCallback(M=>{Q(N=>{const q=new Set(N);return q.delete(M),q})},[])},n)),G?b.createElement(zC,{key:I,"aria-hidden":!0,required:d,tabIndex:-1,name:f,autoComplete:l,value:k,onChange:M=>L(M.target.value),disabled:u},k===void 0?b.createElement("option",{value:""}):null,Array.from(z)):null))},FL="SelectTrigger",jL=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Zg(n),p=So(FL,n),a=p.disabled||r,s=Te(t,p.onTriggerChange),c=rf(n),[f,l,u]=VC(h=>{const g=c().filter(y=>!y.disabled),m=g.find(y=>y.value===p.value),v=UC(g,h,m);v!==void 0&&p.onValueChange(v.value)}),d=()=>{a||(p.onOpenChange(!0),u())};return b.createElement(jd,re({asChild:!0},o),b.createElement(Se.button,re({type:"button",role:"combobox","aria-controls":p.contentId,"aria-expanded":p.open,"aria-required":p.required,"aria-autocomplete":"none",dir:p.dir,"data-state":p.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":BC(p.value)?"":void 0},i,{ref:s,onClick:pe(i.onClick,h=>{h.currentTarget.focus()}),onPointerDown:pe(i.onPointerDown,h=>{const g=h.target;g.hasPointerCapture(h.pointerId)&&g.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&(d(),p.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)},h.preventDefault())}),onKeyDown:pe(i.onKeyDown,h=>{const g=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&l(h.key),!(g&&h.key===" ")&&$L.includes(h.key)&&(d(),h.preventDefault())})})))}),IL="SelectValue",BL=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:p="",...a}=e,s=So(IL,n),{onValueNodeHasChildrenChange:c}=s,f=o!==void 0,l=Te(t,s.onValueNodeChange);return Rt(()=>{c(f)},[c,f]),b.createElement(Se.span,re({},a,{ref:l,style:{pointerEvents:"none"}}),BC(s.value)?b.createElement(b.Fragment,null,p):o)}),zL=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return b.createElement(Se.span,re({"aria-hidden":!0},i,{ref:t}),r||"▼")}),VL=e=>b.createElement($l,re({asChild:!0},e)),Ms="SelectContent",UL=b.forwardRef((e,t)=>{const n=So(Ms,e.__scopeSelect),[r,i]=b.useState();if(Rt(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ri.createPortal(b.createElement(FC,{scope:e.__scopeSelect},b.createElement(nf.Slot,{scope:e.__scopeSelect},b.createElement("div",null,e.children))),o):null}return b.createElement(HL,re({},e,{ref:t}))}),_r=10,[FC,_o]=Ks(Ms),HL=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:p,side:a,sideOffset:s,align:c,alignOffset:f,arrowPadding:l,collisionBoundary:u,collisionPadding:d,sticky:h,hideWhenDetached:g,avoidCollisions:m,...v}=e,y=So(Ms,n),[w,x]=b.useState(null),[S,C]=b.useState(null),E=Te(t,j=>x(j)),[k,L]=b.useState(null),[B,G]=b.useState(null),z=rf(n),[Q,I]=b.useState(!1),M=b.useRef(!1);b.useEffect(()=>{if(w)return Wd(w)},[w]),Ud();const N=b.useCallback(j=>{const[X,...Y]=z().map(ce=>ce.ref.current),[J]=Y.slice(-1),te=document.activeElement;for(const ce of j)if(ce===te||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===X&&S&&(S.scrollTop=0),ce===J&&S&&(S.scrollTop=S.scrollHeight),ce==null||ce.focus(),document.activeElement!==te))return},[z,S]),q=b.useCallback(()=>N([k,w]),[N,k,w]);b.useEffect(()=>{Q&&q()},[Q,q]);const{onOpenChange:H,triggerPointerDownPosRef:T}=y;b.useEffect(()=>{if(w){let j={x:0,y:0};const X=J=>{var te,ce,ee,K;j={x:Math.abs(Math.round(J.pageX)-((te=(ce=T.current)===null||ce===void 0?void 0:ce.x)!==null&&te!==void 0?te:0)),y:Math.abs(Math.round(J.pageY)-((ee=(K=T.current)===null||K===void 0?void 0:K.y)!==null&&ee!==void 0?ee:0))}},Y=J=>{j.x<=10&&j.y<=10?J.preventDefault():w.contains(J.target)||H(!1),document.removeEventListener("pointermove",X),T.current=null};return T.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Y,{capture:!0})}}},[w,H,T]),b.useEffect(()=>{const j=()=>H(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[H]);const[$,R]=VC(j=>{const X=z().filter(te=>!te.disabled),Y=X.find(te=>te.ref.current===document.activeElement),J=UC(X,j,Y);J&&setTimeout(()=>J.ref.current.focus())}),O=b.useCallback((j,X,Y)=>{const J=!M.current&&!Y;(y.value!==void 0&&y.value===X||J)&&(L(j),J&&(M.current=!0))},[y.value]),V=b.useCallback(()=>w==null?void 0:w.focus(),[w]),D=b.useCallback((j,X,Y)=>{const J=!M.current&&!Y;(y.value!==void 0&&y.value===X||J)&&G(j)},[y.value]),P=r==="popper"?ew:WL,F=P===ew?{side:a,sideOffset:s,align:c,alignOffset:f,arrowPadding:l,collisionBoundary:u,collisionPadding:d,sticky:h,hideWhenDetached:g,avoidCollisions:m}:{};return b.createElement(FC,{scope:n,content:w,viewport:S,onViewportChange:C,itemRefCallback:O,selectedItem:k,onItemLeave:V,itemTextRefCallback:D,focusSelectedItem:q,selectedItemText:B,position:r,isPositioned:Q,searchRef:$},b.createElement(Ll,{as:hr,allowPinchZoom:!0},b.createElement(Vd,{asChild:!0,trapped:y.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:pe(i,j=>{var X;(X=y.trigger)===null||X===void 0||X.focus({preventScroll:!0}),j.preventDefault()})},b.createElement(Bs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:p,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},b.createElement(P,re({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:j=>j.preventDefault()},v,F,{onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,j=>{const X=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!X&&j.key.length===1&&R(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let J=z().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(j.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const te=j.target,ce=J.indexOf(te);J=J.slice(ce+1)}setTimeout(()=>N(J)),j.preventDefault()}})}))))))}),WL=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=So(Ms,n),p=_o(Ms,n),[a,s]=b.useState(null),[c,f]=b.useState(null),l=Te(t,E=>f(E)),u=rf(n),d=b.useRef(!1),h=b.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:v,focusSelectedItem:y}=p,w=b.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&m&&v){const E=o.trigger.getBoundingClientRect(),k=c.getBoundingClientRect(),L=o.valueNode.getBoundingClientRect(),B=v.getBoundingClientRect();if(o.dir!=="rtl"){const te=B.left-k.left,ce=L.left-te,ee=E.left-ce,K=E.width+ee,ae=Math.max(K,k.width),le=window.innerWidth-_r,oe=gl(ce,[_r,le-ae]);a.style.minWidth=K+"px",a.style.left=oe+"px"}else{const te=k.right-B.right,ce=window.innerWidth-L.right-te,ee=window.innerWidth-E.right-ce,K=E.width+ee,ae=Math.max(K,k.width),le=window.innerWidth-_r,oe=gl(ce,[_r,le-ae]);a.style.minWidth=K+"px",a.style.right=oe+"px"}const G=u(),z=window.innerHeight-_r*2,Q=g.scrollHeight,I=window.getComputedStyle(c),M=parseInt(I.borderTopWidth,10),N=parseInt(I.paddingTop,10),q=parseInt(I.borderBottomWidth,10),H=parseInt(I.paddingBottom,10),T=M+N+Q+H+q,$=Math.min(m.offsetHeight*5,T),R=window.getComputedStyle(g),O=parseInt(R.paddingTop,10),V=parseInt(R.paddingBottom,10),D=E.top+E.height/2-_r,P=z-D,F=m.offsetHeight/2,j=m.offsetTop+F,X=M+N+j,Y=T-X;if(X<=D){const te=m===G[G.length-1].ref.current;a.style.bottom="0px";const ce=c.clientHeight-g.offsetTop-g.offsetHeight,ee=Math.max(P,F+(te?V:0)+ce+q),K=X+ee;a.style.height=K+"px"}else{const te=m===G[0].ref.current;a.style.top="0px";const ee=Math.max(D,M+g.offsetTop+(te?O:0)+F)+Y;a.style.height=ee+"px",g.scrollTop=X-D+g.offsetTop}a.style.margin=`${_r}px 0`,a.style.minHeight=$+"px",a.style.maxHeight=z+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[u,o.trigger,o.valueNode,a,c,g,m,v,o.dir,r]);Rt(()=>w(),[w]);const[x,S]=b.useState();Rt(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=b.useCallback(E=>{E&&h.current===!0&&(w(),y==null||y(),h.current=!1)},[w,y]);return b.createElement(YL,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:d,onScrollButtonChange:C},b.createElement("div",{ref:s,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},b.createElement(Se.div,re({},i,{ref:l,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),ew=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=_r,...o}=e,p=Zg(n);return b.createElement(Id,re({},p,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[YL,Qg]=Ks(Ms,{}),tw="SelectViewport",XL=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=_o(tw,n),o=Qg(tw,n),p=Te(t,i.onViewportChange),a=b.useRef(0);return b.createElement(b.Fragment,null,b.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),b.createElement(nf.Slot,{scope:n},b.createElement(Se.div,re({"data-radix-select-viewport":"",role:"presentation"},r,{ref:p,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:pe(r.onScroll,s=>{const c=s.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:l}=o;if(l!=null&&l.current&&f){const u=Math.abs(a.current-c.scrollTop);if(u>0){const d=window.innerHeight-_r*2,h=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),m=Math.max(h,g);if(m<d){const v=m+u,y=Math.min(d,v),w=v-y;f.style.height=y+"px",f.style.bottom==="0px"&&(c.scrollTop=w>0?w:0,f.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),GL="SelectGroup",[KL,qL]=Ks(GL),ZL=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=en();return b.createElement(KL,{scope:n,id:i},b.createElement(Se.div,re({role:"group","aria-labelledby":i},r,{ref:t})))}),QL="SelectLabel",JL=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=qL(QL,n);return b.createElement(Se.div,re({id:i.id},r,{ref:t}))}),Qp="SelectItem",[eF,jC]=Ks(Qp),tF=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...p}=e,a=So(Qp,n),s=_o(Qp,n),c=a.value===r,[f,l]=b.useState(o??""),[u,d]=b.useState(!1),h=Te(t,v=>{var y;return(y=s.itemRefCallback)===null||y===void 0?void 0:y.call(s,v,r,i)}),g=en(),m=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return b.createElement(eF,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:b.useCallback(v=>{l(y=>{var w;return y||((w=v==null?void 0:v.textContent)!==null&&w!==void 0?w:"").trim()})},[])},b.createElement(nf.ItemSlot,{scope:n,value:r,disabled:i,textValue:f},b.createElement(Se.div,re({role:"option","aria-labelledby":g,"data-highlighted":u?"":void 0,"aria-selected":c&&u,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},p,{ref:h,onFocus:pe(p.onFocus,()=>d(!0)),onBlur:pe(p.onBlur,()=>d(!1)),onPointerUp:pe(p.onPointerUp,m),onPointerMove:pe(p.onPointerMove,v=>{if(i){var y;(y=s.onItemLeave)===null||y===void 0||y.call(s)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(p.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var y;(y=s.onItemLeave)===null||y===void 0||y.call(s)}}),onKeyDown:pe(p.onKeyDown,v=>{var y;((y=s.searchRef)===null||y===void 0?void 0:y.current)!==""&&v.key===" "||(RL.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})}))))}),_c="SelectItemText",nF=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,p=So(_c,n),a=_o(_c,n),s=jC(_c,n),c=NL(_c,n),[f,l]=b.useState(null),u=Te(t,v=>l(v),s.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)===null||y===void 0?void 0:y.call(a,v,s.value,s.disabled)}),d=f==null?void 0:f.textContent,h=b.useMemo(()=>b.createElement("option",{key:s.value,value:s.value,disabled:s.disabled},d),[s.disabled,s.value,d]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=c;return Rt(()=>(g(h),()=>m(h)),[g,m,h]),b.createElement(b.Fragment,null,b.createElement(Se.span,re({id:s.textId},o,{ref:u})),s.isSelected&&p.valueNode&&!p.valueNodeHasChildren?Ri.createPortal(o.children,p.valueNode):null)}),rF="SelectItemIndicator",iF=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return jC(rF,n).isSelected?b.createElement(Se.span,re({"aria-hidden":!0},r,{ref:t})):null}),nw="SelectScrollUpButton",oF=b.forwardRef((e,t)=>{const n=_o(nw,e.__scopeSelect),r=Qg(nw,e.__scopeSelect),[i,o]=b.useState(!1),p=Te(t,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=s.scrollTop>0;o(f)};var a=c;const s=n.viewport;return c(),s.addEventListener("scroll",c),()=>s.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?b.createElement(IC,re({},e,{ref:p,onAutoScroll:()=>{const{viewport:a,selectedItem:s}=n;a&&s&&(a.scrollTop=a.scrollTop-s.offsetHeight)}})):null}),rw="SelectScrollDownButton",sF=b.forwardRef((e,t)=>{const n=_o(rw,e.__scopeSelect),r=Qg(rw,e.__scopeSelect),[i,o]=b.useState(!1),p=Te(t,r.onScrollButtonChange);return Rt(()=>{if(n.viewport&&n.isPositioned){let c=function(){const f=s.scrollHeight-s.clientHeight,l=Math.ceil(s.scrollTop)<f;o(l)};var a=c;const s=n.viewport;return c(),s.addEventListener("scroll",c),()=>s.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?b.createElement(IC,re({},e,{ref:p,onAutoScroll:()=>{const{viewport:a,selectedItem:s}=n;a&&s&&(a.scrollTop=a.scrollTop+s.offsetHeight)}})):null}),IC=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=_o("SelectScrollButton",n),p=b.useRef(null),a=rf(n),s=b.useCallback(()=>{p.current!==null&&(window.clearInterval(p.current),p.current=null)},[]);return b.useEffect(()=>()=>s(),[s]),Rt(()=>{var c;const f=a().find(l=>l.ref.current===document.activeElement);f==null||(c=f.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),b.createElement(Se.div,re({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{p.current===null&&(p.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var c;(c=o.onItemLeave)===null||c===void 0||c.call(o),p.current===null&&(p.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{s()})}))}),aF=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return b.createElement(Se.div,re({"aria-hidden":!0},r,{ref:t}))});function BC(e){return e===""||e===void 0}const zC=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=b.useRef(null),o=Te(t,i),p=Yg(n);return b.useEffect(()=>{const a=i.current,s=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(s,"value").set;if(p!==n&&f){const l=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(l)}},[p,n]),b.createElement(_d,{asChild:!0},b.createElement("select",re({},r,{ref:o,defaultValue:n})))});zC.displayName="BubbleSelect";function VC(e){const t=tt(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(p=>{const a=n.current+p;t(a),function s(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>s(""),1e3))}(a)},[t]),o=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function UC(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let p=lF(e,Math.max(o,0));i.length===1&&(p=p.filter(c=>c!==n));const s=p.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function lF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const cF=LL,HC=jL,uF=BL,dF=zL,fF=VL,WC=UL,hF=XL,pF=ZL,YC=JL,XC=tF,mF=nF,gF=iF,GC=oF,KC=sF,qC=aF,Or=cF,$r=pF,Rr=uF,sr=b.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(HC,{ref:r,className:ye("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),tabIndex:-1,...n,children:[t,_.jsx(dF,{asChild:!0,children:_.jsx(kP,{className:"h-4 w-4 opacity-50"})})]}));sr.displayName=HC.displayName;const ZC=b.forwardRef(({className:e,...t},n)=>_.jsx(GC,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:_.jsx(MP,{})}));ZC.displayName=GC.displayName;const QC=b.forwardRef(({className:e,...t},n)=>_.jsx(KC,{ref:n,className:ye("flex cursor-default items-center justify-center py-1",e),...t,children:_.jsx($P,{})}));QC.displayName=KC.displayName;const ar=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>_.jsx(fF,{children:_.jsxs(WC,{ref:i,className:ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,onCloseAutoFocus:o=>o.preventDefault(),...r,children:[_.jsx(ZC,{}),_.jsx(hF,{className:ye("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),_.jsx(QC,{})]})}));ar.displayName=WC.displayName;const vF=b.forwardRef(({className:e,...t},n)=>_.jsx(YC,{ref:n,className:ye("px-2 py-1.5 text-sm font-semibold",e),...t}));vF.displayName=YC.displayName;const lr=b.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(XC,{ref:r,className:ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[_.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(gF,{children:_.jsx(h1,{className:"h-4 w-4"})})}),_.jsx(mF,{children:t})]}));lr.displayName=XC.displayName;const yF=b.forwardRef(({className:e,...t},n)=>_.jsx(qC,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));yF.displayName=qC.displayName;const wF=iN({enableFileManager:ua(),inputDirectory:ca(),outputDirectory:ca(),enableDownloadMask:ua(),enableManualInpainting:ua(),enableUploadMask:ua(),enableAutoExtractPrompt:ua(),removeBGModel:ca(),realesrganModel:ca(),interactiveSegModel:ca()}),JC="General",Jp="Model",eE="Plugins",bF=[Jp,JC,eE];function xF(){const[e,t]=qS(!1),[n,r]=b.useState(Jp),[i,o,p,a,s,c,f,l]=We(M=>[M.updateAppState,M.settings,M.updateSettings,M.fileManagerState,M.setModel,M.serverConfig,M.updateServerConfig,M.setServerConfig]),{toast:u}=dg(),[d,h]=b.useState(o.model),[g,m]=b.useState([]),v=g.length>0;b.useEffect(()=>{h(o.model)},[o.model]);const y=L3({resolver:B3(wF),defaultValues:{enableDownloadMask:o.enableDownloadMask,enableManualInpainting:o.enableManualInpainting,enableUploadMask:o.enableUploadMask,enableAutoExtractPrompt:o.enableAutoExtractPrompt,inputDirectory:a.inputDirectory,outputDirectory:a.outputDirectory,removeBGModel:c==null?void 0:c.removeBGModel,realesrganModel:c==null?void 0:c.realesrganModel,interactiveSegModel:c==null?void 0:c.interactiveSegModel}});b.useEffect(()=>{c&&(l(c),y.setValue("removeBGModel",c.removeBGModel),y.setValue("realesrganModel",c.realesrganModel),y.setValue("interactiveSegModel",c.interactiveSegModel))},[y,c]);async function w(M){p({enableDownloadMask:M.enableDownloadMask,enableManualInpainting:M.enableManualInpainting,enableUploadMask:M.enableUploadMask,enableAutoExtractPrompt:M.enableAutoExtractPrompt});const N=d.name!==o.model.name,q=(c==null?void 0:c.removeBGModel)!==M.removeBGModel&&C,H=(c==null?void 0:c.realesrganModel)!==M.realesrganModel&&E,T=(c==null?void 0:c.interactiveSegModel)!==M.interactiveSegModel&&k;if(N||q||H||T){const R=[];if(N&&R.push(`Switching model from ${o.model.name} to ${d.name}`),q&&R.push(`Switching RemoveBG model from ${c==null?void 0:c.removeBGModel} to ${M.removeBGModel}`),H&&R.push(`Switching RealESRGAN model from ${c==null?void 0:c.realesrganModel} to ${M.realesrganModel}`),T&&R.push(`Switching ${qr.InteractiveSeg} model from ${c==null?void 0:c.interactiveSegModel} to ${M.interactiveSegModel}`),m(R),i({disableShortCuts:!0}),N)try{const O=await rA(d.name);u({title:`Switch to ${O.name} success`}),s(d)}catch(O){u({variant:"destructive",title:`Switch to ${d.name} failed: ${O}`}),h(o.model)}if(q)try{console.log(M.removeBGModel),f({removeBGModel:M.removeBGModel})}catch(O){u({variant:"destructive",title:`Switch RemoveBG model to ${M.removeBGModel} failed: ${O}`})}if(H)try{const O=await my(qr.RealESRGAN,M.realesrganModel);if(O.status!==200)throw new Error(O.statusText)}catch(O){u({variant:"destructive",title:`Switch RealESRGAN model to ${M.realesrganModel} failed: ${O}`})}if(T)try{const O=await my(qr.InteractiveSeg,M.interactiveSegModel);if(O.status!==200)throw new Error(O.statusText)}catch(O){u({variant:"destructive",title:`Switch ${qr.InteractiveSeg} model to ${M.interactiveSegModel} failed: ${O}`})}m([]),i({disableShortCuts:!1})}}Zn("s",()=>{t(),e&&w(y.getValues())},[e,y,d,c]);const x=c.modelInfos,S=c.plugins,C=S.some(M=>M.name===qr.RemoveBG),E=S.some(M=>M.name===qr.RealESRGAN),k=S.some(M=>M.name===qr.InteractiveSeg);function L(M){t(),M||w(y.getValues())}function B(M){h(M)}function G(M){return x?x.filter(N=>M.includes(N.model_type)).map(N=>_.jsxs("div",{onClick:()=>B(N),className:"px-2",children:[_.jsx("div",{className:ye([N.name===d.name?"bg-muted":"hover:bg-muted","rounded-md px-2 py-2","cursor-default"]),children:_.jsx("div",{className:"text-base",children:N.name})}),_.jsx(xt,{className:"my-1"})]},N.name)):_.jsx("div",{children:"Please download model first"})}function z(){let M=ci;for(let N of x)if(d.name===N.name){M=N.model_type,M===z0&&(M=pc),M===V0&&(M=mc);break}return _.jsxs("div",{className:"flex flex-col gap-4 w-[510px]",children:[_.jsxs("div",{className:"flex flex-col gap-4 rounded-md",children:[_.jsx("div",{className:"font-medium",children:"Current Model"}),_.jsx("div",{children:d.name})]}),_.jsx(xt,{}),_.jsxs("div",{className:"space-y-4  rounded-md",children:[_.jsx("div",{className:"flex gap-1 items-center justify-start",children:_.jsx("div",{className:"font-medium",children:"Available models"})}),_.jsxs(UN,{defaultValue:M,children:[_.jsxs(pC,{children:[_.jsx(Ca,{value:ci,children:"Inpaint"}),_.jsx(Ca,{value:pc,children:"Stable Diffusion"}),_.jsx(Ca,{value:mc,children:"Stable Diffusion Inpaint"}),_.jsx(Ca,{value:Uf,children:"Other Diffusion"})]}),_.jsxs(qg,{className:"h-[240px] w-full mt-2 outline-none border rounded-lg",children:[_.jsx(Ea,{value:ci,children:G([ci])}),_.jsx(Ea,{value:pc,children:G([pc,z0])}),_.jsx(Ea,{value:mc,children:G([mc,V0])}),_.jsx(Ea,{value:Uf,children:G([Uf])})]})]})]})]})}function Q(){return _.jsxs("div",{className:"space-y-4 w-[510px]",children:[_.jsx(Ao,{control:y.control,name:"enableManualInpainting",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"Enable manual inpainting"}),_.jsx(Wi,{children:"For erase model, click a button to trigger inpainting after draw mask."})]}),_.jsx(Hi,{children:_.jsx(Fn,{checked:M.value,onCheckedChange:M.onChange})})]})}),_.jsx(xt,{}),_.jsx(Ao,{control:y.control,name:"enableDownloadMask",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"Enable download mask"}),_.jsx(Wi,{children:"Also download the mask after save the inpainting result."})]}),_.jsx(Hi,{children:_.jsx(Fn,{checked:M.value,onCheckedChange:M.onChange})})]})}),_.jsx(xt,{}),_.jsx(Ao,{control:y.control,name:"enableAutoExtractPrompt",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"Enable auto extract prompt"}),_.jsx(Wi,{children:"Automatically extract prompt/negativate prompt from the image meta."})]}),_.jsx(Hi,{children:_.jsx(Fn,{checked:M.value,onCheckedChange:M.onChange})})]})})]})}function I(){return _.jsxs("div",{className:"space-y-4 w-[510px]",children:[_.jsx(Ao,{control:y.control,name:"removeBGModel",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"Remove Background"}),_.jsx(Wi,{children:"Remove background model"})]}),_.jsxs(Or,{onValueChange:M.onChange,defaultValue:M.value,disabled:!C,children:[_.jsx(Hi,{children:_.jsx(sr,{className:"w-auto",children:_.jsx(Rr,{placeholder:"Select removebg model"})})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:c==null?void 0:c.removeBGModels.map(N=>_.jsx(lr,{value:N,children:N},N))})})]})]})}),_.jsx(xt,{}),_.jsx(Ao,{control:y.control,name:"realesrganModel",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"RealESRGAN"}),_.jsx(Wi,{children:"RealESRGAN Model"})]}),_.jsxs(Or,{onValueChange:M.onChange,defaultValue:M.value,disabled:!E,children:[_.jsx(Hi,{children:_.jsx(sr,{className:"w-auto",children:_.jsx(Rr,{placeholder:"Select RealESRGAN model"})})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:c==null?void 0:c.realesrganModels.map(N=>_.jsx(lr,{value:N,children:N},N))})})]})]})}),_.jsx(xt,{}),_.jsx(Ao,{control:y.control,name:"interactiveSegModel",render:({field:M})=>_.jsxs(Vi,{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"space-y-0.5",children:[_.jsx(Ui,{children:"Interactive Segmentation"}),_.jsx(Wi,{children:"Interactive Segmentation Model"})]}),_.jsxs(Or,{onValueChange:M.onChange,defaultValue:M.value,disabled:!k,children:[_.jsx(Hi,{children:_.jsx(sr,{className:"w-auto",children:_.jsx(Rr,{placeholder:"Select interactive segmentation model"})})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:c==null?void 0:c.interactiveSegModels.map(N=>_.jsx(lr,{value:N,children:N},N))})})]})]})})]})}return _.jsxs(_.Fragment,{children:[_.jsx(CL,{open:v,children:_.jsx(NC,{children:_.jsx(LC,{children:_.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[_.jsxs("div",{role:"status",children:[_.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),_.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),_.jsx("span",{className:"sr-only",children:"Loading..."})]}),g?_.jsx("div",{className:"flex flex-col",children:g.map((M,N)=>_.jsx("div",{children:M},N))}):_.jsx(_.Fragment,{})]})})})}),_.jsxs(p_,{open:e,onOpenChange:L,children:[_.jsx(m_,{asChild:!0,children:_.jsx(Er,{tooltip:"Settings",children:_.jsx(Y$,{})})}),_.jsxs(Lg,{className:"max-w-3xl h-[600px]",onOpenAutoFocus:M=>M.preventDefault(),children:[_.jsx(Fg,{children:"Settings"}),_.jsx(xt,{}),_.jsxs("div",{className:"flex flex-row space-x-8 h-full",children:[_.jsx("div",{className:"flex flex-col space-y-1",children:bF.map(M=>_.jsx(It,{variant:"ghost",onClick:()=>r(M),className:ye(n===M?"bg-muted ":"hover:bg-muted","justify-start"),children:M},M))}),_.jsx(xt,{orientation:"vertical"}),_.jsx(cN,{...y,children:_.jsx("div",{className:"flex w-full justify-center",children:_.jsxs("form",{onSubmit:y.handleSubmit(w),children:[n===Jp?z():_.jsx(_.Fragment,{}),n===JC?Q():_.jsx(_.Fragment,{}),n===eE?I():_.jsx(_.Fragment,{}),_.jsx("div",{className:"absolute right-10 bottom-6",children:_.jsx(It,{onClick:()=>L(!1),children:"Ok"})})]})})})]})]})]})]})}var iw=1,SF=.9,_F=.8,CF=.17,mh=.1,gh=.999,EF=.9999,TF=.99,kF=/[\\\/_+.#"@\[\(\{&]/,PF=/[\\\/_+.#"@\[\(\{&]/g,OF=/[\s-]/,tE=/[\s-]/g;function em(e,t,n,r,i,o,p){if(o===t.length)return i===e.length?iw:TF;var a=`${i},${o}`;if(p[a]!==void 0)return p[a];for(var s=r.charAt(o),c=n.indexOf(s,i),f=0,l,u,d,h;c>=0;)l=em(e,t,n,r,c+1,o+1,p),l>f&&(c===i?l*=iw:kF.test(e.charAt(c-1))?(l*=_F,d=e.slice(i,c-1).match(PF),d&&i>0&&(l*=Math.pow(gh,d.length))):OF.test(e.charAt(c-1))?(l*=SF,h=e.slice(i,c-1).match(tE),h&&i>0&&(l*=Math.pow(gh,h.length))):(l*=CF,i>0&&(l*=Math.pow(gh,c-i))),e.charAt(c)!==t.charAt(o)&&(l*=EF)),(l<mh&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(u=em(e,t,n,r,c+1,o+2,p),u*mh>l&&(l=u*mh)),l>f&&(f=l),c=n.indexOf(s,c+1);return p[a]=f,f}function ow(e){return e.toLowerCase().replace(tE," ")}function $F(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,em(e,t,ow(e),ow(t),0,0,{})}var da='[cmdk-group=""]',vh='[cmdk-group-items=""]',RF='[cmdk-group-heading=""]',Jg='[cmdk-item=""]',sw=`${Jg}:not([aria-disabled="true"])`,tm="cmdk-item-select",Xi="data-value",AF=(e,t,n)=>$F(e,t,n),nE=b.createContext(void 0),zl=()=>b.useContext(nE),rE=b.createContext(void 0),ev=()=>b.useContext(rE),iE=b.createContext(void 0),oE=b.forwardRef((e,t)=>{let n=jo(()=>{var O,V;return{search:"",value:(V=(O=e.value)!=null?O:e.defaultValue)!=null?V:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=jo(()=>new Set),i=jo(()=>new Map),o=jo(()=>new Map),p=jo(()=>new Set),a=sE(e),{label:s,children:c,value:f,onValueChange:l,filter:u,shouldFilter:d,loop:h,disablePointerSelection:g=!1,vimBindings:m=!0,...v}=e,y=b.useId(),w=b.useId(),x=b.useId(),S=b.useRef(null),C=UF();vo(()=>{if(f!==void 0){let O=f.trim();n.current.value=O,E.emit()}},[f]),vo(()=>{C(6,Q)},[]);let E=b.useMemo(()=>({subscribe:O=>(p.current.add(O),()=>p.current.delete(O)),snapshot:()=>n.current,setState:(O,V,D)=>{var P,F,j;if(!Object.is(n.current[O],V)){if(n.current[O]=V,O==="search")z(),B(),C(1,G);else if(O==="value"&&(D||C(5,Q),((P=a.current)==null?void 0:P.value)!==void 0)){let X=V??"";(j=(F=a.current).onValueChange)==null||j.call(F,X);return}E.emit()}},emit:()=>{p.current.forEach(O=>O())}}),[]),k=b.useMemo(()=>({value:(O,V,D)=>{var P;V!==((P=o.current.get(O))==null?void 0:P.value)&&(o.current.set(O,{value:V,keywords:D}),n.current.filtered.items.set(O,L(V,D)),C(2,()=>{B(),E.emit()}))},item:(O,V)=>(r.current.add(O),V&&(i.current.has(V)?i.current.get(V).add(O):i.current.set(V,new Set([O]))),C(3,()=>{z(),B(),n.current.value||G(),E.emit()}),()=>{o.current.delete(O),r.current.delete(O),n.current.filtered.items.delete(O);let D=I();C(4,()=>{z(),(D==null?void 0:D.getAttribute("id"))===O&&G(),E.emit()})}),group:O=>(i.current.has(O)||i.current.set(O,new Set),()=>{o.current.delete(O),i.current.delete(O)}),filter:()=>a.current.shouldFilter,label:s||e["aria-label"],disablePointerSelection:g,listId:y,inputId:x,labelId:w,listInnerRef:S}),[]);function L(O,V){var D,P;let F=(P=(D=a.current)==null?void 0:D.filter)!=null?P:AF;return O?F(O,n.current.search,V):0}function B(){if(!n.current.search||a.current.shouldFilter===!1)return;let O=n.current.filtered.items,V=[];n.current.filtered.groups.forEach(P=>{let F=i.current.get(P),j=0;F.forEach(X=>{let Y=O.get(X);j=Math.max(Y,j)}),V.push([P,j])});let D=S.current;M().sort((P,F)=>{var j,X;let Y=P.getAttribute("id"),J=F.getAttribute("id");return((j=O.get(J))!=null?j:0)-((X=O.get(Y))!=null?X:0)}).forEach(P=>{let F=P.closest(vh);F?F.appendChild(P.parentElement===F?P:P.closest(`${vh} > *`)):D.appendChild(P.parentElement===D?P:P.closest(`${vh} > *`))}),V.sort((P,F)=>F[1]-P[1]).forEach(P=>{let F=S.current.querySelector(`${da}[${Xi}="${encodeURIComponent(P[0])}"]`);F==null||F.parentElement.appendChild(F)})}function G(){let O=M().find(D=>D.getAttribute("aria-disabled")!=="true"),V=O==null?void 0:O.getAttribute(Xi);E.setState("value",V||void 0)}function z(){var O,V,D,P;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let F=0;for(let j of r.current){let X=(V=(O=o.current.get(j))==null?void 0:O.value)!=null?V:"",Y=(P=(D=o.current.get(j))==null?void 0:D.keywords)!=null?P:[],J=L(X,Y);n.current.filtered.items.set(j,J),J>0&&F++}for(let[j,X]of i.current)for(let Y of X)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(j);break}n.current.filtered.count=F}function Q(){var O,V,D;let P=I();P&&(((O=P.parentElement)==null?void 0:O.firstChild)===P&&((D=(V=P.closest(da))==null?void 0:V.querySelector(RF))==null||D.scrollIntoView({block:"nearest"})),P.scrollIntoView({block:"nearest"}))}function I(){var O;return(O=S.current)==null?void 0:O.querySelector(`${Jg}[aria-selected="true"]`)}function M(){var O;return Array.from((O=S.current)==null?void 0:O.querySelectorAll(sw))}function N(O){let V=M()[O];V&&E.setState("value",V.getAttribute(Xi))}function q(O){var V;let D=I(),P=M(),F=P.findIndex(X=>X===D),j=P[F+O];(V=a.current)!=null&&V.loop&&(j=F+O<0?P[P.length-1]:F+O===P.length?P[0]:P[F+O]),j&&E.setState("value",j.getAttribute(Xi))}function H(O){let V=I(),D=V==null?void 0:V.closest(da),P;for(;D&&!P;)D=O>0?zF(D,da):VF(D,da),P=D==null?void 0:D.querySelector(sw);P?E.setState("value",P.getAttribute(Xi)):q(O)}let T=()=>N(M().length-1),$=O=>{O.preventDefault(),O.metaKey?T():O.altKey?H(1):q(1)},R=O=>{O.preventDefault(),O.metaKey?N(0):O.altKey?H(-1):q(-1)};return b.createElement(Se.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:O=>{var V;if((V=v.onKeyDown)==null||V.call(v,O),!O.defaultPrevented)switch(O.key){case"n":case"j":{m&&O.ctrlKey&&$(O);break}case"ArrowDown":{$(O);break}case"p":case"k":{m&&O.ctrlKey&&R(O);break}case"ArrowUp":{R(O);break}case"Home":{O.preventDefault(),N(0);break}case"End":{O.preventDefault(),T();break}case"Enter":if(!O.nativeEvent.isComposing&&O.keyCode!==229){O.preventDefault();let D=I();if(D){let P=new Event(tm);D.dispatchEvent(P)}}}}},b.createElement("label",{"cmdk-label":"",htmlFor:k.inputId,id:k.labelId,style:WF},s),of(e,O=>b.createElement(rE.Provider,{value:E},b.createElement(nE.Provider,{value:k},O))))}),DF=b.forwardRef((e,t)=>{var n,r;let i=b.useId(),o=b.useRef(null),p=b.useContext(iE),a=zl(),s=sE(e),c=(r=(n=s.current)==null?void 0:n.forceMount)!=null?r:p==null?void 0:p.forceMount;vo(()=>{if(!c)return a.item(i,p==null?void 0:p.id)},[c]);let f=aE(i,o,[e.value,e.children,o],e.keywords),l=ev(),u=yo(C=>C.value&&C.value===f.current),d=yo(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);b.useEffect(()=>{let C=o.current;if(!(!C||e.disabled))return C.addEventListener(tm,h),()=>C.removeEventListener(tm,h)},[d,e.onSelect,e.disabled]);function h(){var C,E;g(),(E=(C=s.current).onSelect)==null||E.call(C,f.current)}function g(){l.setState("value",f.current,!0)}if(!d)return null;let{disabled:m,value:v,onSelect:y,forceMount:w,keywords:x,...S}=e;return b.createElement(Se.div,{ref:vl([o,t]),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!u,"data-disabled":!!m,"data-selected":!!u,onPointerMove:m||a.disablePointerSelection?void 0:g,onClick:m?void 0:h},e.children)}),MF=b.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,p=b.useId(),a=b.useRef(null),s=b.useRef(null),c=b.useId(),f=zl(),l=yo(d=>i||f.filter()===!1?!0:d.search?d.filtered.groups.has(p):!0);vo(()=>f.group(p),[]),aE(p,a,[e.value,e.heading,s]);let u=b.useMemo(()=>({id:p,forceMount:i}),[i]);return b.createElement(Se.div,{ref:vl([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:l?void 0:!0},n&&b.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),of(e,d=>b.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},b.createElement(iE.Provider,{value:u},d))))}),NF=b.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=b.useRef(null),o=yo(p=>!p.search);return!n&&!o?null:b.createElement(Se.div,{ref:vl([i,t]),...r,"cmdk-separator":"",role:"separator"})}),LF=b.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=ev(),p=yo(f=>f.search),a=yo(f=>f.value),s=zl(),c=b.useMemo(()=>{var f;let l=(f=s.listInnerRef.current)==null?void 0:f.querySelector(`${Jg}[${Xi}="${encodeURIComponent(a)}"]`);return l==null?void 0:l.getAttribute("id")},[]);return b.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),b.createElement(Se.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":c,id:s.inputId,type:"text",value:i?e.value:p,onChange:f=>{i||o.setState("search",f.target.value),n==null||n(f.target.value)}})}),FF=b.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=b.useRef(null),p=b.useRef(null),a=zl();return b.useEffect(()=>{if(p.current&&o.current){let s=p.current,c=o.current,f,l=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let u=s.offsetHeight;c.style.setProperty("--cmdk-list-height",u.toFixed(1)+"px")})});return l.observe(s),()=>{cancelAnimationFrame(f),l.unobserve(s)}}},[]),b.createElement(Se.div,{ref:vl([o,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:a.listId},of(e,s=>b.createElement("div",{ref:vl([p,a.listInnerRef]),"cmdk-list-sizer":""},s)))}),jF=b.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:p,...a}=e;return b.createElement(Yd,{open:n,onOpenChange:r},b.createElement(Xd,{container:p},b.createElement(Ys,{"cmdk-overlay":"",className:i}),b.createElement(Xs,{"aria-label":e.label,"cmdk-dialog":"",className:o},b.createElement(oE,{ref:t,...a}))))}),IF=b.forwardRef((e,t)=>yo(n=>n.filtered.count===0)?b.createElement(Se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),BF=b.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return b.createElement(Se.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},of(e,p=>b.createElement("div",{"aria-hidden":!0},p)))}),nn=Object.assign(oE,{List:FF,Item:DF,Input:LF,Group:MF,Separator:NF,Dialog:jF,Empty:IF,Loading:BF});function zF(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function VF(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function sE(e){let t=b.useRef(e);return vo(()=>{t.current=e}),t}var vo=typeof window>"u"?b.useEffect:b.useLayoutEffect;function jo(e){let t=b.useRef();return t.current===void 0&&(t.current=e()),t}function vl(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function yo(e){let t=ev(),n=()=>e(t.snapshot());return b.useSyncExternalStore(t.subscribe,n,n)}function aE(e,t,n,r=[]){let i=b.useRef(),o=zl();return vo(()=>{var p;let a=(()=>{var c;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(c=f.current.textContent)==null?void 0:c.trim():i.current}})(),s=r.map(c=>c.trim());o.value(e,a,s),(p=t.current)==null||p.setAttribute(Xi,a),i.current=a}),i}var UF=()=>{let[e,t]=b.useState(),n=jo(()=>new Map);return vo(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function HF(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function of({asChild:e,children:t},n){return e&&b.isValidElement(t)?b.cloneElement(HF(t),{ref:t.ref},n(t.props.children)):n(t)}var WF={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lE=b.forwardRef(({className:e,...t},n)=>_.jsx(nn,{ref:n,className:ye("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));lE.displayName=nn.displayName;const YF=b.forwardRef(({className:e,...t},n)=>_.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[_.jsx(W$,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),_.jsx(nn.Input,{ref:n,className:ye("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));YF.displayName=nn.Input.displayName;const cE=b.forwardRef(({className:e,...t},n)=>_.jsx(nn.List,{ref:n,className:ye("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));cE.displayName=nn.List.displayName;const XF=b.forwardRef((e,t)=>_.jsx(nn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));XF.displayName=nn.Empty.displayName;const uE=b.forwardRef(({className:e,...t},n)=>_.jsx(nn.Group,{ref:n,className:ye("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));uE.displayName=nn.Group.displayName;const GF=b.forwardRef(({className:e,...t},n)=>_.jsx(nn.Separator,{ref:n,className:ye("-mx-1 h-px bg-border",e),...t}));GF.displayName=nn.Separator.displayName;const dE=b.forwardRef(({className:e,...t},n)=>_.jsx(nn.Item,{ref:n,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));dE.displayName=nn.Item.displayName;const fE="Popover",[hE,d8]=Ht(fE,[Ai]),tv=Ai(),[KF,qs]=hE(fE),qF=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:p=!1}=e,a=tv(t),s=b.useRef(null),[c,f]=b.useState(!1),[l=!1,u]=$n({prop:r,defaultProp:i,onChange:o});return b.createElement(Nl,a,b.createElement(KF,{scope:t,contentId:en(),triggerRef:s,open:l,onOpenChange:u,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),hasCustomAnchor:c,onCustomAnchorAdd:b.useCallback(()=>f(!0),[]),onCustomAnchorRemove:b.useCallback(()=>f(!1),[]),modal:p},n))},ZF="PopoverTrigger",QF=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=qs(ZF,n),o=tv(n),p=Te(t,i.triggerRef),a=b.createElement(Se.button,re({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gE(i.open)},r,{ref:p,onClick:pe(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:b.createElement(jd,re({asChild:!0},o),a)}),pE="PopoverPortal",[JF,ej]=hE(pE,{forceMount:void 0}),tj=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=qs(pE,t);return b.createElement(JF,{scope:t,forceMount:n},b.createElement(Ct,{present:n||o.open},b.createElement($l,{asChild:!0,container:i},r)))},yl="PopoverContent",nj=b.forwardRef((e,t)=>{const n=ej(yl,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=qs(yl,e.__scopePopover);return b.createElement(Ct,{present:r||o.open},o.modal?b.createElement(rj,re({},i,{ref:t})):b.createElement(ij,re({},i,{ref:t})))}),rj=b.forwardRef((e,t)=>{const n=qs(yl,e.__scopePopover),r=b.useRef(null),i=Te(t,r),o=b.useRef(!1);return b.useEffect(()=>{const p=r.current;if(p)return Wd(p)},[]),b.createElement(Ll,{as:hr,allowPinchZoom:!0},b.createElement(mE,re({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,p=>{var a;p.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,p=>{const a=p.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0,c=a.button===2||s;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,p=>p.preventDefault(),{checkForDefaultPrevented:!1})})))}),ij=b.forwardRef((e,t)=>{const n=qs(yl,e.__scopePopover),r=b.useRef(!1),i=b.useRef(!1);return b.createElement(mE,re({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var p;if((p=e.onCloseAutoFocus)===null||p===void 0||p.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var p,a;(p=e.onInteractOutside)===null||p===void 0||p.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),mE=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:p,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:c,onInteractOutside:f,...l}=e,u=qs(yl,n),d=tv(n);return Ud(),b.createElement(Vd,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},b.createElement(Bs,{asChild:!0,disableOutsidePointerEvents:p,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:c,onDismiss:()=>u.onOpenChange(!1)},b.createElement(Id,re({"data-state":gE(u.open),role:"dialog",id:u.contentId},d,l,{ref:t,style:{...l.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function gE(e){return e?"open":"closed"}const oj=qF,sj=QF,aj=tj,vE=nj,lj=oj,cj=sj,yE=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>_.jsx(aj,{children:_.jsx(vE,{ref:i,align:t,sideOffset:n,className:ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));yE.displayName=vE.displayName;const aw=[{label:"English",value:"en"},{label:"Español",value:"es"}];function uj(){var p;const[e,t]=sA(a=>[a.language,a.setLanguage]),{i18n:{changeLanguage:n}}=Gd(),[r,i]=Ce.useState(!1),o=a=>{t(a),n(a),i(!1)};return _.jsx("div",{children:_.jsxs(lj,{open:r,onOpenChange:i,children:[_.jsx(cj,{asChild:!0,children:_.jsxs(It,{variant:"outline",role:"combobox",className:"w-[150px] justify-between",children:[e?(p=aw.find(a=>a.value===e))==null?void 0:p.label:"Select language",_.jsx(N$,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),_.jsx(yE,{className:"w-[150px] p-2",children:_.jsx(lE,{children:_.jsx(cE,{children:_.jsx(uE,{heading:"Suggestions",children:aw.map(a=>_.jsxs(dE,{onSelect:()=>o(a.value),children:[_.jsx(A$,{className:`mr-2 h-4 w-4 ${a.value===e?"opacity-100":"opacity-0"}`}),a.label]},a.value))})})})})]})})}const dj=()=>{const[e,t,n,r,i,o,p,a,s,c,f,l,u,d]=We(h=>[h.file,h.customMask,h.isInpainting,h.serverConfig,h.runMannually(),h.settings.enableUploadMask,h.settings.model,h.setFile,h.setCustomFile,h.runInpainting,h.showPrevMask,h.hidePrevMask,h.imageHeight,h.imageWidth]);return _.jsxs("header",{className:"h-[60px] px-6 py-4 absolute top-[0] flex justify-between items-center w-full z-20 border-b backdrop-filter backdrop-blur-md bg-background/70",children:[_.jsx("div",{className:"flex items-center gap-1",children:_.jsx(KS,{disabled:n,tooltip:"Upload image",onFileUpload:h=>{a(h)},children:_.jsx(z$,{})})}),_.jsxs("div",{className:"flex gap-1",children:[_.jsx(uj,{}),_.jsx(y3,{}),_.jsx(xF,{})]})]})};function fj({title:e,titleId:t,...n},r){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?b.createElement("title",{id:t},e):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const hj=b.forwardRef(fj);var _n=function(e,t){return Number(e.toFixed(t))},pj=function(e,t){return t},Qe=function(e,t,n){n&&typeof n=="function"&&n(e,t)},mj=function(e){return-Math.cos(e*Math.PI)/2+.5},gj=function(e){return e},vj=function(e){return e*e},yj=function(e){return e*(2-e)},wj=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},bj=function(e){return e*e*e},xj=function(e){return--e*e*e+1},Sj=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},_j=function(e){return e*e*e*e},Cj=function(e){return 1- --e*e*e*e},Ej=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},Tj=function(e){return e*e*e*e*e},kj=function(e){return 1+--e*e*e*e*e},Pj=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},wE={easeOut:mj,linear:gj,easeInQuad:vj,easeOutQuad:yj,easeInOutQuad:wj,easeInCubic:bj,easeOutCubic:xj,easeInOutCubic:Sj,easeInQuart:_j,easeOutQuart:Cj,easeInOutQuart:Ej,easeInQuint:Tj,easeOutQuint:kj,easeInOutQuint:Pj},bE=function(e){typeof e=="number"&&cancelAnimationFrame(e)},rr=function(e){e.mounted&&(bE(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function xE(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;rr(e),e.animation=function(){if(!e.mounted)return bE(e.animation);var p=new Date().getTime()-i,a=p/n,s=wE[t],c=s(a);p>=n?(r(o),e.animation=null):e.animation&&(r(c),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Oj(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function Mi(e,t,n,r){var i=Oj(t);if(!(!e.mounted||!i)){var o=e.setTransformState,p=e.transformState,a=p.scale,s=p.positionX,c=p.positionY,f=t.scale-a,l=t.positionX-s,u=t.positionY-c;n===0?o(t.scale,t.positionX,t.positionY):xE(e,r,n,function(d){var h=a+f*d,g=s+l*d,m=c+u*d;o(h,g,m)})}}function $j(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,p=t.offsetHeight,a=o*n,s=p*n,c=r-a,f=i-s;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:a,newDiffWidth:c,newContentHeight:s,newDiffHeight:f}}var Rj=function(e,t,n,r,i,o,p){var a=e>t?n*(p?1:.5):0,s=r>i?o*(p?1:.5):0,c=e-t-a,f=a,l=r-i-s,u=s;return{minPositionX:c,maxPositionX:f,minPositionY:l,maxPositionY:u}},nv=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=$j(n,r,t),p=o.wrapperWidth,a=o.wrapperHeight,s=o.newContentWidth,c=o.newDiffWidth,f=o.newContentHeight,l=o.newDiffHeight,u=Rj(p,s,c,a,f,l,!!i);return u},nm=function(e,t,n,r){return r?e<t?_n(t,2):e>n?_n(n,2):_n(e,2):_n(e,2)},Ns=function(e,t){var n=nv(e,t);return e.bounds=n,n};function sf(e,t,n,r,i,o,p){var a=n.minPositionX,s=n.minPositionY,c=n.maxPositionX,f=n.maxPositionY,l=0,u=0;p&&(l=i,u=o);var d=nm(e,a-l,c+l,r),h=nm(t,s-u,f+u,r);return{x:d,y:h}}function af(e,t,n,r,i,o){var p=e.transformState,a=p.scale,s=p.positionX,c=p.positionY,f=r-a;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:s,y:c};var l=s-t*f,u=c-n*f,d=sf(l,u,i,o,0,0,null);return d}function Vl(e,t,n,r,i){var o=i?r:0,p=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=p?p:e}var lw=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,p="shadowRoot"in o&&"composedPath"in t,a=p?t.composedPath().some(function(f){return f instanceof Element?i==null?void 0:i.contains(f):!1}):i==null?void 0:i.contains(o),s=r&&o&&a;if(!s)return!1;var c=lf(o,n);return!c},cw=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},Aj=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,p=t.clientY;e.startCoords={x:o-r,y:p-i}},Dj=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var p=n.length===1;if(p){var a=n[0].clientX,s=n[0].clientY;e.startCoords={x:a-i,y:s-o}}};function Mj(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,p=o.disabled,a=o.limitToBounds,s=o.centerZoomedOut,c=e.wrapperComponent;if(!(p||!c||!e.bounds)){var f=e.bounds,l=f.maxPositionX,u=f.minPositionX,d=f.maxPositionY,h=f.minPositionY,g=n>l||n<u,m=r>d||r<h,v=n>l?c.offsetWidth:e.setup.minPositionX||0,y=r>d?c.offsetHeight:e.setup.minPositionY||0,w=af(e,v,y,i,e.bounds,a||s),x=w.x,S=w.y;return{scale:i,positionX:g?x:n,positionY:m?S:r}}}function SE(e,t,n,r,i){var o=e.setup.limitToBounds,p=e.wrapperComponent,a=e.bounds,s=e.transformState,c=s.scale,f=s.positionX,l=s.positionY;if(!(p===null||a===null||t===f&&n===l)){var u=sf(t,n,a,o,r,i,p),d=u.x,h=u.y;e.setTransformState(c,d,h)}}var Nj=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,p=o.lockAxisX,a=o.lockAxisY,s=i.positionX,c=i.positionY;if(!r)return{x:s,y:c};var f=t-r.x,l=n-r.y,u=p?s:f,d=a?c:l;return{x:u,y:d}},Ls=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,p=n.disablePadding;return t>0&&i>=o&&!p?t:0},Lj=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,p=i.disabled,a=!p||o>1||!r||t;return!!a},Fj=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,p=i.velocityAnimation,a=e.transformState.scale,s=p.disabled,c=!s||a>1||!o||t;return!(!c||!n||!r)};function jj(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function uw(e,t,n,r,i,o,p,a,s,c){if(i){if(t>p&&n>p){var f=p+(e-p)*c;return f>s?s:f<p?p:f}if(t<o&&n<o){var f=o+(e-o)*c;return f<a?a:f>o?o:f}}return r?t:nm(e,o,p,i)}function Ij(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function Bj(e,t){var n=Lj(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,p=e.wrapperComponent,a=o.velocityAnimation.equalToMove,s=Date.now();if(r&&i&&p){var c=Ij(p,a),f=t.x-r.x,l=t.y-r.y,u=f/c,d=l/c,h=s-i,g=f*f+l*l,m=Math.sqrt(g)/h;e.velocity={velocityX:u,velocityY:d,total:m}}e.lastMousePosition=t,e.velocityTime=s}}function zj(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=Fj(e);if(!(!o||!t||!n||!i)){var p=t.velocityX,a=t.velocityY,s=t.total,c=n.maxPositionX,f=n.minPositionX,l=n.maxPositionY,u=n.minPositionY,d=r.limitToBounds,h=r.alignmentAnimation,g=r.zoomAnimation,m=r.panning,v=m.lockAxisY,y=m.lockAxisX,w=g.animationType,x=h.sizeX,S=h.sizeY,C=h.velocityAlignmentTime,E=C,k=jj(e,s),L=Math.max(k,E),B=Ls(e,x),G=Ls(e,S),z=B*i.offsetWidth/100,Q=G*i.offsetHeight/100,I=c+z,M=f-z,N=l+Q,q=u-Q,H=e.transformState,T=new Date().getTime();xE(e,w,L,function($){var R=e.transformState,O=R.scale,V=R.positionX,D=R.positionY,P=new Date().getTime()-T,F=P/E,j=wE[h.animationType],X=1-j(Math.min(1,F)),Y=1-$,J=V+p*Y,te=D+a*Y,ce=uw(J,H.positionX,V,y,d,f,c,M,I,X),ee=uw(te,H.positionY,D,v,d,u,l,q,N,X);(V!==J||D!==te)&&e.setTransformState(O,ce,ee)})}}function dw(e,t){var n=e.transformState.scale;rr(e),Ns(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?Dj(e,t):Aj(e,t)}function _E(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,i=n.alignmentAnimation,o=i.disabled,p=i.sizeX,a=i.sizeY,s=i.animationTime,c=i.animationType,f=o||t<r||!p&&!a;if(!f){var l=Mj(e);l&&Mi(e,l,s,c)}}function fw(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,p=o.sizeX,a=o.sizeY;if(r){var s=Nj(e,t,n),c=s.x,f=s.y,l=Ls(e,p),u=Ls(e,a);Bj(e,{x:c,y:f}),SE(e,c,f,l,u)}}function Vj(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r==null?void 0:r.getBoundingClientRect(),p=i==null?void 0:i.getBoundingClientRect(),a=(o==null?void 0:o.width)||0,s=(o==null?void 0:o.height)||0,c=(p==null?void 0:p.width)||0,f=(p==null?void 0:p.height)||0,l=a<c||s<f,u=!t&&n&&(n==null?void 0:n.total)>.1&&l;u?zj(e):_E(e)}}function rv(e,t,n,r){var i=e.setup,o=i.minScale,p=i.maxScale,a=i.limitToBounds,s=Vl(_n(t,2),o,p,0,!1),c=Ns(e,s),f=af(e,n,r,s,c,a),l=f.x,u=f.y;return{scale:s,positionX:l,positionY:u}}function CE(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,p=o.minScale,a=o.limitToBounds,s=o.zoomAnimation,c=s.disabled,f=s.animationTime,l=s.animationType,u=c||r>=p;if((r>=1||a)&&_E(e),!(u||!i||!e.mounted)){var d=t||i.offsetWidth/2,h=n||i.offsetHeight/2,g=rv(e,p,d,h);g&&Mi(e,g,f,l)}}var xi=function(){return xi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},xi.apply(this,arguments)};function hw(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Cc={previousScale:1,scale:1,positionX:0,positionY:0},fa={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},EE=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:Cc.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:Cc.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:Cc.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:Cc.positionY}},pw=function(e){var t=xi({},fa);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof fa[n]<"u";if(i&&r){var o=Object.prototype.toString.call(fa[n]),p=o==="[object Object]",a=o==="[object Array]";p?t[n]=xi(xi({},fa[n]),e[n]):a?t[n]=hw(hw([],fa[n],!0),e[n]):t[n]=e[n]}}),t},TE=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,p=o.maxScale,a=o.minScale,s=o.zoomAnimation,c=o.smooth,f=s.size;if(!i)throw new Error("Wrapper is not mounted");var l=c?r*Math.exp(t*n):r+t*n,u=Vl(_n(l,3),a,p,f,!1);return u};function kE(e,t,n,r,i){var o=e.wrapperComponent,p=e.transformState,a=p.scale,s=p.positionX,c=p.positionY;if(!o)return console.error("No WrapperComponent found");var f=o.offsetWidth,l=o.offsetHeight,u=(f/2-s)/a,d=(l/2-c)/a,h=TE(e,t,n),g=rv(e,h,u,d);if(!g)return console.error("Error during zoom event. New transformation state was not calculated.");Mi(e,g,r,i)}function PE(e,t,n,r){var i=e.setup,o=e.wrapperComponent,p=i.limitToBounds,a=EE(e.props),s=e.transformState,c=s.scale,f=s.positionX,l=s.positionY;if(o){var u=nv(e,a.scale),d=sf(a.positionX,a.positionY,u,p,0,0,o),h={scale:a.scale,positionX:d.x,positionY:d.y};c===a.scale&&f===a.positionX&&l===a.positionY||(r==null||r(),Mi(e,h,t,n))}}function Uj(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),p=n.getBoundingClientRect(),a=o.x*r.scale,s=o.y*r.scale;return{x:(i.x-p.x+a)/r.scale,y:(i.y-p.y+s)/r.scale}}function Hj(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,p=e.setup,a=p.limitToBounds,s=p.minScale,c=p.maxScale;if(!r||!i)return o;var f=r.getBoundingClientRect(),l=t.getBoundingClientRect(),u=Uj(t,r,i,o),d=u.x,h=u.y,g=l.width/o.scale,m=l.height/o.scale,v=r.offsetWidth/g,y=r.offsetHeight/m,w=Vl(n||Math.min(v,y),s,c,0,!1),x=(f.width-g*w)/2,S=(f.height-m*w)/2,C=(f.left-d)*w+x,E=(f.top-h)*w+S,k=nv(e,w),L=sf(C,E,k,a,0,0,r),B=L.x,G=L.y;return{positionX:B,positionY:G,scale:w}}var Wj=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),kE(e,1,t,n,r)}},Yj=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),kE(e,-1,t,n,r)}},Xj=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var p=e.transformState,a=p.positionX,s=p.positionY,c=p.scale,f=e.wrapperComponent,l=e.contentComponent,u=e.setup.disabled;if(!(u||!f||!l)){var d={positionX:Number.isNaN(t)?a:t,positionY:Number.isNaN(n)?s:n,scale:Number.isNaN(r)?c:r};Mi(e,d,i,o)}}},Gj=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),PE(e,t,n)}},Kj=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,p=e.contentComponent;if(o&&p){var a=OE(t||i.scale,o,p);Mi(e,a,n,r)}}},qj=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),rr(e);var o=e.wrapperComponent,p=typeof t=="string"?document.getElementById(t):t;if(o&&p&&o.contains(p)){var a=Hj(e,p,n);Mi(e,a,r,i)}}},rm=function(e){return{instance:e,zoomIn:Wj(e),zoomOut:Yj(e),setTransform:Xj(e),resetTransform:Gj(e),centerView:Kj(e),zoomToElement:qj(e)}},Zj=function(e){return{instance:e,state:e.transformState}},Ue=function(e){var t={};return Object.assign(t,Zj(e)),Object.assign(t,rm(e)),t},yh=!1;function wh(){try{var e={get passive(){return yh=!0,!1}};return e}catch{return yh=!1,yh}}var lf=function(e,t){return t.some(function(n){return e.matches("".concat(n,", .").concat(n,", ").concat(n," *, .").concat(n," *"))})},im=function(e){e&&clearTimeout(e)},Qj=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},OE=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,p=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:p}};function Jj(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var eI=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,p=n.excluded,a=e.isInitialized,s=e.isPanning,c=t.target,f=a&&!s&&!r&&c;if(!f||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var l=lf(c,p);return!l},tI=function(e){return e?e.deltaY<0?1:-1:0};function nI(e,t){var n=tI(e),r=pj(t,n);return r}function $E(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var p=e.touches[0];i=(p.clientX-r.left)/n,o=(p.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var rI=function(e,t,n,r,i){var o=e.transformState.scale,p=e.wrapperComponent,a=e.setup,s=a.maxScale,c=a.minScale,f=a.zoomAnimation,l=a.disablePadding,u=f.size,d=f.disabled;if(!p)throw new Error("Wrapper is not mounted");var h=o+t*n,g=r?!1:!d,m=Vl(_n(h,3),c,s,u,g&&!l);return m},iI=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,p=i.minScale;return n?r<o||r>p||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},oI=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,p=t.target,a=o&&!r&&p;if(!a)return!1;var s=lf(p,i);return!s},sI=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},aI=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=_n(i[0].clientX-r.left,5),p=_n(i[0].clientY-r.top,5),a=_n(i[1].clientX-r.left,5),s=_n(i[1].clientY-r.top,5);return{x:(o+a)/2/t,y:(p+s)/2/t}},RE=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},lI=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,p=i.minScale,a=i.zoomAnimation,s=i.disablePadding,c=a.size,f=a.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var l=t/r,u=l*n;return Vl(_n(u,2),p,o,c,!f&&!s)},cI=160,uI=100,dI=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(rr(e),Qe(Ue(e),t,r),Qe(Ue(e),t,i))},fI=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,p=e.setup,a=e.transformState,s=a.scale,c=p.limitToBounds,f=p.centerZoomedOut,l=p.zoomAnimation,u=p.wheel,d=p.disablePadding,h=p.smooth,g=l.size,m=l.disabled,v=u.step,y=u.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var w=nI(t,null),x=h?y*Math.abs(t.deltaY):v,S=rI(e,w,x,!t.ctrlKey);if(s!==S){var C=Ns(e,S),E=$E(t,o,s),k=m||g===0||f||d,L=c&&k,B=af(e,E.x,E.y,S,C,L),G=B.x,z=B.y;e.previousWheelEvent=t,e.setTransformState(S,G,z),Qe(Ue(e),t,r),Qe(Ue(e),t,i)}},hI=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;im(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(CE(e,t.x,t.y),e.wheelAnimationTimer=null)},uI);var o=iI(e,t);o&&(im(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Qe(Ue(e),t,r),Qe(Ue(e),t,i))},cI))},pI=function(e,t){var n=RE(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,rr(e)},mI=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.transformState.scale,o=e.setup,p=o.limitToBounds,a=o.centerZoomedOut,s=o.zoomAnimation,c=s.disabled,f=s.size;if(!(r===null||!n)){var l=aI(t,i,n);if(!(!Number.isFinite(l.x)||!Number.isFinite(l.y))){var u=RE(t),d=lI(e,u);if(d!==i){var h=Ns(e,d),g=c||f===0||a,m=p&&g,v=af(e,l.x,l.y,d,h,m),y=v.x,w=v.y;e.pinchMidpoint=l,e.lastDistance=u,e.setTransformState(d,y,w)}}}},gI=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,CE(e,t==null?void 0:t.x,t==null?void 0:t.y)},AE=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;im(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Qe(Ue(e),t,n)},r)},vI=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,p=o.animationTime,a=o.animationType;Qe(Ue(e),t,r),PE(e,p,a,function(){return Qe(Ue(e),t,i)}),AE(e,t)};function yI(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function wI(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,p=i.scale,a=e.props,s=a.onZoomStart,c=a.onZoom,f=n.doubleClick,l=f.disabled,u=f.mode,d=f.step,h=f.animationTime,g=f.animationType;if(!l&&!r){if(u==="reset")return vI(e,t);if(!o)return console.error("No ContentComponent found");var m=yI(u,e.transformState.scale),v=TE(e,m,d);if(p!==v){Qe(Ue(e),t,s);var y=$E(t,o,p),w=rv(e,v,y.x,y.y);if(!w)return console.error("Error during zoom event. New transformation state was not calculated.");Qe(Ue(e),t,c),Mi(e,w,h,g),AE(e,t)}}}var bI=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,p=o.disabled,a=o.excluded,s=t.target,c=i==null?void 0:i.contains(s),f=n&&s&&c&&!p;if(!f)return!1;var l=lf(s,a);return!l},xI=function(){function e(t){var n=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Ns(n,n.transformState.scale),n.setup=pw(r)},this.initializeWindowEvents=function(){var r,i,o=wh(),p=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=p==null?void 0:p.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),a==null||a.addEventListener("mousedown",n.onPanningStart,o),a==null||a.addEventListener("mousemove",n.onPanning,o),a==null||a.addEventListener("mouseup",n.onPanningStop,o),p==null||p.addEventListener("mouseleave",n.clearPanning,o),a==null||a.addEventListener("keyup",n.setKeyUnPressed,o),a==null||a.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=wh(),p=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,a=p==null?void 0:p.defaultView;a==null||a.removeEventListener("mousedown",n.onPanningStart,o),a==null||a.removeEventListener("mousemove",n.onPanning,o),a==null||a.removeEventListener("mouseup",n.onPanningStop,o),p==null||p.removeEventListener("mouseleave",n.clearPanning,o),a==null||a.removeEventListener("keyup",n.setKeyUnPressed,o),a==null||a.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),rr(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=wh();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r){var i=n.setup.centerOnInit;n.applyTransformation(),n.onInitCallbacks.forEach(function(o){return o(Ue(n))}),i&&(n.setCenter(),n.observer=new ResizeObserver(function(){var o,p=r.offsetWidth,a=r.offsetHeight;(p>0||a>0)&&(n.onInitCallbacks.forEach(function(s){return s(Ue(n))}),n.setCenter(),(o=n.observer)===null||o===void 0||o.disconnect())}),setTimeout(function(){var o;(o=n.observer)===null||o===void 0||o.disconnect()},5e3),n.observer.observe(r))},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=eI(n,r);if(o){var p=n.isPressingKeys(n.setup.wheel.activationKeys);p&&(dI(n,r),fI(n,r),hI(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,p=i.wheel,a=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!p.wheelDisabled||a.disabled||!a.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var s=n.transformState,c=s.positionX,f=s.positionY,l=c-r.deltaX,u=f-r.deltaY,d=a.lockAxisX?c:l,h=a.lockAxisY?f:u,g=n.setup.alignmentAnimation,m=g.sizeX,v=g.sizeY,y=Ls(n,m),w=Ls(n,v);d===c&&h===f||SE(n,d,h,y,w)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var p=lw(n,r);if(p){var a=n.isPressingKeys(n.setup.panning.activationKeys);a&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),rr(n),dw(n,r),Qe(Ue(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var p=cw(n);if(p){var a=n.isPressingKeys(n.setup.panning.activationKeys);a&&(r.preventDefault(),r.stopPropagation(),fw(n,r.clientX,r.clientY),Qe(Ue(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(Vj(n),Qe(Ue(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,p=o.onPinchingStart,a=o.onZoomStart;if(!i){var s=oI(n,r);s&&(pI(n,r),rr(n),Qe(Ue(n),r,p),Qe(Ue(n),r,a))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,p=o.onPinching,a=o.onZoom;if(!i){var s=sI(n);s&&(r.preventDefault(),r.stopPropagation(),mI(n,r),Qe(Ue(n),r,p),Qe(Ue(n),r,a))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,p=i.onZoomStop;n.pinchStartScale&&(gI(n),Qe(Ue(n),r,o),Qe(Ue(n),r,p))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var p=lw(n,r);if(p){var a=n.lastTouch&&+new Date-n.lastTouch<200;if(a&&r.touches.length===1)n.onDoubleClick(r);else{n.lastTouch=+new Date,rr(n);var s=r.touches,c=s.length===1,f=s.length===2;c&&(rr(n),dw(n,r),Qe(Ue(n),r,o)),f&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var p=cw(n);if(!p)return;r.preventDefault(),r.stopPropagation();var a=r.touches[0];fw(n,a.clientX,a.clientY),Qe(Ue(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=bI(n,r);o&&wI(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var p=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var a=Ue(n);n.onChangeCallbacks.forEach(function(s){return s(a)}),Qe(a,{scale:r,positionX:i,positionY:o},p)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=OE(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):Qj(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,p=r.positionY,a=n.handleTransformStyles(o,p,i);n.contentComponent.style.transform=a}},this.getContext=function(){return Ue(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,Ns(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(i),n.initializeWindowEvents(),n.isInitialized=!0;var o=Ue(n);Qe(o,void 0,n.props.onInit)},this.props=t,this.setup=pw(this.props),this.transformState=EE(this.props)}return e}(),iv=Ce.createContext(null),SI=function(e,t){return typeof e=="function"?e(t):e},_I=Ce.forwardRef(function(e,t){var n=b.useRef(new xI(e)).current,r=SI(e.children,rm(n));return b.useImperativeHandle(t,function(){return rm(n)},[n]),b.useEffect(function(){n.update(e)},[n,e]),Ce.createElement(iv.Provider,{value:n},r)});Ce.forwardRef(function(e,t){var n=b.useRef(null),r=b.useContext(iv);return b.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,p=0;n.current.style.transform=r.handleTransformStyles(o,p,1/i.instance.transformState.scale)}})},[r]),Ce.createElement("div",xi({},e,{ref:Jj([n,t])}))});function CI(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var EI=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,mw={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};CI(EI);var TI=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,p=e.wrapperStyle,a=e.contentStyle,s=e.wrapperProps,c=s===void 0?{}:s,f=e.contentProps,l=f===void 0?{}:f,u=b.useContext(iv),d=u.init,h=u.cleanupWindowEvents,g=b.useRef(null),m=b.useRef(null);return b.useEffect(function(){var v=g.current,y=m.current;return v!==null&&y!==null&&d&&(d==null||d(v,y)),function(){h==null||h()}},[]),Ce.createElement("div",xi({},c,{ref:g,className:"react-transform-wrapper ".concat(mw.wrapper," ").concat(r),style:p}),Ce.createElement("div",xi({},l,{ref:m,className:"react-transform-component ".concat(mw.content," ").concat(o),style:a}),t))};function kI(){var e=b.useRef(!0);return e.current?(e.current=!1,!0):e.current}var PI=function(e,t){var n=kI();b.useEffect(function(){if(!n)return e()},t)},OI=function(){};function ov(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function sv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var Zc=typeof window<"u",$I=function(e,t){return typeof t=="boolean"?t:!e},RI=function(e){return b.useReducer($I,e)},AI=["mousedown","touchstart"],DI=function(e,t,n){n===void 0&&(n=AI);var r=b.useRef(t);b.useEffect(function(){r.current=t},[t]),b.useEffect(function(){for(var i=function(s){var c=e.current;c&&!c.contains(s.target)&&r.current(s)},o=0,p=n;o<p.length;o++){var a=p[o];ov(document,a,i)}return function(){for(var s=0,c=n;s<c.length;s++){var f=c[s];sv(document,f,i)}}},[n,e])},MI=function(e){b.useEffect(e,[])},NI=Zc?window:null,gw=function(e){return!!e.addEventListener},vw=function(e){return!!e.on},LI=function(e,t,n,r){n===void 0&&(n=NI),b.useEffect(function(){if(t&&n)return gw(n)?ov(n,e,t,r):vw(n)&&n.on(e,t,r),function(){gw(n)?sv(n,e,t,r):vw(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},FI=function(e){return typeof e=="function"?e:typeof e=="string"?function(t){return t.key===e}:e?function(){return!0}:function(){return!1}},yw=function(e,t,n,r){t===void 0&&(t=OI),n===void 0&&(n={}),r===void 0&&(r=[e]);var i=n.event,o=i===void 0?"keydown":i,p=n.target,a=n.options,s=b.useMemo(function(){var c=FI(e),f=function(l){if(c(l))return t(l)};return f},r);LI(o,s,p,a)},jI=function(e){var t=b.useState([!1,null]),n=t[0],r=t[1];return yw(e,function(i){return r([!0,i])},{event:"keydown"},[n]),yw(e,function(i){return r([!1,i])},{event:"keyup"},[n]),n},bh=function(e,t,n,r){r===void 0&&(r=jI);var i=r(e),o=i[0],p=i[1];PI(function(){!o&&n?n(p):o&&t&&t(p)},[o])},II=function(e){var t=b.useRef(e);t.current=e,MI(function(){return function(){return t.current()}})},BI=function(e){var t=b.useRef(0),n=b.useState(e),r=n[0],i=n[1],o=b.useCallback(function(p){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(p)})},[]);return II(function(){cancelAnimationFrame(t.current)}),[r,o]},zI=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=BI({width:Zc?window.innerWidth:e,height:Zc?window.innerHeight:t}),r=n[0],i=n[1];return b.useEffect(function(){if(Zc){var o=function(){i({width:window.innerWidth,height:window.innerHeight})};return ov(window,"resize",o),function(){sv(window,"resize",o)}}},[]),r};function DE(e){const[t]=b.useState(new Image),[n,r]=b.useState(!1);return b.useEffect(()=>{if(e)return t.onload=()=>{r(!0)},r(!1),t.src=URL.createObjectURL(e),()=>{t.onload=null}},[e,t]),[t,n]}const ME=["PageUp","PageDown"],NE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ul="Slider",[om,VI,UI]=Ol(Ul),[FE,f8]=Ht(Ul,[UI]),[HI,cf]=FE(Ul),WI=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:p="horizontal",disabled:a=!1,minStepsBetweenThumbs:s=0,defaultValue:c=[r],value:f,onValueChange:l=()=>{},onValueCommit:u=()=>{},inverted:d=!1,...h}=e,[g,m]=b.useState(null),v=Te(t,I=>m(I)),y=b.useRef(new Set),w=b.useRef(0),x=p==="horizontal",S=g?!!g.closest("form"):!0,C=x?YI:XI,[E=[],k]=$n({prop:f,defaultProp:c,onChange:I=>{var M;(M=[...y.current][w.current])===null||M===void 0||M.focus(),l(I)}}),L=b.useRef(E);function B(I){const M=n4(E,I);Q(I,M)}function G(I){Q(I,w.current)}function z(){const I=L.current[w.current];E[w.current]!==I&&u(E)}function Q(I,M,{commit:N}={commit:!1}){const q=s4(o),H=a4(Math.round((I-r)/o)*o+r,q),T=gl(H,[r,i]);k(($=[])=>{const R=e4($,T,M);if(o4(R,s*o)){w.current=R.indexOf(T);const O=String(R)!==String($);return O&&N&&u(R),O?R:$}else return $})}return b.createElement(HI,{scope:e.__scopeSlider,disabled:a,min:r,max:i,valueIndexToChangeRef:w,thumbs:y.current,values:E,orientation:p},b.createElement(om.Provider,{scope:e.__scopeSlider},b.createElement(om.Slot,{scope:e.__scopeSlider},b.createElement(C,re({"aria-disabled":a,"data-disabled":a?"":void 0},h,{ref:v,onPointerDown:pe(h.onPointerDown,()=>{a||(L.current=E)}),min:r,max:i,inverted:d,onSlideStart:a?void 0:B,onSlideMove:a?void 0:G,onSlideEnd:a?void 0:z,onHomeKeyDown:()=>!a&&Q(r,0,{commit:!0}),onEndKeyDown:()=>!a&&Q(i,E.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:M})=>{if(!a){const H=ME.includes(I.key)||I.shiftKey&&NE.includes(I.key)?10:1,T=w.current,$=E[T],R=o*H*M;Q($+R,T,{commit:!0})}}})))),S&&E.map((I,M)=>b.createElement(JI,{key:M,name:n?n+(E.length>1?"[]":""):void 0,value:I})))}),[jE,IE]=FE(Ul,{startEdge:"left",endEdge:"right",size:"width",direction:1}),YI=b.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:p,onSlideMove:a,onSlideEnd:s,onStepKeyDown:c,...f}=e,[l,u]=b.useState(null),d=Te(t,w=>u(w)),h=b.useRef(),g=Gs(i),m=g==="ltr",v=m&&!o||!m&&o;function y(w){const x=h.current||l.getBoundingClientRect(),S=[0,x.width],E=av(S,v?[n,r]:[r,n]);return h.current=x,E(w-x.left)}return b.createElement(jE,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width"},b.createElement(BE,re({dir:g,"data-orientation":"horizontal"},f,{ref:d,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const x=y(w.clientX);p==null||p(x)},onSlideMove:w=>{const x=y(w.clientX);a==null||a(x)},onSlideEnd:()=>{h.current=void 0,s==null||s()},onStepKeyDown:w=>{const S=LE[v?"from-left":"from-right"].includes(w.key);c==null||c({event:w,direction:S?-1:1})}})))}),XI=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:p,onSlideEnd:a,onStepKeyDown:s,...c}=e,f=b.useRef(null),l=Te(t,f),u=b.useRef(),d=!i;function h(g){const m=u.current||f.current.getBoundingClientRect(),v=[0,m.height],w=av(v,d?[r,n]:[n,r]);return u.current=m,w(g-m.top)}return b.createElement(jE,{scope:e.__scopeSlider,startEdge:d?"bottom":"top",endEdge:d?"top":"bottom",size:"height",direction:d?1:-1},b.createElement(BE,re({"data-orientation":"vertical"},c,{ref:l,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=h(g.clientY);o==null||o(m)},onSlideMove:g=>{const m=h(g.clientY);p==null||p(m)},onSlideEnd:()=>{u.current=void 0,a==null||a()},onStepKeyDown:g=>{const v=LE[d?"from-bottom":"from-top"].includes(g.key);s==null||s({event:g,direction:v?-1:1})}})))}),BE=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:p,onEndKeyDown:a,onStepKeyDown:s,...c}=e,f=cf(Ul,n);return b.createElement(Se.span,re({},c,{ref:t,onKeyDown:pe(e.onKeyDown,l=>{l.key==="Home"?(p(l),l.preventDefault()):l.key==="End"?(a(l),l.preventDefault()):ME.concat(NE).includes(l.key)&&(s(l),l.preventDefault())}),onPointerDown:pe(e.onPointerDown,l=>{const u=l.target;u.setPointerCapture(l.pointerId),l.preventDefault(),f.thumbs.has(u)?u.focus():r(l)}),onPointerMove:pe(e.onPointerMove,l=>{l.target.hasPointerCapture(l.pointerId)&&i(l)}),onPointerUp:pe(e.onPointerUp,l=>{const u=l.target;u.hasPointerCapture(l.pointerId)&&(u.releasePointerCapture(l.pointerId),o(l))})}))}),GI="SliderTrack",KI=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=cf(GI,n);return b.createElement(Se.span,re({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:t}))}),ww="SliderRange",qI=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=cf(ww,n),o=IE(ww,n),p=b.useRef(null),a=Te(t,p),s=i.values.length,c=i.values.map(u=>zE(u,i.min,i.max)),f=s>1?Math.min(...c):0,l=100-Math.max(...c);return b.createElement(Se.span,re({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:a,style:{...e.style,[o.startEdge]:f+"%",[o.endEdge]:l+"%"}}))}),bw="SliderThumb",ZI=b.forwardRef((e,t)=>{const n=VI(e.__scopeSlider),[r,i]=b.useState(null),o=Te(t,a=>i(a)),p=b.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return b.createElement(QI,re({},e,{ref:o,index:p}))}),QI=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...i}=e,o=cf(bw,n),p=IE(bw,n),[a,s]=b.useState(null),c=Te(t,m=>s(m)),f=Pg(a),l=o.values[r],u=l===void 0?0:zE(l,o.min,o.max),d=t4(r,o.values.length),h=f==null?void 0:f[p.size],g=h?r4(h,u,p.direction):0;return b.useEffect(()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}},[a,o.thumbs]),b.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[p.startEdge]:`calc(${u}% + ${g}px)`}},b.createElement(om.ItemSlot,{scope:e.__scopeSlider},b.createElement(Se.span,re({role:"slider","aria-label":e["aria-label"]||d,"aria-valuemin":o.min,"aria-valuenow":l,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i,{ref:c,style:l===void 0?{display:"none"}:e.style,onFocus:pe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),JI=e=>{const{value:t,...n}=e,r=b.useRef(null),i=Yg(t);return b.useEffect(()=>{const o=r.current,p=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(p,"value").set;if(i!==t&&s){const c=new Event("input",{bubbles:!0});s.call(o,t),o.dispatchEvent(c)}},[i,t]),b.createElement("input",re({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function e4(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function zE(e,t,n){const o=100/(n-t)*(e-t);return gl(o,[0,100])}function t4(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function n4(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function r4(e,t,n){const r=e/2,o=av([0,50],[0,r]);return(r-o(t)*n)*n}function i4(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function o4(e,t){if(t>0){const n=i4(e);return Math.min(...n)>=t}return!0}function av(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function s4(e){return(String(e).split(".")[1]||"").length}function a4(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const VE=WI,l4=KI,c4=qI,u4=ZI,jn=b.forwardRef(({className:e,...t},n)=>_.jsxs(VE,{ref:n,className:ye("relative flex w-full touch-none select-none items-center",e),tabIndex:-1,...t,children:[_.jsx(l4,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20 data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50",children:_.jsx(c4,{className:"absolute h-full bg-primary data-[disabled]:cursor-not-allowed "})}),_.jsx(u4,{tabIndex:-1,className:"block h-4 w-4 rounded-full border border-primary/60 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring data-[disabled]:cursor-not-allowed"})]}));jn.displayName=VE.displayName;const Do={capture:!0,passive:!1},d4=2,xw=(e,t,n,r,i,o)=>{if(e!==n&&t===r){if(e<0)return[0,r];if(e+t>o)return[o-r,r]}else{if(t<i)return e===n?[e,i]:[e+t-i,i];if(e<0)return[0,e+t];if(e+t>o)return[e,o-e]}return[e,t]},f4=e=>{const{minHeight:t,minWidth:n,maxHeight:r,maxWidth:i,scale:o,show:p}=e,[a,s,c,f,{x:l,y:u,width:d,height:h},g,m,v,y,w,x]=We($=>[$.imageWidth,$.imageHeight,$.isInpainting,$.isSD(),$.cropperState,$.setCropperX,$.setCropperY,$.setCropperWidth,$.setCropperHeight,$.isCropperExtenderResizing,$.setIsCropperExtenderResizing]),[S,C]=b.useState(!1);b.useEffect(()=>{g(Math.round((i-512)/2)),m(Math.round((r-512)/2))},[r,i,a,s]);const[E,k]=b.useState({initX:0,initY:0,initHeight:0,initWidth:0,startResizeX:0,startResizeY:0,ord:"top"}),L=()=>{},B=($,R)=>xw($,R,l,d,n,i),G=($,R)=>xw($,R,u,h,t,r),z=$=>{if(c)return;const R=$.clientX,O=$.clientY,V=Math.round((O-E.startResizeY)/o),D=Math.round((R-E.startResizeX)/o),P=()=>{const Y=E.initHeight-V,J=E.initY+V,[te,ce]=G(J,Y);y(ce),m(te)},F=()=>{const Y=E.initHeight+V,[J,te]=G(E.initY,Y);y(te),m(J)},j=()=>{const Y=E.initWidth-D,J=E.initX+D,[te,ce]=B(J,Y);v(ce),g(te)},X=()=>{const Y=E.initWidth+D,[J,te]=B(E.initX,Y);v(te),g(J)};if(w)switch(E.ord){case"topleft":{P(),j();break}case"topright":{P(),X();break}case"bottomleft":{F(),j();break}case"bottomright":{F(),X();break}case"top":{P();break}case"right":{X();break}case"bottom":{F();break}case"left":{j();break}}if(S){const Y=E.initX+D,J=E.initY+V,[te,ce]=B(Y,E.initWidth),[ee,K]=G(J,E.initHeight);v(ce),y(K),g(te),m(ee)}},Q=()=>{w&&x(!1),S&&C(!1)};b.useEffect(()=>{if(w||S)return document.addEventListener("pointermove",z,Do),document.addEventListener("pointerup",Q,Do),document.addEventListener("pointercancel",Q,Do),()=>{document.removeEventListener("pointermove",z,Do),document.removeEventListener("pointerup",Q,Do),document.removeEventListener("pointercancel",Q,Do)}},[w,S,d,h,E]);const I=$=>{const{ord:R}=$.target.dataset;R&&(x(!0),k({initX:l,initY:u,initHeight:h,initWidth:d,startResizeX:$.clientX,startResizeY:$.clientY,ord:R}))},M=($,R,O)=>{const P="w-[12px] h-[12px] z-[4] absolute content-[''] block border-2 border-primary borde pointer-events-auto hover:bg-primary";let F="0",j="0",X=O,Y="-6px";return O===""&&(Y="50%",R==="left"||R==="right"?(X="top",j="-50%"):(X="left",F="-50%")),_.jsx("div",{className:ye(P,$),style:{[R]:-6,[X]:Y,transform:`translate(${F}, ${j}) scale(${1/o})`},"data-ord":R+O,"aria-label":R+O,tabIndex:-1,role:"button"})},N=()=>_.jsxs("div",{onFocus:L,onPointerDown:I,className:"absolute top-0 h-full w-full",children:[_.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 w-full cursor-ns-resize h-[12px] mt-[-6px]","data-ord":"top"}),_.jsx("div",{className:"absolute pointer-events-auto top-0 right-0 h-full cursor-ew-resize w-[12px] mr-[-6px]","data-ord":"right"}),_.jsx("div",{className:"absolute pointer-events-auto bottom-0 left-0 w-full cursor-ns-resize h-[12px] mb-[-6px]","data-ord":"bottom"}),_.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 h-full cursor-ew-resize w-[12px] ml-[-6px]","data-ord":"left"}),M("cursor-nw-resize","top","left"),M("cursor-ne-resize","top","right"),M("cursor-sw-resize","bottom","left"),M("cursor-se-resize","bottom","right"),M("cursor-ns-resize","top",""),M("cursor-ns-resize","bottom",""),M("cursor-ew-resize","left",""),M("cursor-ew-resize","right","")]}),q=$=>{C(!0),k({initX:l,initY:u,initHeight:h,initWidth:d,startResizeX:$.clientX,startResizeY:$.clientY,ord:""})},H=()=>_.jsxs("div",{className:ug("border absolute pointer-events-auto px-2 py-1 rounded-full hover:cursor-move bg-background","origin-top-left top-0 left-0"),style:{transform:`scale(${1/o*.8})`},onPointerDown:q,children:[d," x ",h]}),T=()=>_.jsx("div",{className:"outline-dashed outline-primary",style:{height:h,width:d,outlineWidth:`${d4/o*1.3}px`}});return p===!1||!f?null:_.jsx("div",{className:"absolute h-full w-full overflow-hidden pointer-events-none z-[2]",children:_.jsxs("div",{className:"relative pointer-events-none z-[2] [box-shadow:0_0_0_9999px_rgba(0,_0,_0,_0.5)]",style:{height:h,width:d,left:l,top:u},children:[T(),H(),N()]})})},h4=e=>{const{x:t,y:n,positive:r}=e,i=r?"bg-[rgba(21,_215,_121,_0.936)] outline-[rgba(98,255,179,0.31)]":"bg-[rgba(237,_49,_55,_0.942)] outline-[rgba(255,89,95,0.31)]";return _.jsx("div",{className:`absolute h-[10px] w-[10px] rounded-[50%] ${i} outline-8 outline`,style:{left:t,top:n,transform:"translate(-50%, -50%)"}})},p4=()=>{const e=We(t=>t.interactiveSegState.clicks);return _.jsx("div",{className:"absolute h-full w-full overflow-hidden pointer-events-none",children:e.map(t=>_.jsx(h4,{x:t[0],y:t[1],positive:t[2]===1},t[3]))})},Mo={capture:!0,passive:!1},m4=2,Sw=(e,t,n,r)=>t<r?e===n?[e,r]:[e+t-r,r]:[e,t],g4=e=>{const{minHeight:t,minWidth:n,scale:r,show:i}=e,[o,p,a,s,{x:c,y:f,width:l,height:u},d,h,g,m,v,y,w]=We(q=>[q.isInpainting,q.imageHeight,q.imageWidth,q.isSD(),q.extenderState,q.setExtenderX,q.setExtenderY,q.setExtenderWidth,q.setExtenderHeight,q.settings.extenderDirection,q.isCropperExtenderResizing,q.setIsCropperExtenderResizing]),[x,S]=b.useState({initX:0,initY:0,initHeight:0,initWidth:0,startResizeX:0,startResizeY:0,ord:"top"}),C=()=>{},E=(q,H)=>Sw(q,H,c,n),k=(q,H)=>Sw(q,H,f,t),L=q=>{if(o)return;const H=q.clientX,T=q.clientY,$=Math.round((T-x.startResizeY)/r),R=Math.round((H-x.startResizeX)/r),O=()=>{const F=x.initHeight-$,j=x.initY+$;let X=j,Y=F;if(v===Lt.xy)X>0&&(X=0,Y=x.initHeight-Math.abs(x.initY));else{const J=k(j,F);X=J[0],Y=J[1]}m(Y),h(X)},V=()=>{const F=x.initHeight+$;let[j,X]=k(x.initY,F);v===Lt.xy&&X<Math.abs(j)+p&&(X=Math.abs(j)+p),m(X),h(j)},D=()=>{const F=x.initWidth-R,j=x.initX+R;let X=j,Y=F;if(v===Lt.xy)X>0&&(X=0,Y=x.initWidth-Math.abs(x.initX));else{const J=E(j,F);X=J[0],Y=J[1]}g(Y),d(X)},P=()=>{const F=x.initWidth+R;let[j,X]=E(x.initX,F);v===Lt.xy&&X<Math.abs(j)+a&&(X=Math.abs(j)+a),g(X),d(j)};if(y)switch(x.ord){case"topleft":{O(),D();break}case"topright":{O(),P();break}case"bottomleft":{V(),D();break}case"bottomright":{V(),P();break}case"top":{O();break}case"right":{P();break}case"bottom":{V();break}case"left":{D();break}}},B=()=>{y&&w(!1)};b.useEffect(()=>{if(y)return document.addEventListener("pointermove",L,Mo),document.addEventListener("pointerup",B,Mo),document.addEventListener("pointercancel",B,Mo),()=>{document.removeEventListener("pointermove",L,Mo),document.removeEventListener("pointerup",B,Mo),document.removeEventListener("pointercancel",B,Mo)}},[y,l,u,x]);const G=q=>{const{ord:H}=q.target.dataset;H&&(w(!0),S({initX:c,initY:f,initHeight:u,initWidth:l,startResizeX:q.clientX,startResizeY:q.clientY,ord:H}))},z=(q,H,T)=>{const O="w-[12px] h-[12px] z-[4] absolute content-[''] block border-2 border-primary borde pointer-events-auto hover:bg-primary";let V="0",D="0",P=T,F="-6px";return T===""&&(F="50%",H==="left"||H==="right"?(P="top",D="-50%"):(P="left",V="-50%")),_.jsx("div",{className:ye(O,q),style:{[H]:-6,[P]:F,transform:`translate(${V}, ${D}) scale(${1/r})`},"data-ord":H+T,"aria-label":H+T,tabIndex:-1,role:"button"})},Q=()=>_.jsxs("div",{onFocus:C,onPointerDown:G,className:"absolute top-0 h-full w-full",children:[[Lt.y,Lt.xy].includes(v)?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 w-full cursor-ns-resize h-[12px] mt-[-6px]","data-ord":"top"}),_.jsx("div",{className:"absolute pointer-events-auto bottom-0 left-0 w-full cursor-ns-resize h-[12px] mb-[-6px]","data-ord":"bottom"}),z("cursor-ns-resize","top",""),z("cursor-ns-resize","bottom","")]}):_.jsx(_.Fragment,{}),[Lt.x,Lt.xy].includes(v)?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"absolute pointer-events-auto top-0 right-0 h-full cursor-ew-resize w-[12px] mr-[-6px]","data-ord":"right"}),_.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 h-full cursor-ew-resize w-[12px] ml-[-6px]","data-ord":"left"}),z("cursor-ew-resize","left",""),z("cursor-ew-resize","right","")]}):_.jsx(_.Fragment,{}),v===Lt.xy?_.jsxs(_.Fragment,{children:[z("cursor-nw-resize","top","left"),z("cursor-ne-resize","top","right"),z("cursor-sw-resize","bottom","left"),z("cursor-se-resize","bottom","right")]}):_.jsx(_.Fragment,{})]}),I=q=>{S({initX:c,initY:f,initHeight:u,initWidth:l,startResizeX:q.clientX,startResizeY:q.clientY,ord:""})},M=()=>_.jsxs("div",{className:ug("border absolute pointer-events-auto px-2 py-1 rounded-full bg-background","origin-top-left top-0 left-0"),style:{transform:`scale(${1/r*.8})`},onPointerDown:I,children:[l," x ",u]}),N=()=>_.jsx("div",{className:ye("outline-dashed outline-primary"),style:{height:u,width:l,outlineWidth:`${m4/r*1.3}px`}});return i===!1||!s?null:_.jsx("div",{className:"absolute h-full w-full pointer-events-none z-[2]",children:_.jsxs("div",{className:"relative pointer-events-none z-[2] [box-shadow:0_0_0_9999px_rgba(0,_0,_0,_0.5)]",style:{height:u,width:l,left:c,top:f},children:[N(),M(),Q()]})})},v4=200,_w=300,y4=e=>{e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),i=parseInt(e.substring(6,8),16)/255;return`rgba(${t}, ${n}, ${r}, ${i})`};function w4(e){const{file:t}=e,{toast:n}=dg(),[r,i,o,p,a,s,c,f,l,u,d,h,g,m,v,y,w,x,S,C,E,k,L,B,G]=We(ne=>[ne.disableShortCuts,ne.windowSize,ne.isInpainting,ne.imageWidth,ne.imageHeight,ne.settings,ne.serverConfig.enableAutoSaving,ne.setImageSize,ne.setBaseBrushSize,ne.interactiveSegState,ne.updateInteractiveSegState,ne.handleCanvasMouseDown,ne.handleSaveState,ne.handleCanvasMouseMove,ne.undo,ne.redo,ne.undoDisabled(),ne.redoDisabled(),ne.getIsProcessing(),ne.updateAppState,ne.runMannually(),ne.runInpainting,ne.isCropperExtenderResizing,ne.decreaseBaseBrushSize,ne.increaseBaseBrushSize]),z=We(ne=>ne.editorState.baseBrushSize),Q=We(ne=>ne.getBrushSize()),I=We(ne=>ne.editorState.renders),M=We(ne=>ne.editorState.extraMasks);We(ne=>ne.editorState.temporaryMasks),We(ne=>ne.editorState.lineGroups),We(ne=>ne.editorState.curLineGroup);const N=We(ne=>ne.editorState.currCanvasGroups),[q,H]=b.useState(!1),[T,$]=DE(t),[R,O]=b.useState();b.useState();const[V,D]=b.useState(null),[{x:P,y:F},j]=b.useState({x:-1,y:-1}),[X,Y]=b.useState(!1),[J,te]=b.useState(!1),[ce,ee]=b.useState(!1),[K,ae]=b.useState(1),[le,oe]=b.useState(!1),[A,U]=b.useState(1),Z=i.width/2,se=i.height/2,W=b.useRef(null),[ie,fe]=b.useState(!1),[be,Pe]=b.useState(!1),[Oe,He]=b.useState(0),[Ze,Wt]=b.useState(!1),yn=b.useRef(null),De=b.useRef(null),Eo=b.useCallback(()=>N.length!==0,[N]),Li=b.useCallback(()=>{if(De.current){const ne=De.current.toJSON();g(JSON.stringify(ne))}},[]);b.useEffect(()=>{if(!$)return;console.log("Inside UseEffect initMainCanvas");const ne=()=>new Na.fabric.Canvas(yn.current,{width:p,height:a,fireMiddleClick:!0});De.current=ne();const Ie=new Na.fabric.Image(T,{left:0,top:0,selectable:!1});De.current.add(Ie),De.current.isDrawingMode=!0,De.current.freeDrawingBrush.width=j1,De.current.freeDrawingBrush.color=y4(Cu);const Et=JSON.stringify(De.current.toJSON());return D(Et),De.current.on("mouse:up",wt=>{Y0(wt)&&ee(!1),g$(wt)&&Li()}),De.current.on("mouse:down",wt=>{Y0(wt)&&ee(!0)}),De.current.renderAll(),()=>{var wt;(wt=De.current)==null||wt.dispose(),De.current=null}},[T,$,p,a]),b.useEffect(()=>{if(!De.current||!V)return;console.log("coming renders");const ne=I[I.length-1],Ie=new Na.fabric.Image(ne,{left:0,top:0,selectable:!1});De.current.add(Ie),De.current.renderAll(),Li()},[I]),b.useEffect(()=>{if(!De.current||!V)return;if(N.length===0&&V){const Ie=JSON.parse(V);De.current.loadFromJSON(Ie,De.current.renderAll.bind(De.current));return}const ne=JSON.parse(N[N.length-1]);De.current.loadFromJSON(ne,De.current.renderAll.bind(De.current))},[N]),b.useEffect(()=>{De.current&&(De.current.freeDrawingBrush.width=z)},[z]),b.useCallback(async()=>{let ne=t;if(I.length>0){const Ie=I[I.length-1];ne=await zc(Ie.currentSrc,t.name,t.type)}return ne},[t,I]);const Fi=()=>I.length!==0,Wl=b.useCallback(()=>{let ne=512,Ie=512;return $?(I.length===0?(ne=T.naturalWidth,Ie=T.naturalHeight):I.length!==0&&(ne=I[I.length-1].width,Ie=I[I.length-1].height),[ne,Ie]):[ne,Ie]},[T,$,I]);b.useEffect(()=>{var yv;if(!$)return;const[ne,Ie]=Wl();(ne!==p||Ie!==a)&&f(ne,Ie);const Et=i.width/ne,wt=(i.height-v4)/Ie;let Yt=1;(Et<1||wt<1)&&(Yt=Math.min(Et,wt)),U(Yt),ae(Yt),console.log(`[on file load] image size: ${ne}x${Ie}, scale: ${Yt}, initialCentered: ${ie}`),R!=null&&R.canvas&&(console.log("[on file load] set canvas size"),ne!=R.canvas.width&&(R.canvas.width=ne),Ie!=R.canvas.height&&(R.canvas.height=Ie)),ie||((yv=W.current)==null||yv.centerView(Yt,1),console.log("[on file load] centerView"),fe(!0))},[W,a,p,T,$,i,ie,Wl]),b.useEffect(()=>{var ne;console.log("[useEffect] centerView"),(ne=W==null?void 0:W.current)==null||ne.centerView(A,1)},[a,p,W,A]);const To=b.useCallback(()=>{if(!A||!i)return;const ne=W.current;if(!ne)return;const Ie=(i.width-p*A)/2,Et=(i.height-a*A)/2;ne.setTransform(Ie,Et,A,200,"easeOutQuad"),ne.instance.transformState.scale&&(ne.instance.transformState.scale=A),ae(A),oe(!1)},[W,i,a,p,i.height,A]);b.useEffect(()=>(window.addEventListener("resize",()=>{To()}),()=>{window.removeEventListener("resize",()=>{To()})}),[i,To]),Zn("Escape",()=>{S||(be?Pe(!1):To())},[be,o,To]);const hv=()=>{v()};Zn("meta+z,ctrl+z",hv);const pv=ne=>{ne.preventDefault(),y()};Zn("shift+ctrl+z,shift+meta+z",pv),bh("Tab",ne=>{ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Fi()&&H(()=>(window.setTimeout(()=>{He(100)},10),!0))},ne=>{ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Fi()&&(window.setTimeout(()=>{He(0)},10),window.setTimeout(()=>{H(!1)},_w))});const C2=(ne,Ie,Et)=>{ne.getObjects().forEach(Yt=>Yt.set({visible:!1})),Ie.forEach(Yt=>Yt.set({visible:!0})),ne.renderAll();const wt=document.createElement("a");wt.href=ne.toDataURL({format:"png"}),wt.download=Et,wt.click(),ne.getObjects().forEach(Yt=>Yt.set({visible:!0})),ne.renderAll()},mv=()=>{const ne=De.current;if(ne){console.log(ne.getObjects());const Ie=ne.getObjects().filter(Et=>Et.type==="path");C2(ne,Ie,"mask.png")}};Zn("meta+s,ctrl+s",mv),b.useCallback(()=>{if(S)return"default";if(ce)return"grab";if(X)return"none"},[X,ce,S]),Zn("[",()=>{B()},[B]),Zn("]",()=>{G()},[G]),Zn("ctrl+c,meta+c",async()=>{await h$()&&I.length>0&&R!=null&&R.canvas&&(await v$(R==null?void 0:R.canvas),n({title:"Copy inpainting result to clipboard"}))},[I,R]),bh(" ",ne=>{r||(ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Y(!1),ee(!0))},ne=>{r||(ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Y(!0),ee(!1))}),bh("Alt",ne=>{r||(ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Wt(!0))},ne=>{r||(ne==null||ne.preventDefault(),ne==null||ne.stopPropagation(),Wt(!1))});const hf=()=>{var Ie,Et,wt,Yt;let ne=A;return((Et=(Ie=W.current)==null?void 0:Ie.instance)==null?void 0:Et.transformState.scale)!==void 0&&(ne=(Yt=(wt=W.current)==null?void 0:wt.instance)==null?void 0:Yt.transformState.scale),ne},gv=(ne,Ie)=>{const Et=hf();return{width:`${Q*Et}px`,height:`${Q*Et}px`,left:`${ne}px`,top:`${Ie}px`,transform:"translate(-50%, -50%)"}},vv=ne=>_.jsx("div",{className:"absolute rounded-[50%] border-[1px] border-[solid] border-[#ffcc00] pointer-events-none bg-[#ffcc00bb]",style:ne}),E2=ne=>{l(ne),J||(te(!0),window.setTimeout(()=>{te(!1)},1e4))},T2=()=>_.jsx("div",{className:"absolute h-[20px] w-[20px] pointer-events-none rounded-[50%] bg-[rgba(21,_215,_121,_0.936)] [box-shadow:0_0_0_0_rgba(21,_215,_121,_0.936)] animate-pulse",style:{left:`${P}px`,top:`${F}px`,transform:"translate(-50%, -50%)"},children:_.jsx(hj,{})}),k2=()=>_.jsx(_I,{ref:ne=>{ne&&(W.current=ne)},panning:{disabled:!ce,velocityDisabled:!0},wheel:{step:.05,wheelDisabled:Ze},centerZoomedOut:!0,alignmentAnimation:{disabled:!0},centerOnInit:!0,limitToBounds:!1,doubleClick:{disabled:!0},initialScale:A,minScale:A*.3,onPanning:()=>{le||oe(!0)},onZoom:ne=>{ae(ne.state.scale)},children:_.jsxs(TI,{contentStyle:{visibility:ie?"visible":"hidden"},children:[_.jsx("div",{className:"grid [grid-template-areas:'editor-content'] gap-y-4",children:_.jsx("canvas",{className:ye("[grid-area:editor-content]",S?"pointer-events-none animate-pulse duration-600":""),ref:yn,style:{clipPath:`inset(0 ${Oe}% 0 0)`,transition:`clip-path ${_w}ms`,border:"1px solid white"}})}),_.jsx(f4,{maxHeight:a,maxWidth:p,minHeight:Math.min(512,a),minWidth:Math.min(512,p),scale:hf(),show:s.showCropper}),_.jsx(g4,{minHeight:Math.min(512,a),minWidth:Math.min(512,p),scale:hf(),show:s.showExtender}),u.isInteractiveSeg?_.jsx(p4,{}):_.jsx(_.Fragment,{})]})});return _.jsxs("div",{className:"flex w-screen h-screen justify-center items-center","aria-hidden":"true",children:[k2(),X&&!o&&!ce&&(u.isInteractiveSeg?T2():vv(gv(P,F))),J&&vv(gv(Z,se)),_.jsxs("div",{className:"fixed flex bottom-5 border px-4 py-2 rounded-[3rem] gap-8 items-center justify-center backdrop-filter backdrop-blur-md bg-background/70",children:[_.jsx(jn,{className:"w-48",defaultValue:[50],min:i$,max:I1,step:1,tabIndex:-1,value:[z],onValueChange:ne=>E2(ne[0]),onClick:()=>te(!1)}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx(Er,{tooltip:"Reset zoom & pan",disabled:K===A&&le===!1,onClick:To,children:_.jsx(j$,{})}),_.jsx(Er,{tooltip:"Undo",onClick:hv,disabled:w,children:_.jsx(X$,{})}),_.jsx(Er,{tooltip:"Redo",onClick:pv,disabled:x,children:_.jsx(H$,{})}),_.jsx(Er,{tooltip:"Show original image",onPointerDown:ne=>{ne.preventDefault(),H(()=>(window.setTimeout(()=>{He(100)},10),!0))},children:_.jsx(I$,{})}),_.jsx(Er,{tooltip:"Save Image",onClick:mv,children:_.jsx(L$,{})}),_.jsx(Er,{tooltip:"Run Inpainting",disabled:S||!Eo()&&M.length===0,onClick:()=>{k("lama")},children:_.jsx(F$,{})})]})]})]})}const b4=()=>{const[e,t]=We(n=>[n.imageWidth,n.imageHeight]);return!e||!t?null:_.jsxs("div",{className:"border rounded-lg px-2 py-[6px] z-10 bg-background",children:[e,"x",t]})},sm=["Enter"," "],x4=["ArrowDown","PageUp","Home"],UE=["ArrowUp","PageDown","End"],S4=[...x4,...UE],_4={ltr:[...sm,"ArrowRight"],rtl:[...sm,"ArrowLeft"]},C4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},uf="Menu",[wl,E4,T4]=Ol(uf),[Co,HE]=Ht(uf,[T4,Ai,Qd]),df=Ai(),WE=Qd(),[YE,Ni]=Co(uf),[k4,Hl]=Co(uf),P4=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:p=!0}=e,a=df(t),[s,c]=b.useState(null),f=b.useRef(!1),l=tt(o),u=Gs(i);return b.useEffect(()=>{const d=()=>{f.current=!0,document.addEventListener("pointerdown",h,{capture:!0,once:!0}),document.addEventListener("pointermove",h,{capture:!0,once:!0})},h=()=>f.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",h,{capture:!0}),document.removeEventListener("pointermove",h,{capture:!0})}},[]),b.createElement(Nl,a,b.createElement(YE,{scope:t,open:n,onOpenChange:l,content:s,onContentChange:c},b.createElement(k4,{scope:t,onClose:b.useCallback(()=>l(!1),[l]),isUsingKeyboardRef:f,dir:u,modal:p},r)))},XE=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=df(n);return b.createElement(jd,re({},i,r,{ref:t}))}),GE="MenuPortal",[O4,KE]=Co(GE,{forceMount:void 0}),$4=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=Ni(GE,t);return b.createElement(O4,{scope:t,forceMount:n},b.createElement(Ct,{present:n||o.open},b.createElement($l,{asChild:!0,container:i},r)))},Wn="MenuContent",[R4,lv]=Co(Wn),A4=b.forwardRef((e,t)=>{const n=KE(Wn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Ni(Wn,e.__scopeMenu),p=Hl(Wn,e.__scopeMenu);return b.createElement(wl.Provider,{scope:e.__scopeMenu},b.createElement(Ct,{present:r||o.open},b.createElement(wl.Slot,{scope:e.__scopeMenu},p.modal?b.createElement(D4,re({},i,{ref:t})):b.createElement(M4,re({},i,{ref:t})))))}),D4=b.forwardRef((e,t)=>{const n=Ni(Wn,e.__scopeMenu),r=b.useRef(null),i=Te(t,r);return b.useEffect(()=>{const o=r.current;if(o)return Wd(o)},[]),b.createElement(cv,re({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),M4=b.forwardRef((e,t)=>{const n=Ni(Wn,e.__scopeMenu);return b.createElement(cv,re({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),cv=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:p,disableOutsidePointerEvents:a,onEntryFocus:s,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:l,onInteractOutside:u,onDismiss:d,disableOutsideScroll:h,...g}=e,m=Ni(Wn,n),v=Hl(Wn,n),y=df(n),w=WE(n),x=E4(n),[S,C]=b.useState(null),E=b.useRef(null),k=Te(t,E,m.onContentChange),L=b.useRef(0),B=b.useRef(""),G=b.useRef(0),z=b.useRef(null),Q=b.useRef("right"),I=b.useRef(0),M=h?Ll:b.Fragment,N=h?{as:hr,allowPinchZoom:!0}:void 0,q=T=>{var $,R;const O=B.current+T,V=x().filter(Y=>!Y.disabled),D=document.activeElement,P=($=V.find(Y=>Y.ref.current===D))===null||$===void 0?void 0:$.textValue,F=V.map(Y=>Y.textValue),j=Z4(F,O,P),X=(R=V.find(Y=>Y.textValue===j))===null||R===void 0?void 0:R.ref.current;(function Y(J){B.current=J,window.clearTimeout(L.current),J!==""&&(L.current=window.setTimeout(()=>Y(""),1e3))})(O),X&&setTimeout(()=>X.focus())};b.useEffect(()=>()=>window.clearTimeout(L.current),[]),Ud();const H=b.useCallback(T=>{var $,R;return Q.current===(($=z.current)===null||$===void 0?void 0:$.side)&&J4(T,(R=z.current)===null||R===void 0?void 0:R.area)},[]);return b.createElement(R4,{scope:n,searchRef:B,onItemEnter:b.useCallback(T=>{H(T)&&T.preventDefault()},[H]),onItemLeave:b.useCallback(T=>{var $;H(T)||(($=E.current)===null||$===void 0||$.focus(),C(null))},[H]),onTriggerLeave:b.useCallback(T=>{H(T)&&T.preventDefault()},[H]),pointerGraceTimerRef:G,onPointerGraceIntentChange:b.useCallback(T=>{z.current=T},[])},b.createElement(M,N,b.createElement(Vd,{asChild:!0,trapped:i,onMountAutoFocus:pe(o,T=>{var $;T.preventDefault(),($=E.current)===null||$===void 0||$.focus()}),onUnmountAutoFocus:p},b.createElement(Bs,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:l,onInteractOutside:u,onDismiss:d},b.createElement(oC,re({asChild:!0},w,{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:pe(s,T=>{v.isUsingKeyboardRef.current||T.preventDefault()})}),b.createElement(Id,re({role:"menu","aria-orientation":"vertical","data-state":t2(m.open),"data-radix-menu-content":"",dir:v.dir},y,g,{ref:k,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,T=>{const R=T.target.closest("[data-radix-menu-content]")===T.currentTarget,O=T.ctrlKey||T.altKey||T.metaKey,V=T.key.length===1;R&&(T.key==="Tab"&&T.preventDefault(),!O&&V&&q(T.key));const D=E.current;if(T.target!==D||!S4.includes(T.key))return;T.preventDefault();const F=x().filter(j=>!j.disabled).map(j=>j.ref.current);UE.includes(T.key)&&F.reverse(),K4(F)}),onBlur:pe(e.onBlur,T=>{T.currentTarget.contains(T.target)||(window.clearTimeout(L.current),B.current="")}),onPointerMove:pe(e.onPointerMove,bl(T=>{const $=T.target,R=I.current!==T.clientX;if(T.currentTarget.contains($)&&R){const O=T.clientX>I.current?"right":"left";Q.current=O,I.current=T.clientX}}))})))))))}),N4=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.createElement(Se.div,re({},r,{ref:t}))}),am="MenuItem",Cw="menu.itemSelect",uv=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=b.useRef(null),p=Hl(am,e.__scopeMenu),a=lv(am,e.__scopeMenu),s=Te(t,o),c=b.useRef(!1),f=()=>{const l=o.current;if(!n&&l){const u=new CustomEvent(Cw,{bubbles:!0,cancelable:!0});l.addEventListener(Cw,d=>r==null?void 0:r(d),{once:!0}),ag(l,u),u.defaultPrevented?c.current=!1:p.onClose()}};return b.createElement(qE,re({},i,{ref:s,disabled:n,onClick:pe(e.onClick,f),onPointerDown:l=>{var u;(u=e.onPointerDown)===null||u===void 0||u.call(e,l),c.current=!0},onPointerUp:pe(e.onPointerUp,l=>{var u;c.current||(u=l.currentTarget)===null||u===void 0||u.click()}),onKeyDown:pe(e.onKeyDown,l=>{const u=a.searchRef.current!=="";n||u&&l.key===" "||sm.includes(l.key)&&(l.currentTarget.click(),l.preventDefault())})}))}),qE=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,p=lv(am,n),a=WE(n),s=b.useRef(null),c=Te(t,s),[f,l]=b.useState(!1),[u,d]=b.useState("");return b.useEffect(()=>{const h=s.current;if(h){var g;d(((g=h.textContent)!==null&&g!==void 0?g:"").trim())}},[o.children]),b.createElement(wl.ItemSlot,{scope:n,disabled:r,textValue:i??u},b.createElement(sC,re({asChild:!0},a,{focusable:!r}),b.createElement(Se.div,re({role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:c,onPointerMove:pe(e.onPointerMove,bl(h=>{r?p.onItemLeave(h):(p.onItemEnter(h),h.defaultPrevented||h.currentTarget.focus())})),onPointerLeave:pe(e.onPointerLeave,bl(h=>p.onItemLeave(h))),onFocus:pe(e.onFocus,()=>l(!0)),onBlur:pe(e.onBlur,()=>l(!1))}))))}),L4=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return b.createElement(QE,{scope:e.__scopeMenu,checked:n},b.createElement(uv,re({role:"menuitemcheckbox","aria-checked":Qu(n)?"mixed":n},i,{ref:t,"data-state":dv(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(Qu(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),F4="MenuRadioGroup",[h8,j4]=Co(F4,{value:void 0,onValueChange:()=>{}}),I4="MenuRadioItem",B4=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=j4(I4,e.__scopeMenu),o=n===i.value;return b.createElement(QE,{scope:e.__scopeMenu,checked:o},b.createElement(uv,re({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":dv(o),onSelect:pe(r.onSelect,()=>{var p;return(p=i.onValueChange)===null||p===void 0?void 0:p.call(i,n)},{checkForDefaultPrevented:!1})})))}),ZE="MenuItemIndicator",[QE,z4]=Co(ZE,{checked:!1}),V4=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=z4(ZE,n);return b.createElement(Ct,{present:r||Qu(o.checked)||o.checked===!0},b.createElement(Se.span,re({},i,{ref:t,"data-state":dv(o.checked)})))}),U4=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return b.createElement(Se.div,re({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),JE="MenuSub",[H4,e2]=Co(JE),W4=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=Ni(JE,t),p=df(t),[a,s]=b.useState(null),[c,f]=b.useState(null),l=tt(i);return b.useEffect(()=>(o.open===!1&&l(!1),()=>l(!1)),[o.open,l]),b.createElement(Nl,p,b.createElement(YE,{scope:t,open:r,onOpenChange:l,content:c,onContentChange:f},b.createElement(H4,{scope:t,contentId:en(),triggerId:en(),trigger:a,onTriggerChange:s},n)))},Ec="MenuSubTrigger",Y4=b.forwardRef((e,t)=>{const n=Ni(Ec,e.__scopeMenu),r=Hl(Ec,e.__scopeMenu),i=e2(Ec,e.__scopeMenu),o=lv(Ec,e.__scopeMenu),p=b.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:s}=o,c={__scopeMenu:e.__scopeMenu},f=b.useCallback(()=>{p.current&&window.clearTimeout(p.current),p.current=null},[]);return b.useEffect(()=>f,[f]),b.useEffect(()=>{const l=a.current;return()=>{window.clearTimeout(l),s(null)}},[a,s]),b.createElement(XE,re({asChild:!0},c),b.createElement(qE,re({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":t2(n.open)},e,{ref:Sd(t,i.onTriggerChange),onClick:l=>{var u;(u=e.onClick)===null||u===void 0||u.call(e,l),!(e.disabled||l.defaultPrevented)&&(l.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,bl(l=>{o.onItemEnter(l),!l.defaultPrevented&&!e.disabled&&!n.open&&!p.current&&(o.onPointerGraceIntentChange(null),p.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:pe(e.onPointerLeave,bl(l=>{var u;f();const d=(u=n.content)===null||u===void 0?void 0:u.getBoundingClientRect();if(d){var h;const g=(h=n.content)===null||h===void 0?void 0:h.dataset.side,m=g==="right",v=m?-5:5,y=d[m?"left":"right"],w=d[m?"right":"left"];o.onPointerGraceIntentChange({area:[{x:l.clientX+v,y:l.clientY},{x:y,y:d.top},{x:w,y:d.top},{x:w,y:d.bottom},{x:y,y:d.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(l),l.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,l=>{const u=o.searchRef.current!=="";if(!(e.disabled||u&&l.key===" ")&&_4[r.dir].includes(l.key)){var d;n.onOpenChange(!0),(d=n.content)===null||d===void 0||d.focus(),l.preventDefault()}})})))}),X4="MenuSubContent",G4=b.forwardRef((e,t)=>{const n=KE(Wn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Ni(Wn,e.__scopeMenu),p=Hl(Wn,e.__scopeMenu),a=e2(X4,e.__scopeMenu),s=b.useRef(null),c=Te(t,s);return b.createElement(wl.Provider,{scope:e.__scopeMenu},b.createElement(Ct,{present:r||o.open},b.createElement(wl.Slot,{scope:e.__scopeMenu},b.createElement(cv,re({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:c,align:"start",side:p.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var l;p.isUsingKeyboardRef.current&&((l=s.current)===null||l===void 0||l.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:pe(e.onFocusOutside,f=>{f.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,f=>{p.onClose(),f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{const l=f.currentTarget.contains(f.target),u=C4[p.dir].includes(f.key);if(l&&u){var d;o.onOpenChange(!1),(d=a.trigger)===null||d===void 0||d.focus(),f.preventDefault()}})})))))});function t2(e){return e?"open":"closed"}function Qu(e){return e==="indeterminate"}function dv(e){return Qu(e)?"indeterminate":e?"checked":"unchecked"}function K4(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function q4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Z4(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let p=q4(e,Math.max(o,0));i.length===1&&(p=p.filter(c=>c!==n));const s=p.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return s!==n?s:void 0}function Q4(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,p=t.length-1;o<t.length;p=o++){const a=t[o].x,s=t[o].y,c=t[p].x,f=t[p].y;s>r!=f>r&&n<(c-a)*(r-s)/(f-s)+a&&(i=!i)}return i}function J4(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Q4(n,t)}function bl(e){return t=>t.pointerType==="mouse"?e(t):void 0}const e6=P4,t6=XE,n6=$4,r6=A4,i6=N4,o6=uv,s6=L4,a6=B4,l6=V4,c6=U4,u6=W4,d6=Y4,f6=G4,n2="DropdownMenu",[h6,p8]=Ht(n2,[HE]),vn=HE(),[p6,r2]=h6(n2),m6=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:p,modal:a=!0}=e,s=vn(t),c=b.useRef(null),[f=!1,l]=$n({prop:i,defaultProp:o,onChange:p});return b.createElement(p6,{scope:t,triggerId:en(),triggerRef:c,contentId:en(),open:f,onOpenChange:l,onOpenToggle:b.useCallback(()=>l(u=>!u),[l]),modal:a},b.createElement(e6,re({},s,{open:f,onOpenChange:l,dir:r,modal:a}),n))},g6="DropdownMenuTrigger",v6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=r2(g6,n),p=vn(n);return b.createElement(t6,re({asChild:!0},p),b.createElement(Se.button,re({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Sd(t,o.triggerRef),onPointerDown:pe(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:pe(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),y6=e=>{const{__scopeDropdownMenu:t,...n}=e,r=vn(t);return b.createElement(n6,re({},r,n))},w6="DropdownMenuContent",b6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=r2(w6,n),o=vn(n),p=b.useRef(!1);return b.createElement(r6,re({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var s;p.current||(s=i.triggerRef.current)===null||s===void 0||s.focus(),p.current=!1,a.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,a=>{const s=a.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,f=s.button===2||c;(!i.modal||f)&&(p.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),x6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(i6,re({},i,r,{ref:t}))}),S6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(o6,re({},i,r,{ref:t}))}),_6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(s6,re({},i,r,{ref:t}))}),C6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(a6,re({},i,r,{ref:t}))}),E6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(l6,re({},i,r,{ref:t}))}),T6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(c6,re({},i,r,{ref:t}))}),k6=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,p=vn(t),[a=!1,s]=$n({prop:r,defaultProp:o,onChange:i});return b.createElement(u6,re({},p,{open:a,onOpenChange:s}),n)},P6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(d6,re({},i,r,{ref:t}))}),O6=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=vn(n);return b.createElement(f6,re({},i,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),$6=m6,R6=v6,A6=y6,i2=b6,o2=x6,s2=S6,a2=_6,l2=C6,c2=E6,u2=T6,D6=k6,d2=P6,f2=O6,M6=$6,N6=R6,L6=D6,h2=b.forwardRef(({className:e,inset:t,children:n,...r},i)=>_.jsxs(d2,{ref:i,className:ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r,children:[n,_.jsx(AP,{className:"ml-auto h-4 w-4"})]}));h2.displayName=d2.displayName;const p2=b.forwardRef(({className:e,...t},n)=>_.jsx(f2,{ref:n,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));p2.displayName=f2.displayName;const m2=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>_.jsx(A6,{children:_.jsx(i2,{ref:r,sideOffset:t,className:ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),onCloseAutoFocus:i=>i.preventDefault(),...n})}));m2.displayName=i2.displayName;const Qc=b.forwardRef(({className:e,inset:t,...n},r)=>_.jsx(s2,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));Qc.displayName=s2.displayName;const F6=b.forwardRef(({className:e,children:t,checked:n,...r},i)=>_.jsxs(a2,{ref:i,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(c2,{children:_.jsx(h1,{className:"h-4 w-4"})})}),t]}));F6.displayName=a2.displayName;const j6=b.forwardRef(({className:e,children:t,...n},r)=>_.jsxs(l2,{ref:r,className:ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(c2,{children:_.jsx(FP,{className:"h-4 w-4 fill-current"})})}),t]}));j6.displayName=l2.displayName;const I6=b.forwardRef(({className:e,inset:t,...n},r)=>_.jsx(o2,{ref:r,className:ye("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));I6.displayName=o2.displayName;const B6=b.forwardRef(({className:e,...t},n)=>_.jsx(u2,{ref:n,className:ye("-mx-1 my-1 h-px bg-muted",e),...t}));B6.displayName=u2.displayName;const Ew={RemoveBG:{IconClass:K0,showName:"RemoveBG"},AnimeSeg:{IconClass:K0,showName:"Anime Segmentation"},RealESRGAN:{IconClass:B$,showName:"RealESRGAN"},GFPGAN:{IconClass:q0,showName:"GFPGAN"},RestoreFormer:{IconClass:q0,showName:"RestoreFormer"},InteractiveSeg:{IconClass:U$,showName:"Interactive Segmentation"}},z6=()=>{const[e,t,n,r,i]=We(c=>[c.file,c.serverConfig.plugins,c.isPluginRunning,c.updateInteractiveSegState,c.runRenderablePlugin]),o=!e;if(t.length===0)return null;const p=(c,f)=>{f==="InteractiveSeg"?r({isInteractiveSeg:!0}):i(c,f)},a=c=>{const{IconClass:f,showName:l}=Ew[c.name];return _.jsxs(L6,{children:[_.jsx(h2,{disabled:o,children:_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx(f,{className:"p-1"}),l]})}),_.jsxs(p2,{children:[_.jsx(Qc,{onClick:()=>p(!1,c.name),children:"Remove Background"}),_.jsx(Qc,{onClick:()=>p(!0,c.name),children:"Generate Mask"})]})]},c.name)},s=()=>t.map(c=>{const{IconClass:f,showName:l}=Ew[c.name];return c.name==="RemoveBG"||c.name==="AnimeSeg"?a(c):_.jsx(Qc,{onClick:()=>p(!1,c.name),disabled:o,children:_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx(f,{className:"p-1"}),l]})},c.name)});return _.jsxs(M6,{modal:!1,children:[_.jsx(N6,{className:"border rounded-lg z-10 bg-background outline-none",tabIndex:-1,children:_.jsx(It,{variant:"ghost",size:"icon",asChild:!0,className:"p-1.5",children:n?_.jsx("div",{role:"status",children:_.jsxs("svg",{"aria-hidden":"true",className:"w-5 h-5 animate-spin fill-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[_.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),_.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}):_.jsx(R$,{strokeWidth:1})})}),_.jsx(m2,{side:"bottom",align:"start",children:s()})]})},V6=Yd,U6=h_,H6=Xd,g2=b.forwardRef(({className:e,...t},n)=>_.jsx(Ys,{className:ye("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));g2.displayName=Ys.displayName;const W6=Td("fixed gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-200 data-[state=open]:duration-300",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),v2=b.forwardRef(({side:e="right",className:t,children:n,...r},i)=>_.jsxs(H6,{children:[_.jsx(g2,{}),_.jsx(Xs,{ref:i,className:ye(W6({side:e}),t),...r,children:n})]}));v2.displayName=Xs.displayName;const y2=({className:e,...t})=>_.jsx("div",{className:ye("flex flex-col space-y-2 text-center sm:text-left",e),...t});y2.displayName="SheetHeader";const Y6=b.forwardRef(({className:e,...t},n)=>_.jsx(Fl,{ref:n,className:ye("text-lg font-semibold text-foreground",e),...t}));Y6.displayName=Fl.displayName;const X6=b.forwardRef(({className:e,...t},n)=>_.jsx(jl,{ref:n,className:ye("text-sm text-muted-foreground",e),...t}));X6.displayName=jl.displayName;const ot=({children:e})=>_.jsx("div",{className:"flex justify-between items-center pr-2",children:e}),Ke=({text:e,toolTip:t="",url:n,htmlFor:r,disabled:i=!1})=>_.jsxs(XS,{children:[_.jsx(GS,{asChild:!0,children:_.jsx(Wg,{htmlFor:r||e.toLowerCase().replace(" ","-"),className:"font-medium",disabled:i,children:e})}),t||n?_.jsxs(Ag,{className:"flex flex-col max-w-xs text-sm",side:"left",children:[_.jsx("p",{children:t}),n?_.jsx(It,{variant:"link",className:"justify-end",children:_.jsx("a",{href:n,target:"_blank",children:"More info"})}):_.jsx(_.Fragment,{})]}):_.jsx(_.Fragment,{})]}),G6=()=>{const[e,t]=We(n=>[n.settings,n.updateSettings]);return _.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{htmlFor:"steps",text:"Steps",toolTip:"The number of denoising steps. More denoising steps usually lead to a higher quality image at the expense of slower inference."}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[30],min:1,max:100,step:1,value:[Math.floor(e.ldmSteps)],onValueChange:n=>t({ldmSteps:n[0]})}),_.jsx(Xt,{id:"steps",className:"w-[60px] rounded-full",numberValue:e.ldmSteps,allowFloat:!1,onNumberValueChange:n=>{t({ldmSteps:n})}})]})]}),_.jsxs(ot,{children:[_.jsx(Ke,{text:"Sampler"}),_.jsxs(Or,{value:e.ldmSampler,onValueChange:n=>{t({ldmSampler:n})},children:[_.jsx(sr,{className:"w-[100px]",children:_.jsx(Rr,{placeholder:"Select sampler"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:Object.values(pg).map(n=>_.jsx(lr,{value:n,children:n},n))})})]})]})]})},w2=b.forwardRef(({className:e,...t},n)=>{const r=We(p=>p.updateAppState),i=()=>{r({disableShortCuts:!0})},o=()=>{r({disableShortCuts:!1})};return _.jsx("textarea",{className:ye("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50","overflow-auto",e),tabIndex:-1,ref:n,onFocus:i,onBlur:o,...t})});w2.displayName="Textarea";const Tc=({text:e,onClick:t})=>{const[n]=We(r=>[r.settings.showExtender]);return _.jsx(It,{variant:"outline",className:"p-1 h-8",disabled:!n,onClick:t,children:_.jsx("div",{className:"flex items-center gap-1",children:e})})},K6=()=>{const[e,t,n,r,i,o,p,a,s,c,f]=We(N=>[N.serverConfig.samplers,N.settings,N.paintByExampleFile,N.getIsProcessing(),N.updateSettings,N.runInpainting,N.updateAppState,N.updateExtenderByBuiltIn,N.updateExtenderDirection,N.adjustMask,N.clearMask]),[l,u]=DE(n),d=b.useRef(null),{t:h}=Gd();DI(d,()=>{d!=null&&d.current&&d.current.blur()});const g=()=>_.jsxs(ot,{children:[_.jsx(Ke,{text:h("Cropper"),toolTip:"Inpainting on part of image, improve inference speed and reduce memory usage."}),_.jsx(Fn,{id:"cropper",checked:t.showCropper,onCheckedChange:N=>{i({showCropper:N}),N&&i({showExtender:!1})}})]}),m=()=>t.model.support_controlnet?_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"flex justify-between items-center pr-2",children:[_.jsx(Ke,{text:"ControlNet",toolTip:"Using an additional conditioning image to control how an image is generated",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#controlnet"}),_.jsx(Fn,{id:"controlnet",checked:t.enableControlnet,onCheckedChange:N=>{i({enableControlnet:N})}})]}),_.jsx("div",{className:"flex flex-col gap-1",children:_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[100],min:1,max:100,step:1,disabled:!t.enableControlnet,value:[Math.floor(t.controlnetConditioningScale*100)],onValueChange:N=>i({controlnetConditioningScale:N[0]/100})}),_.jsx(Xt,{id:"controlnet-weight",className:"w-[60px] rounded-full",disabled:!t.enableControlnet,numberValue:t.controlnetConditioningScale,allowFloat:!1,onNumberValueChange:N=>{i({controlnetConditioningScale:N})}})]})}),_.jsx("div",{className:"pr-2",children:_.jsxs(Or,{defaultValue:t.controlnetMethod,value:t.controlnetMethod,onValueChange:N=>{i({controlnetMethod:N})},disabled:!t.enableControlnet,children:[_.jsx(sr,{children:_.jsx(Rr,{placeholder:"Select control method"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:Object.values(t.model.controlnets).map(N=>_.jsx(lr,{value:N,children:N.split("/")[1]},N))})})]})})]}),_.jsx(xt,{})]}):null,v=()=>t.model.support_lcm_lora?_.jsxs(_.Fragment,{children:[_.jsxs(ot,{children:[_.jsx(Ke,{text:"LCM LoRA",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inference_with_lcm_lora",toolTip:"Enable quality image generation in typically 2-4 steps. Suggest disabling guidance_scale by setting it to 0. You can also try values between 1.0 and 2.0. When LCM Lora is enabled, LCMSampler will be used automatically."}),_.jsx(Fn,{id:"lcm-lora",checked:t.enableLCMLora,onCheckedChange:N=>{i({enableLCMLora:N})}})]}),_.jsx(xt,{})]}):null,y=()=>t.model.support_freeu?_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"flex justify-between items-center pr-2",children:[_.jsx(Ke,{text:"FreeU",toolTip:"FreeU is a technique for improving image quality. Different models may require different FreeU-specific hyperparameters, which can be viewed in the more info section.",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/freeu"}),_.jsx(Fn,{id:"freeu",checked:t.enableFreeu,onCheckedChange:N=>{i({enableFreeu:N})}})]}),_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs("div",{className:"flex justify-center gap-6",children:[_.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[_.jsx(Ke,{htmlFor:"freeu-s1",text:"s1",disabled:!t.enableFreeu}),_.jsx(Xt,{id:"freeu-s1",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.s1,allowFloat:!0,onNumberValueChange:N=>{i({freeuConfig:{...t.freeuConfig,s1:N}})}})]}),_.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[_.jsx(Ke,{htmlFor:"freeu-s2",text:"s2",disabled:!t.enableFreeu}),_.jsx(Xt,{id:"freeu-s2",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.s2,allowFloat:!0,onNumberValueChange:N=>{i({freeuConfig:{...t.freeuConfig,s2:N}})}})]})]}),_.jsxs("div",{className:"flex justify-center gap-6",children:[_.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[_.jsx(Ke,{htmlFor:"freeu-b1",text:"b1",disabled:!t.enableFreeu}),_.jsx(Xt,{id:"freeu-b1",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.b1,allowFloat:!0,onNumberValueChange:N=>{i({freeuConfig:{...t.freeuConfig,b1:N}})}})]}),_.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[_.jsx(Ke,{htmlFor:"freeu-b2",text:"b2",disabled:!t.enableFreeu}),_.jsx(Xt,{id:"freeu-b2",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.b2,allowFloat:!0,onNumberValueChange:N=>{i({freeuConfig:{...t.freeuConfig,b2:N}})}})]})]})]}),_.jsx(xt,{})]}):null,w=()=>t.model.need_prompt?_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx(Ke,{text:"Negative prompt",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#negative-prompt",toolTip:"Negative prompt guides the model away from generating certain things in an image"}),_.jsx("div",{className:"pl-2 pr-4",children:_.jsx(w2,{ref:d,rows:4,onKeyUp,className:"max-h-[8rem] overflow-y-auto mb-2",placeholder:"",id:"negative-prompt",value:t.negativePrompt,onInput:N=>{N.preventDefault(),N.stopPropagation();const q=N.target;i({negativePrompt:q.value})}})})]}):null,x=()=>t.model.name!==B1?null:_.jsxs("div",{children:[_.jsxs(ot,{children:[_.jsx(Ke,{text:"Example Image",toolTip:"An example image to guide image generation."}),_.jsx(KS,{tooltip:"Upload example image",onFileUpload:N=>{p({paintByExampleFile:N})},children:_.jsx(G$,{})})]}),u?_.jsx("div",{className:"flex justify-center items-center",children:_.jsx("img",{src:l.src,alt:"example",className:"max-w-[200px] max-h-[200px] m-3"})}):_.jsx(_.Fragment,{}),_.jsx(It,{variant:"default",className:"w-full",disabled:r||!u,onClick:()=>{o("Fantasy-Studio/Paint-by-Example")},children:"Paint"})]}),S=()=>t.model.name!==o$?null:_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{text:"Image guidance scale",toolTip:"Push the generated image towards the inital image. Higher image guidance scale encourages generated images that are closely linked to the source image, usually at the expense of lower image quality.",url:"https://huggingface.co/docs/diffusers/main/en/api/pipelines/pix2pix"}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[150],min:100,max:1e3,step:1,value:[Math.floor(t.p2pImageGuidanceScale*100)],onValueChange:N=>i({p2pImageGuidanceScale:N[0]/100})}),_.jsx(Xt,{id:"image-guidance-scale",className:"w-[60px] rounded-full",numberValue:t.p2pImageGuidanceScale,allowFloat:!0,onNumberValueChange:N=>{i({p2pImageGuidanceScale:N})}})]})]}),C=()=>t.model.support_strength?_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{text:"Strength",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#strength",toolTip:"Strength is a measure of how much noise is added to the base image, which influences how similar the output is to the base image. Higher value means more noise and more different from the base image"}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[100],min:10,max:100,step:1,value:[Math.floor(t.sdStrength*100)],onValueChange:N=>i({sdStrength:N[0]/100})}),_.jsx(Xt,{id:"strength",className:"w-[60px] rounded-full",numberValue:t.sdStrength,allowFloat:!0,onNumberValueChange:N=>{i({sdStrength:N})}})]})]}):null,E=()=>t.model.support_outpainting?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsxs(ot,{children:[_.jsx(Ke,{text:"Extender",toolTip:"Perform outpainting on images to expand it's content."}),_.jsx(Fn,{id:"extender",checked:t.showExtender,onCheckedChange:N=>{i({showExtender:N}),N&&i({showCropper:!1})}})]}),_.jsxs(ot,{children:[_.jsxs(Or,{defaultValue:t.extenderDirection,value:t.extenderDirection,onValueChange:N=>{s(N)},children:[_.jsx(sr,{className:"w-[65px] h-7",disabled:!t.showExtender,children:_.jsx(Rr,{placeholder:"Select axis"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:Object.values(Lt).map(N=>_.jsx(lr,{value:N,children:N},N))})})]}),_.jsxs("div",{className:"flex gap-1 justify-center mt-0",children:[_.jsx(Tc,{text:"1.25x",onClick:()=>a(t.extenderDirection,1.25)}),_.jsx(Tc,{text:"1.5x",onClick:()=>a(t.extenderDirection,1.5)}),_.jsx(Tc,{text:"1.75x",onClick:()=>a(t.extenderDirection,1.75)}),_.jsx(Tc,{text:"2.0x",onClick:()=>a(t.extenderDirection,2)})]})]})]}),_.jsx(xt,{})]}):null,k=()=>t.model.name!==s$?null:_.jsxs(ot,{children:[_.jsx(Ke,{text:"Task",toolTip:"PowerPaint task. When using extender, image-outpainting task will be auto used. For object-removal and image-outpainting, it is recommended to set the guidance_scale at 10 or above."}),_.jsxs(Or,{defaultValue:t.powerpaintTask,value:t.powerpaintTask,onValueChange:N=>{i({powerpaintTask:N})},disabled:t.showExtender,children:[_.jsx(sr,{className:"w-[140px]",children:_.jsx(Rr,{placeholder:"Select task"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:[is.text_guided,is.object_remove,is.shape_guided].map(N=>_.jsx(lr,{value:N,children:N},N))})})]})]}),L=()=>_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{htmlFor:"steps",text:"Steps",toolTip:"The number of denoising steps. More denoising steps usually lead to a higher quality image at the expense of slower inference."}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[30],min:1,max:100,step:1,value:[Math.floor(t.sdSteps)],onValueChange:N=>i({sdSteps:N[0]})}),_.jsx(Xt,{id:"steps",className:"w-[60px] rounded-full",numberValue:t.sdSteps,allowFloat:!1,onNumberValueChange:N=>{i({sdSteps:N})}})]})]}),B=()=>_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{text:"Guidance scale",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#guidance-scale",toolTip:"Guidance scale affects how aligned the text prompt and generated image are. Higher value means the prompt and generated image are closely aligned, so the output is a stricter interpretation of the prompt"}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[750],min:0,max:1500,step:1,value:[Math.floor(t.sdGuidanceScale*100)],onValueChange:N=>i({sdGuidanceScale:N[0]/100})}),_.jsx(Xt,{id:"guidance-scale",className:"w-[60px] rounded-full",numberValue:t.sdGuidanceScale,allowFloat:!0,onNumberValueChange:N=>{i({sdGuidanceScale:N})}})]})]}),G=()=>t.model.name===a$?null:_.jsxs(ot,{children:[_.jsx(Ke,{text:"Sampler"}),_.jsxs(Or,{defaultValue:t.sdSampler,value:t.sdSampler,onValueChange:N=>{i({sdSampler:N})},children:[_.jsx(sr,{className:"w-[175px] text-xs",children:_.jsx(Rr,{placeholder:"Select sampler"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:e.map(N=>_.jsx(lr,{value:N,className:"text-xs",children:N},N))})})]})]}),z=()=>_.jsxs(ot,{children:[_.jsx(Ke,{text:"Seed",toolTip:"Using same parameters and a fixed seed can generate same result image."}),_.jsxs("div",{className:"flex gap-2 justify-center items-center",children:[_.jsx(Fn,{id:"seed",checked:t.seedFixed,onCheckedChange:N=>{i({seedFixed:N})}}),_.jsx(Xt,{id:"seed",className:"w-[100px]",disabled:!t.seedFixed,numberValue:t.seed,allowFloat:!1,onNumberValueChange:N=>{i({seed:N})}})]})]}),Q=()=>_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{text:"Mask blur",toolTip:"How much to blur the mask before processing, in pixels. Make the generated inpainting boundaries appear more natural."}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[t.sdMaskBlur],min:0,max:96,step:1,value:[Math.floor(t.sdMaskBlur)],onValueChange:N=>i({sdMaskBlur:N[0]})}),_.jsx(Xt,{id:"mask-blur",className:"w-[60px] rounded-full",numberValue:t.sdMaskBlur,allowFloat:!1,onNumberValueChange:N=>{i({sdMaskBlur:N})}})]})]}),I=()=>_.jsxs(_.Fragment,{children:[_.jsxs(ot,{children:[_.jsx(Ke,{text:"Match histograms",toolTip:"Match the inpainting result histogram to the source image histogram",url:"https://github.com/Sanster/lama-cleaner/pull/143#issuecomment-1325859307"}),_.jsx(Fn,{id:"match-histograms",checked:t.sdMatchHistograms,onCheckedChange:N=>{i({sdMatchHistograms:N})}})]}),_.jsx(xt,{})]}),M=()=>_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex flex-col gap-1",children:[_.jsx(Ke,{htmlFor:"adjustMaskKernelSize",text:h("Adjust Mask"),toolTip:"Expand or shrink mask. Using the slider to adjust the kernel size for dilation or erosion."}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[12],min:1,max:100,step:1,value:[Math.floor(t.adjustMaskKernelSize)],onValueChange:N=>i({adjustMaskKernelSize:N[0]})}),_.jsx(Xt,{id:"adjustMaskKernelSize",className:"w-[60px] rounded-full",numberValue:t.adjustMaskKernelSize,allowFloat:!1,onNumberValueChange:N=>{i({adjustMaskKernelSize:N})}})]}),_.jsxs(ot,{children:[_.jsxs("div",{className:"flex gap-1 justify-start",children:[_.jsx(It,{variant:"outline",className:"p-1 h-8",onClick:()=>c("expand"),disabled:r,children:_.jsx("div",{className:"flex items-center gap-1 select-none",children:h("Expand")})}),_.jsx(It,{variant:"outline",className:"p-1 h-8",onClick:()=>c("shrink"),disabled:r,children:_.jsx("div",{className:"flex items-center gap-1 select-none",children:h("Shrink")})}),_.jsx(It,{variant:"outline",className:"p-1 h-8",onClick:()=>c("reverse"),disabled:r,children:_.jsx("div",{className:"flex items-center gap-1 select-none",children:h("Reverse")})})]}),_.jsx(It,{variant:"outline",className:"p-1 h-8 justify-self-end",onClick:f,disabled:r,children:_.jsx("div",{className:"flex items-center gap-1 select-none",children:h("Clear")})})]})]}),_.jsx(xt,{})]});return _.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[g(),E(),M(),k(),L(),B(),S(),C(),G(),z(),w(),_.jsx(xt,{}),m(),v(),Q(),I(),y(),x()]})},q6=()=>{const[e,t]=We(n=>[n.settings,n.updateSettings]);return _.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[_.jsxs(ot,{children:[_.jsx(Ke,{text:"CV2 Flag",url:"https://docs.opencv.org/4.8.0/d7/d8b/group__photo__inpaint.html#gga8002a65f5a3328fbf15df81b842d3c3ca892824c38e258feb5e72f308a358d52e"}),_.jsxs(Or,{value:e.cv2Flag,onValueChange:n=>{t({cv2Flag:n})},children:[_.jsx(sr,{className:"w-[160px]",children:_.jsx(Rr,{placeholder:"Select flag"})}),_.jsx(ar,{align:"end",children:_.jsx($r,{children:Object.values(mg).map(n=>_.jsx(lr,{value:n,children:n},n))})})]})]}),_.jsx(Ke,{text:"CV2 Radius",url:"https://docs.opencv.org/4.8.0/d7/d8b/group__photo__inpaint.html#gga8002a65f5a3328fbf15df81b842d3c3ca892824c38e258feb5e72f308a358d52e"}),_.jsxs(ot,{children:[_.jsx(jn,{className:"w-[180px]",defaultValue:[5],min:1,max:100,step:1,value:[Math.floor(e.cv2Radius)],onValueChange:n=>t({cv2Radius:n[0]})}),_.jsx(Xt,{id:"cv2-radius",className:"w-[60px] rounded-full",numberValue:e.cv2Radius,allowFloat:!1,onNumberValueChange:n=>{t({cv2Radius:n})}})]})]})},Z6=()=>{const[e,t]=We(o=>[o.settings,o.windowSize]),[n,r]=RI(!0);if(Zn("c",()=>{r()}),e.model.name!==U0&&e.model.name!==H0&&e.model.model_type===ci)return null;const i=()=>e.model.name===U0?_.jsx(G6,{}):e.model.name===H0?_.jsx(q6,{}):_.jsx(K6,{});return _.jsxs(V6,{open:n,modal:!1,children:[_.jsx(U6,{tabIndex:-1,className:"z-10 outline-none absolute top-[68px] right-6 rounded-lg border bg-background",hidden:n,children:_.jsx(It,{variant:"ghost",size:"icon",asChild:!0,className:"p-1.5",onClick:r,children:_.jsx(D$,{strokeWidth:1})})}),_.jsxs(v2,{side:"right",className:"w-[300px] mt-[60px] outline-none pl-4 pr-1",onOpenAutoFocus:o=>o.preventDefault(),onPointerDownOutside:o=>o.preventDefault(),children:[_.jsxs(y2,{children:[_.jsxs(ot,{children:[_.jsx("div",{className:"overflow-hidden mr-8",children:e.model.name.split("/")[e.model.name.split("/").length-1]}),_.jsx(It,{variant:"ghost",size:"icon",className:"border h-6 w-6",onClick:r,children:_.jsx(M$,{strokeWidth:1})})]}),_.jsx(xt,{})]}),_.jsx(qg,{style:{height:t.height-160},className:"pr-3",children:i()})]})]})},Q6={name:"Fantasy-Studio/Paint-by-Example",path:"Fantasy-Studio/Paint-by-Example",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},J6=()=>{const[e,t]=We(n=>[n.file,n.updateSettings]);return b.useEffect(()=>{t({model:Q6})},[]),_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex gap-3 absolute top-[68px] left-[24px] items-center",children:[_.jsx(z6,{}),_.jsx(b4,{})]}),_.jsx(Z6,{}),e?_.jsx(w4,{file:e}):_.jsx(_.Fragment,{})]})},e7=()=>{const[e,t]=b.useState(window.innerWidth),n=b.useCallback(()=>{t(window.innerWidth)},[]);if(b.useEffect(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),e<768)return"mobile";if(e>=768&&e<1224)return"tablet";if(e>=1224)return"desktop"};function t7(e){const{onSelection:t}=e,{t:n}=Gd(),[r]=b.useState(`file-upload-${Math.random().toString()}`),i=e7();function o(p){if(!(!p||!p.type.match("image.*")))try{if(p.size>20*1024*1024)throw new Error("file too large");t(p)}catch(s){alert(`error: ${s.message}`)}}return _.jsx("div",{className:"absolute flex w-screen h-screen justify-center items-center pointer-events-none",children:_.jsx("label",{htmlFor:r,className:"grid bg-background border-[2px] border-[dashed] rounded-lg min-w-[600px] hover:bg-primary hover:text-primary-foreground pointer-events-auto",children:_.jsxs("div",{className:"grid p-16 w-full h-full",onDragOver:p=>{p.stopPropagation(),p.preventDefault()},children:[_.jsx("input",{className:"hidden",id:r,name:r,type:"file",onChange:p=>{var s;const a=(s=p.currentTarget.files)==null?void 0:s[0];a&&o(a)},accept:"image/png, image/jpeg"}),_.jsx("p",{className:"text-center",children:i==="desktop"?n("Image load"):"Tap here to load your picture"})]})})})}const n7=["image/jpeg","image/png","image/webp","image/bmp","image/tiff"];function r7(){const[e,t,n,r]=We(l=>[l.file,l.updateAppState,l.setServerConfig,l.setFile]),i=zI();b.useEffect(()=>{t({windowSize:i})},[i]);const o=b.useRef(0),p=b.useCallback(l=>{l.preventDefault(),l.stopPropagation()},[]),a=b.useCallback(l=>{l.preventDefault(),l.stopPropagation(),o.current+=1},[]),s=b.useCallback(l=>{l.preventDefault(),l.stopPropagation(),o.current-=1,o.current>0},[]),c=b.useCallback(l=>{if(l.preventDefault(),l.stopPropagation(),l.dataTransfer.files&&l.dataTransfer.files.length>0){if(!(l.dataTransfer.files.length>1)){const u=l.dataTransfer.files[0],d=u.type;n7.includes(d)&&r(u)}l.dataTransfer.clearData()}},[]),f=b.useCallback(l=>{if(!l.clipboardData)return;const u=l.clipboardData.items,d=[].slice.call(u).filter(m=>m.type.indexOf("image")!==-1);if(d.length===0)return;l.preventDefault(),l.stopPropagation();const g=d[0].getAsFile();g&&r(g)},[]);return b.useEffect(()=>(window.addEventListener("dragenter",a),window.addEventListener("dragleave",s),window.addEventListener("dragover",p),window.addEventListener("drop",c),window.addEventListener("paste",f),function(){window.removeEventListener("dragenter",a),window.removeEventListener("dragleave",s),window.removeEventListener("dragover",p),window.removeEventListener("drop",c),window.removeEventListener("paste",f)})),_.jsxs("main",{className:"flex min-h-screen flex-col items-center justify-between w-full bg-[radial-gradient(circle_at_1px_1px,_#8e8e8e8e_1px,_transparent_0)] [background-size:20px_20px] bg-repeat",children:[_.jsx(k$,{}),_.jsx(dj,{}),_.jsx(J6,{}),e?_.jsx(_.Fragment,{}):_.jsx(t7,{onSelection:async l=>{r(l)}})]})}var Ju=["light","dark"],fv="(prefers-color-scheme: dark)",i7=typeof window>"u",b2=b.createContext(void 0),o7=e=>b.useContext(b2)?e.children:b.createElement(a7,{...e}),s7=["light","dark"],a7=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:o=s7,defaultTheme:p=n?"system":"light",attribute:a="data-theme",value:s,children:c,nonce:f})=>{let[l,u]=b.useState(()=>Tw(i,p)),[d,h]=b.useState(()=>Tw(i)),g=s?Object.values(s):o,m=b.useCallback(x=>{let S=x;if(!S)return;x==="system"&&n&&(S=kw());let C=s?s[S]:S,E=t?c7():null,k=document.documentElement;if(a==="class"?(k.classList.remove(...g),C&&k.classList.add(C)):C?k.setAttribute(a,C):k.removeAttribute(a),r){let L=Ju.includes(p)?p:null,B=Ju.includes(S)?S:L;k.style.colorScheme=B}E==null||E()},[]),v=b.useCallback(x=>{let S=typeof x=="function"?x(x):x;u(S);try{localStorage.setItem(i,S)}catch{}},[e]),y=b.useCallback(x=>{let S=kw(x);h(S),l==="system"&&n&&!e&&m("system")},[l,e]);b.useEffect(()=>{let x=window.matchMedia(fv);return x.addListener(y),y(x),()=>x.removeListener(y)},[y]),b.useEffect(()=>{let x=S=>{if(S.key!==i)return;let C=S.newValue||p;v(C)};return window.addEventListener("storage",x),()=>window.removeEventListener("storage",x)},[v]),b.useEffect(()=>{m(e??l)},[e,l]);let w=b.useMemo(()=>({theme:l,setTheme:v,forcedTheme:e,resolvedTheme:l==="system"?d:l,themes:n?[...o,"system"]:o,systemTheme:n?d:void 0}),[l,v,e,d,n,o]);return b.createElement(b2.Provider,{value:w},b.createElement(l7,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:o,defaultTheme:p,attribute:a,value:s,children:c,attrs:g,nonce:f}),c)},l7=b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:p,attrs:a,nonce:s})=>{let c=o==="system",f=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(h=>`'${h}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,l=i?Ju.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",u=(h,g=!1,m=!0)=>{let v=p?p[h]:h,y=g?h+"|| ''":`'${v}'`,w="";return i&&m&&!g&&Ju.includes(h)&&(w+=`d.style.colorScheme = '${h}';`),n==="class"?g||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},d=e?`!function(){${f}${u(e)}}()`:r?`!function(){try{${f}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${fv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${u("dark")}}else{${u("light")}}}else if(e){${p?`var x=${JSON.stringify(p)};`:""}${u(p?"x[e]":"e",!0)}}${c?"":"else{"+u(o,!1,!1)+"}"}${l}}catch(e){}}()`:`!function(){try{${f}var e=localStorage.getItem('${t}');if(e){${p?`var x=${JSON.stringify(p)};`:""}${u(p?"x[e]":"e",!0)}}else{${u(o,!1,!1)};}${l}}catch(t){}}();`;return b.createElement("script",{nonce:s,dangerouslySetInnerHTML:{__html:d}})}),Tw=(e,t)=>{if(i7)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},c7=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},kw=e=>(e||(e=window.matchMedia(fv)),e.matches?"dark":"light");const u7={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class ed{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||u7,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new ed(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new ed(this.logger,t)}}var cr=new ed;class ff{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(p=>{let[a,s]=p;for(let c=0;c<s;c++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(p=>{let[a,s]=p;for(let c=0;c<s;c++)a.apply(a,[t,...r])})}}function ha(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function Pw(e){return e==null?"":""+e}function d7(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}const f7=/###/g;function Ba(e,t,n){function r(a){return a&&a.indexOf("###")>-1?a.replace(f7,"."):a}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?t:t.split(".");let p=0;for(;p<o.length-1;){if(i())return{};const a=r(o[p]);!e[a]&&n&&(e[a]=new n),Object.prototype.hasOwnProperty.call(e,a)?e=e[a]:e={},++p}return i()?{}:{obj:e,k:r(o[p])}}function Ow(e,t,n){const{obj:r,k:i}=Ba(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],p=t.slice(0,t.length-1),a=Ba(e,p,Object);for(;a.obj===void 0&&p.length;)o=`${p[p.length-1]}.${o}`,p=p.slice(0,p.length-1),a=Ba(e,p,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n}function h7(e,t,n,r){const{obj:i,k:o}=Ba(e,t,Object);i[o]=i[o]||[],i[o].push(n)}function td(e,t){const{obj:n,k:r}=Ba(e,t);if(n)return n[r]}function p7(e,t,n){const r=td(e,n);return r!==void 0?r:td(t,n)}function x2(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):x2(e[r],t[r],n):e[r]=t[r]);return e}function No(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var m7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function g7(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>m7[t]):e}class v7{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const y7=[" ",",","?","!",";"],w7=new v7(20);function b7(e,t,n){t=t||"",n=n||"";const r=y7.filter(p=>t.indexOf(p)<0&&n.indexOf(p)<0);if(r.length===0)return!0;const i=w7.getRegExp(`(${r.map(p=>p==="?"?"\\?":p).join("|")})`);let o=!i.test(e);if(!o){const p=e.indexOf(n);p>0&&!i.test(e.substring(0,p))&&(o=!0)}return o}function lm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let p,a="";for(let s=o;s<r.length;++s)if(s!==o&&(a+=n),a+=r[s],p=i[a],p!==void 0){if(["string","number","boolean"].indexOf(typeof p)>-1&&s<r.length-1)continue;o+=s-o+1;break}i=p}return i}function nd(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class $w extends ff{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,p=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;t.indexOf(".")>-1?a=t.split("."):(a=[t,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&o?a.push(...r.split(o)):a.push(r)));const s=td(this.data,a);return!s&&!n&&!r&&t.indexOf(".")>-1&&(t=a[0],n=a[1],r=a.slice(2).join(".")),s||!p||typeof r!="string"?s:lm(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const p=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[t,n];r&&(a=a.concat(p?r.split(p):r)),t.indexOf(".")>-1&&(a=t.split("."),i=n,n=a[1]),this.addNamespaces(n),Ow(this.data,a,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[t,n];t.indexOf(".")>-1&&(a=t.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let s=td(this.data,a)||{};p.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?x2(s,r,o):s={...s,...r},Ow(this.data,a,s),p.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var S2={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const Rw={};class rd extends ff{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),d7(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=cr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const p=r&&t.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!b7(t,r,i);if(p&&!a){const s=t.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:t,namespaces:o};const c=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),t=c.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:p,namespaces:a}=this.extractFromKey(t[t.length-1],n),s=a[a.length-1],c=n.lng||this.language,f=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(f){const x=n.nsSeparator||this.options.nsSeparator;return i?{res:`${s}${x}${p}`,usedKey:p,exactUsedKey:p,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(n)}:`${s}${x}${p}`}return i?{res:p,usedKey:p,exactUsedKey:p,usedLng:c,usedNS:s,usedParams:this.getUsedParamsDetails(n)}:p}const l=this.resolve(t,n);let u=l&&l.res;const d=l&&l.usedKey||p,h=l&&l.exactUsedKey||p,g=Object.prototype.toString.apply(u),m=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&u&&(typeof u!="string"&&typeof u!="boolean"&&typeof u!="number")&&m.indexOf(g)<0&&!(typeof v=="string"&&Array.isArray(u))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,u,{...n,ns:a}):`key '${p} (${this.language})' returned an object instead of string.`;return i?(l.res=x,l.usedParams=this.getUsedParamsDetails(n),l):x}if(o){const x=Array.isArray(u),S=x?[]:{},C=x?h:d;for(const E in u)if(Object.prototype.hasOwnProperty.call(u,E)){const k=`${C}${o}${E}`;S[E]=this.translate(k,{...n,joinArrays:!1,ns:a}),S[E]===k&&(S[E]=u[E])}u=S}}else if(y&&typeof v=="string"&&Array.isArray(u))u=u.join(v),u&&(u=this.extendTranslation(u,t,n,r));else{let x=!1,S=!1;const C=n.count!==void 0&&typeof n.count!="string",E=rd.hasDefaultValue(n),k=C?this.pluralResolver.getSuffix(c,n.count,n):"",L=n.ordinal&&C?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",B=C&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),G=B&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${k}`]||n[`defaultValue${L}`]||n.defaultValue;!this.isValidLookup(u)&&E&&(x=!0,u=G),this.isValidLookup(u)||(S=!0,u=p);const Q=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:u,I=E&&G!==u&&this.options.updateMissing;if(S||x||I){if(this.logger.log(I?"updateKey":"missingKey",c,s,p,I?G:u),o){const H=this.resolve(p,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let H=0;H<N.length;H++)M.push(N[H]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(n.lng||this.language):M.push(n.lng||this.language);const q=(H,T,$)=>{const R=E&&$!==u?$:Q;this.options.missingKeyHandler?this.options.missingKeyHandler(H,s,T,R,I,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(H,s,T,R,I,n),this.emit("missingKey",H,s,T,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?M.forEach(H=>{const T=this.pluralResolver.getSuffixes(H,n);B&&n[`defaultValue${this.options.pluralSeparator}zero`]&&T.indexOf(`${this.options.pluralSeparator}zero`)<0&&T.push(`${this.options.pluralSeparator}zero`),T.forEach($=>{q([H],p+$,n[`defaultValue${$}`]||G)})}):q(M,p,G))}u=this.extendTranslation(u,t,n,l,r),S&&u===p&&this.options.appendNamespaceToMissingKey&&(u=`${s}:${p}`),(S||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${p}`:p,x?u:void 0):u=this.options.parseMissingKeyHandler(u))}return i?(l.res=u,l.usedParams=this.getUsedParamsDetails(n),l):u}extendTranslation(t,n,r,i,o){var p=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const c=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(c){const u=t.match(this.interpolator.nestingRegexp);f=u&&u.length}let l=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),t=this.interpolator.interpolate(t,l,r.lng||this.language,r),c){const u=t.match(this.interpolator.nestingRegexp),d=u&&u.length;f<d&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];return o&&o[0]===d[0]&&!r.context?(p.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):p.translate(...d,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,s=typeof a=="string"?[a]:a;return t!=null&&s&&s.length&&r.applyPostProcessor!==!1&&(t=S2.handle(s,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,p,a;return typeof t=="string"&&(t=[t]),t.forEach(s=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(s,n),f=c.key;i=f;let l=c.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=n.count!==void 0&&typeof n.count!="string",d=u&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),h=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);l.forEach(m=>{this.isValidLookup(r)||(a=m,!Rw[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(Rw[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(r))return;p=v;const y=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,f,v,m,n);else{let x;u&&(x=this.pluralResolver.getSuffix(v,n.count,n));const S=`${this.options.pluralSeparator}zero`,C=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(y.push(f+x),n.ordinal&&x.indexOf(C)===0&&y.push(f+x.replace(C,this.options.pluralSeparator)),d&&y.push(f+S)),h){const E=`${f}${this.options.contextSeparator}${n.context}`;y.push(E),u&&(y.push(E+x),n.ordinal&&x.indexOf(C)===0&&y.push(E+x.replace(C,this.options.pluralSeparator)),d&&y.push(E+S))}}let w;for(;w=y.pop();)this.isValidLookup(r)||(o=w,r=this.getResource(v,m,w,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:p,usedNS:a}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function xh(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Aw{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cr.create("languageUtils")}getScriptPartFromCode(t){if(t=nd(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=nd(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=xh(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=xh(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=xh(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=p=>{p&&(this.isSupportedCode(p)?i.push(p):this.logger.warn(`rejecting language code not found in supportedLngs: ${p}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(p=>{i.indexOf(p)<0&&o(this.formatLanguageCode(p))}),i}}let x7=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],S7={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const _7=["v1","v2","v3"],C7=["v4"],Dw={zero:0,one:1,two:2,few:3,many:4,other:5};function E7(){const e={};return x7.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:S7[t.fc]}})}),e}class T7{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=cr.create("pluralResolver"),(!this.options.compatibilityJSON||C7.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=E7()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(nd(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Dw[i]-Dw[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!_7.includes(this.options.compatibilityJSON)}}function Mw(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=p7(e,t,n);return!o&&i&&typeof n=="string"&&(o=lm(e,n,r),o===void 0&&(o=lm(t,n,r))),o}class k7{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=cr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:p,suffix:a,suffixEscaped:s,formatSeparator:c,unescapeSuffix:f,unescapePrefix:l,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:v,alwaysFormat:y}=t.interpolation;this.escape=n!==void 0?n:g7,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?No(o):p||"{{",this.suffix=a?No(a):s||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=u?No(u):d||No("$t("),this.nestingSuffix=h?No(h):g||No(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=v||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,p,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(h){return h.replace(/\$/g,"$$$$")}const f=h=>{if(h.indexOf(this.formatSeparator)<0){const y=Mw(n,s,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:h}):y}const g=h.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(Mw(n,s,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:m})};this.resetRegExp();const l=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,u=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>c(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?c(this.escape(h)):c(h)}].forEach(h=>{for(a=0;o=h.regex.exec(t);){const g=o[1].trim();if(p=f(g),p===void 0)if(typeof l=="function"){const v=l(t,o,i);p=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))p="";else if(u){p=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),p="";else typeof p!="string"&&!this.useRawValueToEscape&&(p=Pw(p));const m=h.safeValue(p);if(t=t.replace(o[0],m),u?(h.regex.lastIndex+=p.length,h.regex.lastIndex-=o[0].length):h.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,p;function a(s,c){const f=this.nestingOptionsSeparator;if(s.indexOf(f)<0)return s;const l=s.split(new RegExp(`${f}[ ]*{`));let u=`{${l[1]}`;s=l[0],u=this.interpolate(u,p);const d=u.match(/'/g),h=u.match(/"/g);(d&&d.length%2===0&&!h||h.length%2!==0)&&(u=u.replace(/'/g,'"'));try{p=JSON.parse(u),c&&(p={...c,...p})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${s}`,g),`${s}${f}${u}`}return p.defaultValue&&p.defaultValue.indexOf(this.prefix)>-1&&delete p.defaultValue,s}for(;i=this.nestingRegexp.exec(t);){let s=[];p={...r},p=p.replace&&typeof p.replace!="string"?p.replace:p,p.applyPostProcessor=!1,delete p.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(l=>l.trim());i[1]=f.shift(),s=f,c=!0}if(o=n(a.call(this,i[1].trim(),p),p),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=Pw(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),c&&(o=s.reduce((f,l)=>this.format(f,l,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function P7(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(p=>{if(p){const[a,...s]=p.split(":"),c=s.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}}function Lo(e){const t={};return function(r,i,o){const p=i+JSON.stringify(o);let a=t[p];return a||(a=e(nd(i),o),t[p]=a),a(r)}}class O7{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=cr.create("formatter"),this.options=t,this.formats={number:Lo((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Lo((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Lo((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Lo((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Lo((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Lo(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,s)=>{const{formatName:c,formatOptions:f}=P7(s);if(this.formats[c]){let l=a;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},d=u.locale||u.lng||i.locale||i.lng||r;l=this.formats[c](a,d,{...f,...i,...u})}catch(u){this.logger.warn(u)}return l}else this.logger.warn(`there was no format function for ${c}`);return a},t)}}function $7(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class R7 extends ff{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},p={},a={},s={};return t.forEach(c=>{let f=!0;n.forEach(l=>{const u=`${c}|${l}`;!r.reload&&this.store.hasResourceBundle(c,l)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?p[u]===void 0&&(p[u]=!0):(this.state[u]=1,f=!1,p[u]===void 0&&(p[u]=!0),o[u]===void 0&&(o[u]=!0),s[l]===void 0&&(s[l]=!0)))}),f||(a[c]=!0)}),(Object.keys(o).length||Object.keys(p).length)&&this.queue.push({pending:p,pendingCount:Object.keys(p).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(p),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(t,n,r){const i=t.split("|"),o=i[0],p=i[1];n&&this.emit("failedLoading",o,p,n),r&&this.store.addResourceBundle(o,p,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const a={};this.queue.forEach(s=>{h7(s.loaded,[o],p),$7(s,t),n&&s.errors.push(n),s.pendingCount===0&&!s.done&&(Object.keys(s.loaded).forEach(c=>{a[c]||(a[c]={});const f=s.loaded[c];f.length&&f.forEach(l=>{a[c][l]===void 0&&(a[c][l]=!0)})}),s.done=!0,s.errors.length?s.callback(s.errors):s.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(s=>!s.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,p=arguments.length>5?arguments[5]:void 0;if(!t.length)return p(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:p});return}this.readingCalls++;const a=(c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const l=this.waitingReads.shift();this.read(l.lng,l.ns,l.fcName,l.tried,l.wait,l.callback)}if(c&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,p)},o);return}p(c,f)},s=this.backend[r].bind(this.backend);if(s.length===2){try{const c=s(t,n);c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}return}return s(t,n,a)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(p=>{this.loadOne(p)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(p,a)=>{p&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,p),!p&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(t,p,a)})}saveMissing(t,n,r,i,o){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const s={...p,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let f;c.length===5?f=c(t,n,r,i,s):f=c(t,n,r,i),f&&typeof f.then=="function"?f.then(l=>a(null,l)).catch(a):a(null,f)}catch(f){a(f)}else c(t,n,r,i,a,s)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function Nw(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Lw(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function kc(){}function A7(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class xl extends ff{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Lw(t),this.services={},this.logger=cr,this.modules={external:[]},A7(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=Nw();this.options={...i,...this.options,...Lw(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?cr.init(o(this.modules.logger),this.options):cr.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=O7);const l=new Aw(this.options);this.store=new $w(this.options.resources,this.options);const u=this.services;u.logger=cr,u.resourceStore=this.store,u.languageUtils=l,u.pluralResolver=new T7(l,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=o(f),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new k7(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new R7(o(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(d){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];t.emit(d,...g)}),this.modules.languageDetector&&(u.languageDetector=o(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=o(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new rd(this.services,this.options),this.translator.on("*",function(d){for(var h=arguments.length,g=new Array(h>1?h-1:0),m=1;m<h;m++)g[m-1]=arguments[m];t.emit(d,...g)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,r||(r=kc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return t.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return t.store[f](...arguments),t}});const s=ha(),c=()=>{const f=(l,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(u),r(l,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),s}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kc;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],p=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&o.indexOf(c)<0&&o.push(c)})};i?p(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(s=>p(s)),this.options.preload&&this.options.preload.forEach(a=>p(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(t,n,r){const i=ha();return t||(t=this.languages),n||(n=this.options.ns),r||(r=kc),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&S2.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=ha();this.emit("languageChanging",t);const o=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},p=(s,c)=>{c?(o(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(s,function(){return r.t(...arguments)})},a=s=>{!t&&!s&&this.services.languageDetector&&(s=[]);const c=typeof s=="string"?s:this.services.languageUtils.getBestMatchFromCodes(s);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,f=>{p(f,c)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),i}getFixedT(t,n,r){var i=this;const o=function(p,a){let s;if(typeof a!="object"){for(var c=arguments.length,f=new Array(c>2?c-2:0),l=2;l<c;l++)f[l-2]=arguments[l];s=i.options.overloadTranslationOptionHandler([p,a].concat(f))}else s={...a};s.lng=s.lng||o.lng,s.lngs=s.lngs||o.lngs,s.ns=s.ns||o.ns,s.keyPrefix=s.keyPrefix||r||o.keyPrefix;const u=i.options.keySeparator||".";let d;return s.keyPrefix&&Array.isArray(p)?d=p.map(h=>`${s.keyPrefix}${u}${h}`):d=s.keyPrefix?`${s.keyPrefix}${u}${p}`:p,i.t(d,s)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const p=(a,s)=>{const c=this.services.backendConnector.state[`${a}|${s}`];return c===-1||c===2};if(n.precheck){const a=n.precheck(this,p);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||p(r,t)&&(!i||p(o,t)))}loadNamespaces(t,n){const r=ha();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=ha();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(p=>i.indexOf(p)<0&&this.services.languageUtils.isSupportedCode(p));return o.length?(this.options.preload=i.concat(o),this.loadResources(p=>{r.resolve(),n&&n(p)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Aw(Nw());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new xl(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kc;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new xl(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new $w(this.store.data,i),o.services.resourceStore=o.store),o.translator=new rd(o.services,i),o.translator.on("*",function(a){for(var s=arguments.length,c=new Array(s>1?s-1:0),f=1;f<s;f++)c[f-1]=arguments[f];o.emit(a,...c)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const At=xl.createInstance();At.createInstance=xl.createInstance;At.createInstance;At.dir;At.init;At.loadResources;At.reloadResources;At.use;At.changeLanguage;At.getFixedT;At.t;At.exists;At.setDefaultNamespace;At.hasLoadedNamespace;At.loadNamespaces;At.loadLanguages;const{slice:D7,forEach:M7}=[];function N7(e){return M7.call(D7.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const Fw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,L7=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(t);let o=`${e}=${i}`;if(r.maxAge>0){const p=r.maxAge-0;if(Number.isNaN(p))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(p)}`}if(r.domain){if(!Fw.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!Fw.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},jw={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=L7(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var F7={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return jw.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&typeof document<"u"&&jw.create(n,e,r,i,o)}},j7={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const p=i.substring(1).split("&");for(let a=0;a<p.length;a++){const s=p[a].indexOf("=");s>0&&p[a].substring(0,s)===t&&(n=p[a].substring(s+1))}}return n}};let pa=null;const Iw=()=>{if(pa!==null)return pa;try{pa=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{pa=!1}return pa};var I7={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Iw())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Iw()&&window.localStorage.setItem(n,e)}};let ma=null;const Bw=()=>{if(ma!==null)return ma;try{ma=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{ma=!1}return ma};var B7={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Bw())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Bw()&&window.sessionStorage.setItem(n,e)}},z7={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},V7={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},U7={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},H7={name:"subdomain",lookup(e){var i,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function W7(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class _2{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=N7(n,this.options||{},W7()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(F7),this.addDetector(j7),this.addDetector(I7),this.addDetector(B7),this.addDetector(z7),this.addDetector(V7),this.addDetector(U7),this.addDetector(H7)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}_2.type="languageDetector";const Y7={"Image load":"Click here or drag an image file",Pan:"Pan","Reset Zoom/Pan":"Reset Zoom/Pan","Decrease Brush Size":"Decrease Brush Size","Increase Brush Size":"Increase Brush Size","View Original Image":"View Original Image",Undo:"Undo",Redo:"Redo","Copy Result":"Copy Result","Paste Image":"Paste Image","Trigger Manually Inpainting":"Trigger Manually Inpainting","Toggle Hotkeys Dialog":"Toggle Hotkeys Dialog","Toggle Settings Dialog":"Toggle Settings Dialog","Toggle File Manager":"Toggle File Manager",Cropper:"Cropper","Adjust Mask":"Adjust Mask",Expand:"Expand",Shrink:"Shrink",Reverse:"Reverse",Clear:"Clear"},X7={translation:Y7},G7={"Image load":"Click aqui o arrastra una imagen",Pan:"Acercar o alejar zoom","Reset Zoom/Pan":"Resetear Zoom/Pan","Decrease Brush Size":"Disminuir pincel","Increase Brush Size":"Incrementar pincel","View Original Image":"Ver imagen original",Undo:"Deshacer",Redo:"Rehacer","Copy Result":"Copiar resultado","Paste Image":"Pegar imagen","Trigger Manually Inpainting":"Activar Inpainting manualmente","Toggle Hotkeys Dialog":"Activar dialogo de instrucciones de teclas","Toggle Settings Dialog":"Acivar dialogo de parametros","Toggle File Manager":"Activar dialogo de gestor de archivos",Cropper:"Recortar imagen","Adjust Mask":"Ajustar mascara",Expand:"Expandir",Shrink:"Disminuir",Reverse:"Reversar",Clear:"Borrar"},K7={translation:G7},q7={en:{...X7},es:{...K7}};At.use(_2).use(f3).init({resources:q7,fallbackLng:"es",interpolation:{escapeValue:!1}});const Z7=new _P;Sh.createRoot(document.getElementById("root")).render(_.jsx(Ce.StrictMode,{children:_.jsx(EP,{client:Z7,children:_.jsx(o7,{defaultTheme:"dark",disableTransitionOnChange:!0,children:_.jsx(OD,{children:_.jsx(r7,{})})})})}));
