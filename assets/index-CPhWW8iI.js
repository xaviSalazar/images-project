var Nd=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var de=(e,t,n)=>(Nd(e,t,"read from private field"),n?n.call(e):t.get(e)),ze=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},De=(e,t,n,r)=>(Nd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var cc=(e,t,n,r)=>({set _(i){De(e,t,i,n)},get _(){return de(e,t,r)}}),$t=(e,t,n)=>(Nd(e,t,"access private method"),n);function rT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Rm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iT(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var pb={exports:{}},kf={},mb={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Il=Symbol.for("react.element"),oT=Symbol.for("react.portal"),sT=Symbol.for("react.fragment"),aT=Symbol.for("react.strict_mode"),lT=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),fT=Symbol.for("react.forward_ref"),dT=Symbol.for("react.suspense"),hT=Symbol.for("react.memo"),pT=Symbol.for("react.lazy"),jv=Symbol.iterator;function mT(e){return e===null||typeof e!="object"?null:(e=jv&&e[jv]||e["@@iterator"],typeof e=="function"?e:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,yb={};function qs(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}qs.prototype.isReactComponent={};qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bb(){}bb.prototype=qs.prototype;function Mm(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}var Dm=Mm.prototype=new bb;Dm.constructor=Mm;vb(Dm,qs.prototype);Dm.isPureReactComponent=!0;var Bv=Array.isArray,wb=Object.prototype.hasOwnProperty,Nm={current:null},xb={key:!0,ref:!0,__self:!0,__source:!0};function Sb(e,t,n){var r,i={},o=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(o=""+t.key),t)wb.call(t,r)&&!xb.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),f=0;f<l;f++)a[f]=arguments[f+2];i.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Il,type:e,key:o,ref:h,props:i,_owner:Nm.current}}function gT(e,t){return{$$typeof:Il,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Fm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Il}function vT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var zv=/\/+/g;function Fd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vT(""+e.key):t.toString(36)}function Yc(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(o){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Il:case oT:h=!0}}if(h)return h=e,i=i(h),e=r===""?"."+Fd(h,0):r,Bv(i)?(n="",e!=null&&(n=e.replace(zv,"$&/")+"/"),Yc(i,t,n,"",function(f){return f})):i!=null&&(Fm(i)&&(i=gT(i,n+(!i.key||h&&h.key===i.key?"":(""+i.key).replace(zv,"$&/")+"/")+e)),t.push(i)),1;if(h=0,r=r===""?".":r+":",Bv(e))for(var l=0;l<e.length;l++){o=e[l];var a=r+Fd(o,l);h+=Yc(o,t,n,a,i)}else if(a=mT(e),typeof a=="function")for(e=a.call(e),l=0;!(o=e.next()).done;)o=o.value,a=r+Fd(o,l++),h+=Yc(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function uc(e,t,n){if(e==null)return e;var r=[],i=0;return Yc(e,r,"","",function(o){return t.call(n,o,i++)}),r}function yT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Xc={transition:null},bT={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:Nm};function _b(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:uc,forEach:function(e,t,n){uc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!Fm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=qs;Fe.Fragment=sT;Fe.Profiler=lT;Fe.PureComponent=Mm;Fe.StrictMode=aT;Fe.Suspense=dT;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bT;Fe.act=_b;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vb({},e.props),i=e.key,o=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,h=Nm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)wb.call(t,a)&&!xb.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var f=0;f<a;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:Il,type:e.type,key:i,ref:o,props:r,_owner:h}};Fe.createContext=function(e){return e={$$typeof:uT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cT,_context:e},e.Consumer=e};Fe.createElement=Sb;Fe.createFactory=function(e){var t=Sb.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:fT,render:e}};Fe.isValidElement=Fm;Fe.lazy=function(e){return{$$typeof:pT,_payload:{_status:-1,_result:e},_init:yT}};Fe.memo=function(e,t){return{$$typeof:hT,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=Xc.transition;Xc.transition={};try{e()}finally{Xc.transition=t}};Fe.unstable_act=_b;Fe.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Fe.useContext=function(e){return Xt.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Fe.useId=function(){return Xt.current.useId()};Fe.useImperativeHandle=function(e,t,n){return Xt.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return Xt.current.useReducer(e,t,n)};Fe.useRef=function(e){return Xt.current.useRef(e)};Fe.useState=function(e){return Xt.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return Xt.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return Xt.current.useTransition()};Fe.version="18.3.1";mb.exports=Fe;var x=mb.exports;const ke=Rm(x),wT=rT({__proto__:null,default:ke},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT=x,ST=Symbol.for("react.element"),_T=Symbol.for("react.fragment"),CT=Object.prototype.hasOwnProperty,ET=xT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TT={key:!0,ref:!0,__self:!0,__source:!0};function Cb(e,t,n){var r,i={},o=null,h=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)CT.call(t,r)&&!TT.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ST,type:e,key:o,ref:h,props:i,_owner:ET.current}}kf.Fragment=_T;kf.jsx=Cb;kf.jsxs=Cb;pb.exports=kf;var T=pb.exports,Wh={},Eb={exports:{}},xn={},Tb={exports:{}},kb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,k){var R=U.length;U.push(k);e:for(;0<R;){var j=R-1>>>1,A=U[j];if(0<i(A,k))U[j]=k,U[R]=A,R=j;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var k=U[0],R=U.pop();if(R!==k){U[0]=R;e:for(var j=0,A=U.length,Y=A>>>1;j<Y;){var L=2*(j+1)-1,$=U[L],H=L+1,W=U[H];if(0>i($,R))H<A&&0>i(W,$)?(U[j]=W,U[H]=R,j=H):(U[j]=$,U[L]=R,j=L);else if(H<A&&0>i(W,R))U[j]=W,U[H]=R,j=H;else break e}}return k}function i(U,k){var R=U.sortIndex-k.sortIndex;return R!==0?R:U.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var h=Date,l=h.now();e.unstable_now=function(){return h.now()-l}}var a=[],f=[],u=1,s=null,c=3,d=!1,p=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var k=n(f);k!==null;){if(k.callback===null)r(f);else if(k.startTime<=U)r(f),k.sortIndex=k.expirationTime,t(a,k);else break;k=n(f)}}function w(U){if(g=!1,b(U),!p)if(n(a)!==null)p=!0,O(S);else{var k=n(f);k!==null&&M(w,k.startTime-U)}}function S(U,k){p=!1,g&&(g=!1,v(C),C=-1),d=!0;var R=c;try{for(b(k),s=n(a);s!==null&&(!(s.expirationTime>k)||U&&!B());){var j=s.callback;if(typeof j=="function"){s.callback=null,c=s.priorityLevel;var A=j(s.expirationTime<=k);k=e.unstable_now(),typeof A=="function"?s.callback=A:s===n(a)&&r(a),b(k)}else r(a);s=n(a)}if(s!==null)var Y=!0;else{var L=n(f);L!==null&&M(w,L.startTime-k),Y=!1}return Y}finally{s=null,c=R,d=!1}}var _=!1,E=null,C=-1,P=5,N=-1;function B(){return!(e.unstable_now()-N<P)}function I(){if(E!==null){var U=e.unstable_now();N=U;var k=!0;try{k=E(!0,U)}finally{k?V():(_=!1,E=null)}}else _=!1}var V;if(typeof y=="function")V=function(){y(I)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=I,V=function(){F.postMessage(null)}}else V=function(){m(I,0)};function O(U){E=U,_||(_=!0,V())}function M(U,k){C=m(function(){U(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){p||d||(p=!0,O(S))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(U){switch(c){case 1:case 2:case 3:var k=3;break;default:k=c}var R=c;c=k;try{return U()}finally{c=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,k){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var R=c;c=U;try{return k()}finally{c=R}},e.unstable_scheduleCallback=function(U,k,R){var j=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?j+R:j):R=j,U){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=R+A,U={id:u++,callback:k,priorityLevel:U,startTime:R,expirationTime:A,sortIndex:-1},R>j?(U.sortIndex=R,t(f,U),n(a)===null&&U===n(f)&&(g?(v(C),C=-1):g=!0,M(w,R-j))):(U.sortIndex=A,t(a,U),p||d||(p=!0,O(S))),U},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(U){var k=c;return function(){var R=c;c=k;try{return U.apply(this,arguments)}finally{c=R}}}})(kb);Tb.exports=kb;var kT=Tb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PT=x,vn=kT;function he(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pb=new Set,tl={};function Ro(e,t){$s(e,t),$s(e+"Capture",t)}function $s(e,t){for(tl[e]=t,e=0;e<t.length;e++)Pb.add(t[e])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=Object.prototype.hasOwnProperty,OT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vv={},Uv={};function $T(e){return Yh.call(Uv,e)?!0:Yh.call(Vv,e)?!1:OT.test(e)?Uv[e]=!0:(Vv[e]=!0,!1)}function AT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RT(e,t,n,r){if(t===null||typeof t>"u"||AT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gt(e,t,n,r,i,o,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=h}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pt[e]=new Gt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pt[t]=new Gt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pt[e]=new Gt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pt[e]=new Gt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pt[e]=new Gt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pt[e]=new Gt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pt[e]=new Gt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pt[e]=new Gt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lm=/[\-:]([a-z])/g;function Im(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lm,Im);Pt[t]=new Gt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lm,Im);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lm,Im);Pt[t]=new Gt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Gt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pt[e]=new Gt(e,1,!1,e.toLowerCase(),null,!0,!0)});function jm(e,t,n,r){var i=Pt.hasOwnProperty(t)?Pt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RT(t,n,i,r)&&(n=null),r||i===null?$T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Qr=PT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fc=Symbol.for("react.element"),Zo=Symbol.for("react.portal"),Qo=Symbol.for("react.fragment"),Bm=Symbol.for("react.strict_mode"),Xh=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),$b=Symbol.for("react.context"),zm=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Kh=Symbol.for("react.suspense_list"),Vm=Symbol.for("react.memo"),ui=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),Hv=Symbol.iterator;function fa(e){return e===null||typeof e!="object"?null:(e=Hv&&e[Hv]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,Ld;function $a(e){if(Ld===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ld=t&&t[1]||""}return`
`+Ld+e}var Id=!1;function jd(e,t){if(!e||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),o=r.stack.split(`
`),h=i.length-1,l=o.length-1;1<=h&&0<=l&&i[h]!==o[l];)l--;for(;1<=h&&0<=l;h--,l--)if(i[h]!==o[l]){if(h!==1||l!==1)do if(h--,l--,0>l||i[h]!==o[l]){var a=`
`+i[h].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=h&&0<=l);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$a(e):""}function MT(e){switch(e.tag){case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return e=jd(e.type,!1),e;case 11:return e=jd(e.type.render,!1),e;case 1:return e=jd(e.type,!0),e;default:return""}}function qh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qo:return"Fragment";case Zo:return"Portal";case Xh:return"Profiler";case Bm:return"StrictMode";case Gh:return"Suspense";case Kh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $b:return(e.displayName||"Context")+".Consumer";case Ob:return(e._context.displayName||"Context")+".Provider";case zm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vm:return t=e.displayName||null,t!==null?t:qh(e.type)||"Memo";case ui:t=e._payload,e=e._init;try{return qh(e(t))}catch{}}return null}function DT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qh(t);case 8:return t===Bm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Di(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NT(e){var t=Rb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dc(e){e._valueTracker||(e._valueTracker=NT(e))}function Mb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zh(e,t){var n=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Wv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Di(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Db(e,t){t=t.checked,t!=null&&jm(e,"checked",t,!1)}function Qh(e,t){Db(e,t);var n=Di(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jh(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jh(e,t.type,Di(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jh(e,t,n){(t!=="number"||vu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Aa=Array.isArray;function fs(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Di(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ep(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(he(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(he(92));if(Aa(n)){if(1<n.length)throw Error(he(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Di(n)}}function Nb(e,t){var n=Di(t.value),r=Di(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Gv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hc,Lb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hc=hc||document.createElement("div"),hc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function nl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FT=["Webkit","ms","Moz","O"];Object.keys(Ba).forEach(function(e){FT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ba[t]=Ba[e]})});function Ib(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ba.hasOwnProperty(e)&&Ba[e]?(""+t).trim():t+"px"}function jb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ib(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var LT=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function np(e,t){if(t){if(LT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(he(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(he(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(he(61))}if(t.style!=null&&typeof t.style!="object")throw Error(he(62))}}function rp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ip=null;function Um(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var op=null,ds=null,hs=null;function Kv(e){if(e=zl(e)){if(typeof op!="function")throw Error(he(280));var t=e.stateNode;t&&(t=Rf(t),op(e.stateNode,e.type,t))}}function Bb(e){ds?hs?hs.push(e):hs=[e]:ds=e}function zb(){if(ds){var e=ds,t=hs;if(hs=ds=null,Kv(e),t)for(e=0;e<t.length;e++)Kv(t[e])}}function Vb(e,t){return e(t)}function Ub(){}var Bd=!1;function Hb(e,t,n){if(Bd)return e(t,n);Bd=!0;try{return Vb(e,t,n)}finally{Bd=!1,(ds!==null||hs!==null)&&(Ub(),zb())}}function rl(e,t){var n=e.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(he(231,t,typeof n));return n}var sp=!1;if(Hr)try{var da={};Object.defineProperty(da,"passive",{get:function(){sp=!0}}),window.addEventListener("test",da,da),window.removeEventListener("test",da,da)}catch{sp=!1}function IT(e,t,n,r,i,o,h,l,a){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(u){this.onError(u)}}var za=!1,yu=null,bu=!1,ap=null,jT={onError:function(e){za=!0,yu=e}};function BT(e,t,n,r,i,o,h,l,a){za=!1,yu=null,IT.apply(jT,arguments)}function zT(e,t,n,r,i,o,h,l,a){if(BT.apply(this,arguments),za){if(za){var f=yu;za=!1,yu=null}else throw Error(he(198));bu||(bu=!0,ap=f)}}function Mo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qv(e){if(Mo(e)!==e)throw Error(he(188))}function VT(e){var t=e.alternate;if(!t){if(t=Mo(e),t===null)throw Error(he(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qv(i),e;if(o===r)return qv(i),t;o=o.sibling}throw Error(he(188))}if(n.return!==r.return)n=i,r=o;else{for(var h=!1,l=i.child;l;){if(l===n){h=!0,n=i,r=o;break}if(l===r){h=!0,r=i,n=o;break}l=l.sibling}if(!h){for(l=o.child;l;){if(l===n){h=!0,n=o,r=i;break}if(l===r){h=!0,r=o,n=i;break}l=l.sibling}if(!h)throw Error(he(189))}}if(n.alternate!==r)throw Error(he(190))}if(n.tag!==3)throw Error(he(188));return n.stateNode.current===n?e:t}function Yb(e){return e=VT(e),e!==null?Xb(e):null}function Xb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Xb(e);if(t!==null)return t;e=e.sibling}return null}var Gb=vn.unstable_scheduleCallback,Zv=vn.unstable_cancelCallback,UT=vn.unstable_shouldYield,HT=vn.unstable_requestPaint,dt=vn.unstable_now,WT=vn.unstable_getCurrentPriorityLevel,Hm=vn.unstable_ImmediatePriority,Kb=vn.unstable_UserBlockingPriority,wu=vn.unstable_NormalPriority,YT=vn.unstable_LowPriority,qb=vn.unstable_IdlePriority,Pf=null,yr=null;function XT(e){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Pf,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:qT,GT=Math.log,KT=Math.LN2;function qT(e){return e>>>=0,e===0?32:31-(GT(e)/KT|0)|0}var pc=64,mc=4194304;function Ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,h=n&268435455;if(h!==0){var l=h&~i;l!==0?r=Ra(l):(o&=h,o!==0&&(r=Ra(o)))}else h=n&~i,h!==0?r=Ra(h):o!==0&&(r=Ra(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-qn(t),i=1<<n,r|=e[n],t&=~i;return r}function ZT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var h=31-qn(o),l=1<<h,a=i[h];a===-1?(!(l&n)||l&r)&&(i[h]=ZT(l,t)):a<=t&&(e.expiredLanes|=l),o&=~l}}function lp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zb(){var e=pc;return pc<<=1,!(pc&4194240)&&(pc=64),e}function zd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=n}function JT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-qn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Wm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var He=0;function Qb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jb,Ym,ew,tw,nw,cp=!1,gc=[],Ei=null,Ti=null,ki=null,il=new Map,ol=new Map,di=[],ek="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qv(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":ki=null;break;case"pointerover":case"pointerout":il.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(t.pointerId)}}function ha(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zl(t),t!==null&&Ym(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tk(e,t,n,r,i){switch(t){case"focusin":return Ei=ha(Ei,e,t,n,r,i),!0;case"dragenter":return Ti=ha(Ti,e,t,n,r,i),!0;case"mouseover":return ki=ha(ki,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return il.set(o,ha(il.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ol.set(o,ha(ol.get(o)||null,e,t,n,r,i)),!0}return!1}function rw(e){var t=so(e.target);if(t!==null){var n=Mo(t);if(n!==null){if(t=n.tag,t===13){if(t=Wb(n),t!==null){e.blockedOn=t,nw(e.priority,function(){ew(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=up(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ip=r,n.target.dispatchEvent(r),ip=null}else return t=zl(n),t!==null&&Ym(t),e.blockedOn=n,!1;t.shift()}return!0}function Jv(e,t,n){Gc(e)&&n.delete(t)}function nk(){cp=!1,Ei!==null&&Gc(Ei)&&(Ei=null),Ti!==null&&Gc(Ti)&&(Ti=null),ki!==null&&Gc(ki)&&(ki=null),il.forEach(Jv),ol.forEach(Jv)}function pa(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,nk)))}function sl(e){function t(i){return pa(i,e)}if(0<gc.length){pa(gc[0],e);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ei!==null&&pa(Ei,e),Ti!==null&&pa(Ti,e),ki!==null&&pa(ki,e),il.forEach(t),ol.forEach(t),n=0;n<di.length;n++)r=di[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<di.length&&(n=di[0],n.blockedOn===null);)rw(n),n.blockedOn===null&&di.shift()}var ps=Qr.ReactCurrentBatchConfig,Su=!0;function rk(e,t,n,r){var i=He,o=ps.transition;ps.transition=null;try{He=1,Xm(e,t,n,r)}finally{He=i,ps.transition=o}}function ik(e,t,n,r){var i=He,o=ps.transition;ps.transition=null;try{He=4,Xm(e,t,n,r)}finally{He=i,ps.transition=o}}function Xm(e,t,n,r){if(Su){var i=up(e,t,n,r);if(i===null)Zd(e,t,r,_u,n),Qv(e,r);else if(tk(i,e,t,n,r))r.stopPropagation();else if(Qv(e,r),t&4&&-1<ek.indexOf(e)){for(;i!==null;){var o=zl(i);if(o!==null&&Jb(o),o=up(e,t,n,r),o===null&&Zd(e,t,r,_u,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Zd(e,t,r,null,n)}}var _u=null;function up(e,t,n,r){if(_u=null,e=Um(r),e=so(e),e!==null)if(t=Mo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _u=e,null}function iw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WT()){case Hm:return 1;case Kb:return 4;case wu:case YT:return 16;case qb:return 536870912;default:return 16}default:return 16}}var bi=null,Gm=null,Kc=null;function ow(){if(Kc)return Kc;var e,t=Gm,n=t.length,r,i="value"in bi?bi.value:bi.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===i[o-r];r++);return Kc=i.slice(e,1<r?1-r:void 0)}function qc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vc(){return!0}function e0(){return!1}function Sn(e){function t(n,r,i,o,h){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vc:e0,this.isPropagationStopped=e0,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vc)},persist:function(){},isPersistent:vc}),t}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=Sn(Zs),Bl=ot({},Zs,{view:0,detail:0}),ok=Sn(Bl),Vd,Ud,ma,Of=ot({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ma&&(ma&&e.type==="mousemove"?(Vd=e.screenX-ma.screenX,Ud=e.screenY-ma.screenY):Ud=Vd=0,ma=e),Vd)},movementY:function(e){return"movementY"in e?e.movementY:Ud}}),t0=Sn(Of),sk=ot({},Of,{dataTransfer:0}),ak=Sn(sk),lk=ot({},Bl,{relatedTarget:0}),Hd=Sn(lk),ck=ot({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),uk=Sn(ck),fk=ot({},Zs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dk=Sn(fk),hk=ot({},Zs,{data:0}),n0=Sn(hk),pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gk[e])?!!t[e]:!1}function qm(){return vk}var yk=ot({},Bl,{key:function(e){if(e.key){var t=pk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(e){return e.type==="keypress"?qc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bk=Sn(yk),wk=ot({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=Sn(wk),xk=ot({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),Sk=Sn(xk),_k=ot({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ck=Sn(_k),Ek=ot({},Of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tk=Sn(Ek),kk=[9,13,27,32],Zm=Hr&&"CompositionEvent"in window,Va=null;Hr&&"documentMode"in document&&(Va=document.documentMode);var Pk=Hr&&"TextEvent"in window&&!Va,sw=Hr&&(!Zm||Va&&8<Va&&11>=Va),i0=" ",o0=!1;function aw(e,t){switch(e){case"keyup":return kk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jo=!1;function Ok(e,t){switch(e){case"compositionend":return lw(t);case"keypress":return t.which!==32?null:(o0=!0,i0);case"textInput":return e=t.data,e===i0&&o0?null:e;default:return null}}function $k(e,t){if(Jo)return e==="compositionend"||!Zm&&aw(e,t)?(e=ow(),Kc=Gm=bi=null,Jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sw&&t.locale!=="ko"?null:t.data;default:return null}}var Ak={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ak[e.type]:t==="textarea"}function cw(e,t,n,r){Bb(r),t=Cu(t,"onChange"),0<t.length&&(n=new Km("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ua=null,al=null;function Rk(e){ww(e,0)}function $f(e){var t=ns(e);if(Mb(t))return e}function Mk(e,t){if(e==="change")return t}var uw=!1;if(Hr){var Wd;if(Hr){var Yd="oninput"in document;if(!Yd){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Yd=typeof a0.oninput=="function"}Wd=Yd}else Wd=!1;uw=Wd&&(!document.documentMode||9<document.documentMode)}function l0(){Ua&&(Ua.detachEvent("onpropertychange",fw),al=Ua=null)}function fw(e){if(e.propertyName==="value"&&$f(al)){var t=[];cw(t,al,e,Um(e)),Hb(Rk,t)}}function Dk(e,t,n){e==="focusin"?(l0(),Ua=t,al=n,Ua.attachEvent("onpropertychange",fw)):e==="focusout"&&l0()}function Nk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $f(al)}function Fk(e,t){if(e==="click")return $f(t)}function Lk(e,t){if(e==="input"||e==="change")return $f(t)}function Ik(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:Ik;function ll(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yh.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function c0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u0(e,t){var n=c0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=c0(n)}}function dw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hw(){for(var e=window,t=vu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=vu(e.document)}return t}function Qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function jk(e){var t=hw(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dw(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=u0(n,o);var h=u0(n,r);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bk=Hr&&"documentMode"in document&&11>=document.documentMode,es=null,fp=null,Ha=null,dp=!1;function f0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||es==null||es!==vu(r)||(r=es,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ha&&ll(Ha,r)||(Ha=r,r=Cu(fp,"onSelect"),0<r.length&&(t=new Km("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=es)))}function yc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ts={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Xd={},pw={};Hr&&(pw=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Af(e){if(Xd[e])return Xd[e];if(!ts[e])return e;var t=ts[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pw)return Xd[e]=t[n];return e}var mw=Af("animationend"),gw=Af("animationiteration"),vw=Af("animationstart"),yw=Af("transitionend"),bw=new Map,d0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(e,t){bw.set(e,t),Ro(t,[e])}for(var Gd=0;Gd<d0.length;Gd++){var Kd=d0[Gd],zk=Kd.toLowerCase(),Vk=Kd[0].toUpperCase()+Kd.slice(1);Bi(zk,"on"+Vk)}Bi(mw,"onAnimationEnd");Bi(gw,"onAnimationIteration");Bi(vw,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(yw,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function h0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zT(r,t,void 0,e),e.currentTarget=null}function ww(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var h=r.length-1;0<=h;h--){var l=r[h],a=l.instance,f=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;h0(i,l,f),o=a}else for(h=0;h<r.length;h++){if(l=r[h],a=l.instance,f=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;h0(i,l,f),o=a}}}if(bu)throw e=ap,bu=!1,ap=null,e}function qe(e,t){var n=t[vp];n===void 0&&(n=t[vp]=new Set);var r=e+"__bubble";n.has(r)||(xw(t,e,2,!1),n.add(r))}function qd(e,t,n){var r=0;t&&(r|=4),xw(n,e,r,t)}var bc="_reactListening"+Math.random().toString(36).slice(2);function cl(e){if(!e[bc]){e[bc]=!0,Pb.forEach(function(n){n!=="selectionchange"&&(Uk.has(n)||qd(n,!1,e),qd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[bc]||(t[bc]=!0,qd("selectionchange",!1,t))}}function xw(e,t,n,r){switch(iw(t)){case 1:var i=rk;break;case 4:i=ik;break;default:i=Xm}n=i.bind(null,t,n,e),i=void 0,!sp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var a=h.tag;if((a===3||a===4)&&(a=h.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;h=h.return}for(;l!==null;){if(h=so(l),h===null)return;if(a=h.tag,a===5||a===6){r=o=h;continue e}l=l.parentNode}}r=r.return}Hb(function(){var f=o,u=Um(n),s=[];e:{var c=bw.get(e);if(c!==void 0){var d=Km,p=e;switch(e){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":d=bk;break;case"focusin":p="focus",d=Hd;break;case"focusout":p="blur",d=Hd;break;case"beforeblur":case"afterblur":d=Hd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=ak;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Sk;break;case mw:case gw:case vw:d=uk;break;case yw:d=Ck;break;case"scroll":d=ok;break;case"wheel":d=Tk;break;case"copy":case"cut":case"paste":d=dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=r0}var g=(t&4)!==0,m=!g&&e==="scroll",v=g?c!==null?c+"Capture":null:c;g=[];for(var y=f,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=rl(y,v),w!=null&&g.push(ul(y,w,b)))),m)break;y=y.return}0<g.length&&(c=new d(c,p,null,n,u),s.push({event:c,listeners:g}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",c&&n!==ip&&(p=n.relatedTarget||n.fromElement)&&(so(p)||p[Wr]))break e;if((d||c)&&(c=u.window===u?u:(c=u.ownerDocument)?c.defaultView||c.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=f,p=p?so(p):null,p!==null&&(m=Mo(p),p!==m||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=f),d!==p)){if(g=t0,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=r0,w="onPointerLeave",v="onPointerEnter",y="pointer"),m=d==null?c:ns(d),b=p==null?c:ns(p),c=new g(w,y+"leave",d,n,u),c.target=m,c.relatedTarget=b,w=null,so(u)===f&&(g=new g(v,y+"enter",p,n,u),g.target=b,g.relatedTarget=m,w=g),m=w,d&&p)t:{for(g=d,v=p,y=0,b=g;b;b=jo(b))y++;for(b=0,w=v;w;w=jo(w))b++;for(;0<y-b;)g=jo(g),y--;for(;0<b-y;)v=jo(v),b--;for(;y--;){if(g===v||v!==null&&g===v.alternate)break t;g=jo(g),v=jo(v)}g=null}else g=null;d!==null&&p0(s,c,d,g,!1),p!==null&&m!==null&&p0(s,m,p,g,!0)}}e:{if(c=f?ns(f):window,d=c.nodeName&&c.nodeName.toLowerCase(),d==="select"||d==="input"&&c.type==="file")var S=Mk;else if(s0(c))if(uw)S=Lk;else{S=Nk;var _=Dk}else(d=c.nodeName)&&d.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(S=Fk);if(S&&(S=S(e,f))){cw(s,S,n,u);break e}_&&_(e,c,f),e==="focusout"&&(_=c._wrapperState)&&_.controlled&&c.type==="number"&&Jh(c,"number",c.value)}switch(_=f?ns(f):window,e){case"focusin":(s0(_)||_.contentEditable==="true")&&(es=_,fp=f,Ha=null);break;case"focusout":Ha=fp=es=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,f0(s,n,u);break;case"selectionchange":if(Bk)break;case"keydown":case"keyup":f0(s,n,u)}var E;if(Zm)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Jo?aw(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(sw&&n.locale!=="ko"&&(Jo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Jo&&(E=ow()):(bi=u,Gm="value"in bi?bi.value:bi.textContent,Jo=!0)),_=Cu(f,C),0<_.length&&(C=new n0(C,e,null,n,u),s.push({event:C,listeners:_}),E?C.data=E:(E=lw(n),E!==null&&(C.data=E)))),(E=Pk?Ok(e,n):$k(e,n))&&(f=Cu(f,"onBeforeInput"),0<f.length&&(u=new n0("onBeforeInput","beforeinput",null,n,u),s.push({event:u,listeners:f}),u.data=E))}ww(s,t)})}function ul(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Cu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=rl(e,n),o!=null&&r.unshift(ul(e,o,i)),o=rl(e,t),o!=null&&r.push(ul(e,o,i))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p0(e,t,n,r,i){for(var o=t._reactName,h=[];n!==null&&n!==r;){var l=n,a=l.alternate,f=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&f!==null&&(l=f,i?(a=rl(n,o),a!=null&&h.unshift(ul(n,a,l))):i||(a=rl(n,o),a!=null&&h.push(ul(n,a,l)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var Hk=/\r\n?/g,Wk=/\u0000|\uFFFD/g;function m0(e){return(typeof e=="string"?e:""+e).replace(Hk,`
`).replace(Wk,"")}function wc(e,t,n){if(t=m0(t),m0(e)!==t&&n)throw Error(he(425))}function Eu(){}var hp=null,pp=null;function mp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,Yk=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,Xk=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(Gk)}:gp;function Gk(e){setTimeout(function(){throw e})}function Qd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),sl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sl(t)}function Pi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function v0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),cr="__reactFiber$"+Qs,fl="__reactProps$"+Qs,Wr="__reactContainer$"+Qs,vp="__reactEvents$"+Qs,Kk="__reactListeners$"+Qs,qk="__reactHandles$"+Qs;function so(e){var t=e[cr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wr]||n[cr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=v0(e);e!==null;){if(n=e[cr])return n;e=v0(e)}return t}e=n,n=e.parentNode}return null}function zl(e){return e=e[cr]||e[Wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(he(33))}function Rf(e){return e[fl]||null}var yp=[],rs=-1;function zi(e){return{current:e}}function Qe(e){0>rs||(e.current=yp[rs],yp[rs]=null,rs--)}function Ge(e,t){rs++,yp[rs]=e.current,e.current=t}var Ni={},Nt=zi(Ni),nn=zi(!1),wo=Ni;function As(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rn(e){return e=e.childContextTypes,e!=null}function Tu(){Qe(nn),Qe(Nt)}function y0(e,t,n){if(Nt.current!==Ni)throw Error(he(168));Ge(Nt,t),Ge(nn,n)}function Sw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(he(108,DT(e)||"Unknown",i));return ot({},n,r)}function ku(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,wo=Nt.current,Ge(Nt,e),Ge(nn,nn.current),!0}function b0(e,t,n){var r=e.stateNode;if(!r)throw Error(he(169));n?(e=Sw(e,t,wo),r.__reactInternalMemoizedMergedChildContext=e,Qe(nn),Qe(Nt),Ge(Nt,e)):Qe(nn),Ge(nn,n)}var Dr=null,Mf=!1,Jd=!1;function _w(e){Dr===null?Dr=[e]:Dr.push(e)}function Zk(e){Mf=!0,_w(e)}function Vi(){if(!Jd&&Dr!==null){Jd=!0;var e=0,t=He;try{var n=Dr;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dr=null,Mf=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(e+1)),Gb(Hm,Vi),i}finally{He=t,Jd=!1}}return null}var is=[],os=0,Pu=null,Ou=0,En=[],Tn=0,xo=null,Fr=1,Lr="";function Zi(e,t){is[os++]=Ou,is[os++]=Pu,Pu=e,Ou=t}function Cw(e,t,n){En[Tn++]=Fr,En[Tn++]=Lr,En[Tn++]=xo,xo=e;var r=Fr;e=Lr;var i=32-qn(r)-1;r&=~(1<<i),n+=1;var o=32-qn(t)+i;if(30<o){var h=i-i%5;o=(r&(1<<h)-1).toString(32),r>>=h,i-=h,Fr=1<<32-qn(t)+i|n<<i|r,Lr=o+e}else Fr=1<<o|n<<i|r,Lr=e}function Jm(e){e.return!==null&&(Zi(e,1),Cw(e,1,0))}function eg(e){for(;e===Pu;)Pu=is[--os],is[os]=null,Ou=is[--os],is[os]=null;for(;e===xo;)xo=En[--Tn],En[Tn]=null,Lr=En[--Tn],En[Tn]=null,Fr=En[--Tn],En[Tn]=null}var mn=null,pn=null,et=!1,Yn=null;function Ew(e,t){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function w0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,pn=Pi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,pn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xo!==null?{id:Fr,overflow:Lr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mn=e,pn=null,!0):!1;default:return!1}}function bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(et){var t=pn;if(t){var n=t;if(!w0(e,t)){if(bp(e))throw Error(he(418));t=Pi(n.nextSibling);var r=mn;t&&w0(e,t)?Ew(r,n):(e.flags=e.flags&-4097|2,et=!1,mn=e)}}else{if(bp(e))throw Error(he(418));e.flags=e.flags&-4097|2,et=!1,mn=e}}}function x0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function xc(e){if(e!==mn)return!1;if(!et)return x0(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mp(e.type,e.memoizedProps)),t&&(t=pn)){if(bp(e))throw Tw(),Error(he(418));for(;t;)Ew(e,t),t=Pi(t.nextSibling)}if(x0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(he(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pn=Pi(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pn=null}}else pn=mn?Pi(e.stateNode.nextSibling):null;return!0}function Tw(){for(var e=pn;e;)e=Pi(e.nextSibling)}function Rs(){pn=mn=null,et=!1}function tg(e){Yn===null?Yn=[e]:Yn.push(e)}var Qk=Qr.ReactCurrentBatchConfig;function ga(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(he(309));var r=n.stateNode}if(!r)throw Error(he(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(h){var l=i.refs;h===null?delete l[o]:l[o]=h},t._stringRef=o,t)}if(typeof e!="string")throw Error(he(284));if(!n._owner)throw Error(he(290,e))}return e}function Sc(e,t){throw e=Object.prototype.toString.call(t),Error(he(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function S0(e){var t=e._init;return t(e._payload)}function kw(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ri(v,y),v.index=0,v.sibling=null,v}function o(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function h(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,b,w){return y===null||y.tag!==6?(y=sh(b,v.mode,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function a(v,y,b,w){var S=b.type;return S===Qo?u(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&S0(S)===y.type)?(w=i(y,b.props),w.ref=ga(v,y,b),w.return=v,w):(w=ru(b.type,b.key,b.props,null,v.mode,w),w.ref=ga(v,y,b),w.return=v,w)}function f(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=ah(b,v.mode,w),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function u(v,y,b,w,S){return y===null||y.tag!==7?(y=yo(b,v.mode,w,S),y.return=v,y):(y=i(y,b),y.return=v,y)}function s(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=sh(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fc:return b=ru(y.type,y.key,y.props,null,v.mode,b),b.ref=ga(v,null,y),b.return=v,b;case Zo:return y=ah(y,v.mode,b),y.return=v,y;case ui:var w=y._init;return s(v,w(y._payload),b)}if(Aa(y)||fa(y))return y=yo(y,v.mode,b,null),y.return=v,y;Sc(v,y)}return null}function c(v,y,b,w){var S=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:return b.key===S?a(v,y,b,w):null;case Zo:return b.key===S?f(v,y,b,w):null;case ui:return S=b._init,c(v,y,S(b._payload),w)}if(Aa(b)||fa(b))return S!==null?null:u(v,y,b,w,null);Sc(v,b)}return null}function d(v,y,b,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,l(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fc:return v=v.get(w.key===null?b:w.key)||null,a(y,v,w,S);case Zo:return v=v.get(w.key===null?b:w.key)||null,f(y,v,w,S);case ui:var _=w._init;return d(v,y,b,_(w._payload),S)}if(Aa(w)||fa(w))return v=v.get(b)||null,u(y,v,w,S,null);Sc(y,w)}return null}function p(v,y,b,w){for(var S=null,_=null,E=y,C=y=0,P=null;E!==null&&C<b.length;C++){E.index>C?(P=E,E=null):P=E.sibling;var N=c(v,E,b[C],w);if(N===null){E===null&&(E=P);break}e&&E&&N.alternate===null&&t(v,E),y=o(N,y,C),_===null?S=N:_.sibling=N,_=N,E=P}if(C===b.length)return n(v,E),et&&Zi(v,C),S;if(E===null){for(;C<b.length;C++)E=s(v,b[C],w),E!==null&&(y=o(E,y,C),_===null?S=E:_.sibling=E,_=E);return et&&Zi(v,C),S}for(E=r(v,E);C<b.length;C++)P=d(E,v,C,b[C],w),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?C:P.key),y=o(P,y,C),_===null?S=P:_.sibling=P,_=P);return e&&E.forEach(function(B){return t(v,B)}),et&&Zi(v,C),S}function g(v,y,b,w){var S=fa(b);if(typeof S!="function")throw Error(he(150));if(b=S.call(b),b==null)throw Error(he(151));for(var _=S=null,E=y,C=y=0,P=null,N=b.next();E!==null&&!N.done;C++,N=b.next()){E.index>C?(P=E,E=null):P=E.sibling;var B=c(v,E,N.value,w);if(B===null){E===null&&(E=P);break}e&&E&&B.alternate===null&&t(v,E),y=o(B,y,C),_===null?S=B:_.sibling=B,_=B,E=P}if(N.done)return n(v,E),et&&Zi(v,C),S;if(E===null){for(;!N.done;C++,N=b.next())N=s(v,N.value,w),N!==null&&(y=o(N,y,C),_===null?S=N:_.sibling=N,_=N);return et&&Zi(v,C),S}for(E=r(v,E);!N.done;C++,N=b.next())N=d(E,v,C,N.value,w),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?C:N.key),y=o(N,y,C),_===null?S=N:_.sibling=N,_=N);return e&&E.forEach(function(I){return t(v,I)}),et&&Zi(v,C),S}function m(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Qo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fc:e:{for(var S=b.key,_=y;_!==null;){if(_.key===S){if(S=b.type,S===Qo){if(_.tag===7){n(v,_.sibling),y=i(_,b.props.children),y.return=v,v=y;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ui&&S0(S)===_.type){n(v,_.sibling),y=i(_,b.props),y.ref=ga(v,_,b),y.return=v,v=y;break e}n(v,_);break}else t(v,_);_=_.sibling}b.type===Qo?(y=yo(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=ru(b.type,b.key,b.props,null,v.mode,w),w.ref=ga(v,y,b),w.return=v,v=w)}return h(v);case Zo:e:{for(_=b.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=ah(b,v.mode,w),y.return=v,v=y}return h(v);case ui:return _=b._init,m(v,y,_(b._payload),w)}if(Aa(b))return p(v,y,b,w);if(fa(b))return g(v,y,b,w);Sc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=sh(b,v.mode,w),y.return=v,v=y),h(v)):n(v,y)}return m}var Ms=kw(!0),Pw=kw(!1),$u=zi(null),Au=null,ss=null,ng=null;function rg(){ng=ss=Au=null}function ig(e){var t=$u.current;Qe($u),e._currentValue=t}function xp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ms(e,t){Au=e,ng=ss=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(tn=!0),e.firstContext=null)}function Mn(e){var t=e._currentValue;if(ng!==e)if(e={context:e,memoizedValue:t,next:null},ss===null){if(Au===null)throw Error(he(308));ss=e,Au.dependencies={lanes:0,firstContext:e}}else ss=ss.next=e;return t}var ao=null;function og(e){ao===null?ao=[e]:ao.push(e)}function Ow(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,og(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fi=!1;function sg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $w(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yr(e,n)}return i=r.interleaved,i===null?(t.next=t,og(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yr(e,n)}function Zc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wm(e,n)}}function _0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ru(e,t,n,r){var i=e.updateQueue;fi=!1;var o=i.firstBaseUpdate,h=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,f=a.next;a.next=null,h===null?o=f:h.next=f,h=a;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==h&&(l===null?u.firstBaseUpdate=f:l.next=f,u.lastBaseUpdate=a))}if(o!==null){var s=i.baseState;h=0,u=f=a=null,l=o;do{var c=l.lane,d=l.eventTime;if((r&c)===c){u!==null&&(u=u.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,g=l;switch(c=t,d=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){s=p.call(d,s,c);break e}s=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,c=typeof p=="function"?p.call(d,s,c):p,c==null)break e;s=ot({},s,c);break e;case 2:fi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[l]:c.push(l))}else d={eventTime:d,lane:c,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(f=u=d,a=s):u=u.next=d,h|=c;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;c=l,l=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(!0);if(u===null&&(a=s),i.baseState=a,i.firstBaseUpdate=f,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);_o|=h,e.lanes=h,e.memoizedState=s}}function C0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(he(191,i));i.call(r)}}}var Vl={},br=zi(Vl),dl=zi(Vl),hl=zi(Vl);function lo(e){if(e===Vl)throw Error(he(174));return e}function ag(e,t){switch(Ge(hl,t),Ge(dl,e),Ge(br,Vl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tp(t,e)}Qe(br),Ge(br,t)}function Ds(){Qe(br),Qe(dl),Qe(hl)}function Aw(e){lo(hl.current);var t=lo(br.current),n=tp(t,e.type);t!==n&&(Ge(dl,e),Ge(br,n))}function lg(e){dl.current===e&&(Qe(br),Qe(dl))}var nt=zi(0);function Mu(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eh=[];function cg(){for(var e=0;e<eh.length;e++)eh[e]._workInProgressVersionPrimary=null;eh.length=0}var Qc=Qr.ReactCurrentDispatcher,th=Qr.ReactCurrentBatchConfig,So=0,it=null,yt=null,St=null,Du=!1,Wa=!1,pl=0,Jk=0;function At(){throw Error(he(321))}function ug(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function fg(e,t,n,r,i,o){if(So=o,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qc.current=e===null||e.memoizedState===null?r5:i5,e=n(r,i),Wa){o=0;do{if(Wa=!1,pl=0,25<=o)throw Error(he(301));o+=1,St=yt=null,t.updateQueue=null,Qc.current=o5,e=n(r,i)}while(Wa)}if(Qc.current=Nu,t=yt!==null&&yt.next!==null,So=0,St=yt=it=null,Du=!1,t)throw Error(he(300));return e}function dg(){var e=pl!==0;return pl=0,e}function rr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=e:St=St.next=e,St}function Dn(){if(yt===null){var e=it.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=St===null?it.memoizedState:St.next;if(t!==null)St=t,yt=e;else{if(e===null)throw Error(he(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?it.memoizedState=St=e:St=St.next=e}return St}function ml(e,t){return typeof t=="function"?t(e):t}function nh(e){var t=Dn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=yt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var h=i.next;i.next=o.next,o.next=h}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=h=null,a=null,f=o;do{var u=f.lane;if((So&u)===u)a!==null&&(a=a.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var s={lane:u,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};a===null?(l=a=s,h=r):a=a.next=s,it.lanes|=u,_o|=u}f=f.next}while(f!==null&&f!==o);a===null?h=r:a.next=l,Jn(r,t.memoizedState)||(tn=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,it.lanes|=o,_o|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rh(e){var t=Dn(),n=t.queue;if(n===null)throw Error(he(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do o=e(o,h.action),h=h.next;while(h!==i);Jn(o,t.memoizedState)||(tn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Rw(){}function Mw(e,t){var n=it,r=Dn(),i=t(),o=!Jn(r.memoizedState,i);if(o&&(r.memoizedState=i,tn=!0),r=r.queue,hg(Fw.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,gl(9,Nw.bind(null,n,r,i,t),void 0,null),_t===null)throw Error(he(349));So&30||Dw(n,t,i)}return i}function Dw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Nw(e,t,n,r){t.value=n,t.getSnapshot=r,Lw(t)&&Iw(e)}function Fw(e,t,n){return n(function(){Lw(t)&&Iw(e)})}function Lw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch{return!0}}function Iw(e){var t=Yr(e,1);t!==null&&Zn(t,e,1,-1)}function E0(e){var t=rr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:e},t.queue=e,e=e.dispatch=n5.bind(null,it,e),[t.memoizedState,e]}function gl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=it.updateQueue,t===null?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jw(){return Dn().memoizedState}function Jc(e,t,n,r){var i=rr();it.flags|=e,i.memoizedState=gl(1|t,n,void 0,r===void 0?null:r)}function Df(e,t,n,r){var i=Dn();r=r===void 0?null:r;var o=void 0;if(yt!==null){var h=yt.memoizedState;if(o=h.destroy,r!==null&&ug(r,h.deps)){i.memoizedState=gl(t,n,o,r);return}}it.flags|=e,i.memoizedState=gl(1|t,n,o,r)}function T0(e,t){return Jc(8390656,8,e,t)}function hg(e,t){return Df(2048,8,e,t)}function Bw(e,t){return Df(4,2,e,t)}function zw(e,t){return Df(4,4,e,t)}function Vw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uw(e,t,n){return n=n!=null?n.concat([e]):null,Df(4,4,Vw.bind(null,t,e),n)}function pg(){}function Hw(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ug(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ww(e,t){var n=Dn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ug(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yw(e,t,n){return So&21?(Jn(n,t)||(n=Zb(),it.lanes|=n,_o|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,tn=!0),e.memoizedState=n)}function e5(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=th.transition;th.transition={};try{e(!1),t()}finally{He=n,th.transition=r}}function Xw(){return Dn().memoizedState}function t5(e,t,n){var r=Ai(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gw(e))Kw(t,n);else if(n=Ow(e,t,n,r),n!==null){var i=Wt();Zn(n,e,r,i),qw(n,t,r)}}function n5(e,t,n){var r=Ai(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gw(e))Kw(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,l=o(h,n);if(i.hasEagerState=!0,i.eagerState=l,Jn(l,h)){var a=t.interleaved;a===null?(i.next=i,og(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Ow(e,t,i,r),n!==null&&(i=Wt(),Zn(n,e,r,i),qw(n,t,r))}}function Gw(e){var t=e.alternate;return e===it||t!==null&&t===it}function Kw(e,t){Wa=Du=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wm(e,n)}}var Nu={readContext:Mn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},r5={readContext:Mn,useCallback:function(e,t){return rr().memoizedState=[e,t===void 0?null:t],e},useContext:Mn,useEffect:T0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4194308,4,Vw.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jc(4,2,e,t)},useMemo:function(e,t){var n=rr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=rr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=t5.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){var t=rr();return e={current:e},t.memoizedState=e},useState:E0,useDebugValue:pg,useDeferredValue:function(e){return rr().memoizedState=e},useTransition:function(){var e=E0(!1),t=e[0];return e=e5.bind(null,e[1]),rr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,i=rr();if(et){if(n===void 0)throw Error(he(407));n=n()}else{if(n=t(),_t===null)throw Error(he(349));So&30||Dw(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,T0(Fw.bind(null,r,o,e),[e]),r.flags|=2048,gl(9,Nw.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=rr(),t=_t.identifierPrefix;if(et){var n=Lr,r=Fr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=pl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},i5={readContext:Mn,useCallback:Hw,useContext:Mn,useEffect:hg,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:Ww,useReducer:nh,useRef:jw,useState:function(){return nh(ml)},useDebugValue:pg,useDeferredValue:function(e){var t=Dn();return Yw(t,yt.memoizedState,e)},useTransition:function(){var e=nh(ml)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Rw,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1},o5={readContext:Mn,useCallback:Hw,useContext:Mn,useEffect:hg,useImperativeHandle:Uw,useInsertionEffect:Bw,useLayoutEffect:zw,useMemo:Ww,useReducer:rh,useRef:jw,useState:function(){return rh(ml)},useDebugValue:pg,useDeferredValue:function(e){var t=Dn();return yt===null?t.memoizedState=e:Yw(t,yt.memoizedState,e)},useTransition:function(){var e=rh(ml)[0],t=Dn().memoizedState;return[e,t]},useMutableSource:Rw,useSyncExternalStore:Mw,useId:Xw,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ot({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nf={isMounted:function(e){return(e=e._reactInternals)?Mo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Ai(e),o=Vr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Oi(e,o,i),t!==null&&(Zn(t,e,i,r),Zc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wt(),i=Ai(e),o=Vr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Oi(e,o,i),t!==null&&(Zn(t,e,i,r),Zc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wt(),r=Ai(e),i=Vr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Oi(e,i,r),t!==null&&(Zn(t,e,r,n),Zc(t,e,r))}};function k0(e,t,n,r,i,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,h):t.prototype&&t.prototype.isPureReactComponent?!ll(n,r)||!ll(i,o):!0}function Zw(e,t,n){var r=!1,i=Ni,o=t.contextType;return typeof o=="object"&&o!==null?o=Mn(o):(i=rn(t)?wo:Nt.current,r=t.contextTypes,o=(r=r!=null)?As(e,i):Ni),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nf,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function P0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nf.enqueueReplaceState(t,t.state,null)}function _p(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},sg(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Mn(o):(o=rn(t)?wo:Nt.current,i.context=As(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sp(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Nf.enqueueReplaceState(i,i.state,null),Ru(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ns(e,t){try{var n="",r=t;do n+=MT(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ih(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var s5=typeof WeakMap=="function"?WeakMap:Map;function Qw(e,t,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lu||(Lu=!0,Dp=r),Cp(e,t)},n}function Jw(e,t,n){n=Vr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Cp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cp(e,t),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function O0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new s5;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=w5.bind(null,e,t,n),t.then(e,e))}function $0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function A0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vr(-1,1),t.tag=2,Oi(n,t,1))),n.lanes|=1),e)}var a5=Qr.ReactCurrentOwner,tn=!1;function Bt(e,t,n,r){t.child=e===null?Pw(t,null,n,r):Ms(t,e.child,n,r)}function R0(e,t,n,r,i){n=n.render;var o=t.ref;return ms(t,i),r=fg(e,t,n,r,o,i),n=dg(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(et&&n&&Jm(t),t.flags|=1,Bt(e,t,r,i),t.child)}function M0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!Sg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ex(e,t,o,r,i)):(e=ru(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(h,r)&&e.ref===t.ref)return Xr(e,t,i)}return t.flags|=1,e=Ri(o,r),e.ref=t.ref,e.return=t,t.child=e}function ex(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ll(o,r)&&e.ref===t.ref)if(tn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(tn=!0);else return t.lanes=e.lanes,Xr(e,t,i)}return Ep(e,t,n,r,i)}function tx(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ls,dn),dn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ge(ls,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ls,dn),dn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ge(ls,dn),dn|=r;return Bt(e,t,i,n),t.child}function nx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ep(e,t,n,r,i){var o=rn(n)?wo:Nt.current;return o=As(t,o),ms(t,i),n=fg(e,t,n,r,o,i),r=dg(),e!==null&&!tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xr(e,t,i)):(et&&r&&Jm(t),t.flags|=1,Bt(e,t,n,i),t.child)}function D0(e,t,n,r,i){if(rn(n)){var o=!0;ku(t)}else o=!1;if(ms(t,i),t.stateNode===null)eu(e,t),Zw(t,n,r),_p(t,n,r,i),r=!0;else if(e===null){var h=t.stateNode,l=t.memoizedProps;h.props=l;var a=h.context,f=n.contextType;typeof f=="object"&&f!==null?f=Mn(f):(f=rn(n)?wo:Nt.current,f=As(t,f));var u=n.getDerivedStateFromProps,s=typeof u=="function"||typeof h.getSnapshotBeforeUpdate=="function";s||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(l!==r||a!==f)&&P0(t,h,r,f),fi=!1;var c=t.memoizedState;h.state=c,Ru(t,r,h,i),a=t.memoizedState,l!==r||c!==a||nn.current||fi?(typeof u=="function"&&(Sp(t,n,u,r),a=t.memoizedState),(l=fi||k0(t,n,l,r,c,a,f))?(s||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),h.props=r,h.state=a,h.context=f,r=l):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,$w(e,t),l=t.memoizedProps,f=t.type===t.elementType?l:Bn(t.type,l),h.props=f,s=t.pendingProps,c=h.context,a=n.contextType,typeof a=="object"&&a!==null?a=Mn(a):(a=rn(n)?wo:Nt.current,a=As(t,a));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(l!==s||c!==a)&&P0(t,h,r,a),fi=!1,c=t.memoizedState,h.state=c,Ru(t,r,h,i);var p=t.memoizedState;l!==s||c!==p||nn.current||fi?(typeof d=="function"&&(Sp(t,n,d,r),p=t.memoizedState),(f=fi||k0(t,n,f,r,c,p,a)||!1)?(u||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,p,a),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,p,a)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),h.props=r,h.state=p,h.context=a,r=f):(typeof h.componentDidUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Tp(e,t,n,r,o,i)}function Tp(e,t,n,r,i,o){nx(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return i&&b0(t,n,!1),Xr(e,t,o);r=t.stateNode,a5.current=t;var l=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=Ms(t,e.child,null,o),t.child=Ms(t,null,l,o)):Bt(e,t,l,o),t.memoizedState=r.state,i&&b0(t,n,!0),t.child}function rx(e){var t=e.stateNode;t.pendingContext?y0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y0(e,t.context,!1),ag(e,t.containerInfo)}function N0(e,t,n,r,i){return Rs(),tg(i),t.flags|=256,Bt(e,t,n,r),t.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Pp(e){return{baseLanes:e,cachePool:null,transitions:null}}function ix(e,t,n){var r=t.pendingProps,i=nt.current,o=!1,h=(t.flags&128)!==0,l;if((l=h)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ge(nt,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,o?(r=t.mode,o=t.child,h={mode:"hidden",children:h},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=h):o=If(h,r,0,null),e=yo(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Pp(n),t.memoizedState=kp,e):mg(t,h));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return l5(e,t,h,r,l,i,n);if(o){o=r.fallback,h=t.mode,i=e.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(h&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Ri(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ri(l,o):(o=yo(o,h,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,h=e.child.memoizedState,h=h===null?Pp(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},o.memoizedState=h,o.childLanes=e.childLanes&~n,t.memoizedState=kp,r}return o=e.child,e=o.sibling,r=Ri(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function mg(e,t){return t=If({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function _c(e,t,n,r){return r!==null&&tg(r),Ms(t,e.child,null,n),e=mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function l5(e,t,n,r,i,o,h){if(n)return t.flags&256?(t.flags&=-257,r=ih(Error(he(422))),_c(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=If({mode:"visible",children:r.children},i,0,null),o=yo(o,i,h,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ms(t,e.child,null,h),t.child.memoizedState=Pp(h),t.memoizedState=kp,o);if(!(t.mode&1))return _c(e,t,h,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(he(419)),r=ih(o,r,void 0),_c(e,t,h,r)}if(l=(h&e.childLanes)!==0,tn||l){if(r=_t,r!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|h)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Yr(e,i),Zn(r,e,i,-1))}return xg(),r=ih(Error(he(421))),_c(e,t,h,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x5.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,pn=Pi(i.nextSibling),mn=t,et=!0,Yn=null,e!==null&&(En[Tn++]=Fr,En[Tn++]=Lr,En[Tn++]=xo,Fr=e.id,Lr=e.overflow,xo=t),t=mg(t,r.children),t.flags|=4096,t)}function F0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xp(e.return,t,n)}function oh(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ox(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Bt(e,t,r.children,n),r=nt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F0(e,n,t);else if(e.tag===19)F0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ge(nt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Mu(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),oh(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Mu(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}oh(t,!0,n,null,o);break;case"together":oh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function eu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_o|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(he(153));if(t.child!==null){for(e=t.child,n=Ri(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ri(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function c5(e,t,n){switch(t.tag){case 3:rx(t),Rs();break;case 5:Aw(t);break;case 1:rn(t.type)&&ku(t);break;case 4:ag(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ge($u,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ge(nt,nt.current&1),t.flags|=128,null):n&t.child.childLanes?ix(e,t,n):(Ge(nt,nt.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);Ge(nt,nt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ox(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(nt,nt.current),r)break;return null;case 22:case 23:return t.lanes=0,tx(e,t,n)}return Xr(e,t,n)}var sx,Op,ax,lx;sx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};ax=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,lo(br.current);var o=null;switch(n){case"input":i=Zh(e,i),r=Zh(e,r),o=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":i=ep(e,i),r=ep(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Eu)}np(n,r);var h;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(h in l)l.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(tl.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var a=r[f];if(l=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&a!==l&&(a!=null||l!=null))if(f==="style")if(l){for(h in l)!l.hasOwnProperty(h)||a&&a.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in a)a.hasOwnProperty(h)&&l[h]!==a[h]&&(n||(n={}),n[h]=a[h])}else n||(o||(o=[]),o.push(f,n)),n=a;else f==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(f,a)):f==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(f,""+a):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(tl.hasOwnProperty(f)?(a!=null&&f==="onScroll"&&qe("scroll",e),o||l===a||(o=[])):(o=o||[]).push(f,a))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};lx=function(e,t,n,r){n!==r&&(t.flags|=4)};function va(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function u5(e,t,n){var r=t.pendingProps;switch(eg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return rn(t.type)&&Tu(),Rt(t),null;case 3:return r=t.stateNode,Ds(),Qe(nn),Qe(Nt),cg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(xc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(Lp(Yn),Yn=null))),Op(e,t),Rt(t),null;case 5:lg(t);var i=lo(hl.current);if(n=t.type,e!==null&&t.stateNode!=null)ax(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(he(166));return Rt(t),null}if(e=lo(br.current),xc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[cr]=t,r[fl]=o,e=(t.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(i=0;i<Ma.length;i++)qe(Ma[i],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":Wv(r,o),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qe("invalid",r);break;case"textarea":Xv(r,o),qe("invalid",r)}np(n,o),i=null;for(var h in o)if(o.hasOwnProperty(h)){var l=o[h];h==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&wc(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&wc(r.textContent,l,e),i=["children",""+l]):tl.hasOwnProperty(h)&&l!=null&&h==="onScroll"&&qe("scroll",r)}switch(n){case"input":dc(r),Yv(r,o,!0);break;case"textarea":dc(r),Gv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Eu)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[cr]=t,e[fl]=r,sx(e,t,!1,!1),t.stateNode=e;e:{switch(h=rp(n,r),n){case"dialog":qe("cancel",e),qe("close",e),i=r;break;case"iframe":case"object":case"embed":qe("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ma.length;i++)qe(Ma[i],e);i=r;break;case"source":qe("error",e),i=r;break;case"img":case"image":case"link":qe("error",e),qe("load",e),i=r;break;case"details":qe("toggle",e),i=r;break;case"input":Wv(e,r),i=Zh(e,r),qe("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),qe("invalid",e);break;case"textarea":Xv(e,r),i=ep(e,r),qe("invalid",e);break;default:i=r}np(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?jb(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Lb(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&nl(e,a):typeof a=="number"&&nl(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tl.hasOwnProperty(o)?a!=null&&o==="onScroll"&&qe("scroll",e):a!=null&&jm(e,o,a,h))}switch(n){case"input":dc(e),Yv(e,r,!1);break;case"textarea":dc(e),Gv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Di(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?fs(e,!!r.multiple,o,!1):r.defaultValue!=null&&fs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Rt(t),null;case 6:if(e&&t.stateNode!=null)lx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(he(166));if(n=lo(hl.current),lo(br.current),xc(t)){if(r=t.stateNode,n=t.memoizedProps,r[cr]=t,(o=r.nodeValue!==n)&&(e=mn,e!==null))switch(e.tag){case 3:wc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cr]=t,t.stateNode=r}return Rt(t),null;case 13:if(Qe(nt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&pn!==null&&t.mode&1&&!(t.flags&128))Tw(),Rs(),t.flags|=98560,o=!1;else if(o=xc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(he(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(he(317));o[cr]=t}else Rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Rt(t),o=!1}else Yn!==null&&(Lp(Yn),Yn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?bt===0&&(bt=3):xg())),t.updateQueue!==null&&(t.flags|=4),Rt(t),null);case 4:return Ds(),Op(e,t),e===null&&cl(t.stateNode.containerInfo),Rt(t),null;case 10:return ig(t.type._context),Rt(t),null;case 17:return rn(t.type)&&Tu(),Rt(t),null;case 19:if(Qe(nt),o=t.memoizedState,o===null)return Rt(t),null;if(r=(t.flags&128)!==0,h=o.rendering,h===null)if(r)va(o,!1);else{if(bt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Mu(e),h!==null){for(t.flags|=128,va(o,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,h=o.alternate,h===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,e=h.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ge(nt,nt.current&1|2),t.child}e=e.sibling}o.tail!==null&&dt()>Fs&&(t.flags|=128,r=!0,va(o,!1),t.lanes=4194304)}else{if(!r)if(e=Mu(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),va(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!et)return Rt(t),null}else 2*dt()-o.renderingStartTime>Fs&&n!==1073741824&&(t.flags|=128,r=!0,va(o,!1),t.lanes=4194304);o.isBackwards?(h.sibling=t.child,t.child=h):(n=o.last,n!==null?n.sibling=h:t.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=dt(),t.sibling=null,n=nt.current,Ge(nt,r?n&1|2:n&1),t):(Rt(t),null);case 22:case 23:return wg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dn&1073741824&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),null;case 24:return null;case 25:return null}throw Error(he(156,t.tag))}function f5(e,t){switch(eg(t),t.tag){case 1:return rn(t.type)&&Tu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ds(),Qe(nn),Qe(Nt),cg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return lg(t),null;case 13:if(Qe(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(he(340));Rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(nt),null;case 4:return Ds(),null;case 10:return ig(t.type._context),null;case 22:case 23:return wg(),null;case 24:return null;default:return null}}var Cc=!1,Dt=!1,d5=typeof WeakSet=="function"?WeakSet:Set,xe=null;function as(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(e,t,r)}else n.current=null}function $p(e,t,n){try{n()}catch(r){ct(e,t,r)}}var L0=!1;function h5(e,t){if(hp=Su,e=hw(),Qm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,l=-1,a=-1,f=0,u=0,s=e,c=null;t:for(;;){for(var d;s!==n||i!==0&&s.nodeType!==3||(l=h+i),s!==o||r!==0&&s.nodeType!==3||(a=h+r),s.nodeType===3&&(h+=s.nodeValue.length),(d=s.firstChild)!==null;)c=s,s=d;for(;;){if(s===e)break t;if(c===n&&++f===i&&(l=h),c===o&&++u===r&&(a=h),(d=s.nextSibling)!==null)break;s=c,c=s.parentNode}s=d}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(pp={focusedElem:e,selectionRange:n},Su=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:Bn(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(w){ct(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return p=L0,L0=!1,p}function Ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&$p(t,n,o)}i=i.next}while(i!==r)}}function Ff(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ap(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cx(e){var t=e.alternate;t!==null&&(e.alternate=null,cx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cr],delete t[fl],delete t[vp],delete t[Kk],delete t[qk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ux(e){return e.tag===5||e.tag===3||e.tag===4}function I0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ux(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Eu));else if(r!==4&&(e=e.child,e!==null))for(Rp(e,t,n),e=e.sibling;e!==null;)Rp(e,t,n),e=e.sibling}function Mp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Mp(e,t,n),e=e.sibling;e!==null;)Mp(e,t,n),e=e.sibling}var Et=null,Un=!1;function ri(e,t,n){for(n=n.child;n!==null;)fx(e,t,n),n=n.sibling}function fx(e,t,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Pf,n)}catch{}switch(n.tag){case 5:Dt||as(n,t);case 6:var r=Et,i=Un;Et=null,ri(e,t,n),Et=r,Un=i,Et!==null&&(Un?(e=Et,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Et.removeChild(n.stateNode));break;case 18:Et!==null&&(Un?(e=Et,n=n.stateNode,e.nodeType===8?Qd(e.parentNode,n):e.nodeType===1&&Qd(e,n),sl(e)):Qd(Et,n.stateNode));break;case 4:r=Et,i=Un,Et=n.stateNode.containerInfo,Un=!0,ri(e,t,n),Et=r,Un=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,h=o.destroy;o=o.tag,h!==void 0&&(o&2||o&4)&&$p(n,t,h),i=i.next}while(i!==r)}ri(e,t,n);break;case 1:if(!Dt&&(as(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ct(n,t,l)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(Dt=(r=Dt)||n.memoizedState!==null,ri(e,t,n),Dt=r):ri(e,t,n);break;default:ri(e,t,n)}}function j0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new d5),t.forEach(function(r){var i=S5.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function In(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,h=t,l=h;e:for(;l!==null;){switch(l.tag){case 5:Et=l.stateNode,Un=!1;break e;case 3:Et=l.stateNode.containerInfo,Un=!0;break e;case 4:Et=l.stateNode.containerInfo,Un=!0;break e}l=l.return}if(Et===null)throw Error(he(160));fx(o,h,i),Et=null,Un=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(f){ct(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dx(t,e),t=t.sibling}function dx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),nr(e),r&4){try{Ya(3,e,e.return),Ff(3,e)}catch(g){ct(e,e.return,g)}try{Ya(5,e,e.return)}catch(g){ct(e,e.return,g)}}break;case 1:In(t,e),nr(e),r&512&&n!==null&&as(n,n.return);break;case 5:if(In(t,e),nr(e),r&512&&n!==null&&as(n,n.return),e.flags&32){var i=e.stateNode;try{nl(i,"")}catch(g){ct(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,h=n!==null?n.memoizedProps:o,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Db(i,o),rp(l,h);var f=rp(l,o);for(h=0;h<a.length;h+=2){var u=a[h],s=a[h+1];u==="style"?jb(i,s):u==="dangerouslySetInnerHTML"?Lb(i,s):u==="children"?nl(i,s):jm(i,u,s,f)}switch(l){case"input":Qh(i,o);break;case"textarea":Nb(i,o);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?fs(i,!!o.multiple,d,!1):c!==!!o.multiple&&(o.defaultValue!=null?fs(i,!!o.multiple,o.defaultValue,!0):fs(i,!!o.multiple,o.multiple?[]:"",!1))}i[fl]=o}catch(g){ct(e,e.return,g)}}break;case 6:if(In(t,e),nr(e),r&4){if(e.stateNode===null)throw Error(he(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){ct(e,e.return,g)}}break;case 3:if(In(t,e),nr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sl(t.containerInfo)}catch(g){ct(e,e.return,g)}break;case 4:In(t,e),nr(e);break;case 13:In(t,e),nr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yg=dt())),r&4&&j0(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Dt=(f=Dt)||u,In(t,e),Dt=f):In(t,e),nr(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!u&&e.mode&1)for(xe=e,u=e.child;u!==null;){for(s=xe=u;xe!==null;){switch(c=xe,d=c.child,c.tag){case 0:case 11:case 14:case 15:Ya(4,c,c.return);break;case 1:as(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){ct(r,n,g)}}break;case 5:as(c,c.return);break;case 22:if(c.memoizedState!==null){z0(s);continue}}d!==null?(d.return=c,xe=d):z0(s)}u=u.sibling}e:for(u=null,s=e;;){if(s.tag===5){if(u===null){u=s;try{i=s.stateNode,f?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=s.stateNode,a=s.memoizedProps.style,h=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Ib("display",h))}catch(g){ct(e,e.return,g)}}}else if(s.tag===6){if(u===null)try{s.stateNode.nodeValue=f?"":s.memoizedProps}catch(g){ct(e,e.return,g)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}}break;case 19:In(t,e),nr(e),r&4&&j0(e);break;case 21:break;default:In(t,e),nr(e)}}function nr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ux(n)){var r=n;break e}n=n.return}throw Error(he(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(nl(i,""),r.flags&=-33);var o=I0(e);Mp(e,o,i);break;case 3:case 4:var h=r.stateNode.containerInfo,l=I0(e);Rp(e,l,h);break;default:throw Error(he(161))}}catch(a){ct(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p5(e,t,n){xe=e,hx(e)}function hx(e,t,n){for(var r=(e.mode&1)!==0;xe!==null;){var i=xe,o=i.child;if(i.tag===22&&r){var h=i.memoizedState!==null||Cc;if(!h){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Dt;l=Cc;var f=Dt;if(Cc=h,(Dt=a)&&!f)for(xe=i;xe!==null;)h=xe,a=h.child,h.tag===22&&h.memoizedState!==null?V0(i):a!==null?(a.return=h,xe=a):V0(i);for(;o!==null;)xe=o,hx(o),o=o.sibling;xe=i,Cc=l,Dt=f}B0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,xe=o):B0(e)}}function B0(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Ff(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Dt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&C0(t,o,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}C0(t,h,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var u=f.memoizedState;if(u!==null){var s=u.dehydrated;s!==null&&sl(s)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}Dt||t.flags&512&&Ap(t)}catch(c){ct(t,t.return,c)}}if(t===e){xe=null;break}if(n=t.sibling,n!==null){n.return=t.return,xe=n;break}xe=t.return}}function z0(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,xe=n;break}xe=t.return}}function V0(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ff(4,t)}catch(a){ct(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){ct(t,i,a)}}var o=t.return;try{Ap(t)}catch(a){ct(t,o,a)}break;case 5:var h=t.return;try{Ap(t)}catch(a){ct(t,h,a)}}}catch(a){ct(t,t.return,a)}if(t===e){xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,xe=l;break}xe=t.return}}var m5=Math.ceil,Fu=Qr.ReactCurrentDispatcher,gg=Qr.ReactCurrentOwner,On=Qr.ReactCurrentBatchConfig,Be=0,_t=null,ht=null,kt=0,dn=0,ls=zi(0),bt=0,vl=null,_o=0,Lf=0,vg=0,Xa=null,Jt=null,yg=0,Fs=1/0,Rr=null,Lu=!1,Dp=null,$i=null,Ec=!1,wi=null,Iu=0,Ga=0,Np=null,tu=-1,nu=0;function Wt(){return Be&6?dt():tu!==-1?tu:tu=dt()}function Ai(e){return e.mode&1?Be&2&&kt!==0?kt&-kt:Qk.transition!==null?(nu===0&&(nu=Zb()),nu):(e=He,e!==0||(e=window.event,e=e===void 0?16:iw(e.type)),e):1}function Zn(e,t,n,r){if(50<Ga)throw Ga=0,Np=null,Error(he(185));jl(e,n,r),(!(Be&2)||e!==_t)&&(e===_t&&(!(Be&2)&&(Lf|=n),bt===4&&hi(e,kt)),on(e,r),n===1&&Be===0&&!(t.mode&1)&&(Fs=dt()+500,Mf&&Vi()))}function on(e,t){var n=e.callbackNode;QT(e,t);var r=xu(e,e===_t?kt:0);if(r===0)n!==null&&Zv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Zv(n),t===1)e.tag===0?Zk(U0.bind(null,e)):_w(U0.bind(null,e)),Xk(function(){!(Be&6)&&Vi()}),n=null;else{switch(Qb(r)){case 1:n=Hm;break;case 4:n=Kb;break;case 16:n=wu;break;case 536870912:n=qb;break;default:n=wu}n=xx(n,px.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function px(e,t){if(tu=-1,nu=0,Be&6)throw Error(he(327));var n=e.callbackNode;if(gs()&&e.callbackNode!==n)return null;var r=xu(e,e===_t?kt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ju(e,r);else{t=r;var i=Be;Be|=2;var o=gx();(_t!==e||kt!==t)&&(Rr=null,Fs=dt()+500,vo(e,t));do try{y5();break}catch(l){mx(e,l)}while(!0);rg(),Fu.current=o,Be=i,ht!==null?t=0:(_t=null,kt=0,t=bt)}if(t!==0){if(t===2&&(i=lp(e),i!==0&&(r=i,t=Fp(e,i))),t===1)throw n=vl,vo(e,0),hi(e,r),on(e,dt()),n;if(t===6)hi(e,r);else{if(i=e.current.alternate,!(r&30)&&!g5(i)&&(t=ju(e,r),t===2&&(o=lp(e),o!==0&&(r=o,t=Fp(e,o))),t===1))throw n=vl,vo(e,0),hi(e,r),on(e,dt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(he(345));case 2:Qi(e,Jt,Rr);break;case 3:if(hi(e,r),(r&130023424)===r&&(t=yg+500-dt(),10<t)){if(xu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gp(Qi.bind(null,e,Jt,Rr),t);break}Qi(e,Jt,Rr);break;case 4:if(hi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var h=31-qn(r);o=1<<h,h=t[h],h>i&&(i=h),r&=~o}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*m5(r/1960))-r,10<r){e.timeoutHandle=gp(Qi.bind(null,e,Jt,Rr),r);break}Qi(e,Jt,Rr);break;case 5:Qi(e,Jt,Rr);break;default:throw Error(he(329))}}}return on(e,dt()),e.callbackNode===n?px.bind(null,e):null}function Fp(e,t){var n=Xa;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=ju(e,t),e!==2&&(t=Jt,Jt=n,t!==null&&Lp(t)),e}function Lp(e){Jt===null?Jt=e:Jt.push.apply(Jt,e)}function g5(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Jn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hi(e,t){for(t&=~vg,t&=~Lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qn(t),r=1<<n;e[n]=-1,t&=~r}}function U0(e){if(Be&6)throw Error(he(327));gs();var t=xu(e,0);if(!(t&1))return on(e,dt()),null;var n=ju(e,t);if(e.tag!==0&&n===2){var r=lp(e);r!==0&&(t=r,n=Fp(e,r))}if(n===1)throw n=vl,vo(e,0),hi(e,t),on(e,dt()),n;if(n===6)throw Error(he(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qi(e,Jt,Rr),on(e,dt()),null}function bg(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(Fs=dt()+500,Mf&&Vi())}}function Co(e){wi!==null&&wi.tag===0&&!(Be&6)&&gs();var t=Be;Be|=1;var n=On.transition,r=He;try{if(On.transition=null,He=1,e)return e()}finally{He=r,On.transition=n,Be=t,!(Be&6)&&Vi()}}function wg(){dn=ls.current,Qe(ls)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Yk(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(eg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Tu();break;case 3:Ds(),Qe(nn),Qe(Nt),cg();break;case 5:lg(r);break;case 4:Ds();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:ig(r.type._context);break;case 22:case 23:wg()}n=n.return}if(_t=e,ht=e=Ri(e.current,null),kt=dn=t,bt=0,vl=null,vg=Lf=_o=0,Jt=Xa=null,ao!==null){for(t=0;t<ao.length;t++)if(n=ao[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var h=o.next;o.next=i,r.next=h}n.pending=r}ao=null}return e}function mx(e,t){do{var n=ht;try{if(rg(),Qc.current=Nu,Du){for(var r=it.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Du=!1}if(So=0,St=yt=it=null,Wa=!1,pl=0,gg.current=null,n===null||n.return===null){bt=1,vl=t,ht=null;break}e:{var o=e,h=n.return,l=n,a=t;if(t=kt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var f=a,u=l,s=u.tag;if(!(u.mode&1)&&(s===0||s===11||s===15)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=$0(h);if(d!==null){d.flags&=-257,A0(d,h,l,o,t),d.mode&1&&O0(o,f,t),t=d,a=f;var p=t.updateQueue;if(p===null){var g=new Set;g.add(a),t.updateQueue=g}else p.add(a);break e}else{if(!(t&1)){O0(o,f,t),xg();break e}a=Error(he(426))}}else if(et&&l.mode&1){var m=$0(h);if(m!==null){!(m.flags&65536)&&(m.flags|=256),A0(m,h,l,o,t),tg(Ns(a,l));break e}}o=a=Ns(a,l),bt!==4&&(bt=2),Xa===null?Xa=[o]:Xa.push(o),o=h;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=Qw(o,a,t);_0(o,v);break e;case 1:l=a;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&($i===null||!$i.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=Jw(o,l,t);_0(o,w);break e}}o=o.return}while(o!==null)}yx(n)}catch(S){t=S,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function gx(){var e=Fu.current;return Fu.current=Nu,e===null?Nu:e}function xg(){(bt===0||bt===3||bt===2)&&(bt=4),_t===null||!(_o&268435455)&&!(Lf&268435455)||hi(_t,kt)}function ju(e,t){var n=Be;Be|=2;var r=gx();(_t!==e||kt!==t)&&(Rr=null,vo(e,t));do try{v5();break}catch(i){mx(e,i)}while(!0);if(rg(),Be=n,Fu.current=r,ht!==null)throw Error(he(261));return _t=null,kt=0,bt}function v5(){for(;ht!==null;)vx(ht)}function y5(){for(;ht!==null&&!UT();)vx(ht)}function vx(e){var t=wx(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?yx(e):ht=t,gg.current=null}function yx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=f5(n,t),n!==null){n.flags&=32767,ht=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,ht=null;return}}else if(n=u5(n,t,dn),n!==null){ht=n;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);bt===0&&(bt=5)}function Qi(e,t,n){var r=He,i=On.transition;try{On.transition=null,He=1,b5(e,t,n,r)}finally{On.transition=i,He=r}return null}function b5(e,t,n,r){do gs();while(wi!==null);if(Be&6)throw Error(he(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(he(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(JT(e,o),e===_t&&(ht=_t=null,kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ec||(Ec=!0,xx(wu,function(){return gs(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=On.transition,On.transition=null;var h=He;He=1;var l=Be;Be|=4,gg.current=null,h5(e,n),dx(n,e),jk(pp),Su=!!hp,pp=hp=null,e.current=n,p5(n),HT(),Be=l,He=h,On.transition=o}else e.current=n;if(Ec&&(Ec=!1,wi=e,Iu=i),o=e.pendingLanes,o===0&&($i=null),XT(n.stateNode),on(e,dt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lu)throw Lu=!1,e=Dp,Dp=null,e;return Iu&1&&e.tag!==0&&gs(),o=e.pendingLanes,o&1?e===Np?Ga++:(Ga=0,Np=e):Ga=0,Vi(),null}function gs(){if(wi!==null){var e=Qb(Iu),t=On.transition,n=He;try{if(On.transition=null,He=16>e?16:e,wi===null)var r=!1;else{if(e=wi,wi=null,Iu=0,Be&6)throw Error(he(331));var i=Be;for(Be|=4,xe=e.current;xe!==null;){var o=xe,h=o.child;if(xe.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var f=l[a];for(xe=f;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:Ya(8,u,o)}var s=u.child;if(s!==null)s.return=u,xe=s;else for(;xe!==null;){u=xe;var c=u.sibling,d=u.return;if(cx(u),u===f){xe=null;break}if(c!==null){c.return=d,xe=c;break}xe=d}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}xe=o}}if(o.subtreeFlags&2064&&h!==null)h.return=o,xe=h;else e:for(;xe!==null;){if(o=xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ya(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,xe=v;break e}xe=o.return}}var y=e.current;for(xe=y;xe!==null;){h=xe;var b=h.child;if(h.subtreeFlags&2064&&b!==null)b.return=h,xe=b;else e:for(h=y;xe!==null;){if(l=xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ff(9,l)}}catch(S){ct(l,l.return,S)}if(l===h){xe=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,xe=w;break e}xe=l.return}}if(Be=i,Vi(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Pf,e)}catch{}r=!0}return r}finally{He=n,On.transition=t}}return!1}function H0(e,t,n){t=Ns(n,t),t=Qw(e,t,1),e=Oi(e,t,1),t=Wt(),e!==null&&(jl(e,1,t),on(e,t))}function ct(e,t,n){if(e.tag===3)H0(e,e,n);else for(;t!==null;){if(t.tag===3){H0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($i===null||!$i.has(r))){e=Ns(n,e),e=Jw(t,e,1),t=Oi(t,e,1),e=Wt(),t!==null&&(jl(t,1,e),on(t,e));break}}t=t.return}}function w5(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wt(),e.pingedLanes|=e.suspendedLanes&n,_t===e&&(kt&n)===n&&(bt===4||bt===3&&(kt&130023424)===kt&&500>dt()-yg?vo(e,0):vg|=n),on(e,t)}function bx(e,t){t===0&&(e.mode&1?(t=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):t=1);var n=Wt();e=Yr(e,t),e!==null&&(jl(e,t,n),on(e,n))}function x5(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),bx(e,n)}function S5(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(he(314))}r!==null&&r.delete(t),bx(e,n)}var wx;wx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||nn.current)tn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return tn=!1,c5(e,t,n);tn=!!(e.flags&131072)}else tn=!1,et&&t.flags&1048576&&Cw(t,Ou,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;eu(e,t),e=t.pendingProps;var i=As(t,Nt.current);ms(t,n),i=fg(null,t,r,e,i,n);var o=dg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(r)?(o=!0,ku(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sg(t),i.updater=Nf,t.stateNode=i,i._reactInternals=t,_p(t,r,e,n),t=Tp(null,t,r,!0,o,n)):(t.tag=0,et&&o&&Jm(t),Bt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(eu(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=C5(r),e=Bn(r,e),i){case 0:t=Ep(null,t,r,e,n);break e;case 1:t=D0(null,t,r,e,n);break e;case 11:t=R0(null,t,r,e,n);break e;case 14:t=M0(null,t,r,Bn(r.type,e),n);break e}throw Error(he(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),Ep(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),D0(e,t,r,i,n);case 3:e:{if(rx(t),e===null)throw Error(he(387));r=t.pendingProps,o=t.memoizedState,i=o.element,$w(e,t),Ru(t,r,null,n);var h=t.memoizedState;if(r=h.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ns(Error(he(423)),t),t=N0(e,t,r,n,i);break e}else if(r!==i){i=Ns(Error(he(424)),t),t=N0(e,t,r,n,i);break e}else for(pn=Pi(t.stateNode.containerInfo.firstChild),mn=t,et=!0,Yn=null,n=Pw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){t=Xr(e,t,n);break e}Bt(e,t,r,n)}t=t.child}return t;case 5:return Aw(t),e===null&&wp(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,h=i.children,mp(r,i)?h=null:o!==null&&mp(r,o)&&(t.flags|=32),nx(e,t),Bt(e,t,h,n),t.child;case 6:return e===null&&wp(t),null;case 13:return ix(e,t,n);case 4:return ag(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ms(t,null,r,n):Bt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),R0(e,t,r,i,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,h=i.value,Ge($u,r._currentValue),r._currentValue=h,o!==null)if(Jn(o.value,h)){if(o.children===i.children&&!nn.current){t=Xr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){h=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Vr(-1,n&-n),a.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var u=f.pending;u===null?a.next=a:(a.next=u.next,u.next=a),f.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xp(o.return,n,t),l.lanes|=n;break}a=a.next}}else if(o.tag===10)h=o.type===t.type?null:o.child;else if(o.tag===18){if(h=o.return,h===null)throw Error(he(341));h.lanes|=n,l=h.alternate,l!==null&&(l.lanes|=n),xp(h,n,t),h=o.sibling}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===t){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}Bt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ms(t,n),i=Mn(i),r=r(i),t.flags|=1,Bt(e,t,r,n),t.child;case 14:return r=t.type,i=Bn(r,t.pendingProps),i=Bn(r.type,i),M0(e,t,r,i,n);case 15:return ex(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bn(r,i),eu(e,t),t.tag=1,rn(r)?(e=!0,ku(t)):e=!1,ms(t,n),Zw(t,r,i),_p(t,r,i,n),Tp(null,t,r,!0,e,n);case 19:return ox(e,t,n);case 22:return tx(e,t,n)}throw Error(he(156,t.tag))};function xx(e,t){return Gb(e,t)}function _5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,n,r){return new _5(e,t,n,r)}function Sg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C5(e){if(typeof e=="function")return Sg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zm)return 11;if(e===Vm)return 14}return 2}function Ri(e,t){var n=e.alternate;return n===null?(n=kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ru(e,t,n,r,i,o){var h=2;if(r=e,typeof e=="function")Sg(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Qo:return yo(n.children,i,o,t);case Bm:h=8,i|=8;break;case Xh:return e=kn(12,n,t,i|2),e.elementType=Xh,e.lanes=o,e;case Gh:return e=kn(13,n,t,i),e.elementType=Gh,e.lanes=o,e;case Kh:return e=kn(19,n,t,i),e.elementType=Kh,e.lanes=o,e;case Ab:return If(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ob:h=10;break e;case $b:h=9;break e;case zm:h=11;break e;case Vm:h=14;break e;case ui:h=16,r=null;break e}throw Error(he(130,e==null?e:typeof e,""))}return t=kn(h,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function yo(e,t,n,r){return e=kn(7,e,r,t),e.lanes=n,e}function If(e,t,n,r){return e=kn(22,e,r,t),e.elementType=Ab,e.lanes=n,e.stateNode={isHidden:!1},e}function sh(e,t,n){return e=kn(6,e,null,t),e.lanes=n,e}function ah(e,t,n){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function E5(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function _g(e,t,n,r,i,o,h,l,a){return e=new E5(e,t,n,l,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=kn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sg(o),e}function T5(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sx(e){if(!e)return Ni;e=e._reactInternals;e:{if(Mo(e)!==e||e.tag!==1)throw Error(he(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(he(171))}if(e.tag===1){var n=e.type;if(rn(n))return Sw(e,n,t)}return t}function _x(e,t,n,r,i,o,h,l,a){return e=_g(n,r,!0,e,i,o,h,l,a),e.context=Sx(null),n=e.current,r=Wt(),i=Ai(n),o=Vr(r,i),o.callback=t??null,Oi(n,o,i),e.current.lanes=i,jl(e,i,r),on(e,r),e}function jf(e,t,n,r){var i=t.current,o=Wt(),h=Ai(i);return n=Sx(n),t.context===null?t.context=n:t.pendingContext=n,t=Vr(o,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Oi(i,t,h),e!==null&&(Zn(e,i,h,o),Zc(e,i,h)),h}function Bu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function W0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cg(e,t){W0(e,t),(e=e.alternate)&&W0(e,t)}function k5(){return null}var Cx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eg(e){this._internalRoot=e}Bf.prototype.render=Eg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(he(409));jf(e,t,null,null)};Bf.prototype.unmount=Eg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Co(function(){jf(null,e,null,null)}),t[Wr]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=tw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&t!==0&&t<di[n].priority;n++);di.splice(n,0,e),n===0&&rw(e)}};function Tg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Y0(){}function P5(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var f=Bu(h);o.call(f)}}var h=_x(t,r,e,0,null,!1,!1,"",Y0);return e._reactRootContainer=h,e[Wr]=h.current,cl(e.nodeType===8?e.parentNode:e),Co(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Bu(a);l.call(f)}}var a=_g(e,0,!1,null,null,!1,!1,"",Y0);return e._reactRootContainer=a,e[Wr]=a.current,cl(e.nodeType===8?e.parentNode:e),Co(function(){jf(t,a,n,r)}),a}function Vf(e,t,n,r,i){var o=n._reactRootContainer;if(o){var h=o;if(typeof i=="function"){var l=i;i=function(){var a=Bu(h);l.call(a)}}jf(t,h,e,i)}else h=P5(n,t,e,i,r);return Bu(h)}Jb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ra(t.pendingLanes);n!==0&&(Wm(t,n|1),on(t,dt()),!(Be&6)&&(Fs=dt()+500,Vi()))}break;case 13:Co(function(){var r=Yr(e,1);if(r!==null){var i=Wt();Zn(r,e,1,i)}}),Cg(e,1)}};Ym=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var n=Wt();Zn(t,e,134217728,n)}Cg(e,134217728)}};ew=function(e){if(e.tag===13){var t=Ai(e),n=Yr(e,t);if(n!==null){var r=Wt();Zn(n,e,t,r)}Cg(e,t)}};tw=function(){return He};nw=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};op=function(e,t,n){switch(t){case"input":if(Qh(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Rf(r);if(!i)throw Error(he(90));Mb(r),Qh(r,i)}}}break;case"textarea":Nb(e,n);break;case"select":t=n.value,t!=null&&fs(e,!!n.multiple,t,!1)}};Vb=bg;Ub=Co;var O5={usingClientEntryPoint:!1,Events:[zl,ns,Rf,Bb,zb,bg]},ya={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$5={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yb(e),e===null?null:e.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||k5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tc.isDisabled&&Tc.supportsFiber)try{Pf=Tc.inject($5),yr=Tc}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;xn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tg(t))throw Error(he(200));return T5(e,t,null,n)};xn.createRoot=function(e,t){if(!Tg(e))throw Error(he(299));var n=!1,r="",i=Cx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=_g(e,1,!1,null,null,n,!1,r,i),e[Wr]=t.current,cl(e.nodeType===8?e.parentNode:e),new Eg(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(he(188)):(e=Object.keys(e).join(","),Error(he(268,e)));return e=Yb(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return Co(e)};xn.hydrate=function(e,t,n){if(!zf(t))throw Error(he(200));return Vf(null,e,t,!0,n)};xn.hydrateRoot=function(e,t,n){if(!Tg(e))throw Error(he(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",h=Cx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=_x(t,null,e,1,n??null,i,!1,o,h),e[Wr]=t.current,cl(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bf(t)};xn.render=function(e,t,n){if(!zf(t))throw Error(he(200));return Vf(null,e,t,!1,n)};xn.unmountComponentAtNode=function(e){if(!zf(e))throw Error(he(40));return e._reactRootContainer?(Co(function(){Vf(null,null,e,!1,function(){e._reactRootContainer=null,e[Wr]=null})}),!0):!1};xn.unstable_batchedUpdates=bg;xn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zf(n))throw Error(he(200));if(e==null||e._reactInternals===void 0)throw Error(he(38));return Vf(e,t,n,!1,r)};xn.version="18.3.1-next-f1338f8080-20240426";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(e){console.error(e)}}Ex(),Eb.exports=xn;var Ui=Eb.exports;const A5=Rm(Ui);var X0=Ui;Wh.createRoot=X0.createRoot,Wh.hydrateRoot=X0.hydrateRoot;var Uf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hf=typeof window>"u"||"Deno"in globalThis;function zn(){}function R5(e,t){return typeof e=="function"?e(t):e}function M5(e){return typeof e=="number"&&e>=0&&e!==1/0}function D5(e,t){return Math.max(e+(t||0)-Date.now(),0)}function G0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:h,stale:l}=e;if(h){if(r){if(t.queryHash!==kg(h,t.options))return!1}else if(!bl(t.queryKey,h))return!1}if(n!=="all"){const a=t.isActive();if(n==="active"&&!a||n==="inactive"&&a)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function K0(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(yl(t.options.mutationKey)!==yl(o))return!1}else if(!bl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function kg(e,t){return((t==null?void 0:t.queryKeyHashFn)||yl)(e)}function yl(e){return JSON.stringify(e,(t,n)=>Ip(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!bl(e[n],t[n])):!1}function Tx(e,t){if(e===t)return e;const n=q0(e)&&q0(t);if(n||Ip(e)&&Ip(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),h=o.length,l=n?[]:{};let a=0;for(let f=0;f<h;f++){const u=n?f:o[f];(!n&&r.includes(u)||n)&&e[u]===void 0&&t[u]===void 0?(l[u]=void 0,a++):(l[u]=Tx(e[u],t[u]),l[u]===e[u]&&e[u]!==void 0&&a++)}return i===h&&a===i?e:l}return t}function q0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ip(e){if(!Z0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Z0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Z0(e){return Object.prototype.toString.call(e)==="[object Object]"}function N5(e){return new Promise(t=>{setTimeout(t,e)})}function F5(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Tx(e,t):t}function L5(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function I5(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Pg=Symbol(),ho,pi,xs,sb,j5=(sb=class extends Uf{constructor(){super();ze(this,ho,void 0);ze(this,pi,void 0);ze(this,xs,void 0);De(this,xs,t=>{if(!Hf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){de(this,pi)||this.setEventListener(de(this,xs))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,pi))==null||t.call(this),De(this,pi,void 0))}setEventListener(t){var n;De(this,xs,t),(n=de(this,pi))==null||n.call(this),De(this,pi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){de(this,ho)!==t&&(De(this,ho,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof de(this,ho)=="boolean"?de(this,ho):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ho=new WeakMap,pi=new WeakMap,xs=new WeakMap,sb),kx=new j5,Ss,mi,_s,ab,B5=(ab=class extends Uf{constructor(){super();ze(this,Ss,!0);ze(this,mi,void 0);ze(this,_s,void 0);De(this,_s,t=>{if(!Hf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){de(this,mi)||this.setEventListener(de(this,_s))}onUnsubscribe(){var t;this.hasListeners()||((t=de(this,mi))==null||t.call(this),De(this,mi,void 0))}setEventListener(t){var n;De(this,_s,t),(n=de(this,mi))==null||n.call(this),De(this,mi,t(this.setOnline.bind(this)))}setOnline(t){de(this,Ss)!==t&&(De(this,Ss,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return de(this,Ss)}},Ss=new WeakMap,mi=new WeakMap,_s=new WeakMap,ab),zu=new B5;function z5(e){return Math.min(1e3*2**e,3e4)}function Px(e){return(e??"online")==="online"?zu.isOnline():!0}var Ox=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function lh(e){return e instanceof Ox}function $x(e){let t=!1,n=0,r=!1,i,o,h;const l=new Promise((v,y)=>{o=v,h=y}),a=v=>{var y;r||(p(new Ox(v)),(y=e.abort)==null||y.call(e))},f=()=>{t=!0},u=()=>{t=!1},s=()=>kx.isFocused()&&(e.networkMode==="always"||zu.isOnline())&&e.canRun(),c=()=>Px(e.networkMode)&&e.canRun(),d=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),o(v))},p=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),h(v))},g=()=>new Promise(v=>{var y;i=b=>{(r||s())&&v(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),m=()=>{if(r)return;let v;try{v=e.fn()}catch(y){v=Promise.reject(y)}Promise.resolve(v).then(d).catch(y=>{var E;if(r)return;const b=e.retry??(Hf?0:3),w=e.retryDelay??z5,S=typeof w=="function"?w(n,y):w,_=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(t||!_){p(y);return}n++,(E=e.onFail)==null||E.call(e,n,y),N5(S).then(()=>s()?void 0:g()).then(()=>{t?p(y):m()})})};return{promise:l,cancel:a,continue:()=>(i==null||i(),l),cancelRetry:f,continueRetry:u,canStart:c,start:()=>(c()?m():g().then(m),l)}}function V5(){let e=[],t=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{i=c},h=c=>{let d;t++;try{d=c()}finally{t--,t||f()}return d},l=c=>{t?e.push(c):i(()=>{n(c)})},a=c=>(...d)=>{l(()=>{c(...d)})},f=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:h,batchCalls:a,schedule:l,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:o}}var Ut=V5(),po,lb,Ax=(lb=class{constructor(){ze(this,po,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M5(this.gcTime)&&De(this,po,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hf?1/0:5*60*1e3))}clearGcTimeout(){de(this,po)&&(clearTimeout(de(this,po)),De(this,po,void 0))}},po=new WeakMap,lb),Cs,Es,Cn,It,Fl,mo,Vn,$r,cb,U5=(cb=class extends Ax{constructor(t){super();ze(this,Vn);ze(this,Cs,void 0);ze(this,Es,void 0);ze(this,Cn,void 0);ze(this,It,void 0);ze(this,Fl,void 0);ze(this,mo,void 0);De(this,mo,!1),De(this,Fl,t.defaultOptions),this.setOptions(t.options),this.observers=[],De(this,Cn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,De(this,Cs,t.state||W5(this.options)),this.state=de(this,Cs),this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...de(this,Fl),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&de(this,Cn).remove(this)}setData(t,n){const r=F5(this.state.data,t,this.options);return $t(this,Vn,$r).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){$t(this,Vn,$r).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=de(this,It))==null?void 0:r.promise;return(i=de(this,It))==null||i.cancel(t),n?n.then(zn).catch(zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(de(this,Cs))}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!D5(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,It))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=de(this,It))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),de(this,Cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(de(this,It)&&(de(this,mo)?de(this,It).cancel({revert:!0}):de(this,It).cancelRetry()),this.scheduleGc()),de(this,Cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$t(this,Vn,$r).call(this,{type:"invalidate"})}fetch(t,n){var f,u,s;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(de(this,It))return de(this,It).continueRetry(),de(this,It).promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,i={queryKey:this.queryKey,meta:this.meta},o=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(De(this,mo,!0),r.signal)})};o(i);const h=()=>!this.options.queryFn||this.options.queryFn===Pg?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(De(this,mo,!1),this.options.persister?this.options.persister(this.options.queryFn,i,this):this.options.queryFn(i)),l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:h};o(l),(f=this.options.behavior)==null||f.onFetch(l,this),De(this,Es,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&$t(this,Vn,$r).call(this,{type:"fetch",meta:(s=l.fetchOptions)==null?void 0:s.meta});const a=c=>{var d,p,g,m;lh(c)&&c.silent||$t(this,Vn,$r).call(this,{type:"error",error:c}),lh(c)||((p=(d=de(this,Cn).config).onError)==null||p.call(d,c,this),(m=(g=de(this,Cn).config).onSettled)==null||m.call(g,this.state.data,c,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return De(this,It,$x({fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{var d,p,g,m;if(c===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(c),(p=(d=de(this,Cn).config).onSuccess)==null||p.call(d,c,this),(m=(g=de(this,Cn).config).onSettled)==null||m.call(g,c,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(c,d)=>{$t(this,Vn,$r).call(this,{type:"failed",failureCount:c,error:d})},onPause:()=>{$t(this,Vn,$r).call(this,{type:"pause"})},onContinue:()=>{$t(this,Vn,$r).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),de(this,It).start()}},Cs=new WeakMap,Es=new WeakMap,Cn=new WeakMap,It=new WeakMap,Fl=new WeakMap,mo=new WeakMap,Vn=new WeakSet,$r=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...H5(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return lh(i)&&i.revert&&de(this,Es)?{...de(this,Es),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ut.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),de(this,Cn).notify({query:this,type:"updated",action:t})})},cb);function H5(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Px(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function W5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var or,ub,Y5=(ub=class extends Uf{constructor(t={}){super();ze(this,or,void 0);this.config=t,De(this,or,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??kg(i,n);let h=this.get(o);return h||(h=new U5({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(h)),h}add(t){de(this,or).has(t.queryHash)||(de(this,or).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=de(this,or).get(t.queryHash);n&&(t.destroy(),n===t&&de(this,or).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return de(this,or).get(t)}getAll(){return[...de(this,or).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>G0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>G0(t,r)):n}notify(t){Ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},or=new WeakMap,ub),sr,jt,go,ar,ai,fb,X5=(fb=class extends Ax{constructor(t){super();ze(this,ar);ze(this,sr,void 0);ze(this,jt,void 0);ze(this,go,void 0);this.mutationId=t.mutationId,De(this,jt,t.mutationCache),De(this,sr,[]),this.state=t.state||G5(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){de(this,sr).includes(t)||(de(this,sr).push(t),this.clearGcTimeout(),de(this,jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){De(this,sr,de(this,sr).filter(n=>n!==t)),this.scheduleGc(),de(this,jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){de(this,sr).length||(this.state.status==="pending"?this.scheduleGc():de(this,jt).remove(this))}continue(){var t;return((t=de(this,go))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,h,l,a,f,u,s,c,d,p,g,m,v,y,b,w,S,_,E;De(this,go,$x({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{$t(this,ar,ai).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{$t(this,ar,ai).call(this,{type:"pause"})},onContinue:()=>{$t(this,ar,ai).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>de(this,jt).canRun(this)}));const n=this.state.status==="pending",r=!de(this,go).canStart();try{if(!n){$t(this,ar,ai).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(i=de(this,jt).config).onMutate)==null?void 0:o.call(i,t,this));const P=await((l=(h=this.options).onMutate)==null?void 0:l.call(h,t));P!==this.state.context&&$t(this,ar,ai).call(this,{type:"pending",context:P,variables:t,isPaused:r})}const C=await de(this,go).start();return await((f=(a=de(this,jt).config).onSuccess)==null?void 0:f.call(a,C,t,this.state.context,this)),await((s=(u=this.options).onSuccess)==null?void 0:s.call(u,C,t,this.state.context)),await((d=(c=de(this,jt).config).onSettled)==null?void 0:d.call(c,C,null,this.state.variables,this.state.context,this)),await((g=(p=this.options).onSettled)==null?void 0:g.call(p,C,null,t,this.state.context)),$t(this,ar,ai).call(this,{type:"success",data:C}),C}catch(C){try{throw await((v=(m=de(this,jt).config).onError)==null?void 0:v.call(m,C,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,C,t,this.state.context)),await((S=(w=de(this,jt).config).onSettled)==null?void 0:S.call(w,void 0,C,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,C,t,this.state.context)),C}finally{$t(this,ar,ai).call(this,{type:"error",error:C})}}finally{de(this,jt).runNext(this)}}},sr=new WeakMap,jt=new WeakMap,go=new WeakMap,ar=new WeakSet,ai=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ut.batch(()=>{de(this,sr).forEach(r=>{r.onMutationUpdate(t)}),de(this,jt).notify({mutation:this,type:"updated",action:t})})},fb);function G5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var un,Ll,db,K5=(db=class extends Uf{constructor(t={}){super();ze(this,un,void 0);ze(this,Ll,void 0);this.config=t,De(this,un,new Map),De(this,Ll,Date.now())}build(t,n,r){const i=new X5({mutationCache:this,mutationId:++cc(this,Ll)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=kc(t),r=de(this,un).get(n)??[];r.push(t),de(this,un).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kc(t);if(de(this,un).has(n)){const i=(r=de(this,un).get(n))==null?void 0:r.filter(o=>o!==t);i&&(i.length===0?de(this,un).delete(n):de(this,un).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=de(this,un).get(kc(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=de(this,un).get(kc(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ut.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...de(this,un).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>K0(n,r))}findAll(t={}){return this.getAll().filter(n=>K0(t,n))}notify(t){Ut.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ut.batch(()=>Promise.all(t.map(n=>n.continue().catch(zn))))}},un=new WeakMap,Ll=new WeakMap,db);function kc(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function q5(e){return{onFetch:(t,n)=>{const r=async()=>{var p,g,m,v,y;const i=t.options,o=(m=(g=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:g.fetchMore)==null?void 0:m.direction,h=((v=t.state.data)==null?void 0:v.pages)||[],l=((y=t.state.data)==null?void 0:y.pageParams)||[],a={pages:[],pageParams:[]};let f=!1;const u=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},s=t.options.queryFn&&t.options.queryFn!==Pg?t.options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`)),c=async(b,w,S)=>{if(f)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _={queryKey:t.queryKey,pageParam:w,direction:S?"backward":"forward",meta:t.options.meta};u(_);const E=await s(_),{maxPages:C}=t.options,P=S?I5:L5;return{pages:P(b.pages,E,C),pageParams:P(b.pageParams,w,C)}};let d;if(o&&h.length){const b=o==="backward",w=b?Z5:Q0,S={pages:h,pageParams:l},_=w(i,S);d=await c(S,_,b)}else{d=await c(a,l[0]??i.initialPageParam);const b=e??h.length;for(let w=1;w<b;w++){const S=Q0(i,d);d=await c(d,S)}}return d};t.options.persister?t.fetchFn=()=>{var i,o;return(o=(i=t.options).persister)==null?void 0:o.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function Q0(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function Z5(e,{pages:t,pageParams:n}){var r;return(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n)}var st,gi,vi,Ts,ks,yi,Ps,Os,hb,Q5=(hb=class{constructor(e={}){ze(this,st,void 0);ze(this,gi,void 0);ze(this,vi,void 0);ze(this,Ts,void 0);ze(this,ks,void 0);ze(this,yi,void 0);ze(this,Ps,void 0);ze(this,Os,void 0);De(this,st,e.queryCache||new Y5),De(this,gi,e.mutationCache||new K5),De(this,vi,e.defaultOptions||{}),De(this,Ts,new Map),De(this,ks,new Map),De(this,yi,0)}mount(){cc(this,yi)._++,de(this,yi)===1&&(De(this,Ps,kx.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,st).onFocus())})),De(this,Os,zu.subscribe(async e=>{e&&(await this.resumePausedMutations(),de(this,st).onOnline())})))}unmount(){var e,t;cc(this,yi)._--,de(this,yi)===0&&((e=de(this,Ps))==null||e.call(this),De(this,Ps,void 0),(t=de(this,Os))==null||t.call(this),De(this,Os,void 0))}isFetching(e){return de(this,st).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return de(this,gi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,st).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=de(this,st).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(n.staleTime)&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return de(this,st).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=de(this,st).get(r.queryHash),o=i==null?void 0:i.state.data,h=R5(t,o);if(h!==void 0)return de(this,st).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return Ut.batch(()=>de(this,st).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=de(this,st).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=de(this,st);Ut.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=de(this,st),r={type:"active",...e};return Ut.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Ut.batch(()=>de(this,st).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(zn).catch(zn)}invalidateQueries(e={},t={}){return Ut.batch(()=>{if(de(this,st).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Ut.batch(()=>de(this,st).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(zn)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=de(this,st).build(this,t);return n.isStaleByTime(t.staleTime)?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zn).catch(zn)}fetchInfiniteQuery(e){return e.behavior=q5(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zn).catch(zn)}resumePausedMutations(){return zu.isOnline()?de(this,gi).resumePausedMutations():Promise.resolve()}getQueryCache(){return de(this,st)}getMutationCache(){return de(this,gi)}getDefaultOptions(){return de(this,vi)}setDefaultOptions(e){De(this,vi,e)}setQueryDefaults(e,t){de(this,Ts).set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...de(this,Ts).values()];let n={};return t.forEach(r=>{bl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){de(this,ks).set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...de(this,ks).values()];let n={};return t.forEach(r=>{bl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...de(this,vi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=kg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Pg&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...de(this,vi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){de(this,st).clear(),de(this,gi).clear()}},st=new WeakMap,gi=new WeakMap,vi=new WeakMap,Ts=new WeakMap,ks=new WeakMap,yi=new WeakMap,Ps=new WeakMap,Os=new WeakMap,hb),J5=x.createContext(void 0),eP=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),T.jsx(J5.Provider,{value:e,children:t}));function Hi(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var tP=["color"],nP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,tP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),rP=["color"],Rx=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,rP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),iP=["color"],oP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,iP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),sP=["color"],aP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,sP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),lP=["color"],cP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,lP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M3.13523 8.84197C3.3241 9.04343 3.64052 9.05363 3.84197 8.86477L7.5 5.43536L11.158 8.86477C11.3595 9.05363 11.6759 9.04343 11.8648 8.84197C12.0536 8.64051 12.0434 8.32409 11.842 8.13523L7.84197 4.38523C7.64964 4.20492 7.35036 4.20492 7.15803 4.38523L3.15803 8.13523C2.95657 8.32409 2.94637 8.64051 3.13523 8.84197Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uP=["color"],Mx=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,uP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),fP=["color"],dP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,fP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))}),hP=["color"],pP=x.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=Hi(e,hP);return x.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),x.createElement("path",{d:"M0.849976 1.74998C0.849976 1.25292 1.25292 0.849976 1.74998 0.849976H3.24998C3.74703 0.849976 4.14998 1.25292 4.14998 1.74998V2.04998H10.85V1.74998C10.85 1.25292 11.2529 0.849976 11.75 0.849976H13.25C13.747 0.849976 14.15 1.25292 14.15 1.74998V3.24998C14.15 3.74703 13.747 4.14998 13.25 4.14998H12.95V10.85H13.25C13.747 10.85 14.15 11.2529 14.15 11.75V13.25C14.15 13.747 13.747 14.15 13.25 14.15H11.75C11.2529 14.15 10.85 13.747 10.85 13.25V12.95H4.14998V13.25C4.14998 13.747 3.74703 14.15 3.24998 14.15H1.74998C1.25292 14.15 0.849976 13.747 0.849976 13.25V11.75C0.849976 11.2529 1.25292 10.85 1.74998 10.85H2.04998V4.14998H1.74998C1.25292 4.14998 0.849976 3.74703 0.849976 3.24998V1.74998ZM2.94998 4.14998V10.85H3.24998C3.74703 10.85 4.14998 11.2529 4.14998 11.75V12.05H10.85V11.75C10.85 11.2529 11.2529 10.85 11.75 10.85H12.05V4.14998H11.75C11.2529 4.14998 10.85 3.74703 10.85 3.24998V2.94998H4.14998V3.24998C4.14998 3.74703 3.74703 4.14998 3.24998 4.14998H2.94998ZM2.34998 1.74998H1.74998V2.34998V2.64998V3.24998H2.34998H2.64998H3.24998V2.64998V2.34998V1.74998H2.64998H2.34998ZM5.09998 5.99998C5.09998 5.50292 5.50292 5.09998 5.99998 5.09998H6.99998C7.49703 5.09998 7.89998 5.50292 7.89998 5.99998V6.99998C7.89998 7.03591 7.89787 7.07134 7.89378 7.10618C7.92861 7.10208 7.96405 7.09998 7.99998 7.09998H8.99998C9.49703 7.09998 9.89998 7.50292 9.89998 7.99998V8.99998C9.89998 9.49703 9.49703 9.89998 8.99998 9.89998H7.99998C7.50292 9.89998 7.09998 9.49703 7.09998 8.99998V7.99998C7.09998 7.96405 7.10208 7.92861 7.10618 7.89378C7.07134 7.89787 7.03591 7.89998 6.99998 7.89998H5.99998C5.50292 7.89998 5.09998 7.49703 5.09998 6.99998V5.99998ZM6.09998 5.99998H5.99998V6.09998V6.89998V6.99998H6.09998H6.89998H6.99998V6.89998V6.09998V5.99998H6.89998H6.09998ZM7.99998 7.99998H8.09998H8.89998H8.99998V8.09998V8.89998V8.99998H8.89998H8.09998H7.99998V8.89998V8.09998V7.99998ZM2.64998 11.75H2.34998H1.74998V12.35V12.65V13.25H2.34998H2.64998H3.24998V12.65V12.35V11.75H2.64998ZM11.75 1.74998H12.35H12.65H13.25V2.34998V2.64998V3.24998H12.65H12.35H11.75V2.64998V2.34998V1.74998ZM12.65 11.75H12.35H11.75V12.35V12.65V13.25H12.35H12.65H13.25V12.65V12.35V11.75H12.65Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function pe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function mP(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Wf(...e){return t=>e.forEach(n=>mP(n,t))}function Oe(...e){return x.useCallback(Wf(...e),e)}function gP(e,t){const n=x.createContext(t);function r(o){const{children:h,...l}=o,a=x.useMemo(()=>l,Object.values(l));return x.createElement(n.Provider,{value:a},h)}function i(o){const h=x.useContext(n);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,i]}function Kt(e,t=[]){let n=[];function r(o,h){const l=x.createContext(h),a=n.length;n=[...n,h];function f(s){const{scope:c,children:d,...p}=s,g=(c==null?void 0:c[e][a])||l,m=x.useMemo(()=>p,Object.values(p));return x.createElement(g.Provider,{value:m},d)}function u(s,c){const d=(c==null?void 0:c[e][a])||l,p=x.useContext(d);if(p)return p;if(h!==void 0)return h;throw new Error(`\`${s}\` must be used within \`${o}\``)}return f.displayName=o+"Provider",[f,u]}const i=()=>{const o=n.map(h=>x.createContext(h));return function(l){const a=(l==null?void 0:l[e])||o;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:a}}),[l,a])}};return i.scopeName=e,[r,vP(i,...t)]}function vP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const h=r.reduce((l,{useScope:a,scopeName:f})=>{const s=a(o)[`__scope${f}`];return{...l,...s}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return n.scopeName=t.scopeName,n}const xr=x.forwardRef((e,t)=>{const{children:n,...r}=e,i=x.Children.toArray(n),o=i.find(yP);if(o){const h=o.props.children,l=i.map(a=>a===o?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:a);return x.createElement(jp,le({},r,{ref:t}),x.isValidElement(h)?x.cloneElement(h,void 0,l):null)}return x.createElement(jp,le({},r,{ref:t}),n)});xr.displayName="Slot";const jp=x.forwardRef((e,t)=>{const{children:n,...r}=e;return x.isValidElement(n)?x.cloneElement(n,{...bP(r,n.props),ref:t?Wf(t,n.ref):n.ref}):x.Children.count(n)>1?x.Children.only(null):null});jp.displayName="SlotClone";const Og=({children:e})=>x.createElement(x.Fragment,null,e);function yP(e){return x.isValidElement(e)&&e.type===Og}function bP(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{o(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Ul(e){const t=e+"CollectionProvider",[n,r]=Kt(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),h=d=>{const{scope:p,children:g}=d,m=ke.useRef(null),v=ke.useRef(new Map).current;return ke.createElement(i,{scope:p,itemMap:v,collectionRef:m},g)},l=e+"CollectionSlot",a=ke.forwardRef((d,p)=>{const{scope:g,children:m}=d,v=o(l,g),y=Oe(p,v.collectionRef);return ke.createElement(xr,{ref:y},m)}),f=e+"CollectionItemSlot",u="data-radix-collection-item",s=ke.forwardRef((d,p)=>{const{scope:g,children:m,...v}=d,y=ke.useRef(null),b=Oe(p,y),w=o(f,g);return ke.useEffect(()=>(w.itemMap.set(y,{ref:y,...v}),()=>void w.itemMap.delete(y))),ke.createElement(xr,{[u]:"",ref:b},m)});function c(d){const p=o(e+"CollectionConsumer",d);return ke.useCallback(()=>{const m=p.collectionRef.current;if(!m)return[];const v=Array.from(m.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((w,S)=>v.indexOf(w.ref.current)-v.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:h,Slot:a,ItemSlot:s},c,r]}const wP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=wP.reduce((e,t)=>{const n=x.forwardRef((r,i)=>{const{asChild:o,...h}=r,l=o?xr:t;return x.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),x.createElement(l,le({},h,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function $g(e,t){e&&Ui.flushSync(()=>e.dispatchEvent(t))}function rt(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function xP(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e);x.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const Bp="dismissableLayer.update",SP="dismissableLayer.pointerDownOutside",_P="dismissableLayer.focusOutside";let J0;const Dx=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Js=x.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h,onInteractOutside:l,onDismiss:a,...f}=e,u=x.useContext(Dx),[s,c]=x.useState(null),d=(n=s==null?void 0:s.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=x.useState({}),g=Oe(t,C=>c(C)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=m.indexOf(v),b=s?m.indexOf(s):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=b>=y,_=EP(C=>{const P=C.target,N=[...u.branches].some(B=>B.contains(P));!S||N||(o==null||o(C),l==null||l(C),C.defaultPrevented||a==null||a())},d),E=TP(C=>{const P=C.target;[...u.branches].some(B=>B.contains(P))||(h==null||h(C),l==null||l(C),C.defaultPrevented||a==null||a())},d);return xP(C=>{b===u.layers.size-1&&(i==null||i(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},d),x.useEffect(()=>{if(s)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(J0=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(s)),u.layers.add(s),ey(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=J0)}},[s,d,r,u]),x.useEffect(()=>()=>{s&&(u.layers.delete(s),u.layersWithOutsidePointerEventsDisabled.delete(s),ey())},[s,u]),x.useEffect(()=>{const C=()=>p({});return document.addEventListener(Bp,C),()=>document.removeEventListener(Bp,C)},[]),x.createElement(Se.div,le({},f,{ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,E.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,_.onPointerDownCapture)}))}),CP=x.forwardRef((e,t)=>{const n=x.useContext(Dx),r=x.useRef(null),i=Oe(t,r);return x.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),x.createElement(Se.div,le({},e,{ref:i}))});function EP(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e),r=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let u=function(){Nx(SP,n,f,{discrete:!0})};var a=u;const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function TP(e,t=globalThis==null?void 0:globalThis.document){const n=rt(e),r=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!r.current&&Nx(_P,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function ey(){const e=new CustomEvent(Bp);document.dispatchEvent(e)}function Nx(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$g(i,o):i.dispatchEvent(o)}const kP=Js,PP=CP,Hl=x.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?A5.createPortal(x.createElement(Se.div,le({},i,{ref:t})),r):null}),Ft=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{};function OP(e,t){return x.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const Ot=e=>{const{present:t,children:n}=e,r=$P(t),i=typeof n=="function"?n({present:r.isPresent}):x.Children.only(n),o=Oe(r.ref,i.ref);return typeof n=="function"||r.isPresent?x.cloneElement(i,{ref:o}):null};Ot.displayName="Presence";function $P(e){const[t,n]=x.useState(),r=x.useRef({}),i=x.useRef(e),o=x.useRef("none"),h=e?"mounted":"unmounted",[l,a]=OP(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Pc(r.current);o.current=l==="mounted"?f:"none"},[l]),Ft(()=>{const f=r.current,u=i.current;if(u!==e){const c=o.current,d=Pc(f);e?a("MOUNT"):d==="none"||(f==null?void 0:f.display)==="none"?a("UNMOUNT"):a(u&&c!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,a]),Ft(()=>{if(t){const f=s=>{const d=Pc(r.current).includes(s.animationName);s.target===t&&d&&Ui.flushSync(()=>a("ANIMATION_END"))},u=s=>{s.target===t&&(o.current=Pc(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else a("ANIMATION_END")},[t,a]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Pc(e){return(e==null?void 0:e.animationName)||"none"}function yn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=AP({defaultProp:t,onChange:n}),o=e!==void 0,h=o?e:r,l=rt(n),a=x.useCallback(f=>{if(o){const s=typeof f=="function"?f(e):f;s!==e&&l(s)}else i(f)},[o,e,i,l]);return[h,a]}function AP({defaultProp:e,onChange:t}){const n=x.useState(e),[r]=n,i=x.useRef(r),o=rt(t);return x.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Yf=x.forwardRef((e,t)=>x.createElement(Se.span,le({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),RP=Yf,Fx="ToastProvider",[Ag,MP,DP]=Ul("Toast"),[Lx,jI]=Kt("Toast",[DP]),[NP,Xf]=Lx(Fx),Ix=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:h}=e,[l,a]=x.useState(null),[f,u]=x.useState(0),s=x.useRef(!1),c=x.useRef(!1);return x.createElement(Ag.Provider,{scope:t},x.createElement(NP,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:f,viewport:l,onViewportChange:a,onToastAdd:x.useCallback(()=>u(d=>d+1),[]),onToastRemove:x.useCallback(()=>u(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:s,isClosePausedRef:c},h))};Ix.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${Fx}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const FP="ToastViewport",LP=["F8"],zp="toast.viewportPause",Vp="toast.viewportResume",IP=x.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=LP,label:i="Notifications ({hotkey})",...o}=e,h=Xf(FP,n),l=MP(n),a=x.useRef(null),f=x.useRef(null),u=x.useRef(null),s=x.useRef(null),c=Oe(t,s,h.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=h.toastCount>0;x.useEffect(()=>{const m=v=>{var y;r.every(w=>v[w]||v.code===w)&&((y=s.current)===null||y===void 0||y.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),x.useEffect(()=>{const m=a.current,v=s.current;if(p&&m&&v){const y=()=>{if(!h.isClosePausedRef.current){const _=new CustomEvent(zp);v.dispatchEvent(_),h.isClosePausedRef.current=!0}},b=()=>{if(h.isClosePausedRef.current){const _=new CustomEvent(Vp);v.dispatchEvent(_),h.isClosePausedRef.current=!1}},w=_=>{!m.contains(_.relatedTarget)&&b()},S=()=>{m.contains(document.activeElement)||b()};return m.addEventListener("focusin",y),m.addEventListener("focusout",w),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",w),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[p,h.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:m})=>{const y=l().map(b=>{const w=b.ref.current,S=[w,...eO(w)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?y.reverse():y).flat()},[l]);return x.useEffect(()=>{const m=s.current;if(m){const v=y=>{const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,P=y.shiftKey;if(y.target===m&&P){var S;(S=f.current)===null||S===void 0||S.focus();return}const I=g({tabbingDirection:P?"backwards":"forwards"}),V=I.findIndex(D=>D===C);if(ch(I.slice(V+1)))y.preventDefault();else{var _,E;P?(_=f.current)===null||_===void 0||_.focus():(E=u.current)===null||E===void 0||E.focus()}}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[l,g]),x.createElement(PP,{ref:a,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:p?void 0:"none"}},p&&x.createElement(ty,{ref:f,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});ch(m)}}),x.createElement(Ag.Slot,{scope:n},x.createElement(Se.ol,le({tabIndex:-1},o,{ref:c}))),p&&x.createElement(ty,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});ch(m)}}))}),jP="ToastFocusProxy",ty=x.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=Xf(jP,n);return x.createElement(Yf,le({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:h=>{var l;const a=h.relatedTarget;!((l=o.viewport)!==null&&l!==void 0&&l.contains(a))&&r()}}))}),Gf="Toast",BP="toast.swipeStart",zP="toast.swipeMove",VP="toast.swipeCancel",UP="toast.swipeEnd",HP=x.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...h}=e,[l=!0,a]=yn({prop:r,defaultProp:i,onChange:o});return x.createElement(Ot,{present:n||l},x.createElement(jx,le({open:l},h,{ref:t,onClose:()=>a(!1),onPause:rt(e.onPause),onResume:rt(e.onResume),onSwipeStart:pe(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,f=>{const{x:u,y:s}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${s}px`)}),onSwipeCancel:pe(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,f=>{const{x:u,y:s}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${s}px`),a(!1)})})))}),[WP,YP]=Lx(Gf,{onClose(){}}),jx=x.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:h,onEscapeKeyDown:l,onPause:a,onResume:f,onSwipeStart:u,onSwipeMove:s,onSwipeCancel:c,onSwipeEnd:d,...p}=e,g=Xf(Gf,n),[m,v]=x.useState(null),y=Oe(t,D=>v(D)),b=x.useRef(null),w=x.useRef(null),S=i||g.duration,_=x.useRef(0),E=x.useRef(S),C=x.useRef(0),{onToastAdd:P,onToastRemove:N}=g,B=rt(()=>{var D;(m==null?void 0:m.contains(document.activeElement))&&((D=g.viewport)===null||D===void 0||D.focus()),h()}),I=x.useCallback(D=>{!D||D===1/0||(window.clearTimeout(C.current),_.current=new Date().getTime(),C.current=window.setTimeout(B,D))},[B]);x.useEffect(()=>{const D=g.viewport;if(D){const F=()=>{I(E.current),f==null||f()},O=()=>{const M=new Date().getTime()-_.current;E.current=E.current-M,window.clearTimeout(C.current),a==null||a()};return D.addEventListener(zp,O),D.addEventListener(Vp,F),()=>{D.removeEventListener(zp,O),D.removeEventListener(Vp,F)}}},[g.viewport,S,a,f,I]),x.useEffect(()=>{o&&!g.isClosePausedRef.current&&I(S)},[o,S,g.isClosePausedRef,I]),x.useEffect(()=>(P(),()=>N()),[P,N]);const V=x.useMemo(()=>m?Ux(m):null,[m]);return g.viewport?x.createElement(x.Fragment,null,V&&x.createElement(XP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},V),x.createElement(WP,{scope:n,onClose:B},Ui.createPortal(x.createElement(Ag.ItemSlot,{scope:n},x.createElement(kP,{asChild:!0,onEscapeKeyDown:pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||B(),g.isFocusedToastEscapeKeyDownRef.current=!1})},x.createElement(Se.li,le({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},p,{ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:pe(e.onPointerDown,D=>{D.button===0&&(b.current={x:D.clientX,y:D.clientY})}),onPointerMove:pe(e.onPointerMove,D=>{if(!b.current)return;const F=D.clientX-b.current.x,O=D.clientY-b.current.y,M=!!w.current,U=["left","right"].includes(g.swipeDirection),k=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,R=U?k(0,F):0,j=U?0:k(0,O),A=D.pointerType==="touch"?10:2,Y={x:R,y:j},L={originalEvent:D,delta:Y};M?(w.current=Y,Oc(zP,s,L,{discrete:!1})):ny(Y,g.swipeDirection,A)?(w.current=Y,Oc(BP,u,L,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(F)>A||Math.abs(O)>A)&&(b.current=null)}),onPointerUp:pe(e.onPointerUp,D=>{const F=w.current,O=D.target;if(O.hasPointerCapture(D.pointerId)&&O.releasePointerCapture(D.pointerId),w.current=null,b.current=null,F){const M=D.currentTarget,U={originalEvent:D,delta:F};ny(F,g.swipeDirection,g.swipeThreshold)?Oc(UP,d,U,{discrete:!0}):Oc(VP,c,U,{discrete:!0}),M.addEventListener("click",k=>k.preventDefault(),{once:!0})}})})))),g.viewport))):null});jx.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${Gf}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const XP=e=>{const{__scopeToast:t,children:n,...r}=e,i=Xf(Gf,t),[o,h]=x.useState(!1),[l,a]=x.useState(!1);return QP(()=>h(!0)),x.useEffect(()=>{const f=window.setTimeout(()=>a(!0),1e3);return()=>window.clearTimeout(f)},[]),l?null:x.createElement(Hl,{asChild:!0},x.createElement(Yf,r,o&&x.createElement(x.Fragment,null,i.label," ",n)))},GP=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.createElement(Se.div,le({},r,{ref:t}))}),KP=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.createElement(Se.div,le({},r,{ref:t}))}),qP="ToastAction",Bx=x.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?x.createElement(Vx,{altText:n,asChild:!0},x.createElement(zx,le({},r,{ref:t}))):null});Bx.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${qP}\``)}};const ZP="ToastClose",zx=x.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=YP(ZP,n);return x.createElement(Vx,{asChild:!0},x.createElement(Se.button,le({type:"button"},r,{ref:t,onClick:pe(e.onClick,i.onClose)})))}),Vx=x.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return x.createElement(Se.div,le({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:t}))});function Ux(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),JP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const h=r.dataset.radixToastAnnounceAlt;h&&t.push(h)}else t.push(...Ux(r))}}),t}function Oc(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$g(i,o):i.dispatchEvent(o)}const ny=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function QP(e=()=>{}){const t=rt(e);Ft(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function JP(e){return e.nodeType===e.ELEMENT_NODE}function eO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ch(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const tO=Ix,Hx=IP,Wx=HP,Yx=GP,Xx=KP,Gx=Bx,Kx=zx;function qx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=qx(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function nO(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=qx(e))&&(r&&(r+=" "),r+=t);return r}const ry=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,iy=nO,Wl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return iy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,h=Object.keys(i).map(f=>{const u=n==null?void 0:n[f],s=o==null?void 0:o[f];if(u===null)return null;const c=ry(u)||ry(s);return i[f][c]}),l=n&&Object.entries(n).reduce((f,u)=>{let[s,c]=u;return c===void 0||(f[s]=c),f},{}),a=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,u)=>{let{class:s,className:c,...d}=u;return Object.entries(d).every(p=>{let[g,m]=p;return Array.isArray(m)?m.includes({...o,...l}[g]):{...o,...l}[g]===m})?[...f,s,c]:f},[]);return iy(e,h,a,n==null?void 0:n.class,n==null?void 0:n.className)};function Zx(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Zx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function rO(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Zx(e))&&(r&&(r+=" "),r+=t);return r}const Rg="-";function iO(e){const t=sO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(h){const l=h.split(Rg);return l[0]===""&&l.length!==1&&l.shift(),Qx(l,t)||oO(h)}function o(h,l){const a=n[h]||[];return l&&r[h]?[...a,...r[h]]:a}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function Qx(e,t){var h;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?Qx(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Rg);return(h=t.validators.find(({validator:l})=>l(o)))==null?void 0:h.classGroupId}const oy=/^\[(.+)\]$/;function oO(e){if(oy.test(e)){const t=oy.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function sO(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return lO(Object.entries(e.classGroups),n).forEach(([o,h])=>{Up(h,r,o,t)}),r}function Up(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:sy(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(aO(i)){Up(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,h])=>{Up(h,sy(t,o),n,r)})})}function sy(e,t){let n=e;return t.split(Rg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function aO(e){return e.isThemeGetter}function lO(e,t){return t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([h,l])=>[t+h,l])):o);return[n,i]}):e}function cO(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(o,h){n.set(o,h),t++,t>e&&(t=0,r=n,n=new Map)}return{get(o){let h=n.get(o);if(h!==void 0)return h;if((h=r.get(o))!==void 0)return i(o,h),h},set(o,h){n.has(o)?n.set(o,h):i(o,h)}}}const Jx="!";function uO(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(h){const l=[];let a=0,f=0,u;for(let g=0;g<h.length;g++){let m=h[g];if(a===0){if(m===r&&(n||h.slice(g,g+i)===t)){l.push(h.slice(f,g)),f=g+i;continue}if(m==="/"){u=g;continue}}m==="["?a++:m==="]"&&a--}const s=l.length===0?h:h.substring(f),c=s.startsWith(Jx),d=c?s.substring(1):s,p=u&&u>f?u-f:void 0;return{modifiers:l,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:p}}}function fO(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function dO(e){return{cache:cO(e.cacheSize),splitModifiers:uO(e),...iO(e)}}const hO=/\s+/;function pO(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(hO).map(h=>{const{modifiers:l,hasImportantModifier:a,baseClassName:f,maybePostfixModifierPosition:u}=n(h);let s=r(u?f.substring(0,u):f),c=!!u;if(!s){if(!u)return{isTailwindClass:!1,originalClassName:h};if(s=r(f),!s)return{isTailwindClass:!1,originalClassName:h};c=!1}const d=fO(l).join(":");return{isTailwindClass:!0,modifierId:a?d+Jx:d,classGroupId:s,originalClassName:h,hasPostfixModifier:c}}).reverse().filter(h=>{if(!h.isTailwindClass)return!0;const{modifierId:l,classGroupId:a,hasPostfixModifier:f}=h,u=l+a;return o.has(u)?!1:(o.add(u),i(a,f).forEach(s=>o.add(l+s)),!0)}).reverse().map(h=>h.originalClassName).join(" ")}function mO(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=eS(t))&&(r&&(r+=" "),r+=n);return r}function eS(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=eS(e[r]))&&(n&&(n+=" "),n+=t);return n}function gO(e,...t){let n,r,i,o=h;function h(a){const f=t.reduce((u,s)=>s(u),e());return n=dO(f),r=n.cache.get,i=n.cache.set,o=l,l(a)}function l(a){const f=r(a);if(f)return f;const u=pO(a,n);return i(a,u),u}return function(){return o(mO.apply(null,arguments))}}function Ke(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const tS=/^\[(?:([a-z-]+):)?(.+)\]$/i,vO=/^\d+\/\d+$/,yO=new Set(["px","full","screen"]),bO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_O=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Pr(e){return co(e)||yO.has(e)||vO.test(e)}function ii(e){return ea(e,"length",AO)}function co(e){return!!e&&!Number.isNaN(Number(e))}function $c(e){return ea(e,"number",co)}function ba(e){return!!e&&Number.isInteger(Number(e))}function CO(e){return e.endsWith("%")&&co(e.slice(0,-1))}function Me(e){return tS.test(e)}function oi(e){return bO.test(e)}const EO=new Set(["length","size","percentage"]);function TO(e){return ea(e,EO,nS)}function kO(e){return ea(e,"position",nS)}const PO=new Set(["image","url"]);function OO(e){return ea(e,PO,MO)}function $O(e){return ea(e,"",RO)}function wa(){return!0}function ea(e,t,n){const r=tS.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function AO(e){return wO.test(e)&&!xO.test(e)}function nS(){return!1}function RO(e){return SO.test(e)}function MO(e){return _O.test(e)}function DO(){const e=Ke("colors"),t=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),o=Ke("borderRadius"),h=Ke("borderSpacing"),l=Ke("borderWidth"),a=Ke("contrast"),f=Ke("grayscale"),u=Ke("hueRotate"),s=Ke("invert"),c=Ke("gap"),d=Ke("gradientColorStops"),p=Ke("gradientColorStopPositions"),g=Ke("inset"),m=Ke("margin"),v=Ke("opacity"),y=Ke("padding"),b=Ke("saturate"),w=Ke("scale"),S=Ke("sepia"),_=Ke("skew"),E=Ke("space"),C=Ke("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Me,t],I=()=>[Me,t],V=()=>["",Pr,ii],D=()=>["auto",co,Me],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],M=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],k=()=>["","0",Me],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>[co,$c],A=()=>[co,Me];return{cacheSize:500,separator:":",theme:{colors:[wa],spacing:[Pr,ii],blur:["none","",oi,Me],brightness:j(),borderColor:[e],borderRadius:["none","","full",oi,Me],borderSpacing:I(),borderWidth:V(),contrast:j(),grayscale:k(),hueRotate:A(),invert:k(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[CO,ii],inset:B(),margin:B(),opacity:j(),padding:I(),saturate:j(),scale:j(),sepia:k(),skew:A(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[oi]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),Me]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ba,Me]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:k()}],shrink:[{shrink:k()}],order:[{order:["first","last","none",ba,Me]}],"grid-cols":[{"grid-cols":[wa]}],"col-start-end":[{col:["auto",{span:["full",ba,Me]},Me]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[wa]}],"row-start-end":[{row:["auto",{span:[ba,Me]},Me]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[c]}],"gap-x":[{"gap-x":[c]}],"gap-y":[{"gap-y":[c]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[oi]},oi]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",oi,ii]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$c]}],"font-family":[{font:[wa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",co,$c]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,ii]}],"underline-offset":[{"underline-offset":["auto",Pr,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),kO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",TO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},OO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[Pr,Me]}],"outline-w":[{outline:[Pr,ii]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Pr,ii]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",oi,$O]}],"shadow-color":[{shadow:[wa]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...M(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":M()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[a]}],"drop-shadow":[{"drop-shadow":["","none",oi,Me]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[s]}],saturate:[{saturate:[b]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[a]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[s]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:A()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:A()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ba,Me]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pr,ii,$c]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Mg=gO(DO),rS=40,NO=3,iS=200,xi="inpaint",Ac="diffusers_sd",ay="diffusers_sdxl",Rc="diffusers_sd_inpaint",ly="diffusers_sdxl_inpaint",uh="diffusers_other",Vu="#ffcc00bb",cy="ldm",uy="cv2",oS="Fantasy-Studio/Paint-by-Example",FO="timbrooks/instruct-pix2pix",LO="Sanster/PowerPaint-V1-stable-diffusion-inpainting",IO="Sanster/AnyText",jO="out of frame, lowres, error, cropped, worst quality, low quality, jpeg artifacts, ugly, duplicate, morbid, mutilated, out of frame, mutation, deformed, blurry, dehydrated, bad anatomy, bad proportions, extra limbs, disfigured, gross proportions, malformed limbs, watermark, signature";var Ka={};const BO={},zO=Object.freeze(Object.defineProperty({__proto__:null,default:BO},Symbol.toStringTag,{value:"Module"})),fh=iT(zO);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=fh,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=fh.implForWrapper,t.nodeCanvas=fh.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function l(d,p){if(this.__eventListeners[d]){var g=this.__eventListeners[d];p?g[g.indexOf(p)]=!1:t.util.array.fill(g,!1)}}function a(d,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in d)this.on(g,d[g]);else this.__eventListeners[d]||(this.__eventListeners[d]=[]),this.__eventListeners[d].push(p);return this}function f(d,p){var g=(function(){p.apply(this,arguments),this.off(d,g)}).bind(this);this.on(d,g)}function u(d,p){if(arguments.length===1)for(var g in d)f.call(this,g,d[g]);else f.call(this,d,p);return this}function s(d,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(d in this.__eventListeners)l.call(this,d);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in d)l.call(this,g,d[g]);else l.call(this,d,p);return this}function c(d,p){if(!this.__eventListeners)return this;var g=this.__eventListeners[d];if(!g)return this;for(var m=0,v=g.length;m<v;m++)g[m]&&g[m].call(this,p||{});return this.__eventListeners[d]=g.filter(function(y){return y!==!1}),this}t.Observable={fire:c,on:a,once:u,off:s}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var l=0,a=arguments.length;l<a;l++)this._onObjectAdded(arguments[l]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(l,a,f){var u=this._objects;return f?u[a]=l:u.splice(a,0,l),this._onObjectAdded&&this._onObjectAdded(l),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var l=this._objects,a,f=!1,u=0,s=arguments.length;u<s;u++)a=l.indexOf(arguments[u]),a!==-1&&(f=!0,l.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[u]));return this.renderOnAddRemove&&f&&this.requestRenderAll(),this},forEachObject:function(l,a){for(var f=this.getObjects(),u=0,s=f.length;u<s;u++)l.call(a,f[u],u,f);return this},getObjects:function(l){return typeof l>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===l})},item:function(l){return this._objects[l]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(l,a){return this._objects.indexOf(l)>-1?!0:a?this._objects.some(function(f){return typeof f.contains=="function"&&f.contains(l,!0)}):!1},complexity:function(){return this._objects.reduce(function(l,a){return l+=a.complexity?a.complexity():0,l},0)}},t.CommonMethods={_setOptions:function(l){for(var a in l)this.set(a,l[a])},_initGradient:function(l,a){l&&l.colorStops&&!(l instanceof t.Gradient)&&this.set(a,new t.Gradient(l))},_initPattern:function(l,a,f){l&&l.source&&!(l instanceof t.Pattern)?this.set(a,new t.Pattern(l,f)):f&&f()},_setObject:function(l){for(var a in l)this._set(a,l[a])},set:function(l,a){return typeof l=="object"?this._setObject(l):this._set(l,a),this},_set:function(l,a){this[l]=a},toggle:function(l){var a=this.get(l);return typeof a=="boolean"&&this.set(l,!a),this},get:function(l){return this[l]}},function(l){var a=Math.sqrt,f=Math.atan2,u=Math.pow,s=Math.PI/180,c=Math.PI/2;t.util={cos:function(d){if(d===0)return 1;d<0&&(d=-d);var p=d/c;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(d)},sin:function(d){if(d===0)return 0;var p=d/c,g=1;switch(d<0&&(g=-1),p){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(d)},removeFromArray:function(d,p){var g=d.indexOf(p);return g!==-1&&d.splice(g,1),d},getRandomInt:function(d,p){return Math.floor(Math.random()*(p-d+1))+d},degreesToRadians:function(d){return d*s},radiansToDegrees:function(d){return d/s},rotatePoint:function(d,p,g){var m=new t.Point(d.x-p.x,d.y-p.y),v=t.util.rotateVector(m,g);return new t.Point(v.x,v.y).addEquals(p)},rotateVector:function(d,p){var g=t.util.sin(p),m=t.util.cos(p),v=d.x*m-d.y*g,y=d.x*g+d.y*m;return{x:v,y}},createVector:function(d,p){return new t.Point(p.x-d.x,p.y-d.y)},calcAngleBetweenVectors:function(d,p){return Math.acos((d.x*p.x+d.y*p.y)/(Math.hypot(d.x,d.y)*Math.hypot(p.x,p.y)))},getHatVector:function(d){return new t.Point(d.x,d.y).multiply(1/Math.hypot(d.x,d.y))},getBisector:function(d,p,g){var m=t.util.createVector(d,p),v=t.util.createVector(d,g),y=t.util.calcAngleBetweenVectors(m,v),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(m,y),v),w=y*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(m,w)),angle:y}},projectStrokeOnPoints:function(d,p,g){var m=[],v=p.strokeWidth/2,y=p.strokeUniform?new t.Point(1/p.scaleX,1/p.scaleY):new t.Point(1,1),b=function(w){var S=v/Math.hypot(w.x,w.y);return new t.Point(w.x*S*y.x,w.y*S*y.y)};return d.length<=1||d.forEach(function(w,S){var _=new t.Point(w.x,w.y),E,C;S===0?(C=d[S+1],E=g?b(t.util.createVector(C,_)).addEquals(_):d[d.length-1]):S===d.length-1?(E=d[S-1],C=g?b(t.util.createVector(E,_)).addEquals(_):d[0]):(E=d[S-1],C=d[S+1]);var P=t.util.getBisector(_,E,C),N=P.vector,B=P.angle,I,V;if(p.strokeLineJoin==="miter"&&(I=-v/Math.sin(B/2),V=new t.Point(N.x*I*y.x,N.y*I*y.y),Math.hypot(V.x,V.y)/v<=p.strokeMiterLimit)){m.push(_.add(V)),m.push(_.subtract(V));return}I=-v*Math.SQRT2,V=new t.Point(N.x*I*y.x,N.y*I*y.y),m.push(_.add(V)),m.push(_.subtract(V))}),m},transformPoint:function(d,p,g){return g?new t.Point(p[0]*d.x+p[2]*d.y,p[1]*d.x+p[3]*d.y):new t.Point(p[0]*d.x+p[2]*d.y+p[4],p[1]*d.x+p[3]*d.y+p[5])},makeBoundingBoxFromPoints:function(d,p){if(p)for(var g=0;g<d.length;g++)d[g]=t.util.transformPoint(d[g],p);var m=[d[0].x,d[1].x,d[2].x,d[3].x],v=t.util.array.min(m),y=t.util.array.max(m),b=y-v,w=[d[0].y,d[1].y,d[2].y,d[3].y],S=t.util.array.min(w),_=t.util.array.max(w),E=_-S;return{left:v,top:S,width:b,height:E}},invertTransform:function(d){var p=1/(d[0]*d[3]-d[1]*d[2]),g=[p*d[3],-p*d[1],-p*d[2],p*d[0]],m=t.util.transformPoint({x:d[4],y:d[5]},g,!0);return g[4]=-m.x,g[5]=-m.y,g},toFixed:function(d,p){return parseFloat(Number(d).toFixed(p))},parseUnit:function(d,p){var g=/\D{0,2}$/.exec(d),m=parseFloat(d);switch(p||(p=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return m*t.DPI/25.4;case"cm":return m*t.DPI/2.54;case"in":return m*t.DPI;case"pt":return m*t.DPI/72;case"pc":return m*t.DPI/72*12;case"em":return m*p;default:return m}},falseFunction:function(){return!1},getKlass:function(d,p){return d=t.util.string.camelize(d.charAt(0).toUpperCase()+d.slice(1)),t.util.resolveNamespace(p)[d]},getSvgAttributes:function(d){var p=["instantiated_by_use","style","id","class"];switch(d){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(d){if(!d)return t;var p=d.split("."),g=p.length,m,v=l||t.window;for(m=0;m<g;++m)v=v[p[m]];return v},loadImage:function(d,p,g,m){if(!d){p&&p.call(g,d);return}var v=t.util.createImage(),y=function(){p&&p.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=y,v.onerror=function(){t.log("Error loading "+v.src),p&&p.call(g,null,!0),v=v.onload=v.onerror=null},d.indexOf("data")!==0&&m!==void 0&&m!==null&&(v.crossOrigin=m),d.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,y)),v.src=d},loadImageInDom:function(d,p){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(d),t.document.querySelector("body").appendChild(g),d.onload=function(){p(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(d,p,g,m){d=d||[];var v=[],y=0,b=d.length;function w(){++y===b&&p&&p(v.filter(function(S){return S}))}if(!b){p&&p(v);return}d.forEach(function(S,_){if(!S||!S.type){w();return}var E=t.util.getKlass(S.type,g);E.fromObject(S,function(C,P){P||(v[_]=C),m&&m(S,C,P),w()})})},enlivenObjectEnlivables:function(d,p,g){var m=t.Object.ENLIVEN_PROPS.filter(function(v){return!!d[v]});t.util.enlivenObjects(m.map(function(v){return d[v]}),function(v){var y={};m.forEach(function(b,w){y[b]=v[w],p&&(p[b]=v[w])}),g&&g(y)})},enlivenPatterns:function(d,p){d=d||[];function g(){++v===y&&p&&p(m)}var m=[],v=0,y=d.length;if(!y){p&&p(m);return}d.forEach(function(b,w){b&&b.source?new t.Pattern(b,function(S){m[w]=S,g()}):(m[w]=b,g())})},groupSVGElements:function(d,p,g){var m;return d&&d.length===1?(typeof g<"u"&&(d[0].sourcePath=g),d[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),m=new t.Group(d,p),typeof g<"u"&&(m.sourcePath=g),m)},populateWithProperties:function(d,p,g){if(g&&Array.isArray(g))for(var m=0,v=g.length;m<v;m++)g[m]in d&&(p[g[m]]=d[g[m]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(d){var p=t.util.createCanvasElement();return p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0),p},toDataURL:function(d,p,g){return d.toDataURL("image/"+p,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(d,p,g){return[d[0]*p[0]+d[2]*p[1],d[1]*p[0]+d[3]*p[1],d[0]*p[2]+d[2]*p[3],d[1]*p[2]+d[3]*p[3],g?0:d[0]*p[4]+d[2]*p[5]+d[4],g?0:d[1]*p[4]+d[3]*p[5]+d[5]]},qrDecompose:function(d){var p=f(d[1],d[0]),g=u(d[0],2)+u(d[1],2),m=a(g),v=(d[0]*d[3]-d[2]*d[1])/m,y=f(d[0]*d[2]+d[1]*d[3],g);return{angle:p/s,scaleX:m,scaleY:v,skewX:y/s,skewY:0,translateX:d[4],translateY:d[5]}},calcRotateMatrix:function(d){if(!d.angle)return t.iMatrix.concat();var p=t.util.degreesToRadians(d.angle),g=t.util.cos(p),m=t.util.sin(p);return[g,m,-m,g,0,0]},calcDimensionsMatrix:function(d){var p=typeof d.scaleX>"u"?1:d.scaleX,g=typeof d.scaleY>"u"?1:d.scaleY,m=[d.flipX?-p:p,0,0,d.flipY?-g:g,0,0],v=t.util.multiplyTransformMatrices,y=t.util.degreesToRadians;return d.skewX&&(m=v(m,[1,0,Math.tan(y(d.skewX)),1],!0)),d.skewY&&(m=v(m,[1,Math.tan(y(d.skewY)),0,1],!0)),m},composeMatrix:function(d){var p=[1,0,0,1,d.translateX||0,d.translateY||0],g=t.util.multiplyTransformMatrices;return d.angle&&(p=g(p,t.util.calcRotateMatrix(d))),(d.scaleX!==1||d.scaleY!==1||d.skewX||d.skewY||d.flipX||d.flipY)&&(p=g(p,t.util.calcDimensionsMatrix(d))),p},resetObjectTransform:function(d){d.scaleX=1,d.scaleY=1,d.skewX=0,d.skewY=0,d.flipX=!1,d.flipY=!1,d.rotate(0)},saveObjectTransform:function(d){return{scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,angle:d.angle,left:d.left,flipX:d.flipX,flipY:d.flipY,top:d.top}},isTransparent:function(d,p,g,m){m>0&&(p>m?p-=m:p=0,g>m?g-=m:g=0);var v=!0,y,b,w=d.getImageData(p,g,m*2||1,m*2||1),S=w.data.length;for(y=3;y<S&&(b=w.data[y],v=b<=0,v!==!1);y+=4);return w=null,v},parsePreserveAspectRatioAttribute:function(d){var p="meet",g="Mid",m="Mid",v=d.split(" "),y;return v&&v.length&&(p=v.pop(),p!=="meet"&&p!=="slice"?(y=p,p="meet"):v.length&&(y=v.pop())),g=y!=="none"?y.slice(1,4):"none",m=y!=="none"?y.slice(5,8):"none",{meetOrSlice:p,alignX:g,alignY:m}},clearFabricFontCache:function(d){d=(d||"").toLowerCase(),d?t.charWidthsCache[d]&&delete t.charWidthsCache[d]:t.charWidthsCache={}},limitDimsByArea:function(d,p){var g=Math.sqrt(p*d),m=Math.floor(p/g);return{x:Math.floor(g),y:m}},capValue:function(d,p,g){return Math.max(d,Math.min(p,g))},findScaleToFit:function(d,p){return Math.min(p.width/d.width,p.height/d.height)},findScaleToCover:function(d,p){return Math.max(p.width/d.width,p.height/d.height)},matrixToSVG:function(d){return"matrix("+d.map(function(p){return t.util.toFixed(p,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(d,p){var g=t.util.invertTransform(p),m=t.util.multiplyTransformMatrices(g,d.calcOwnMatrix());t.util.applyTransformToObject(d,m)},addTransformToObject:function(d,p){t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(p,d.calcOwnMatrix()))},applyTransformToObject:function(d,p){var g=t.util.qrDecompose(p),m=new t.Point(g.translateX,g.translateY);d.flipX=!1,d.flipY=!1,d.set("scaleX",g.scaleX),d.set("scaleY",g.scaleY),d.skewX=g.skewX,d.skewY=g.skewY,d.angle=g.angle,d.setPositionByOrigin(m,"center","center")},sizeAfterTransform:function(d,p,g){var m=d/2,v=p/2,y=[{x:-m,y:-v},{x:m,y:-v},{x:-m,y:v},{x:m,y:v}],b=t.util.calcDimensionsMatrix(g),w=t.util.makeBoundingBoxFromPoints(y,b);return{x:w.width,y:w.height}},mergeClipPaths:function(d,p){var g=d,m=p;g.inverted&&!m.inverted&&(g=p,m=d),t.util.applyTransformToObject(m,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),m.calcTransformMatrix()));var v=g.inverted&&m.inverted;return v&&(g.inverted=m.inverted=!1),new t.Group([g],{clipPath:m,inverted:v})},hasStyleChanged:function(d,p,g){return g=g||!1,d.fill!==p.fill||d.stroke!==p.stroke||d.strokeWidth!==p.strokeWidth||d.fontSize!==p.fontSize||d.fontFamily!==p.fontFamily||d.fontWeight!==p.fontWeight||d.fontStyle!==p.fontStyle||d.textBackgroundColor!==p.textBackgroundColor||d.deltaY!==p.deltaY||g&&(d.overline!==p.overline||d.underline!==p.underline||d.linethrough!==p.linethrough)},stylesToArray:function(g,p){for(var g=t.util.object.clone(g,!0),m=p.split(`
`),v=-1,y={},b=[],w=0;w<m.length;w++){if(!g[w]){v+=m[w].length;continue}for(var S=0;S<m[w].length;S++){v++;var _=g[w][S];if(_&&Object.keys(_).length>0){var E=t.util.hasStyleChanged(y,_,!0);E?b.push({start:v,end:v+1,style:_}):b[b.length-1].end++}y=_||{}}}return b},stylesFromArray:function(d,p){if(!Array.isArray(d))return d;for(var g=p.split(`
`),m=-1,v=0,y={},b=0;b<g.length;b++)for(var w=0;w<g[b].length;w++)m++,d[v]&&d[v].start<=m&&m<d[v].end&&(y[b]=y[b]||{},y[b][w]=Object.assign({},d[v].style),m===d[v].end-1&&v++);return y}}}(e),function(){var l=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function u(k,R,j,A,Y,L,$,H,W,K,G){var J=t.util.cos(k),ee=t.util.sin(k),ce=t.util.cos(R),te=t.util.sin(R),Z=j*Y*ce-A*L*te+$,oe=A*Y*ce+j*L*te+H,se=K+W*(-j*Y*ee-A*L*J),ne=G+W*(-A*Y*ee+j*L*J),z=Z+W*(j*Y*te+A*L*ce),X=oe+W*(A*Y*te-j*L*ce);return["C",se,ne,z,X,Z,oe]}function s(k,R,j,A,Y,L,$){var H=Math.PI,W=$*H/180,K=t.util.sin(W),G=t.util.cos(W),J=0,ee=0;j=Math.abs(j),A=Math.abs(A);var ce=-G*k*.5-K*R*.5,te=-G*R*.5+K*k*.5,Z=j*j,oe=A*A,se=te*te,ne=ce*ce,z=Z*oe-Z*se-oe*ne,X=0;if(z<0){var Q=Math.sqrt(1-z/(Z*oe));j*=Q,A*=Q}else X=(Y===L?-1:1)*Math.sqrt(z/(Z*se+oe*ne));var ie=X*j*te/A,q=-X*A*ce/j,re=G*ie-K*q+k*.5,ue=K*ie+G*q+R*.5,ge=c(1,0,(ce-ie)/j,(te-q)/A),_e=c((ce-ie)/j,(te-q)/A,(-ce-ie)/j,(-te-q)/A);L===0&&_e>0?_e-=2*H:L===1&&_e<0&&(_e+=2*H);for(var Te=Math.ceil(Math.abs(_e/H*2)),Ae=[],Ie=_e/Te,Ce=8/3*Math.sin(Ie/4)*Math.sin(Ie/4)/Math.sin(Ie/2),tt=ge+Ie,Ue=0;Ue<Te;Ue++)Ae[Ue]=u(ge,tt,G,K,j,A,re,ue,Ce,J,ee),J=Ae[Ue][5],ee=Ae[Ue][6],ge=tt,tt+=Ie;return Ae}function c(k,R,j,A){var Y=Math.atan2(R,k),L=Math.atan2(A,j);return L>=Y?L-Y:2*Math.PI-(Y-L)}function d(k,R,j,A,Y,L,$,H){var W;if(t.cachesBoundsOfCurve&&(W=l.call(arguments),t.boundsOfCurveCache[W]))return t.boundsOfCurveCache[W];var K=Math.sqrt,G=Math.min,J=Math.max,ee=Math.abs,ce=[],te=[[],[]],Z,oe,se,ne,z,X,Q,ie;oe=6*k-12*j+6*Y,Z=-3*k+9*j-9*Y+3*$,se=3*j-3*k;for(var q=0;q<2;++q){if(q>0&&(oe=6*R-12*A+6*L,Z=-3*R+9*A-9*L+3*H,se=3*A-3*R),ee(Z)<1e-12){if(ee(oe)<1e-12)continue;ne=-se/oe,0<ne&&ne<1&&ce.push(ne);continue}Q=oe*oe-4*se*Z,!(Q<0)&&(ie=K(Q),z=(-oe+ie)/(2*Z),0<z&&z<1&&ce.push(z),X=(-oe-ie)/(2*Z),0<X&&X<1&&ce.push(X))}for(var re,ue,ge=ce.length,_e=ge,Te;ge--;)ne=ce[ge],Te=1-ne,re=Te*Te*Te*k+3*Te*Te*ne*j+3*Te*ne*ne*Y+ne*ne*ne*$,te[0][ge]=re,ue=Te*Te*Te*R+3*Te*Te*ne*A+3*Te*ne*ne*L+ne*ne*ne*H,te[1][ge]=ue;te[0][_e]=k,te[1][_e]=R,te[0][_e+1]=$,te[1][_e+1]=H;var Ae=[{x:G.apply(null,te[0]),y:G.apply(null,te[1])},{x:J.apply(null,te[0]),y:J.apply(null,te[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[W]=Ae),Ae}function p(k,R,j){for(var A=j[1],Y=j[2],L=j[3],$=j[4],H=j[5],W=j[6],K=j[7],G=s(W-k,K-R,A,Y,$,H,L),J=0,ee=G.length;J<ee;J++)G[J][1]+=k,G[J][2]+=R,G[J][3]+=k,G[J][4]+=R,G[J][5]+=k,G[J][6]+=R;return G}function g(k){var R=0,j=0,A=k.length,Y=0,L=0,$,H,W,K=[],G,J,ee;for(H=0;H<A;++H){switch(W=!1,$=k[H].slice(0),$[0]){case"l":$[0]="L",$[1]+=R,$[2]+=j;case"L":R=$[1],j=$[2];break;case"h":$[1]+=R;case"H":$[0]="L",$[2]=j,R=$[1];break;case"v":$[1]+=j;case"V":$[0]="L",j=$[1],$[1]=R,$[2]=j;break;case"m":$[0]="M",$[1]+=R,$[2]+=j;case"M":R=$[1],j=$[2],Y=$[1],L=$[2];break;case"c":$[0]="C",$[1]+=R,$[2]+=j,$[3]+=R,$[4]+=j,$[5]+=R,$[6]+=j;case"C":J=$[3],ee=$[4],R=$[5],j=$[6];break;case"s":$[0]="S",$[1]+=R,$[2]+=j,$[3]+=R,$[4]+=j;case"S":G==="C"?(J=2*R-J,ee=2*j-ee):(J=R,ee=j),R=$[3],j=$[4],$[0]="C",$[5]=$[3],$[6]=$[4],$[3]=$[1],$[4]=$[2],$[1]=J,$[2]=ee,J=$[3],ee=$[4];break;case"q":$[0]="Q",$[1]+=R,$[2]+=j,$[3]+=R,$[4]+=j;case"Q":J=$[1],ee=$[2],R=$[3],j=$[4];break;case"t":$[0]="T",$[1]+=R,$[2]+=j;case"T":G==="Q"?(J=2*R-J,ee=2*j-ee):(J=R,ee=j),$[0]="Q",R=$[1],j=$[2],$[1]=J,$[2]=ee,$[3]=R,$[4]=j;break;case"a":$[0]="A",$[6]+=R,$[7]+=j;case"A":W=!0,K=K.concat(p(R,j,$)),R=$[6],j=$[7];break;case"z":case"Z":R=Y,j=L;break}W||K.push($),G=$[0]}return K}function m(k,R,j,A){return Math.sqrt((j-k)*(j-k)+(A-R)*(A-R))}function v(k){return k*k*k}function y(k){return 3*k*k*(1-k)}function b(k){return 3*k*(1-k)*(1-k)}function w(k){return(1-k)*(1-k)*(1-k)}function S(k,R,j,A,Y,L,$,H){return function(W){var K=v(W),G=y(W),J=b(W),ee=w(W);return{x:$*K+Y*G+j*J+k*ee,y:H*K+L*G+A*J+R*ee}}}function _(k,R,j,A,Y,L,$,H){return function(W){var K=1-W,G=3*K*K*(j-k)+6*K*W*(Y-j)+3*W*W*($-Y),J=3*K*K*(A-R)+6*K*W*(L-A)+3*W*W*(H-L);return Math.atan2(J,G)}}function E(k){return k*k}function C(k){return 2*k*(1-k)}function P(k){return(1-k)*(1-k)}function N(k,R,j,A,Y,L){return function($){var H=E($),W=C($),K=P($);return{x:Y*H+j*W+k*K,y:L*H+A*W+R*K}}}function B(k,R,j,A,Y,L){return function($){var H=1-$,W=2*H*(j-k)+2*$*(Y-j),K=2*H*(A-R)+2*$*(L-A);return Math.atan2(K,W)}}function I(k,R,j){var A={x:R,y:j},Y,L=0,$;for($=1;$<=100;$+=1)Y=k($/100),L+=m(A.x,A.y,Y.x,Y.y),A=Y;return L}function V(k,R){for(var j=0,A=0,Y=k.iterator,L={x:k.x,y:k.y},$,H,W=.01,K=k.angleFinder,G;A<R&&W>1e-4;)$=Y(j),G=j,H=m(L.x,L.y,$.x,$.y),H+A>R?(j-=W,W/=2):(L=$,j+=W,A+=H);return $.angle=K(G),$}function D(k){for(var R=0,j=k.length,A,Y=0,L=0,$=0,H=0,W=[],K,G,J,ee=0;ee<j;ee++){switch(A=k[ee],G={x:Y,y:L,command:A[0]},A[0]){case"M":G.length=0,$=Y=A[1],H=L=A[2];break;case"L":G.length=m(Y,L,A[1],A[2]),Y=A[1],L=A[2];break;case"C":K=S(Y,L,A[1],A[2],A[3],A[4],A[5],A[6]),J=_(Y,L,A[1],A[2],A[3],A[4],A[5],A[6]),G.iterator=K,G.angleFinder=J,G.length=I(K,Y,L),Y=A[5],L=A[6];break;case"Q":K=N(Y,L,A[1],A[2],A[3],A[4]),J=B(Y,L,A[1],A[2],A[3],A[4]),G.iterator=K,G.angleFinder=J,G.length=I(K,Y,L),Y=A[3],L=A[4];break;case"Z":case"z":G.destX=$,G.destY=H,G.length=m(Y,L,$,H),Y=$,L=H;break}R+=G.length,W.push(G)}return W.push({length:R,x:Y,y:L}),W}function F(k,R,j){j||(j=D(k));for(var A=0;R-j[A].length>0&&A<j.length-2;)R-=j[A].length,A++;var Y=j[A],L=R/Y.length,$=Y.command,H=k[A],W;switch($){case"M":return{x:Y.x,y:Y.y,angle:0};case"Z":case"z":return W=new t.Point(Y.x,Y.y).lerp(new t.Point(Y.destX,Y.destY),L),W.angle=Math.atan2(Y.destY-Y.y,Y.destX-Y.x),W;case"L":return W=new t.Point(Y.x,Y.y).lerp(new t.Point(H[1],H[2]),L),W.angle=Math.atan2(H[2]-Y.y,H[1]-Y.x),W;case"C":return V(Y,R);case"Q":return V(Y,R)}}function O(k){var R=[],j=[],A,Y,L=t.rePathCommand,$="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",H="("+$+")"+t.commaWsp,W="([01])"+t.commaWsp+"?",K=H+"?"+H+"?"+H+W+W+H+"?("+$+")",G=new RegExp(K,"g"),J,ee,ce;if(!k||!k.match)return R;ce=k.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var te=0,Z,oe=ce.length;te<oe;te++){A=ce[te],ee=A.slice(1).trim(),j.length=0;var se=A.charAt(0);if(Z=[se],se.toLowerCase()==="a")for(var ne;ne=G.exec(ee);)for(var z=1;z<ne.length;z++)j.push(ne[z]);else for(;J=L.exec(ee);)j.push(J[0]);for(var z=0,X=j.length;z<X;z++)Y=parseFloat(j[z]),isNaN(Y)||Z.push(Y);var Q=a[se.toLowerCase()],ie=f[se]||se;if(Z.length-1>Q)for(var q=1,re=Z.length;q<re;q+=Q)R.push([se].concat(Z.slice(q,q+Q))),se=ie;else R.push(Z)}return R}function M(k,R){var j=[],A,Y=new t.Point(k[0].x,k[0].y),L=new t.Point(k[1].x,k[1].y),$=k.length,H=1,W=0,K=$>2;for(R=R||0,K&&(H=k[2].x<L.x?-1:k[2].x===L.x?0:1,W=k[2].y<L.y?-1:k[2].y===L.y?0:1),j.push(["M",Y.x-H*R,Y.y-W*R]),A=1;A<$;A++){if(!Y.eq(L)){var G=Y.midPointFrom(L);j.push(["Q",Y.x,Y.y,G.x,G.y])}Y=k[A],A+1<k.length&&(L=k[A+1])}return K&&(H=Y.x>k[A-2].x?1:Y.x===k[A-2].x?0:-1,W=Y.y>k[A-2].y?1:Y.y===k[A-2].y?0:-1),j.push(["L",Y.x+H*R,Y.y+W*R]),j}function U(k,R,j){return j&&(R=t.util.multiplyTransformMatrices(R,[1,0,0,1,-j.x,-j.y])),k.map(function(A){for(var Y=A.slice(0),L={},$=1;$<A.length-1;$+=2)L.x=A[$],L.y=A[$+1],L=t.util.transformPoint(L,R),Y[$]=L.x,Y[$+1]=L.y;return Y})}t.util.joinPath=function(k){return k.map(function(R){return R.join(" ")}).join(" ")},t.util.parsePath=O,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=M,t.util.getPathSegmentsInfo=D,t.util.getBoundsOfCurve=d,t.util.getPointOnPath=F,t.util.transformPath=U}(),function(){var l=Array.prototype.slice;function a(d,p){for(var g=l.call(arguments,2),m=[],v=0,y=d.length;v<y;v++)m[v]=g.length?d[v][p].apply(d[v],g):d[v][p].call(d[v]);return m}function f(d,p){return c(d,p,function(g,m){return g>=m})}function u(d,p){return c(d,p,function(g,m){return g<m})}function s(d,p){for(var g=d.length;g--;)d[g]=p;return d}function c(d,p,g){if(!(!d||d.length===0)){var m=d.length-1,v=p?d[m][p]:d[m];if(p)for(;m--;)g(d[m][p],v)&&(v=d[m][p]);else for(;m--;)g(d[m],v)&&(v=d[m]);return v}}t.util.array={fill:s,invoke:a,min:u,max:f}}(),function(){function l(f,u,s){if(s)if(!t.isLikelyNode&&u instanceof Element)f=u;else if(u instanceof Array){f=[];for(var c=0,d=u.length;c<d;c++)f[c]=l({},u[c],s)}else if(u&&typeof u=="object")for(var p in u)p==="canvas"||p==="group"?f[p]=null:u.hasOwnProperty(p)&&(f[p]=l({},u[p],s));else f=u;else for(var p in u)f[p]=u[p];return f}function a(f,u){return l({},f,u)}t.util.object={extend:l,clone:a},t.util.object.extend(t.util,t.Observable)}(),function(){function l(c){return c.replace(/-+(.)?/g,function(d,p){return p?p.toUpperCase():""})}function a(c,d){return c.charAt(0).toUpperCase()+(d?c.slice(1):c.slice(1).toLowerCase())}function f(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(c){var d=0,p,g=[];for(d=0,p;d<c.length;d++)(p=s(c,d))!==!1&&g.push(p);return g}function s(c,d){var p=c.charCodeAt(d);if(isNaN(p))return"";if(p<55296||p>57343)return c.charAt(d);if(55296<=p&&p<=56319){if(c.length<=d+1)throw"High surrogate without following low surrogate";var g=c.charCodeAt(d+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return c.charAt(d)+c.charAt(d+1)}if(d===0)throw"Low surrogate without preceding high surrogate";var m=c.charCodeAt(d-1);if(55296>m||m>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:l,capitalize:a,escapeXml:f,graphemeSplit:u}}(),function(){var l=Array.prototype.slice,a=function(){},f=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),u=function(p,g,m){for(var v in g)v in p.prototype&&typeof p.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?p.prototype[v]=function(y){return function(){var b=this.constructor.superclass;this.constructor.superclass=m;var w=g[y].apply(this,arguments);if(this.constructor.superclass=b,y!=="initialize")return w}}(v):p.prototype[v]=g[v],f&&(g.toString!==Object.prototype.toString&&(p.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=g.valueOf))};function s(){}function c(p){for(var g=null,m=this;m.constructor.superclass;){var v=m.constructor.superclass.prototype[p];if(m[p]!==v){g=v;break}m=m.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,l.call(arguments,1)):g.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}function d(){var p=null,g=l.call(arguments,0);typeof g[0]=="function"&&(p=g.shift());function m(){this.initialize.apply(this,arguments)}m.superclass=p,m.subclasses=[],p&&(s.prototype=p.prototype,m.prototype=new s,p.subclasses.push(m));for(var v=0,y=g.length;v<y;v++)u(m,g[v],p);return m.prototype.initialize||(m.prototype.initialize=a),m.prototype.constructor=m,m.prototype.callSuper=c,m}t.util.createClass=d}(),function(){var l=!!t.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];t.util.addListener=function(u,s,c,d){u&&u.addEventListener(s,c,l?!1:d)},t.util.removeListener=function(u,s,c,d){u&&u.removeEventListener(s,c,l?!1:d)};function f(u){var s=u.changedTouches;return s&&s[0]?s[0]:u}t.util.getPointer=function(u){var s=u.target,c=t.util.getScrollLeftTop(s),d=f(u);return{x:d.clientX+c.left,y:d.clientY+c.top}},t.util.isTouchEvent=function(u){return a.indexOf(u.type)>-1||u.pointerType==="touch"}}(),function(){function l(d,p){var g=d.style;if(!g)return d;if(typeof p=="string")return d.style.cssText+=";"+p,p.indexOf("opacity")>-1?c(d,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):d;for(var m in p)if(m==="opacity")c(d,p[m]);else{var v=m==="float"||m==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":m;g.setProperty(v,p[m])}return d}var a=t.document.createElement("div"),f=typeof a.style.opacity=="string",u=typeof a.style.filter=="string",s=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(d){return d};f?c=function(d,p){return d.style.opacity=p,d}:u&&(c=function(d,p){var g=d.style;return d.currentStyle&&!d.currentStyle.hasLayout&&(g.zoom=1),s.test(g.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",g.filter=g.filter.replace(s,p)):g.filter+=" alpha(opacity="+p*100+")",d}),t.util.setStyle=l}(),function(){var l=Array.prototype.slice;function a(w){return typeof w=="string"?t.document.getElementById(w):w}var f,u=function(w){return l.call(w,0)};try{f=u(t.document.childNodes)instanceof Array}catch{}f||(u=function(w){for(var S=new Array(w.length),_=w.length;_--;)S[_]=w[_];return S});function s(w,S){var _=t.document.createElement(w);for(var E in S)E==="class"?_.className=S[E]:E==="for"?_.htmlFor=S[E]:_.setAttribute(E,S[E]);return _}function c(w,S){w&&(" "+w.className+" ").indexOf(" "+S+" ")===-1&&(w.className+=(w.className?" ":"")+S)}function d(w,S,_){return typeof S=="string"&&(S=s(S,_)),w.parentNode&&w.parentNode.replaceChild(S,w),S.appendChild(w),S}function p(w){for(var S=0,_=0,E=t.document.documentElement,C=t.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===t.document?(S=C.scrollLeft||E.scrollLeft||0,_=C.scrollTop||E.scrollTop||0):(S+=w.scrollLeft||0,_+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:S,top:_}}function g(w){var S,_=w&&w.ownerDocument,E={left:0,top:0},C={left:0,top:0},P,N={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!_)return C;for(var B in N)C[N[B]]+=parseInt(m(w,B),10)||0;return S=_.documentElement,typeof w.getBoundingClientRect<"u"&&(E=w.getBoundingClientRect()),P=p(w),{left:E.left+P.left-(S.clientLeft||0)+C.left,top:E.top+P.top-(S.clientTop||0)+C.top}}var m;t.document.defaultView&&t.document.defaultView.getComputedStyle?m=function(w,S){var _=t.document.defaultView.getComputedStyle(w,null);return _?_[S]:void 0}:m=function(w,S){var _=w.style[S];return!_&&w.currentStyle&&(_=w.currentStyle[S]),_},function(){var w=t.document.documentElement.style,S="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function _(C){return typeof C.onselectstart<"u"&&(C.onselectstart=t.util.falseFunction),S?C.style[S]="none":typeof C.unselectable=="string"&&(C.unselectable="on"),C}function E(C){return typeof C.onselectstart<"u"&&(C.onselectstart=null),S?C.style[S]="":typeof C.unselectable=="string"&&(C.unselectable=""),C}t.util.makeElementUnselectable=_,t.util.makeElementSelectable=E}();function v(w){var S=t.jsdomImplForWrapper(w);return S._canvas||S._image}function y(w){if(t.isLikelyNode){var S=t.jsdomImplForWrapper(w);S&&(S._image=null,S._canvas=null,S._currentSrc=null,S._attributes=null,S._classList=null)}}function b(w,S){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=S}t.util.setImageSmoothing=b,t.util.getById=a,t.util.toArray=u,t.util.addClass=c,t.util.makeElement=s,t.util.wrapElement=d,t.util.getScrollLeftTop=p,t.util.getElementOffset=g,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=y}(),function(){function l(u,s){return u+(/\?/.test(u)?"&":"?")+s}function a(){}function f(u,s){s||(s={});var c=s.method?s.method.toUpperCase():"GET",d=s.onComplete||function(){},p=new t.window.XMLHttpRequest,g=s.body||s.parameters;return p.onreadystatechange=function(){p.readyState===4&&(d(p),p.onreadystatechange=a)},c==="GET"&&(g=null,typeof s.parameters=="string"&&(u=l(u,s.parameters))),p.open(c,u,!0),(c==="POST"||c==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(g),p}t.util.request=f}(),t.log=console.log,t.warn=console.warn,function(){var l=t.util.object.extend,a=t.util.object.clone,f=[];t.util.object.extend(f,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(y){y.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var y=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return y.forEach(function(b){b.cancel()}),y},cancelByTarget:function(v){var y=this.findAnimationsByTarget(v);return y.forEach(function(b){b.cancel()}),y},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(y){return y.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(y){return y.target===v}):[]}});function u(){return!1}function s(v,y,b,w){return-b*Math.cos(v/w*(Math.PI/2))+b+y}function c(v){v||(v={});var y=!1,b,w=function(){var S=t.runningAnimations.indexOf(b);return S>-1&&t.runningAnimations.splice(S,1)[0]};return b=l(a(v),{cancel:function(){return y=!0,w()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),g(function(S){var _=S||+new Date,E=v.duration||500,C=_+E,P,N=v.onChange||u,B=v.abort||u,I=v.onComplete||u,V=v.easing||s,D="startValue"in v?v.startValue.length>0:!1,F="startValue"in v?v.startValue:0,O="endValue"in v?v.endValue:100,M=v.byValue||(D?F.map(function(U,k){return O[k]-F[k]}):O-F);v.onStart&&v.onStart(),function U(k){P=k||+new Date;var R=P>C?E:P-_,j=R/E,A=D?F.map(function(L,$){return V(R,F[$],M[$],E)}):V(R,F,M,E),Y=Math.abs(D?(A[0]-F[0])/M[0]:(A-F)/M);if(b.currentValue=D?A.slice():A,b.completionRate=Y,b.durationRate=j,!y){if(B(A,Y,j)){w();return}if(P>C){b.currentValue=D?O.slice():O,b.completionRate=1,b.durationRate=1,N(D?O.slice():O,1,1),I(O,1,1),w();return}else N(A,Y,j),g(U)}}(_)}),b.cancel}var d=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},p=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return d.apply(t.window,arguments)}function m(){return p.apply(t.window,arguments)}t.util.animate=c,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=m,t.runningAnimations=f}(),function(){function l(f,u,s){var c="rgba("+parseInt(f[0]+s*(u[0]-f[0]),10)+","+parseInt(f[1]+s*(u[1]-f[1]),10)+","+parseInt(f[2]+s*(u[2]-f[2]),10);return c+=","+(f&&u?parseFloat(f[3]+s*(u[3]-f[3])):1),c+=")",c}function a(f,u,s,c){var d=new t.Color(f).getSource(),p=new t.Color(u).getSource(),g=c.onComplete,m=c.onChange;return c=c||{},t.util.animate(t.util.object.extend(c,{duration:s||500,startValue:d,endValue:p,byValue:p,easing:function(v,y,b,w){var S=c.colorEasing?c.colorEasing(v,w):1-Math.cos(v/w*(Math.PI/2));return l(y,b,S)},onComplete:function(v,y,b){if(g)return g(l(p,p,0),y,b)},onChange:function(v,y,b){if(m){if(Array.isArray(v))return m(l(v,v,0),y,b);m(v,y,b)}}}))}t.util.animateColor=a}(),function(){function l(k,R,j,A){return k<Math.abs(R)?(k=R,A=j/4):R===0&&k===0?A=j/(2*Math.PI)*Math.asin(1):A=j/(2*Math.PI)*Math.asin(R/k),{a:k,c:R,p:j,s:A}}function a(k,R,j){return k.a*Math.pow(2,10*(R-=1))*Math.sin((R*j-k.s)*(2*Math.PI)/k.p)}function f(k,R,j,A){return j*((k=k/A-1)*k*k+1)+R}function u(k,R,j,A){return k/=A/2,k<1?j/2*k*k*k+R:j/2*((k-=2)*k*k+2)+R}function s(k,R,j,A){return j*(k/=A)*k*k*k+R}function c(k,R,j,A){return-j*((k=k/A-1)*k*k*k-1)+R}function d(k,R,j,A){return k/=A/2,k<1?j/2*k*k*k*k+R:-j/2*((k-=2)*k*k*k-2)+R}function p(k,R,j,A){return j*(k/=A)*k*k*k*k+R}function g(k,R,j,A){return j*((k=k/A-1)*k*k*k*k+1)+R}function m(k,R,j,A){return k/=A/2,k<1?j/2*k*k*k*k*k+R:j/2*((k-=2)*k*k*k*k+2)+R}function v(k,R,j,A){return-j*Math.cos(k/A*(Math.PI/2))+j+R}function y(k,R,j,A){return j*Math.sin(k/A*(Math.PI/2))+R}function b(k,R,j,A){return-j/2*(Math.cos(Math.PI*k/A)-1)+R}function w(k,R,j,A){return k===0?R:j*Math.pow(2,10*(k/A-1))+R}function S(k,R,j,A){return k===A?R+j:j*(-Math.pow(2,-10*k/A)+1)+R}function _(k,R,j,A){return k===0?R:k===A?R+j:(k/=A/2,k<1?j/2*Math.pow(2,10*(k-1))+R:j/2*(-Math.pow(2,-10*--k)+2)+R)}function E(k,R,j,A){return-j*(Math.sqrt(1-(k/=A)*k)-1)+R}function C(k,R,j,A){return j*Math.sqrt(1-(k=k/A-1)*k)+R}function P(k,R,j,A){return k/=A/2,k<1?-j/2*(Math.sqrt(1-k*k)-1)+R:j/2*(Math.sqrt(1-(k-=2)*k)+1)+R}function N(k,R,j,A){var Y=1.70158,L=0,$=j;if(k===0)return R;if(k/=A,k===1)return R+j;L||(L=A*.3);var H=l($,j,L,Y);return-a(H,k,A)+R}function B(k,R,j,A){var Y=1.70158,L=0,$=j;if(k===0)return R;if(k/=A,k===1)return R+j;L||(L=A*.3);var H=l($,j,L,Y);return H.a*Math.pow(2,-10*k)*Math.sin((k*A-H.s)*(2*Math.PI)/H.p)+H.c+R}function I(k,R,j,A){var Y=1.70158,L=0,$=j;if(k===0)return R;if(k/=A/2,k===2)return R+j;L||(L=A*(.3*1.5));var H=l($,j,L,Y);return k<1?-.5*a(H,k,A)+R:H.a*Math.pow(2,-10*(k-=1))*Math.sin((k*A-H.s)*(2*Math.PI)/H.p)*.5+H.c+R}function V(k,R,j,A,Y){return Y===void 0&&(Y=1.70158),j*(k/=A)*k*((Y+1)*k-Y)+R}function D(k,R,j,A,Y){return Y===void 0&&(Y=1.70158),j*((k=k/A-1)*k*((Y+1)*k+Y)+1)+R}function F(k,R,j,A,Y){return Y===void 0&&(Y=1.70158),k/=A/2,k<1?j/2*(k*k*(((Y*=1.525)+1)*k-Y))+R:j/2*((k-=2)*k*(((Y*=1.525)+1)*k+Y)+2)+R}function O(k,R,j,A){return j-M(A-k,0,j,A)+R}function M(k,R,j,A){return(k/=A)<1/2.75?j*(7.5625*k*k)+R:k<2/2.75?j*(7.5625*(k-=1.5/2.75)*k+.75)+R:k<2.5/2.75?j*(7.5625*(k-=2.25/2.75)*k+.9375)+R:j*(7.5625*(k-=2.625/2.75)*k+.984375)+R}function U(k,R,j,A){return k<A/2?O(k*2,0,j,A)*.5+R:M(k*2-A,0,j,A)*.5+j*.5+R}t.util.ease={easeInQuad:function(k,R,j,A){return j*(k/=A)*k+R},easeOutQuad:function(k,R,j,A){return-j*(k/=A)*(k-2)+R},easeInOutQuad:function(k,R,j,A){return k/=A/2,k<1?j/2*k*k+R:-j/2*(--k*(k-2)-1)+R},easeInCubic:function(k,R,j,A){return j*(k/=A)*k*k+R},easeOutCubic:f,easeInOutCubic:u,easeInQuart:s,easeOutQuart:c,easeInOutQuart:d,easeInQuint:p,easeOutQuint:g,easeInOutQuint:m,easeInSine:v,easeOutSine:y,easeInOutSine:b,easeInExpo:w,easeOutExpo:S,easeInOutExpo:_,easeInCirc:E,easeOutCirc:C,easeInOutCirc:P,easeInElastic:N,easeOutElastic:B,easeInOutElastic:I,easeInBack:V,easeOutBack:D,easeInOutBack:F,easeInBounce:O,easeOutBounce:M,easeInOutBounce:U}}(),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.util.object.clone,s=a.util.toFixed,c=a.util.parseUnit,d=a.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],m=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",S="clip-path";a.svgValidTagNamesRegEx=C(p),a.svgViewBoxElementsRegEx=C(g),a.svgInvalidAncestorsRegEx=C(m),a.svgValidParentsRegEx=C(v),a.cssRules={},a.gradientDefs={},a.clipPaths={};function _(L){return L in y?y[L]:L}function E(L,$,H,W){var K=Array.isArray($),G;if((L==="fill"||L==="stroke")&&$==="none")$="";else{if(L==="strokeUniform")return $==="non-scaling-stroke";if(L==="strokeDashArray")$==="none"?$=null:$=$.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(L==="transformMatrix")H&&H.transformMatrix?$=d(H.transformMatrix,a.parseTransformAttribute($)):$=a.parseTransformAttribute($);else if(L==="visible")$=$!=="none"&&$!=="hidden",H&&H.visible===!1&&($=!1);else if(L==="opacity")$=parseFloat($),H&&typeof H.opacity<"u"&&($*=H.opacity);else if(L==="textAnchor")$=$==="start"?"left":$==="end"?"right":"center";else if(L==="charSpacing")G=c($,W)/W*1e3;else if(L==="paintFirst"){var J=$.indexOf("fill"),ee=$.indexOf("stroke"),$="fill";(J>-1&&ee>-1&&ee<J||J===-1&&ee>-1)&&($="stroke")}else{if(L==="href"||L==="xlink:href"||L==="font")return $;if(L==="imageSmoothing")return $==="optimizeQuality";G=K?$.map(c):c($,W)}}return!K&&isNaN(G)?$:G}function C(L){return new RegExp("^("+L.join("|")+")\\b","i")}function P(L){for(var $ in b)if(!(typeof L[b[$]]>"u"||L[$]==="")){if(typeof L[$]>"u"){if(!a.Object.prototype[$])continue;L[$]=a.Object.prototype[$]}if(L[$].indexOf("url(")!==0){var H=new a.Color(L[$]);L[$]=H.setAlpha(s(H.getAlpha()*L[b[$]],2)).toRgba()}}return L}function N(L,$){var H,W=[],K,G,J;for(G=0,J=$.length;G<J;G++)H=$[G],K=L.getElementsByTagName(H),W=W.concat(Array.prototype.slice.call(K));return W}a.parseTransformAttribute=function(){function L(q,re){var ue=a.util.cos(re[0]),ge=a.util.sin(re[0]),_e=0,Te=0;re.length===3&&(_e=re[1],Te=re[2]),q[0]=ue,q[1]=ge,q[2]=-ge,q[3]=ue,q[4]=_e-(ue*_e-ge*Te),q[5]=Te-(ge*_e+ue*Te)}function $(q,re){var ue=re[0],ge=re.length===2?re[1]:re[0];q[0]=ue,q[3]=ge}function H(q,re,ue){q[ue]=Math.tan(a.util.degreesToRadians(re[0]))}function W(q,re){q[4]=re[0],re.length===2&&(q[5]=re[1])}var K=a.iMatrix,G=a.reNum,J=a.commaWsp,ee="(?:(skewX)\\s*\\(\\s*("+G+")\\s*\\))",ce="(?:(skewY)\\s*\\(\\s*("+G+")\\s*\\))",te="(?:(rotate)\\s*\\(\\s*("+G+")(?:"+J+"("+G+")"+J+"("+G+"))?\\s*\\))",Z="(?:(scale)\\s*\\(\\s*("+G+")(?:"+J+"("+G+"))?\\s*\\))",oe="(?:(translate)\\s*\\(\\s*("+G+")(?:"+J+"("+G+"))?\\s*\\))",se="(?:(matrix)\\s*\\(\\s*("+G+")"+J+"("+G+")"+J+"("+G+")"+J+"("+G+")"+J+"("+G+")"+J+"("+G+")\\s*\\))",ne="(?:"+se+"|"+oe+"|"+Z+"|"+te+"|"+ee+"|"+ce+")",z="(?:"+ne+"(?:"+J+"*"+ne+")*)",X="^\\s*(?:"+z+"?)\\s*$",Q=new RegExp(X),ie=new RegExp(ne,"g");return function(q){var re=K.concat(),ue=[];if(!q||q&&!Q.test(q))return re;q.replace(ie,function(_e){var Te=new RegExp(ne).exec(_e).filter(function(Ce){return!!Ce}),Ae=Te[1],Ie=Te.slice(2).map(parseFloat);switch(Ae){case"translate":W(re,Ie);break;case"rotate":Ie[0]=a.util.degreesToRadians(Ie[0]),L(re,Ie);break;case"scale":$(re,Ie);break;case"skewX":H(re,Ie,2);break;case"skewY":H(re,Ie,1);break;case"matrix":re=Ie;break}ue.push(re.concat()),re=K.concat()});for(var ge=ue[0];ue.length>1;)ue.shift(),ge=a.util.multiplyTransformMatrices(ge,ue[0]);return ge}}();function B(L,$){var H,W;L.replace(/;\s*$/,"").split(";").forEach(function(K){var G=K.split(":");H=G[0].trim().toLowerCase(),W=G[1].trim(),$[H]=W})}function I(L,$){var H,W;for(var K in L)typeof L[K]>"u"||(H=K.toLowerCase(),W=L[K],$[H]=W)}function V(L,$){var H={};for(var W in a.cssRules[$])if(D(L,W.split(" ")))for(var K in a.cssRules[$][W])H[K]=a.cssRules[$][W][K];return H}function D(L,$){var H,W=!0;return H=O(L,$.pop()),H&&$.length&&(W=F(L,$)),H&&W&&$.length===0}function F(L,$){for(var H,W=!0;L.parentNode&&L.parentNode.nodeType===1&&$.length;)W&&(H=$.pop()),L=L.parentNode,W=O(L,H);return $.length===0}function O(L,$){var H=L.nodeName,W=L.getAttribute("class"),K=L.getAttribute("id"),G,J;if(G=new RegExp("^"+H,"i"),$=$.replace(G,""),K&&$.length&&(G=new RegExp("#"+K+"(?![a-zA-Z\\-]+)","i"),$=$.replace(G,"")),W&&$.length)for(W=W.split(" "),J=W.length;J--;)G=new RegExp("\\."+W[J]+"(?![a-zA-Z\\-]+)","i"),$=$.replace(G,"");return $.length===0}function M(L,$){var H;if(L.getElementById&&(H=L.getElementById($)),H)return H;var W,K,G,J=L.getElementsByTagName("*");for(K=0,G=J.length;K<G;K++)if(W=J[K],$===W.getAttribute("id"))return W}function U(L){for(var $=N(L,["use","svg:use"]),H=0;$.length&&H<$.length;){var W=$[H],K=W.getAttribute("xlink:href")||W.getAttribute("href");if(K===null)return;var G=K.slice(1),J=W.getAttribute("x")||0,ee=W.getAttribute("y")||0,ce=M(L,G).cloneNode(!0),te=(ce.getAttribute("transform")||"")+" translate("+J+", "+ee+")",Z,oe=$.length,se,ne,z,X,Q=a.svgNS;if(R(ce),/^svg$/i.test(ce.nodeName)){var ie=ce.ownerDocument.createElementNS(Q,"g");for(ne=0,z=ce.attributes,X=z.length;ne<X;ne++)se=z.item(ne),ie.setAttributeNS(Q,se.nodeName,se.nodeValue);for(;ce.firstChild;)ie.appendChild(ce.firstChild);ce=ie}for(ne=0,z=W.attributes,X=z.length;ne<X;ne++)se=z.item(ne),!(se.nodeName==="x"||se.nodeName==="y"||se.nodeName==="xlink:href"||se.nodeName==="href")&&(se.nodeName==="transform"?te=se.nodeValue+" "+te:ce.setAttribute(se.nodeName,se.nodeValue));ce.setAttribute("transform",te),ce.setAttribute("instantiated_by_use","1"),ce.removeAttribute("id"),Z=W.parentNode,Z.replaceChild(ce,W),$.length===oe&&H++}}var k=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function R(L){if(!a.svgViewBoxElementsRegEx.test(L.nodeName))return{};var $=L.getAttribute("viewBox"),H=1,W=1,K=0,G=0,J,ee,ce,te,Z=L.getAttribute("width"),oe=L.getAttribute("height"),se=L.getAttribute("x")||0,ne=L.getAttribute("y")||0,z=L.getAttribute("preserveAspectRatio")||"",X=!$||!($=$.match(k)),Q=!Z||!oe||Z==="100%"||oe==="100%",ie=X&&Q,q={},re="",ue=0,ge=0;if(q.width=0,q.height=0,q.toBeParsed=ie,X&&(se||ne)&&L.parentNode&&L.parentNode.nodeName!=="#document"&&(re=" translate("+c(se)+" "+c(ne)+") ",ce=(L.getAttribute("transform")||"")+re,L.setAttribute("transform",ce),L.removeAttribute("x"),L.removeAttribute("y")),ie)return q;if(X)return q.width=c(Z),q.height=c(oe),q;if(K=-parseFloat($[1]),G=-parseFloat($[2]),J=parseFloat($[3]),ee=parseFloat($[4]),q.minX=K,q.minY=G,q.viewBoxWidth=J,q.viewBoxHeight=ee,Q?(q.width=J,q.height=ee):(q.width=c(Z),q.height=c(oe),H=q.width/J,W=q.height/ee),z=a.util.parsePreserveAspectRatioAttribute(z),z.alignX!=="none"&&(z.meetOrSlice==="meet"&&(W=H=H>W?W:H),z.meetOrSlice==="slice"&&(W=H=H>W?H:W),ue=q.width-J*H,ge=q.height-ee*H,z.alignX==="Mid"&&(ue/=2),z.alignY==="Mid"&&(ge/=2),z.alignX==="Min"&&(ue=0),z.alignY==="Min"&&(ge=0)),H===1&&W===1&&K===0&&G===0&&se===0&&ne===0)return q;if((se||ne)&&L.parentNode.nodeName!=="#document"&&(re=" translate("+c(se)+" "+c(ne)+") "),ce=re+" matrix("+H+" 0 0 "+W+" "+(K*H+ue)+" "+(G*W+ge)+") ",L.nodeName==="svg"){for(te=L.ownerDocument.createElementNS(a.svgNS,"g");L.firstChild;)te.appendChild(L.firstChild);L.appendChild(te)}else te=L,te.removeAttribute("x"),te.removeAttribute("y"),ce=te.getAttribute("transform")+ce;return te.setAttribute("transform",ce),q}function j(L,$){for(;L&&(L=L.parentNode);)if(L.nodeName&&$.test(L.nodeName.replace("svg:",""))&&!L.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(L,$,H,W){if(L){U(L);var K=a.Object.__uid++,G,J,ee=R(L),ce=a.util.toArray(L.getElementsByTagName("*"));if(ee.crossOrigin=W&&W.crossOrigin,ee.svgUid=K,ce.length===0&&a.isLikelyNode){ce=L.selectNodes('//*[name(.)!="svg"]');var te=[];for(G=0,J=ce.length;G<J;G++)te[G]=ce[G];ce=te}var Z=ce.filter(function(se){return R(se),a.svgValidTagNamesRegEx.test(se.nodeName.replace("svg:",""))&&!j(se,a.svgInvalidAncestorsRegEx)});if(!Z||Z&&!Z.length){$&&$([],{});return}var oe={};ce.filter(function(se){return se.nodeName.replace("svg:","")==="clipPath"}).forEach(function(se){var ne=se.getAttribute("id");oe[ne]=a.util.toArray(se.getElementsByTagName("*")).filter(function(z){return a.svgValidTagNamesRegEx.test(z.nodeName.replace("svg:",""))})}),a.gradientDefs[K]=a.getGradientDefs(L),a.cssRules[K]=a.getCSSRules(L),a.clipPaths[K]=oe,a.parseElements(Z,function(se,ne){$&&($(se,ee,ne,ce),delete a.gradientDefs[K],delete a.cssRules[K],delete a.clipPaths[K])},u(ee),H,W)}};function A(L,$){var H=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],W="xlink:href",K=$.getAttribute(W).slice(1),G=M(L,K);if(G&&G.getAttribute(W)&&A(L,G),H.forEach(function(ee){G&&!$.hasAttribute(ee)&&G.hasAttribute(ee)&&$.setAttribute(ee,G.getAttribute(ee))}),!$.children.length)for(var J=G.cloneNode(!0);J.firstChild;)$.appendChild(J.firstChild);$.removeAttribute(W)}var Y=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");f(a,{parseFontDeclaration:function(L,$){var H=L.match(Y);if(H){var W=H[1],K=H[3],G=H[4],J=H[5],ee=H[6];W&&($.fontStyle=W),K&&($.fontWeight=isNaN(parseFloat(K))?K:parseFloat(K)),G&&($.fontSize=c(G)),ee&&($.fontFamily=ee),J&&($.lineHeight=J==="normal"?1:J)}},getGradientDefs:function(L){var $=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],H=N(L,$),W,K=0,G={};for(K=H.length;K--;)W=H[K],W.getAttribute("xlink:href")&&A(L,W),G[W.getAttribute("id")]=W;return G},parseAttributes:function(L,$,H){if(L){var W,K={},G,J;typeof H>"u"&&(H=L.getAttribute("svgUid")),L.parentNode&&a.svgValidParentsRegEx.test(L.parentNode.nodeName)&&(K=a.parseAttributes(L.parentNode,$,H));var ee=$.reduce(function(z,X){return W=L.getAttribute(X),W&&(z[X]=W),z},{}),ce=f(V(L,H),a.parseStyleAttribute(L));ee=f(ee,ce),ce[S]&&L.setAttribute(S,ce[S]),G=J=K.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,ee[w]&&(ee[w]=G=c(ee[w],J));var te,Z,oe={};for(var se in ee)te=_(se),Z=E(te,ee[se],K,G),oe[te]=Z;oe&&oe.font&&a.parseFontDeclaration(oe.font,oe);var ne=f(K,oe);return a.svgValidParentsRegEx.test(L.nodeName)?ne:P(ne)}},parseElements:function(L,$,H,W,K){new a.ElementsParser(L,$,H,W,K).parse()},parseStyleAttribute:function(L){var $={},H=L.getAttribute("style");return H&&(typeof H=="string"?B(H,$):I(H,$)),$},parsePointsAttribute:function(L){if(!L)return null;L=L.replace(/,/g," ").trim(),L=L.split(/\s+/);var $=[],H,W;for(H=0,W=L.length;H<W;H+=2)$.push({x:parseFloat(L[H]),y:parseFloat(L[H+1])});return $},getCSSRules:function(L){var $=L.getElementsByTagName("style"),H,W,K={},G;for(H=0,W=$.length;H<W;H++){var J=$[H].textContent;J=J.replace(/\/\*[\s\S]*?\*\//g,""),J.trim()!==""&&(G=J.split("}"),G=G.filter(function(ee){return ee.trim()}),G.forEach(function(ee){var ce=ee.split("{"),te={},Z=ce[1].trim(),oe=Z.split(";").filter(function(X){return X.trim()});for(H=0,W=oe.length;H<W;H++){var se=oe[H].split(":"),ne=se[0].trim(),z=se[1].trim();te[ne]=z}ee=ce[0].trim(),ee.split(",").forEach(function(X){X=X.replace(/^svg/i,"").trim(),X!==""&&(K[X]?a.util.object.extend(K[X],te):K[X]=a.util.object.clone(te))})}))}return K},loadSVGFromURL:function(L,$,H,W){L=L.replace(/^\n\s*/,"").trim(),new a.util.request(L,{method:"get",onComplete:K});function K(G){var J=G.responseXML;if(!J||!J.documentElement)return $&&$(null),!1;a.parseSVGDocument(J.documentElement,function(ee,ce,te,Z){$&&$(ee,ce,te,Z)},H,W)}},loadSVGFromString:function(L,$,H,W){var K=new a.window.DOMParser,G=K.parseFromString(L.trim(),"text/xml");a.parseSVGDocument(G.documentElement,function(J,ee,ce,te){$(J,ee,ce,te)},H,W)}})}(e),t.ElementsParser=function(l,a,f,u,s,c){this.elements=l,this.callback=a,this.options=f,this.reviver=u,this.svgUid=f&&f.svgUid||0,this.parsingOptions=s,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(l){l.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},l.createObjects=function(){var a=this;this.elements.forEach(function(f,u){f.setAttribute("svgUid",a.svgUid),a.createObject(f,u)})},l.findTag=function(a){return t[t.util.string.capitalize(a.tagName.replace("svg:",""))]},l.createObject=function(a,f){var u=this.findTag(a);if(u&&u.fromElement)try{u.fromElement(a,this.createCallback(f,a),this.options)}catch(s){t.log(s)}else this.checkIfDone()},l.createCallback=function(a,f){var u=this;return function(s){var c;u.resolveGradient(s,f,"fill"),u.resolveGradient(s,f,"stroke"),s instanceof t.Image&&s._originalElement&&(c=s.parsePreserveAspectRatioAttribute(f)),s._removeTransformMatrix(c),u.resolveClipPath(s,f),u.reviver&&u.reviver(f,s),u.instances[a]=s,u.checkIfDone()}},l.extractPropertyDefinition=function(a,f,u){var s=a[f],c=this.regexUrl;if(c.test(s)){c.lastIndex=0;var d=c.exec(s)[1];return c.lastIndex=0,t[u][this.svgUid][d]}},l.resolveGradient=function(a,f,u){var s=this.extractPropertyDefinition(a,u,"gradientDefs");if(s){var c=f.getAttribute(u+"-opacity"),d=t.Gradient.fromElement(s,a,c,this.options);a.set(u,d)}},l.createClipPathCallback=function(a,f){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,f.push(u)}},l.resolveClipPath=function(a,f){var u=this.extractPropertyDefinition(a,"clipPath","clipPaths"),s,c,d,p,g,m;if(u){p=[],d=t.util.invertTransform(a.calcTransformMatrix());for(var v=u[0].parentNode,y=f;y.parentNode&&y.getAttribute("clip-path")!==a.clipPath;)y=y.parentNode;y.parentNode.appendChild(v);for(var b=0;b<u.length;b++)s=u[b],c=this.findTag(s),c.fromElement(s,this.createClipPathCallback(a,p),this.options);p.length===1?u=p[0]:u=new t.Group(p),g=t.util.multiplyTransformMatrices(d,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,y);var m=t.util.qrDecompose(g);u.flipX=!1,u.flipY=!1,u.set("scaleX",m.scaleX),u.set("scaleY",m.scaleY),u.angle=m.angle,u.skewX=m.skewX,u.skewY=0,u.setPositionByOrigin({x:m.translateX,y:m.translateY},"center","center"),a.clipPath=u}else delete a.clipPath},l.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(l){var a=l.fabric||(l.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=f;function f(u,s){this.x=u,this.y=s}f.prototype={type:"point",constructor:f,add:function(u){return new f(this.x+u.x,this.y+u.y)},addEquals:function(u){return this.x+=u.x,this.y+=u.y,this},scalarAdd:function(u){return new f(this.x+u,this.y+u)},scalarAddEquals:function(u){return this.x+=u,this.y+=u,this},subtract:function(u){return new f(this.x-u.x,this.y-u.y)},subtractEquals:function(u){return this.x-=u.x,this.y-=u.y,this},scalarSubtract:function(u){return new f(this.x-u,this.y-u)},scalarSubtractEquals:function(u){return this.x-=u,this.y-=u,this},multiply:function(u){return new f(this.x*u,this.y*u)},multiplyEquals:function(u){return this.x*=u,this.y*=u,this},divide:function(u){return new f(this.x/u,this.y/u)},divideEquals:function(u){return this.x/=u,this.y/=u,this},eq:function(u){return this.x===u.x&&this.y===u.y},lt:function(u){return this.x<u.x&&this.y<u.y},lte:function(u){return this.x<=u.x&&this.y<=u.y},gt:function(u){return this.x>u.x&&this.y>u.y},gte:function(u){return this.x>=u.x&&this.y>=u.y},lerp:function(u,s){return typeof s>"u"&&(s=.5),s=Math.max(Math.min(1,s),0),new f(this.x+(u.x-this.x)*s,this.y+(u.y-this.y)*s)},distanceFrom:function(u){var s=this.x-u.x,c=this.y-u.y;return Math.sqrt(s*s+c*c)},midPointFrom:function(u){return this.lerp(u)},min:function(u){return new f(Math.min(this.x,u.x),Math.min(this.y,u.y))},max:function(u){return new f(Math.max(this.x,u.x),Math.max(this.y,u.y))},toString:function(){return this.x+","+this.y},setXY:function(u,s){return this.x=u,this.y=s,this},setX:function(u){return this.x=u,this},setY:function(u){return this.y=u,this},setFromPoint:function(u){return this.x=u.x,this.y=u.y,this},swap:function(u){var s=this.x,c=this.y;this.x=u.x,this.y=u.y,u.x=s,u.y=c},clone:function(){return new f(this.x,this.y)}}}(e),function(l){var a=l.fabric||(l.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function f(u){this.status=u,this.points=[]}a.Intersection=f,a.Intersection.prototype={constructor:f,appendPoint:function(u){return this.points.push(u),this},appendPoints:function(u){return this.points=this.points.concat(u),this}},a.Intersection.intersectLineLine=function(u,s,c,d){var p,g=(d.x-c.x)*(u.y-c.y)-(d.y-c.y)*(u.x-c.x),m=(s.x-u.x)*(u.y-c.y)-(s.y-u.y)*(u.x-c.x),v=(d.y-c.y)*(s.x-u.x)-(d.x-c.x)*(s.y-u.y);if(v!==0){var y=g/v,b=m/v;0<=y&&y<=1&&0<=b&&b<=1?(p=new f("Intersection"),p.appendPoint(new a.Point(u.x+y*(s.x-u.x),u.y+y*(s.y-u.y)))):p=new f}else g===0||m===0?p=new f("Coincident"):p=new f("Parallel");return p},a.Intersection.intersectLinePolygon=function(u,s,c){var d=new f,p=c.length,g,m,v,y;for(y=0;y<p;y++)g=c[y],m=c[(y+1)%p],v=f.intersectLineLine(u,s,g,m),d.appendPoints(v.points);return d.points.length>0&&(d.status="Intersection"),d},a.Intersection.intersectPolygonPolygon=function(u,s){var c=new f,d=u.length,p;for(p=0;p<d;p++){var g=u[p],m=u[(p+1)%d],v=f.intersectLinePolygon(g,m,s);c.appendPoints(v.points)}return c.points.length>0&&(c.status="Intersection"),c},a.Intersection.intersectPolygonRectangle=function(u,s,c){var d=s.min(c),p=s.max(c),g=new a.Point(p.x,d.y),m=new a.Point(d.x,p.y),v=f.intersectLinePolygon(d,g,u),y=f.intersectLinePolygon(g,p,u),b=f.intersectLinePolygon(p,m,u),w=f.intersectLinePolygon(m,d,u),S=new f;return S.appendPoints(v.points),S.appendPoints(y.points),S.appendPoints(b.points),S.appendPoints(w.points),S.points.length>0&&(S.status="Intersection"),S}}(e),function(l){var a=l.fabric||(l.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function f(s){s?this._tryParsingColor(s):this.setSource([0,0,0,1])}a.Color=f,a.Color.prototype={_tryParsingColor:function(s){var c;s in f.colorNameMap&&(s=f.colorNameMap[s]),s==="transparent"&&(c=[255,255,255,0]),c||(c=f.sourceFromHex(s)),c||(c=f.sourceFromRgb(s)),c||(c=f.sourceFromHsl(s)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(s,c,d){s/=255,c/=255,d/=255;var p,g,m,v=a.util.array.max([s,c,d]),y=a.util.array.min([s,c,d]);if(m=(v+y)/2,v===y)p=g=0;else{var b=v-y;switch(g=m>.5?b/(2-v-y):b/(v+y),v){case s:p=(c-d)/b+(c<d?6:0);break;case c:p=(d-s)/b+2;break;case d:p=(s-c)/b+4;break}p/=6}return[Math.round(p*360),Math.round(g*100),Math.round(m*100)]},getSource:function(){return this._source},setSource:function(s){this._source=s},toRgb:function(){var s=this.getSource();return"rgb("+s[0]+","+s[1]+","+s[2]+")"},toRgba:function(){var s=this.getSource();return"rgba("+s[0]+","+s[1]+","+s[2]+","+s[3]+")"},toHsl:function(){var s=this.getSource(),c=this._rgbToHsl(s[0],s[1],s[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var s=this.getSource(),c=this._rgbToHsl(s[0],s[1],s[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+s[3]+")"},toHex:function(){var s=this.getSource(),c,d,p;return c=s[0].toString(16),c=c.length===1?"0"+c:c,d=s[1].toString(16),d=d.length===1?"0"+d:d,p=s[2].toString(16),p=p.length===1?"0"+p:p,c.toUpperCase()+d.toUpperCase()+p.toUpperCase()},toHexa:function(){var s=this.getSource(),c;return c=Math.round(s[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(s){var c=this.getSource();return c[3]=s,this.setSource(c),this},toGrayscale:function(){var s=this.getSource(),c=parseInt((s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),10),d=s[3];return this.setSource([c,c,c,d]),this},toBlackWhite:function(s){var c=this.getSource(),d=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),p=c[3];return s=s||127,d=Number(d)<Number(s)?0:255,this.setSource([d,d,d,p]),this},overlayWith:function(s){s instanceof f||(s=new f(s));var c=[],d=this.getAlpha(),p=.5,g=this.getSource(),m=s.getSource(),v;for(v=0;v<3;v++)c.push(Math.round(g[v]*(1-p)+m[v]*p));return c[3]=d,this.setSource(c),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function u(s,c,d){return d<0&&(d+=1),d>1&&(d-=1),d<1/6?s+(c-s)*6*d:d<1/2?c:d<2/3?s+(c-s)*(2/3-d)*6:s}a.Color.fromRgb=function(s){return f.fromSource(f.sourceFromRgb(s))},a.Color.sourceFromRgb=function(s){var c=s.match(f.reRGBa);if(c){var d=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),p=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),g=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(d,10),parseInt(p,10),parseInt(g,10),c[4]?parseFloat(c[4]):1]}},a.Color.fromRgba=f.fromRgb,a.Color.fromHsl=function(s){return f.fromSource(f.sourceFromHsl(s))},a.Color.sourceFromHsl=function(s){var c=s.match(f.reHSLa);if(c){var d=(parseFloat(c[1])%360+360)%360/360,p=parseFloat(c[2])/(/%$/.test(c[2])?100:1),g=parseFloat(c[3])/(/%$/.test(c[3])?100:1),m,v,y;if(p===0)m=v=y=g;else{var b=g<=.5?g*(p+1):g+p-g*p,w=g*2-b;m=u(w,b,d+1/3),v=u(w,b,d),y=u(w,b,d-1/3)}return[Math.round(m*255),Math.round(v*255),Math.round(y*255),c[4]?parseFloat(c[4]):1]}},a.Color.fromHsla=f.fromHsl,a.Color.fromHex=function(s){return f.fromSource(f.sourceFromHex(s))},a.Color.sourceFromHex=function(s){if(s.match(f.reHex)){var c=s.slice(s.indexOf("#")+1),d=c.length===3||c.length===4,p=c.length===8||c.length===4,g=d?c.charAt(0)+c.charAt(0):c.substring(0,2),m=d?c.charAt(1)+c.charAt(1):c.substring(2,4),v=d?c.charAt(2)+c.charAt(2):c.substring(4,6),y=p?d?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(g,16),parseInt(m,16),parseInt(v,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},a.Color.fromSource=function(s){var c=new f;return c.setSource(s),c}}(e),function(l){var a=l.fabric||(l.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],s={},c="left",d="top",p="right",g="bottom",m="center",v={top:g,bottom:d,left:p,right:c,center:m},y=a.util.radiansToDegrees,b=Math.sign||function(te){return(te>0)-(te<0)||+te};function w(te,Z){var oe=te.angle+y(Math.atan2(Z.y,Z.x))+360;return Math.round(oe%360/45)}function S(te,Z){var oe=Z.transform.target,se=oe.canvas,ne=a.util.object.clone(Z);ne.target=oe,se&&se.fire("object:"+te,ne),oe.fire(te,Z)}function _(te,Z){var oe=Z.canvas,se=oe.uniScaleKey,ne=te[se];return oe.uniformScaling&&!ne||!oe.uniformScaling&&ne}function E(te){return te.originX===m&&te.originY===m}function C(te,Z,oe){var se=te.lockScalingX,ne=te.lockScalingY;return!!(se&&ne||!Z&&(se||ne)&&oe||se&&Z==="x"||ne&&Z==="y")}function P(te,Z,oe){var se="not-allowed",ne=_(te,oe),z="";if(Z.x!==0&&Z.y===0?z="x":Z.x===0&&Z.y!==0&&(z="y"),C(oe,z,ne))return se;var X=w(oe,Z);return f[X]+"-resize"}function N(te,Z,oe){var se="not-allowed";if(Z.x!==0&&oe.lockSkewingY||Z.y!==0&&oe.lockSkewingX)return se;var ne=w(oe,Z)%4;return u[ne]+"-resize"}function B(te,Z,oe){return te[oe.canvas.altActionKey]?s.skewCursorStyleHandler(te,Z,oe):s.scaleCursorStyleHandler(te,Z,oe)}function I(te,Z,oe){var se=te[oe.canvas.altActionKey];if(Z.x===0)return se?"skewX":"scaleY";if(Z.y===0)return se?"skewY":"scaleX"}function V(te,Z,oe){return oe.lockRotation?"not-allowed":Z.cursorStyle}function D(te,Z,oe,se){return{e:te,transform:Z,pointer:{x:oe,y:se}}}function F(te){return function(Z,oe,se,ne){var z=oe.target,X=z.getCenterPoint(),Q=z.translateToOriginPoint(X,oe.originX,oe.originY),ie=te(Z,oe,se,ne);return z.setPositionByOrigin(Q,oe.originX,oe.originY),ie}}function O(te,Z){return function(oe,se,ne,z){var X=Z(oe,se,ne,z);return X&&S(te,D(oe,se,ne,z)),X}}function M(te,Z,oe,se,ne){var z=te.target,X=z.controls[te.corner],Q=z.canvas.getZoom(),ie=z.padding/Q,q=z.toLocalPoint(new a.Point(se,ne),Z,oe);return q.x>=ie&&(q.x-=ie),q.x<=-ie&&(q.x+=ie),q.y>=ie&&(q.y-=ie),q.y<=ie&&(q.y+=ie),q.x-=X.offsetX,q.y-=X.offsetY,q}function U(te){return te.flipX!==te.flipY}function k(te,Z,oe,se,ne){if(te[Z]!==0){var z=te._getTransformedDimensions()[se],X=ne/z*te[oe];te.set(oe,X)}}function R(te,Z,oe,se){var ne=Z.target,z=ne._getTransformedDimensions(0,ne.skewY),X=M(Z,Z.originX,Z.originY,oe,se),Q=Math.abs(X.x*2)-z.x,ie=ne.skewX,q;Q<2?q=0:(q=y(Math.atan2(Q/ne.scaleX,z.y/ne.scaleY)),Z.originX===c&&Z.originY===g&&(q=-q),Z.originX===p&&Z.originY===d&&(q=-q),U(ne)&&(q=-q));var re=ie!==q;if(re){var ue=ne._getTransformedDimensions().y;ne.set("skewX",q),k(ne,"skewY","scaleY","y",ue)}return re}function j(te,Z,oe,se){var ne=Z.target,z=ne._getTransformedDimensions(ne.skewX,0),X=M(Z,Z.originX,Z.originY,oe,se),Q=Math.abs(X.y*2)-z.y,ie=ne.skewY,q;Q<2?q=0:(q=y(Math.atan2(Q/ne.scaleY,z.x/ne.scaleX)),Z.originX===c&&Z.originY===g&&(q=-q),Z.originX===p&&Z.originY===d&&(q=-q),U(ne)&&(q=-q));var re=ie!==q;if(re){var ue=ne._getTransformedDimensions().x;ne.set("skewY",q),k(ne,"skewX","scaleX","x",ue)}return re}function A(te,Z,oe,se){var ne=Z.target,z=ne.skewX,X,Q=Z.originY;if(ne.lockSkewingX)return!1;if(z===0){var ie=M(Z,m,m,oe,se);ie.x>0?X=c:X=p}else z>0&&(X=Q===d?c:p),z<0&&(X=Q===d?p:c),U(ne)&&(X=X===c?p:c);Z.originX=X;var q=O("skewing",F(R));return q(te,Z,oe,se)}function Y(te,Z,oe,se){var ne=Z.target,z=ne.skewY,X,Q=Z.originX;if(ne.lockSkewingY)return!1;if(z===0){var ie=M(Z,m,m,oe,se);ie.y>0?X=d:X=g}else z>0&&(X=Q===c?d:g),z<0&&(X=Q===c?g:d),U(ne)&&(X=X===d?g:d);Z.originY=X;var q=O("skewing",F(j));return q(te,Z,oe,se)}function L(te,Z,oe,se){var ne=Z,z=ne.target,X=z.translateToOriginPoint(z.getCenterPoint(),ne.originX,ne.originY);if(z.lockRotation)return!1;var Q=Math.atan2(ne.ey-X.y,ne.ex-X.x),ie=Math.atan2(se-X.y,oe-X.x),q=y(ie-Q+ne.theta),re=!0;if(z.snapAngle>0){var ue=z.snapAngle,ge=z.snapThreshold||ue,_e=Math.ceil(q/ue)*ue,Te=Math.floor(q/ue)*ue;Math.abs(q-Te)<ge?q=Te:Math.abs(q-_e)<ge&&(q=_e)}return q<0&&(q=360+q),q%=360,re=z.angle!==q,z.angle=q,re}function $(te,Z,oe,se,ne){ne=ne||{};var z=Z.target,X=z.lockScalingX,Q=z.lockScalingY,ie=ne.by,q,re,ue,ge,_e=_(te,z),Te=C(z,ie,_e),Ae,Ie,Ce=Z.gestureScale;if(Te)return!1;if(Ce)re=Z.scaleX*Ce,ue=Z.scaleY*Ce;else{if(q=M(Z,Z.originX,Z.originY,oe,se),Ae=ie!=="y"?b(q.x):1,Ie=ie!=="x"?b(q.y):1,Z.signX||(Z.signX=Ae),Z.signY||(Z.signY=Ie),z.lockScalingFlip&&(Z.signX!==Ae||Z.signY!==Ie))return!1;if(ge=z._getTransformedDimensions(),_e&&!ie){var tt=Math.abs(q.x)+Math.abs(q.y),Ue=Z.original,Ct=Math.abs(ge.x*Ue.scaleX/z.scaleX)+Math.abs(ge.y*Ue.scaleY/z.scaleY),xt=tt/Ct;re=Ue.scaleX*xt,ue=Ue.scaleY*xt}else re=Math.abs(q.x*z.scaleX/ge.x),ue=Math.abs(q.y*z.scaleY/ge.y);E(Z)&&(re*=2,ue*=2),Z.signX!==Ae&&ie!=="y"&&(Z.originX=v[Z.originX],re*=-1,Z.signX=Ae),Z.signY!==Ie&&ie!=="x"&&(Z.originY=v[Z.originY],ue*=-1,Z.signY=Ie)}var gt=z.scaleX,Lo=z.scaleY;return ie?(ie==="x"&&z.set("scaleX",re),ie==="y"&&z.set("scaleY",ue)):(!X&&z.set("scaleX",re),!Q&&z.set("scaleY",ue)),gt!==z.scaleX||Lo!==z.scaleY}function H(te,Z,oe,se){return $(te,Z,oe,se)}function W(te,Z,oe,se){return $(te,Z,oe,se,{by:"x"})}function K(te,Z,oe,se){return $(te,Z,oe,se,{by:"y"})}function G(te,Z,oe,se){return te[Z.target.canvas.altActionKey]?s.skewHandlerX(te,Z,oe,se):s.scalingY(te,Z,oe,se)}function J(te,Z,oe,se){return te[Z.target.canvas.altActionKey]?s.skewHandlerY(te,Z,oe,se):s.scalingX(te,Z,oe,se)}function ee(te,Z,oe,se){var ne=Z.target,z=M(Z,Z.originX,Z.originY,oe,se),X=ne.strokeWidth/(ne.strokeUniform?ne.scaleX:1),Q=E(Z)?2:1,ie=ne.width,q=Math.abs(z.x*Q/ne.scaleX)-X;return ne.set("width",Math.max(q,0)),ie!==q}function ce(te,Z,oe,se){var ne=Z.target,z=oe-Z.offsetX,X=se-Z.offsetY,Q=!ne.get("lockMovementX")&&ne.left!==z,ie=!ne.get("lockMovementY")&&ne.top!==X;return Q&&ne.set("left",z),ie&&ne.set("top",X),(Q||ie)&&S("moving",D(te,Z,oe,se)),Q||ie}s.scaleCursorStyleHandler=P,s.skewCursorStyleHandler=N,s.scaleSkewCursorStyleHandler=B,s.rotationWithSnapping=O("rotating",F(L)),s.scalingEqually=O("scaling",F(H)),s.scalingX=O("scaling",F(W)),s.scalingY=O("scaling",F(K)),s.scalingYOrSkewingX=G,s.scalingXOrSkewingY=J,s.changeWidth=O("resizing",F(ee)),s.skewHandlerX=A,s.skewHandlerY=Y,s.dragHandler=ce,s.scaleOrSkewActionName=I,s.rotationStyleHandler=V,s.fireEvent=S,s.wrapWithFixedAnchor=F,s.wrapWithFireEvent=O,s.getLocalPoint=M,a.controlsUtils=s}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.degreesToRadians,u=a.controlsUtils;function s(d,p,g,m,v){m=m||{};var y=this.sizeX||m.cornerSize||v.cornerSize,b=this.sizeY||m.cornerSize||v.cornerSize,w=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,S=w?"stroke":"fill",_=!w&&(m.cornerStrokeColor||v.cornerStrokeColor),E=p,C=g,P;d.save(),d.fillStyle=m.cornerColor||v.cornerColor,d.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,y>b?(P=y,d.scale(1,b/y),C=g*y/b):b>y?(P=b,d.scale(y/b,1),E=p*b/y):P=y,d.lineWidth=1,d.beginPath(),d.arc(E,C,P/2,0,2*Math.PI,!1),d[S](),_&&d.stroke(),d.restore()}function c(d,p,g,m,v){m=m||{};var y=this.sizeX||m.cornerSize||v.cornerSize,b=this.sizeY||m.cornerSize||v.cornerSize,w=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,S=w?"stroke":"fill",_=!w&&(m.cornerStrokeColor||v.cornerStrokeColor),E=y/2,C=b/2;d.save(),d.fillStyle=m.cornerColor||v.cornerColor,d.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,d.lineWidth=1,d.translate(p,g),d.rotate(f(v.angle)),d[S+"Rect"](-E,-C,y,b),_&&d.strokeRect(-E,-C,y,b),d.restore()}u.renderCircleControl=s,u.renderSquareControl=c}(e),function(l){var a=l.fabric||(l.fabric={});function f(u){for(var s in u)this[s]=u[s]}a.Control=f,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(u,s){return s.cursorStyle},getActionName:function(u,s){return s.actionName},getVisibility:function(u,s){var c=u._controlsVisibility;return c&&typeof c[s]<"u"?c[s]:this.visible},setVisibility:function(u){this.visible=u},positionHandler:function(u,s){var c=a.util.transformPoint({x:this.x*u.x+this.offsetX,y:this.y*u.y+this.offsetY},s);return c},calcCornerCoords:function(u,s,c,d,p){var g,m,v,y,b=p?this.touchSizeX:this.sizeX,w=p?this.touchSizeY:this.sizeY;if(b&&w&&b!==w){var S=Math.atan2(w,b),_=Math.sqrt(b*b+w*w)/2,E=S-a.util.degreesToRadians(u),C=Math.PI/2-S-a.util.degreesToRadians(u);g=_*a.util.cos(E),m=_*a.util.sin(E),v=_*a.util.cos(C),y=_*a.util.sin(C)}else{var P=b&&w?b:s;_=P*.7071067812;var E=a.util.degreesToRadians(45-u);g=v=_*a.util.cos(E),m=y=_*a.util.sin(E)}return{tl:{x:c-y,y:d-v},tr:{x:c+g,y:d-m},bl:{x:c-g,y:d+m},br:{x:c+y,y:d+v}}},render:function(u,s,c,d,p){switch(d=d||{},d.cornerStyle||p.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,u,s,c,d,p);break;default:a.controlsUtils.renderSquareControl.call(this,u,s,c,d,p)}}}}(e),function(){function l(c,d){var p=c.getAttribute("style"),g=c.getAttribute("offset")||0,m,v,y,b;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,p){var w=p.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),b=w.length;b--;){var S=w[b].split(/\s*:\s*/),_=S[0].trim(),E=S[1].trim();_==="stop-color"?m=E:_==="stop-opacity"&&(y=E)}}return m||(m=c.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=c.getAttribute("stop-opacity")),m=new t.Color(m),v=m.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=v*d,{offset:g,color:m.toRgb(),opacity:y}}function a(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function f(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var u=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var d,p=this;Object.keys(c).forEach(function(g){p[g]=c[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,d={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(d.r1=c.coords.r1||0,d.r2=c.coords.r2||0),this.coords=d,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var d in c){var p=new t.Color(c[d]);this.colorStops.push({offset:parseFloat(d),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(c){var d={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,d,c),d},toSVG:function(c,v){var p=u(this.coords,!0),g,m,v=v||{},y,b,w=u(this.colorStops,!0),S=p.r1>p.r2,_=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),E=-this.offsetX,C=-this.offsetY,P=!!v.additionalTransform,N=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(F,O){return F.offset-O.offset}),N==="objectBoundingBox"?(E/=c.width,C/=c.height):(E+=c.width/2,C+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(E-=c.pathOffset.x,C-=c.pathOffset.y),_[4]-=E,_[5]-=C,b='id="SVGID_'+this.id+'" gradientUnits="'+N+'"',b+=' gradientTransform="'+(P?v.additionalTransform+" ":"")+t.util.matrixToSVG(_)+'" ',this.type==="linear"?y=["<linearGradient ",b,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",b,' cx="',S?p.x1:p.x2,'" cy="',S?p.y1:p.y2,'" r="',S?p.r1:p.r2,'" fx="',S?p.x2:p.x1,'" fy="',S?p.y2:p.y1,`">
`]),this.type==="radial"){if(S)for(w=w.concat(),w.reverse(),g=0,m=w.length;g<m;g++)w[g].offset=1-w[g].offset;var B=Math.min(p.r1,p.r2);if(B>0){var I=Math.max(p.r1,p.r2),V=B/I;for(g=0,m=w.length;g<m;g++)w[g].offset+=V*(1-w[g].offset)}}for(g=0,m=w.length;g<m;g++){var D=w[g];y.push("<stop ",'offset="',D.offset*100+"%",'" style="stop-color:',D.color,typeof D.opacity<"u"?";stop-opacity: "+D.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(c){var d,p=t.util.object.clone(this.coords),g,m;if(this.type){for(this.type==="linear"?d=c.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(d=c.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),g=0,m=this.colorStops.length;g<m;g++){var v=this.colorStops[g].color,y=this.colorStops[g].opacity,b=this.colorStops[g].offset;typeof y<"u"&&(v=new t.Color(v).setAlpha(y).toRgba()),d.addColorStop(b,v)}return d}}}),t.util.object.extend(t.Gradient,{fromElement:function(c,d,p,g){var m=parseFloat(p)/(/%$/.test(p)?100:1);m=m<0?0:m>1?1:m,isNaN(m)&&(m=1);var v=c.getElementsByTagName("stop"),y,b=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=c.getAttribute("gradientTransform")||"",S=[],_,E,C=0,P=0,N;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(y="linear",_=a(c)):(y="radial",_=f(c)),E=v.length;E--;)S.push(l(v[E],m));N=t.parseTransformAttribute(w),s(d,_,g,b),b==="pixels"&&(C=-d.left,P=-d.top);var B=new t.Gradient({id:c.getAttribute("id"),type:y,coords:_,colorStops:S,gradientUnits:b,gradientTransform:N,offsetX:C,offsetY:P});return B}});function s(c,d,p,g){var m,v;Object.keys(d).forEach(function(y){m=d[y],m==="Infinity"?v=1:m==="-Infinity"?v=0:(v=parseFloat(d[y],10),typeof m=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(m)&&(v*=.01,g==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(v*=p.viewBoxWidth||p.width),(y==="y1"||y==="y2")&&(v*=p.viewBoxHeight||p.height)))),d[y]=v})}}(),function(){var l=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,f){if(a||(a={}),this.id=t.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){f&&f(this);return}else{var u=this;this.source=t.util.createImage(),t.util.loadImage(a.source,function(s,c){u.source=s,f&&f(u,c)},null,this.crossOrigin)}},toObject:function(a){var f=t.Object.NUM_FRACTION_DIGITS,u,s;return typeof this.source.src=="string"?u=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(u=this.source.toDataURL()),s={type:"pattern",source:u,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:l(this.offsetX,f),offsetY:l(this.offsetY,f),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,s,a),s},toSVG:function(a){var f=typeof this.source=="function"?this.source():this.source,u=f.width/a.width,s=f.height/a.height,c=this.offsetX/a.width,d=this.offsetY/a.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(s=1,d&&(s+=Math.abs(d))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(u=1,c&&(u+=Math.abs(c))),f.src?p=f.src:f.toDataURL&&(p=f.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+d+'" width="'+u+'" height="'+s+`">
<image x="0" y="0" width="`+f.width+'" height="'+f.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(a){for(var f in a)this[f]=a[f]},toLive:function(a){var f=this.source;return!f||typeof f.src<"u"&&(!f.complete||f.naturalWidth===0||f.naturalHeight===0)?"":a.createPattern(f,this.repeat)}})}(),function(l){var a=l.fabric||(l.fabric={}),f=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(u){typeof u=="string"&&(u=this._parseShadow(u));for(var s in u)this[s]=u[s];this.id=a.Object.__uid++},_parseShadow:function(u){var s=u.trim(),c=a.Shadow.reOffsetsAndBlur.exec(s)||[],d=s.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:d.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(u){var s=40,c=40,d=a.Object.NUM_FRACTION_DIGITS,p=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-u.angle)),g=20,m=new a.Color(this.color);return u.width&&u.height&&(s=f((Math.abs(p.x)+this.blur)/u.width,d)*100+g,c=f((Math.abs(p.y)+this.blur)/u.height,d)*100+g),u.flipX&&(p.x*=-1),u.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+s+'%" width="'+(100+2*s)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,d)+`"></feGaussianBlur>
	<feOffset dx="`+f(p.x,d)+'" dy="'+f(p.y,d)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+m.toRgb()+'" flood-opacity="'+m.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var u={},s=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==s[c]&&(u[c]=this[c])},this),u}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var l=t.util.object.extend,a=t.util.getElementOffset,f=t.util.removeFromArray,u=t.util.toFixed,s=t.util.transformPoint,c=t.util.invertTransform,d=t.util.getNodeCanvas,p=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(m,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(m,v){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(m),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,y),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,y),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,y),v.overlayColor&&this.setOverlayColor(v.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var m=t.devicePixelRatio;this.__initRetinaScaling(m,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(m,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(m,v,y){v.setAttribute("width",this.width*m),v.setAttribute("height",this.height*m),y.scale(m,m)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(m,v,y){return this.__setBgOverlayImage("overlayImage",m,v,y)},setBackgroundImage:function(m,v,y){return this.__setBgOverlayImage("backgroundImage",m,v,y)},setOverlayColor:function(m,v){return this.__setBgOverlayColor("overlayColor",m,v)},setBackgroundColor:function(m,v){return this.__setBgOverlayColor("backgroundColor",m,v)},__setBgOverlayImage:function(m,v,y,b){return typeof v=="string"?t.util.loadImage(v,function(w,S){if(w){var _=new t.Image(w,b);this[m]=_,_.canvas=this}y&&y(w,S)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[m]=v,v&&(v.canvas=this),y&&y(v,!1)),this},__setBgOverlayColor:function(m,v,y){return this[m]=v,this._initGradient(v,m),this._initPattern(v,m,y),this},_createCanvasElement:function(){var m=p();if(!m||(m.style||(m.style={}),typeof m.getContext>"u"))throw g;return m},_initOptions:function(m){var v=this.lowerCanvasEl;this._setOptions(m),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(m){m&&m.getContext?this.lowerCanvasEl=m:this.lowerCanvasEl=t.util.getById(m)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(m,v){return this.setDimensions({width:m},v)},setHeight:function(m,v){return this.setDimensions({height:m},v)},setDimensions:function(m,v){var y;v=v||{};for(var b in m)y=m[b],v.cssOnly||(this._setBackstoreDimension(b,m[b]),y+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(m,v){return this.lowerCanvasEl[m]=v,this.upperCanvasEl&&(this.upperCanvasEl[m]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[m]=v),this[m]=v,this},_setCssDimension:function(m,v){return this.lowerCanvasEl.style[m]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[m]=v),this.wrapperEl&&(this.wrapperEl.style[m]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(m){var v=this._activeObject,y=this.backgroundImage,b=this.overlayImage,w,S,_;for(this.viewportTransform=m,S=0,_=this._objects.length;S<_;S++)w=this._objects[S],w.group||w.setCoords(!0);return v&&v.setCoords(),y&&y.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(m,v){var y=m,b=this.viewportTransform.slice(0);m=s(m,c(this.viewportTransform)),b[0]=v,b[3]=v;var w=s(m,b);return b[4]+=y.x-w.x,b[5]+=y.y-w.y,this.setViewportTransform(b)},setZoom:function(m){return this.zoomToPoint(new t.Point(0,0),m),this},absolutePan:function(m){var v=this.viewportTransform.slice(0);return v[4]=-m.x,v[5]=-m.y,this.setViewportTransform(v)},relativePan:function(m){return this.absolutePan(new t.Point(-m.x-this.viewportTransform[4],-m.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(m){this.stateful&&m.setupState(),m._set("canvas",this),m.setCoords(),this.fire("object:added",{target:m}),m.fire("added")},_onObjectRemoved:function(m){this.fire("object:removed",{target:m}),m.fire("removed"),delete m.canvas},clearContext:function(m){return m.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var m=this.contextContainer;return this.renderCanvas(m,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var m={},v=this.width,y=this.height,b=c(this.viewportTransform);return m.tl=s({x:0,y:0},b),m.br=s({x:v,y},b),m.tr=new t.Point(m.br.x,m.tl.y),m.bl=new t.Point(m.tl.x,m.br.y),this.vptCoords=m,m},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(m,v){var y=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(m),t.util.setImageSmoothing(m,this.imageSmoothingEnabled),this.fire("before:render",{ctx:m}),this._renderBackground(m),m.save(),m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(m,v),m.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(m)),this._renderOverlay(m),this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),this.fire("after:render",{ctx:m})},drawClipPathOnCanvas:function(m){var v=this.viewportTransform,y=this.clipPath;m.save(),m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),m.globalCompositeOperation="destination-in",y.transform(m),m.scale(1/y.zoomX,1/y.zoomY),m.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),m.restore()},_renderObjects:function(m,v){var y,b;for(y=0,b=v.length;y<b;++y)v[y]&&v[y].render(m)},_renderBackgroundOrOverlay:function(m,v){var y=this[v+"Color"],b=this[v+"Image"],w=this.viewportTransform,S=this[v+"Vpt"];if(!(!y&&!b)){if(y){m.save(),m.beginPath(),m.moveTo(0,0),m.lineTo(this.width,0),m.lineTo(this.width,this.height),m.lineTo(0,this.height),m.closePath(),m.fillStyle=y.toLive?y.toLive(m,this):y,S&&m.transform(w[0],w[1],w[2],w[3],w[4],w[5]),m.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var _=y.gradientTransform||y.patternTransform;_&&m.transform(_[0],_[1],_[2],_[3],_[4],_[5]),m.fill(),m.restore()}b&&(m.save(),S&&m.transform(w[0],w[1],w[2],w[3],w[4],w[5]),b.render(m),m.restore())}},_renderBackground:function(m){this._renderBackgroundOrOverlay(m,"background")},_renderOverlay:function(m){this._renderBackgroundOrOverlay(m,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(m){return this._centerObject(m,new t.Point(this.getCenterPoint().x,m.getCenterPoint().y))},centerObjectV:function(m){return this._centerObject(m,new t.Point(m.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(m){var v=this.getCenterPoint();return this._centerObject(m,v)},viewportCenterObject:function(m){var v=this.getVpCenter();return this._centerObject(m,v)},viewportCenterObjectH:function(m){var v=this.getVpCenter();return this._centerObject(m,new t.Point(v.x,m.getCenterPoint().y)),this},viewportCenterObjectV:function(m){var v=this.getVpCenter();return this._centerObject(m,new t.Point(m.getCenterPoint().x,v.y))},getVpCenter:function(){var m=this.getCenterPoint(),v=c(this.viewportTransform);return s(m,v)},_centerObject:function(m,v){return m.setPositionByOrigin(v,"center","center"),m.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(m){return this.toDatalessObject(m)},toObject:function(m){return this._toObjectMethod("toObject",m)},toDatalessObject:function(m){return this._toObjectMethod("toDatalessObject",m)},_toObjectMethod:function(m,v){var y=this.clipPath,b={version:t.version,objects:this._toObjects(m,v)};return y&&!y.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,m,v)),l(b,this.__serializeBgOverlay(m,v)),t.util.populateWithProperties(this,b,v),b},_toObjects:function(m,v){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,m,v)},this)},_toObject:function(m,v,y){var b;this.includeDefaultValues||(b=m.includeDefaultValues,m.includeDefaultValues=!1);var w=m[v](y);return this.includeDefaultValues||(m.includeDefaultValues=b),w},__serializeBgOverlay:function(m,v){var y={},b=this.backgroundImage,w=this.overlayImage,S=this.backgroundColor,_=this.overlayColor;return S&&S.toObject?S.excludeFromExport||(y.background=S.toObject(v)):S&&(y.background=S),_&&_.toObject?_.excludeFromExport||(y.overlay=_.toObject(v)):_&&(y.overlay=_),b&&!b.excludeFromExport&&(y.backgroundImage=this._toObject(b,m,v)),w&&!w.excludeFromExport&&(y.overlayImage=this._toObject(w,m,v)),y},svgViewportTransformation:!0,toSVG:function(m,v){m||(m={}),m.reviver=v;var y=[];return this._setSVGPreamble(y,m),this._setSVGHeader(y,m),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",v),this._setSVGObjects(y,v),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",v),y.push("</svg>"),y.join("")},_setSVGPreamble:function(m,v){v.suppressPreamble||m.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(m,v){var y=v.width||this.width,b=v.height||this.height,w,S='viewBox="0 0 '+this.width+" "+this.height+'" ',_=t.Object.NUM_FRACTION_DIGITS;v.viewBox?S='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,S='viewBox="'+u(-w[4]/w[0],_)+" "+u(-w[5]/w[3],_)+" "+u(this.width/w[0],_)+" "+u(this.height/w[3],_)+'" '),m.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',b,'" ',S,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(m){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(m.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var m=this,v=["background","overlay"].map(function(y){var b=m[y+"Color"];if(b&&b.toLive){var w=m[y+"Vpt"],S=m.viewportTransform,_={width:m.width/(w?S[0]:1),height:m.height/(w?S[3]:1)};return b.toSVG(_,{additionalTransform:w?t.util.matrixToSVG(S):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var m="",v={},y,b,w,S,_,E,C,P,N,B=t.fontPaths,I=[];for(this._objects.forEach(function D(F){I.push(F),F._objects&&F._objects.forEach(D)}),P=0,N=I.length;P<N;P++)if(y=I[P],b=y.fontFamily,!(y.type.indexOf("text")===-1||v[b]||!B[b])&&(v[b]=!0,!!y.styles)){w=y.styles;for(_ in w){S=w[_];for(C in S)E=S[C],b=E.fontFamily,!v[b]&&B[b]&&(v[b]=!0)}}for(var V in v)m+=[`		@font-face {
`,"			font-family: '",V,`';
`,"			src: url('",B[V],`');
`,`		}
`].join("");return m&&(m=['	<style type="text/css">',`<![CDATA[
`,m,"]]>",`</style>
`].join("")),m},_setSVGObjects:function(m,v){var y,b,w,S=this._objects;for(b=0,w=S.length;b<w;b++)y=S[b],!y.excludeFromExport&&this._setSVGObject(m,y,v)},_setSVGObject:function(m,v,y){m.push(v.toSVG(y))},_setSVGBgOverlayImage:function(m,v,y){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&m.push(this[v].toSVG(y))},_setSVGBgOverlayColor:function(m,v){var y=this[v+"Color"],b=this.viewportTransform,w=this.width,S=this.height;if(y)if(y.toLive){var _=y.repeat,E=t.util.invertTransform(b),C=this[v+"Vpt"],P=C?t.util.matrixToSVG(E):"";m.push('<rect transform="'+P+" translate(",w/2,",",S/2,')"',' x="',y.offsetX-w/2,'" y="',y.offsetY-S/2,'" ','width="',_==="repeat-y"||_==="no-repeat"?y.source.width:w,'" height="',_==="repeat-x"||_==="no-repeat"?y.source.height:S,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else m.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(m){if(!m)return this;var v=this._activeObject,y,b,w;if(m===v&&m.type==="activeSelection")for(w=v._objects,y=w.length;y--;)b=w[y],f(this._objects,b),this._objects.unshift(b);else f(this._objects,m),this._objects.unshift(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(m){if(!m)return this;var v=this._activeObject,y,b,w;if(m===v&&m.type==="activeSelection")for(w=v._objects,y=0;y<w.length;y++)b=w[y],f(this._objects,b),this._objects.push(b);else f(this._objects,m),this._objects.push(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(m,v){if(!m)return this;var y=this._activeObject,b,w,S,_,E,C=0;if(m===y&&m.type==="activeSelection")for(E=y._objects,b=0;b<E.length;b++)w=E[b],S=this._objects.indexOf(w),S>0+C&&(_=S-1,f(this._objects,w),this._objects.splice(_,0,w)),C++;else S=this._objects.indexOf(m),S!==0&&(_=this._findNewLowerIndex(m,S,v),f(this._objects,m),this._objects.splice(_,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(m,v,y){var b,w;if(y)for(b=v,w=v-1;w>=0;--w){var S=m.intersectsWithObject(this._objects[w])||m.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(m);if(S){b=w;break}}else b=v-1;return b},bringForward:function(m,v){if(!m)return this;var y=this._activeObject,b,w,S,_,E,C=0;if(m===y&&m.type==="activeSelection")for(E=y._objects,b=E.length;b--;)w=E[b],S=this._objects.indexOf(w),S<this._objects.length-1-C&&(_=S+1,f(this._objects,w),this._objects.splice(_,0,w)),C++;else S=this._objects.indexOf(m),S!==this._objects.length-1&&(_=this._findNewUpperIndex(m,S,v),f(this._objects,m),this._objects.splice(_,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(m,v,y){var b,w,S;if(y)for(b=v,w=v+1,S=this._objects.length;w<S;++w){var _=m.intersectsWithObject(this._objects[w])||m.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(m);if(_){b=w;break}}else b=v+1;return b},moveTo:function(m,v){return f(this._objects,m),this._objects.splice(v,0,m),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),l(t.StaticCanvas.prototype,t.Observable),l(t.StaticCanvas.prototype,t.Collection),l(t.StaticCanvas.prototype,t.DataURLExporter),l(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(m){var v=p();if(!v||!v.getContext)return null;var y=v.getContext("2d");if(!y)return null;switch(m){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var m=d(this.lowerCanvasEl);return m&&m.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(m){var v=d(this.lowerCanvasEl);return v&&v.createJPEGStream(m)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(l){l.strokeStyle=this.color,l.lineWidth=this.width,l.lineCap=this.strokeLineCap,l.miterLimit=this.strokeMiterLimit,l.lineJoin=this.strokeLineJoin,l.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(l){var a=this.canvas.viewportTransform;l.save(),l.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var l=this.canvas,a=this.shadow,f=l.contextTop,u=l.getZoom();l&&l._isRetinaScaling()&&(u*=t.devicePixelRatio),f.shadowColor=a.color,f.shadowBlur=a.blur*u,f.shadowOffsetX=a.offsetX*u,f.shadowOffsetY=a.offsetY*u}},needsFullRender:function(){var l=new t.Color(this.color);return l.getAlpha()<1||!!this.shadow},_resetShadow:function(){var l=this.canvas.contextTop;l.shadowColor="",l.shadowBlur=l.shadowOffsetX=l.shadowOffsetY=0},_isOutSideCanvas:function(l){return l.x<0||l.x>this.canvas.getWidth()||l.y<0||l.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(l){this.canvas=l,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(l,a,f){var u=a.midPointFrom(f);return l.quadraticCurveTo(a.x,a.y,u.x,u.y),u},onMouseDown:function(l,a){this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],this._prepareForDrawing(l),this._captureDrawingPath(l),this._render())},onMouseMove:function(l,a){if(this.canvas._isMainEvent(a.e)&&(this.drawStraightLine=a.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l))&&this._captureDrawingPath(l)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var f=this._points,u=f.length,s=this.canvas.contextTop;this._saveAndTransform(s),this.oldEnd&&(s.beginPath(),s.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(s,f[u-2],f[u-1],!0),s.stroke(),s.restore()}},onMouseUp:function(l){return this.canvas._isMainEvent(l.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(l){var a=new t.Point(l.x,l.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(l){return this._points.length>1&&l.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(l),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(l){var a=new t.Point(l.x,l.y);return this._addPoint(a)},_render:function(l){var a,f,u=this._points[0],s=this._points[1];if(l=l||this.canvas.contextTop,this._saveAndTransform(l),l.beginPath(),this._points.length===2&&u.x===s.x&&u.y===s.y){var c=this.width/1e3;u=new t.Point(u.x,u.y),s=new t.Point(s.x,s.y),u.x-=c,s.x+=c}for(l.moveTo(u.x,u.y),a=1,f=this._points.length;a<f;a++)this._drawSegment(l,u,s),u=this._points[a],s=this._points[a+1];l.lineTo(u.x,u.y),l.stroke(),l.restore()},convertPointsToSVGPath:function(l){var a=this.width/1e3;return t.util.getSmoothPathFromPoints(l,a)},_isEmptySVGPath:function(l){var a=t.util.joinPath(l);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(l){var a=new t.Path(l,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new t.Shadow(this.shadow)),a},decimatePoints:function(l,a){if(l.length<=2)return l;var f=this.canvas.getZoom(),u=Math.pow(a/f,2),s,c=l.length-1,d=l[0],p=[d],g;for(s=1;s<c-1;s++)g=Math.pow(d.x-l[s].x,2)+Math.pow(d.y-l[s].y,2),g>=u&&(d=l[s],p.push(d));return p.push(l[c]),p},_finalizeAndAddPath:function(){var l=this.canvas.contextTop;l.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var f=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.requestRenderAll(),f.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:f})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(l){this.canvas=l,this.points=[]},drawDot:function(l){var a=this.addPoint(l),f=this.canvas.contextTop;this._saveAndTransform(f),this.dot(f,a),f.restore()},dot:function(l,a){l.fillStyle=a.fill,l.beginPath(),l.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),l.closePath(),l.fill()},onMouseDown:function(l){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(l)},_render:function(){var l=this.canvas.contextTop,a,f,u=this.points;for(this._saveAndTransform(l),a=0,f=u.length;a<f;a++)this.dot(l,u[a]);l.restore()},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(l),this._render()):this.drawDot(l))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove,a,f;this.canvas.renderOnAddRemove=!1;var u=[];for(a=0,f=this.points.length;a<f;a++){var s=this.points[a],c=new t.Circle({radius:s.radius,left:s.x,top:s.y,originX:"center",originY:"center",fill:s.fill});this.shadow&&(c.shadow=new t.Shadow(this.shadow)),u.push(c)}var d=new t.Group(u);d.canvas=this.canvas,this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},addPoint:function(l){var a=new t.Point(l.x,l.y),f=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,u=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return a.radius=f,a.fill=u,this.points.push(a),a}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(l){this.canvas=l,this.sprayChunks=[]},onMouseDown:function(l){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(l),this.render(this.sprayChunkPoints)},onMouseMove:function(l){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(l)||(this.addSprayChunk(l),this.render(this.sprayChunkPoints))},onMouseUp:function(){var l=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],f=0,u=this.sprayChunks.length;f<u;f++)for(var s=this.sprayChunks[f],c=0,d=s.length;c<d;c++){var p=new t.Rect({width:s[c].width,height:s[c].width,left:s[c].x+1,top:s[c].y+1,originX:"center",originY:"center",fill:this.color});a.push(p)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var g=new t.Group(a);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=l,this.canvas.requestRenderAll()},_getOptimizedRects:function(l){var a={},f,u,s;for(u=0,s=l.length;u<s;u++)f=l[u].left+""+l[u].top,a[f]||(a[f]=l[u]);var c=[];for(f in a)c.push(a[f]);return c},render:function(l){var a=this.canvas.contextTop,f,u;for(a.fillStyle=this.color,this._saveAndTransform(a),f=0,u=l.length;f<u;f++){var s=l[f];typeof s.opacity<"u"&&(a.globalAlpha=s.opacity),a.fillRect(s.x,s.y,s.width,s.width)}a.restore()},_render:function(){var l=this.canvas.contextTop,a,f;for(l.fillStyle=this.color,this._saveAndTransform(l),a=0,f=this.sprayChunks.length;a<f;a++)this.render(this.sprayChunks[a]);l.restore()},addSprayChunk:function(l){this.sprayChunkPoints=[];var a,f,u,s=this.width/2,c;for(c=0;c<this.density;c++){a=t.util.getRandomInt(l.x-s,l.x+s),f=t.util.getRandomInt(l.y-s,l.y+s),this.dotWidthVariance?u=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):u=this.dotWidth;var d=new t.Point(a,f);d.width=u,this.randomOpacity&&(d.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(d)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var l=20,a=5,f=t.util.createCanvasElement(),u=f.getContext("2d");return f.width=f.height=l+a,u.fillStyle=this.color,u.beginPath(),u.arc(l/2,l/2,l/2,0,Math.PI*2,!1),u.closePath(),u.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(l){return l.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(l){this.callSuper("_setBrushStyles",l),l.strokeStyle=this.getPattern(l)},createPath:function(l){var a=this.callSuper("createPath",l),f=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-f.x,offsetY:-f.y}),a}}),function(){var l=t.util.getPointer,a=t.util.degreesToRadians,f=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(s,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(s,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var s=this.getActiveObjects(),c,d,p;if(s.length>0&&!this.preserveObjectStacking){d=[],p=[];for(var g=0,m=this._objects.length;g<m;g++)c=this._objects[g],s.indexOf(c)===-1?d.push(c):p.push(c);s.length>1&&(this._activeObject._objects=p),d.push.apply(d,p)}else d=this._objects;return d},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var s=this.contextContainer;return this.renderCanvas(s,this._chooseObjectsToRender()),this},renderTopLayer:function(s){s.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(s),this.contextTopDirty=!0),s.restore()},renderTop:function(){var s=this.contextTop;return this.clearContext(s),this.renderTopLayer(s),this.fire("after:render"),this},_normalizePointer:function(s,c){var d=s.calcTransformMatrix(),p=t.util.invertTransform(d),g=this.restorePointerVpt(c);return t.util.transformPoint(g,p)},isTargetTransparent:function(s,c,d){if(s.shouldCache()&&s._cacheCanvas&&s!==this._activeObject){var p=this._normalizePointer(s,{x:c,y:d}),g=Math.max(s.cacheTranslationX+p.x*s.zoomX,0),m=Math.max(s.cacheTranslationY+p.y*s.zoomY,0),w=t.util.isTransparent(s._cacheContext,Math.round(g),Math.round(m),this.targetFindTolerance);return w}var v=this.contextCache,y=s.selectionBackgroundColor,b=this.viewportTransform;s.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),s.render(v),v.restore(),s.selectionBackgroundColor=y;var w=t.util.isTransparent(v,c,d,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(s){var c=!1;return Array.isArray(this.selectionKey)?c=!!this.selectionKey.find(function(d){return s[d]===!0}):c=s[this.selectionKey],c},_shouldClearSelection:function(s,c){var d=this.getActiveObjects(),p=this._activeObject;return!c||c&&p&&d.length>1&&d.indexOf(c)===-1&&p!==c&&!this._isSelectionKeyPressed(s)||c&&!c.evented||c&&!c.selectable&&p&&p!==c},_shouldCenterTransform:function(s,c,d){if(s){var p;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?p=this.centeredScaling||s.centeredScaling:c==="rotate"&&(p=this.centeredRotation||s.centeredRotation),p?!d:d}},_getOriginFromCorner:function(s,c){var d={x:s.originX,y:s.originY};return c==="ml"||c==="tl"||c==="bl"?d.x="right":(c==="mr"||c==="tr"||c==="br")&&(d.x="left"),c==="tl"||c==="mt"||c==="tr"?d.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(d.y="top"),d},_getActionFromCorner:function(s,c,d,p){if(!c||!s)return"drag";var g=p.controls[c];return g.getActionName(d,g,p)},_setupCurrentTransform:function(s,c,d){if(c){var p=this.getPointer(s),g=c.__corner,m=c.controls[g],v=d&&g?m.getActionHandler(s,c,m):t.controlsUtils.dragHandler,y=this._getActionFromCorner(d,g,s,c),b=this._getOriginFromCorner(c,g),w=s[this.centeredKey],S={target:c,action:y,actionHandler:v,corner:g,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:p.x-c.left,offsetY:p.y-c.top,originX:b.x,originY:b.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:a(c.angle),width:c.width*c.scaleX,shiftKey:s.shiftKey,altKey:w,original:t.util.saveObjectTransform(c)};this._shouldCenterTransform(c,y,w)&&(S.originX="center",S.originY="center"),S.original.originX=b.x,S.original.originY=b.y,this._currentTransform=S,this._beforeTransform(s)}},setCursor:function(s){this.upperCanvasEl.style.cursor=s},_drawSelection:function(s){var c=this._groupSelector,d=new t.Point(c.ex,c.ey),p=t.util.transformPoint(d,this.viewportTransform),g=new t.Point(c.ex+c.left,c.ey+c.top),m=t.util.transformPoint(g,this.viewportTransform),v=Math.min(p.x,m.x),y=Math.min(p.y,m.y),b=Math.max(p.x,m.x),w=Math.max(p.y,m.y),S=this.selectionLineWidth/2;this.selectionColor&&(s.fillStyle=this.selectionColor,s.fillRect(v,y,b-v,w-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(s.lineWidth=this.selectionLineWidth,s.strokeStyle=this.selectionBorderColor,v+=S,y+=S,b-=S,w-=S,t.Object.prototype._setLineDash.call(this,s,this.selectionDashArray),s.strokeRect(v,y,b-v,w-y))},findTarget:function(s,c){if(!this.skipTargetFind){var d=!0,p=this.getPointer(s,d),g=this._activeObject,m=this.getActiveObjects(),v,y,b=f(s),w=m.length>1&&!c||m.length===1;if(this.targets=[],w&&g._findTargetCorner(p,b)||m.length>1&&!c&&g===this._searchPossibleTargets([g],p))return g;if(m.length===1&&g===this._searchPossibleTargets([g],p))if(this.preserveObjectStacking)v=g,y=this.targets,this.targets=[];else return g;var S=this._searchPossibleTargets(this._objects,p);return s[this.altSelectionKey]&&S&&v&&S!==v&&(S=v,this.targets=y),S}},_checkTarget:function(s,c,d){if(c&&c.visible&&c.evented&&c.containsPoint(s))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var p=this.isTargetTransparent(c,d.x,d.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(s,c){for(var d,p=s.length,g;p--;){var m=s[p],v=m.group?this._normalizePointer(m.group,c):c;if(this._checkTarget(v,m,c)){d=s[p],d.subTargetCheck&&d instanceof t.Group&&(g=this._searchPossibleTargets(d._objects,c),g&&this.targets.push(g));break}}return d},restorePointerVpt:function(s){return t.util.transformPoint(s,t.util.invertTransform(this.viewportTransform))},getPointer:function(s,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var d=l(s),p=this.upperCanvasEl,g=p.getBoundingClientRect(),m=g.width||0,v=g.height||0,y;(!m||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(m=Math.abs(g.right-g.left))),this.calcOffset(),d.x=d.x-this._offset.left,d.y=d.y-this._offset.top,c||(d=this.restorePointerVpt(d));var b=this.getRetinaScaling();return b!==1&&(d.x/=b,d.y/=b),m===0||v===0?y={width:1,height:1}:y={width:p.width/m,height:p.height/v},{x:d.x*y.width,y:d.y*y.height}},_createUpperCanvas:function(){var s=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,d=this.upperCanvasEl;d?d.className="":(d=this._createCanvasElement(),this.upperCanvasEl=d),t.util.addClass(d,"upper-canvas "+s),this.wrapperEl.appendChild(d),this._copyCanvasStyle(c,d),this._applyCanvasStyle(d),this.contextTop=d.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(s){var c=this.width||s.width,d=this.height||s.height;t.util.setStyle(s,{position:"absolute",width:c+"px",height:d+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),s.width=c,s.height=d,t.util.makeElementUnselectable(s)},_copyCanvasStyle:function(s,c){c.style.cssText=s.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var s=this._activeObject;return s?s.type==="activeSelection"&&s._objects?s._objects.slice(0):[s]:[]},_onObjectRemoved:function(s){s===this._activeObject&&(this.fire("before:selection:cleared",{target:s}),this._discardActiveObject(),this.fire("selection:cleared",{target:s}),s.fire("deselected")),s===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",s)},_fireSelectionEvents:function(s,c){var d=!1,p=this.getActiveObjects(),g=[],m=[];s.forEach(function(v){p.indexOf(v)===-1&&(d=!0,v.fire("deselected",{e:c,target:v}),m.push(v))}),p.forEach(function(v){s.indexOf(v)===-1&&(d=!0,v.fire("selected",{e:c,target:v}),g.push(v))}),s.length>0&&p.length>0?d&&this.fire("selection:updated",{e:c,selected:g,deselected:m}):p.length>0?this.fire("selection:created",{e:c,selected:g}):s.length>0&&this.fire("selection:cleared",{e:c,deselected:m})},setActiveObject:function(s,c){var d=this.getActiveObjects();return this._setActiveObject(s,c),this._fireSelectionEvents(d,c),this},_setActiveObject:function(s,c){return this._activeObject===s||!this._discardActiveObject(c,s)||s.onSelect({e:c})?!1:(this._activeObject=s,!0)},_discardActiveObject:function(s,c){var d=this._activeObject;if(d){if(d.onDeselect({e:s,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(s){var c=this.getActiveObjects(),d=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:d,e:s}),this._discardActiveObject(s),this._fireSelectionEvents(c,s),this},dispose:function(){var s=this.wrapperEl;return this.removeListeners(),s.removeChild(this.upperCanvasEl),s.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),s.parentNode&&s.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(s){var c=this._activeObject;c&&c._renderControls(s)},_toObject:function(s,c,d){var p=this._realizeGroupTransformOnObject(s),g=this.callSuper("_toObject",s,c,d);return this._unwindGroupTransformOnObject(s,p),g},_realizeGroupTransformOnObject:function(s){if(s.group&&s.group.type==="activeSelection"&&this._activeObject===s.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],d={};return c.forEach(function(p){d[p]=s[p]}),t.util.addTransformToObject(s,this._activeObject.calcOwnMatrix()),d}else return null},_unwindGroupTransformOnObject:function(s,c){c&&s.set(c)},_setSVGObject:function(s,c,d){var p=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",s,c,d),this._unwindGroupTransformOnObject(c,p)},setViewportTransform:function(s){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,s)}});for(var u in t.StaticCanvas)u!=="prototype"&&(t.Canvas[u]=t.StaticCanvas[u])}(),function(){var l=t.util.addListener,a=t.util.removeListener,f=3,u=2,s=1,c={passive:!1};function d(p,g){return p.button&&p.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(l,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,g){var m=this.upperCanvasEl,v=this._getEventPrefix();p(t.window,"resize",this._onResize),p(m,v+"down",this._onMouseDown),p(m,v+"move",this._onMouseMove,c),p(m,v+"out",this._onMouseOut),p(m,v+"enter",this._onMouseEnter),p(m,"wheel",this._onMouseWheel),p(m,"contextmenu",this._onContextMenu),p(m,"dblclick",this._onDoubleClick),p(m,"dragover",this._onDragOver),p(m,"dragenter",this._onDragEnter),p(m,"dragleave",this._onDragLeave),p(m,"drop",this._onDrop),this.enablePointerEvents||p(m,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](m,"gesture",this._onGesture),eventjs[g](m,"drag",this._onDrag),eventjs[g](m,"orientation",this._onOrientationChange),eventjs[g](m,"shake",this._onShake),eventjs[g](m,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var p=this._getEventPrefix();a(t.document,p+"up",this._onMouseUp),a(t.document,"touchend",this._onTouchEnd,c),a(t.document,p+"move",this._onMouseMove,c),a(t.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,g){this.__onTransformGesture&&this.__onTransformGesture(p,g)},_onDrag:function(p,g){this.__onDrag&&this.__onDrag(p,g)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:p}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:p});var m=this;this._hoveredTargets.forEach(function(v){m.fire("mouse:out",{target:g,e:p}),v&&g.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,g){this.__onOrientationChange&&this.__onOrientationChange(p,g)},_onShake:function(p,g){this.__onShake&&this.__onShake(p,g)},_onLongPress:function(p,g){this.__onLongPress&&this.__onLongPress(p,g)},_onDragOver:function(p){p.preventDefault();var g=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(g,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var g=p.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();l(t.document,"touchend",this._onTouchEnd,c),l(t.document,"touchmove",this._onMouseMove,c),a(g,m+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();a(g,m+"move",this._onMouseMove,c),l(t.document,m+"up",this._onMouseUp),l(t.document,m+"move",this._onMouseMove,c)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,c),a(t.document,"touchmove",this._onMouseMove,c);var m=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){l(m.upperCanvasEl,g+"down",m._onMouseDown),m._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();this._isMainEvent(p)&&(a(t.document,m+"up",this._onMouseUp),a(t.document,m+"move",this._onMouseMove,c),l(g,m+"move",this._onMouseMove,c))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var g=this._activeObject;return!!g!=!!p||g&&p&&g!==p?!0:(g&&g.isEditing,!1)},__onMouseUp:function(p){var g,m=this._currentTransform,v=this._groupSelector,y=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(p),g=this._target,this._handleEvent(p,"up:before"),d(p,f)){this.fireRightClick&&this._handleEvent(p,"up",f,b);return}if(d(p,u)){this.fireMiddleClick&&this._handleEvent(p,"up",u,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(m&&(this._finalizeCurrentTransform(p),y=m.actionPerformed),!b){var w=g===this._activeObject;this._maybeGroupObjects(p),y||(y=this._shouldRender(g)||!w&&g===this._activeObject)}var S,_;if(g){if(S=g._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,p),y=!0;else{var E=g.controls[S],C=E&&E.getMouseUpHandler(p,g,E);C&&(_=this.getPointer(p),C(p,m,_.x,_.y))}g.isMoving=!1}if(m&&(m.target!==g||m.corner!==S)){var P=m.target&&m.target.controls[m.corner],N=P&&P.getMouseUpHandler(p,g,E);_=_||this.getPointer(p),N&&N(p,m,_.x,_.y)}this._setCursorFromEvent(p,g),this._handleEvent(p,"up",s,b),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),y?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(p,g){var m=this.findTarget(g),v=this.targets,y={e:g,target:m,subTargets:v};if(this.fire(p,y),m&&m.fire(p,y),!v)return m;for(var b=0;b<v.length;b++)v[b].fire(p,y);return m},_handleEvent:function(p,g,m,v){var y=this._target,b=this.targets||[],w={e:p,target:y,subTargets:b,button:m||s,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(w.currentTarget=this.findTarget(p),w.currentSubTargets=this.targets),this.fire("mouse:"+g,w),y&&y.fire("mouse"+g,w);for(var S=0;S<b.length;S++)b[S].fire("mouse"+g,w)},_finalizeCurrentTransform:function(p){var g=this._currentTransform,m=g.target,v={e:p,target:m,transform:g,action:g.action};m._scaling&&(m._scaling=!1),m.setCoords(),(g.actionPerformed||this.stateful&&m.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var g=this.getPointer(p);this.freeDrawingBrush.onMouseDown(g,{e:p,pointer:g}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var g=this.getPointer(p);this.freeDrawingBrush.onMouseMove(g,{e:p,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var g=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:g}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var g=this._target;if(d(p,f)){this.fireRightClick&&this._handleEvent(p,"down",f);return}if(d(p,u)){this.fireMiddleClick&&this._handleEvent(p,"down",u);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var m=this._pointer;this._previousPointer=m;var v=this._shouldRender(g),y=this._shouldGroup(p,g);if(this._shouldClearSelection(p,g)?this.discardActiveObject(p):y&&(this._handleGrouping(p,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var b=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,p);var w=g._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p));if(g.__corner=w,g===this._activeObject&&(w||!y)){this._setupCurrentTransform(p,g,b);var S=g.controls[w],m=this.getPointer(p),_=S&&S.getMouseDownHandler(p,g,S);_&&_(p,this._currentTransform,m.x,m.y)}}this._handleEvent(p,"down"),(v||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:p,transform:g})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var g,m;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var v=this._groupSelector;v?(m=this._absolutePointer,v.left=m.x-v.ex,v.top=m.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(g=this.findTarget(p)||null,this._setCursorFromEvent(p,g),this._fireOverOutEvents(g,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,g){var m=this._hoveredTarget,v=this._hoveredTargets,y=this.targets,b=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:m,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(y[w],g,{oldTarget:v[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,g){var m=this._draggedoverTarget,v=this._hoveredTargets,y=this.targets,b=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:m,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(y[w],g,{oldTarget:v[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,g,m){var v,y,b=m.oldTarget,w,S,_=b!==p,E=m.canvasEvtIn,C=m.canvasEvtOut;_&&(v={e:g,target:p,previousTarget:b},y={e:g,target:b,nextTarget:p}),S=p&&_,w=b&&_,w&&(C&&this.fire(C,y),b.fire(m.evtOut,y)),S&&(E&&this.fire(E,v),p.fire(m.evtIn,v))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var g=this.getPointer(p),m=this._currentTransform;m.reset=!1,m.shiftKey=p.shiftKey,m.altKey=p[this.centeredKey],this._performTransformAction(p,m,g),m.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,g,m){var v=m.x,y=m.y,b=g.action,w=!1,S=g.actionHandler;S&&(w=S(p,g,v,y)),b==="drag"&&w&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||w},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(p,g){if(!g)return this.setCursor(this.defaultCursor),!1;var m=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(p,!0));y?this.setCursor(this.getCornerCursor(y,g,p)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(b){m=b.hoverCursor||m}),this.setCursor(m))},getCornerCursor:function(p,g,m){var v=g.controls[p];return v.cursorStyleHandler(m,v,g)}})}(),function(){var l=Math.min,a=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(f,u){var s=this._activeObject;return s&&this._isSelectionKeyPressed(f)&&u&&u.selectable&&this.selection&&(s!==u||s.type==="activeSelection")&&!u.onSelect({e:f})},_handleGrouping:function(f,u){var s=this._activeObject;s.__corner||u===s&&(u=this.findTarget(f,!0),!u||!u.selectable)||(s&&s.type==="activeSelection"?this._updateActiveSelection(u,f):this._createActiveSelection(u,f))},_updateActiveSelection:function(f,u){var s=this._activeObject,c=s._objects.slice(0);s.contains(f)?(s.removeWithUpdate(f),this._hoveredTarget=f,this._hoveredTargets=this.targets.concat(),s.size()===1&&this._setActiveObject(s.item(0),u)):(s.addWithUpdate(f),this._hoveredTarget=s,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,u)},_createActiveSelection:function(f,u){var s=this.getActiveObjects(),c=this._createGroup(f);this._hoveredTarget=c,this._setActiveObject(c,u),this._fireSelectionEvents(s,u)},_createGroup:function(f){var u=this._objects,s=u.indexOf(this._activeObject)<u.indexOf(f),c=s?[this._activeObject,f]:[f,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(f){var u=this._collectObjects(f),s;u.length===1?this.setActiveObject(u[0],f):u.length>1&&(s=new t.ActiveSelection(u.reverse(),{canvas:this}),this.setActiveObject(s,f))},_collectObjects:function(f){for(var u=[],s,c=this._groupSelector.ex,d=this._groupSelector.ey,p=c+this._groupSelector.left,g=d+this._groupSelector.top,m=new t.Point(l(c,p),l(d,g)),v=new t.Point(a(c,p),a(d,g)),y=!this.selectionFullyContained,b=c===p&&d===g,w=this._objects.length;w--&&(s=this._objects[w],!(!(!s||!s.selectable||!s.visible)&&(y&&s.intersectsWithRect(m,v,!0)||s.isContainedWithinRect(m,v,!0)||y&&s.containsPoint(m,null,!0)||y&&s.containsPoint(v,null,!0))&&(u.push(s),b))););return u.length>1&&(u=u.filter(function(S){return!S.onSelect({e:f})})),u},_maybeGroupObjects:function(f){this.selection&&this._groupSelector&&this._groupSelectedObjects(f),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(l){l||(l={});var a=l.format||"png",f=l.quality||1,u=(l.multiplier||1)*(l.enableRetinaScaling?this.getRetinaScaling():1),s=this.toCanvasElement(u,l);return t.util.toDataURL(s,a,f)},toCanvasElement:function(l,a){l=l||1,a=a||{};var f=(a.width||this.width)*l,u=(a.height||this.height)*l,s=this.getZoom(),c=this.width,d=this.height,p=s*l,g=this.viewportTransform,m=(g[4]-(a.left||0))*l,v=(g[5]-(a.top||0))*l,y=this.interactive,b=[p,0,0,p,m,v],w=this.enableRetinaScaling,S=t.util.createCanvasElement(),_=this.contextTop;return S.width=f,S.height=u,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=f,this.height=u,this.calcViewportBoundaries(),this.renderCanvas(S.getContext("2d"),this._objects),this.viewportTransform=g,this.width=c,this.height=d,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=w,this.contextTop=_,S}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(l,a,f){if(l){var u=typeof l=="string"?JSON.parse(l):t.util.object.clone(l),s=this,c=u.clipPath,d=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete u.clipPath,this._enlivenObjects(u.objects,function(p){s.clear(),s._setBgOverlay(u,function(){c?s._enlivenObjects([c],function(g){s.clipPath=g[0],s.__setupCanvas.call(s,u,p,d,a)}):s.__setupCanvas.call(s,u,p,d,a)})},f),this}},__setupCanvas:function(l,a,f,u){var s=this;a.forEach(function(c,d){s.insertAt(c,d)}),this.renderOnAddRemove=f,delete l.objects,delete l.backgroundImage,delete l.overlayImage,delete l.background,delete l.overlay,this._setOptions(l),this.renderAll(),u&&u()},_setBgOverlay:function(l,a){var f={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!l.backgroundImage&&!l.overlayImage&&!l.background&&!l.overlay){a&&a();return}var u=function(){f.backgroundImage&&f.overlayImage&&f.backgroundColor&&f.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",l.backgroundImage,f,u),this.__setBgOverlay("overlayImage",l.overlayImage,f,u),this.__setBgOverlay("backgroundColor",l.background,f,u),this.__setBgOverlay("overlayColor",l.overlay,f,u)},__setBgOverlay:function(l,a,f,u){var s=this;if(!a){f[l]=!0,u&&u();return}l==="backgroundImage"||l==="overlayImage"?t.util.enlivenObjects([a],function(c){s[l]=c[0],f[l]=!0,u&&u()}):this["set"+t.util.string.capitalize(l,!0)](a,function(){f[l]=!0,u&&u()})},_enlivenObjects:function(l,a,f){if(!l||l.length===0){a&&a([]);return}t.util.enlivenObjects(l,function(u){a&&a(u)},null,f)},_toDataURL:function(l,a){this.clone(function(f){a(f.toDataURL(l))})},_toDataURLWithMultiplier:function(l,a,f){this.clone(function(u){f(u.toDataURLWithMultiplier(l,a))})},clone:function(l,a){var f=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(u){u.loadFromJSON(f,function(){l&&l(u)})})},cloneWithoutData:function(l){var a=t.util.createCanvasElement();a.width=this.width,a.height=this.height;var f=new t.Canvas(a);this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),l&&l(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):l&&l(f)}}),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.util.object.clone,s=a.util.toFixed,c=a.util.string.capitalize,d=a.util.degreesToRadians,p=!a.isLikelyNode,g=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(m){m&&this.setOptions(m)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(m){var v=a.perfLimitSizeTotal,y=m.width,b=m.height,w=a.maxCacheSideLimit,S=a.minCacheSideLimit;if(y<=w&&b<=w&&y*b<=v)return y<S&&(m.width=S),b<S&&(m.height=S),m;var _=y/b,E=a.util.limitDimsByArea(_,v),C=a.util.capValue,P=C(S,E.x,w),N=C(S,E.y,w);return y>P&&(m.zoomX/=y/P,m.width=P,m.capped=!0),b>N&&(m.zoomY/=b/N,m.height=N,m.capped=!0),m},_getCacheCanvasDimensions:function(){var m=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),y=v.x*m.scaleX/this.scaleX,b=v.y*m.scaleY/this.scaleY;return{width:y+g,height:b+g,zoomX:m.scaleX,zoomY:m.scaleY,x:y,y:b}},_updateCacheCanvas:function(){var m=this.canvas;if(this.noScaleCache&&m&&m._currentTransform){var v=m._currentTransform.target,y=m._currentTransform.action;if(this===v&&y.slice&&y.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),S=a.minCacheSideLimit,_=w.width,E=w.height,C,P,N=w.zoomX,B=w.zoomY,I=_!==this.cacheWidth||E!==this.cacheHeight,V=this.zoomX!==N||this.zoomY!==B,D=I||V,F=0,O=0,M=!1;if(I){var U=this._cacheCanvas.width,k=this._cacheCanvas.height,R=_>U||E>k,j=(_<U*.9||E<k*.9)&&U>S&&k>S;M=R||j,R&&!w.capped&&(_>S||E>S)&&(F=_*.1,O=E*.1)}return this instanceof a.Text&&this.path&&(D=!0,M=!0,F+=this.getHeightOfLine(0)*this.zoomX,O+=this.getHeightOfLine(0)*this.zoomY),D?(M?(b.width=Math.ceil(_+F),b.height=Math.ceil(E+O)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),C=w.x/2,P=w.y/2,this.cacheTranslationX=Math.round(b.width/2-C)+C,this.cacheTranslationY=Math.round(b.height/2-P)+P,this.cacheWidth=_,this.cacheHeight=E,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(N,B),this.zoomX=N,this.zoomY=B,!0):!1},setOptions:function(m){this._setOptions(m),this._initGradient(m.fill,"fill"),this._initGradient(m.stroke,"stroke"),this._initPattern(m.fill,"fill"),this._initPattern(m.stroke,"stroke")},transform:function(m){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&m===this.canvas.contextTop,y=this.calcTransformMatrix(!v);m.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(m){var v=a.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:s(this.left,v),top:s(this.top,v),width:s(this.width,v),height:s(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:s(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:s(this.strokeMiterLimit,v),scaleX:s(this.scaleX,v),scaleY:s(this.scaleY,v),angle:s(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:s(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:s(this.skewX,v),skewY:s(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(m),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,y,m),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(m){return this.toObject(m)},_removeDefaultValues:function(m){var v=a.util.getKlass(m.type).prototype,y=v.stateProperties;return y.forEach(function(b){b==="left"||b==="top"||(m[b]===v[b]&&delete m[b],Array.isArray(m[b])&&Array.isArray(v[b])&&m[b].length===0&&v[b].length===0&&delete m[b])}),m},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var m=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(m.scaleX),scaleY:Math.abs(m.scaleY)}},getTotalObjectScaling:function(){var m=this.getObjectScaling(),v=m.scaleX,y=m.scaleY;if(this.canvas){var b=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();v*=b*w,y*=b*w}return{scaleX:v,scaleY:y}},getObjectOpacity:function(){var m=this.opacity;return this.group&&(m*=this.group.getObjectOpacity()),m},_set:function(m,v){var y=m==="scaleX"||m==="scaleY",b=this[m]!==v,w=!1;return y&&(v=this._constrainScale(v)),m==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):m==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):m==="shadow"&&v&&!(v instanceof a.Shadow)?v=new a.Shadow(v):m==="dirty"&&this.group&&this.group.set("dirty",v),this[m]=v,b&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(m)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(m)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(m){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(m.save(),this._setupCompositeOperation(m),this.drawSelectionBackground(m),this.transform(m),this._setOpacity(m),this._setShadow(m,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(m)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(m),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),m.restore())},renderCache:function(m){m=m||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,m.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(m,v){if(m.save(),v.inverted?m.globalCompositeOperation="destination-out":m.globalCompositeOperation="destination-in",v.absolutePositioned){var y=a.util.invertTransform(this.calcTransformMatrix());m.transform(y[0],y[1],y[2],y[3],y[4],y[5])}v.transform(m),m.scale(1/v.zoomX,1/v.zoomY),m.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),m.restore()},drawObject:function(m,v){var y=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(m)):this._renderBackground(m),this._render(m),this._drawClipPath(m,this.clipPath),this.fill=y,this.stroke=b},_drawClipPath:function(m,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(m,v))},drawCacheOnCanvas:function(m){m.scale(1/this.zoomX,1/this.zoomY),m.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(m){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!m&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!m){var v=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-y/2,v,y)}return!0}return!1},_renderBackground:function(m){if(this.backgroundColor){var v=this._getNonTransformedDimensions();m.fillStyle=this.backgroundColor,m.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(m)}},_setOpacity:function(m){this.group&&!this.group._transformDone?m.globalAlpha=this.getObjectOpacity():m.globalAlpha*=this.opacity},_setStrokeStyles:function(m,v){var y=v.stroke;y&&(m.lineWidth=v.strokeWidth,m.lineCap=v.strokeLineCap,m.lineDashOffset=v.strokeDashOffset,m.lineJoin=v.strokeLineJoin,m.miterLimit=v.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(m,y):(m.strokeStyle=y.toLive(m,this),this._applyPatternGradientTransform(m,y)):m.strokeStyle=v.stroke)},_setFillStyles:function(m,v){var y=v.fill;y&&(y.toLive?(m.fillStyle=y.toLive(m,this),this._applyPatternGradientTransform(m,v.fill)):m.fillStyle=y)},_setClippingProperties:function(m){m.globalAlpha=1,m.strokeStyle="transparent",m.fillStyle="#000000"},_setLineDash:function(m,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),m.setLineDash(v))},_renderControls:function(m,v){var y=this.getViewportTransform(),b=this.calcTransformMatrix(),w,S,_;v=v||{},S=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,_=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=a.util.multiplyTransformMatrices(y,b),w=a.util.qrDecompose(b),m.save(),m.translate(w.translateX,w.translateY),m.lineWidth=1*this.borderScaleFactor,this.group||(m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),m.rotate(d(this.group?w.angle:this.angle)),v.forActiveSelection||this.group?S&&this.drawBordersInGroup(m,w,v):S&&this.drawBorders(m,v),_&&this.drawControls(m,v),m.restore()},_setShadow:function(m){if(this.shadow){var v=this.shadow,y=this.canvas,b,w=y&&y.viewportTransform[0]||1,S=y&&y.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),y&&y._isRetinaScaling()&&(w*=a.devicePixelRatio,S*=a.devicePixelRatio),m.shadowColor=v.color,m.shadowBlur=v.blur*a.browserShadowBlurConstant*(w+S)*(b.scaleX+b.scaleY)/4,m.shadowOffsetX=v.offsetX*w*b.scaleX,m.shadowOffsetY=v.offsetY*S*b.scaleY}},_removeShadow:function(m){this.shadow&&(m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0)},_applyPatternGradientTransform:function(m,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var y=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,w=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?m.transform(this.width,0,0,this.height,b,w):m.transform(1,0,0,1,b,w),y&&m.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:b,offsetY:w}},_renderPaintInOrder:function(m){this.paintFirst==="stroke"?(this._renderStroke(m),this._renderFill(m)):(this._renderFill(m),this._renderStroke(m))},_render:function(){},_renderFill:function(m){this.fill&&(m.save(),this._setFillStyles(m,this),this.fillRule==="evenodd"?m.fill("evenodd"):m.fill(),m.restore())},_renderStroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();m.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&m.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(m,this.strokeDashArray),this._setStrokeStyles(m,this),m.stroke(),m.restore()}},_applyPatternForTransformedGradient:function(m,v){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),b=a.util.createCanvasElement(),w,S=this.canvas.getRetinaScaling(),_=y.x/this.scaleX/S,E=y.y/this.scaleY/S;b.width=_,b.height=E,w=b.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(_,0),w.lineTo(_,E),w.lineTo(0,E),w.closePath(),w.translate(_/2,E/2),w.scale(y.zoomX/this.scaleX/S,y.zoomY/this.scaleY/S),this._applyPatternGradientTransform(w,v),w.fillStyle=v.toLive(m),w.fill(),m.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),m.scale(S*this.scaleX/y.zoomX,S*this.scaleY/y.zoomY),m.strokeStyle=w.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var m=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",m.scaleX),this.set("scaleY",m.scaleY),this.angle=m.angle,this.skewX=m.skewX,this.skewY=0}},_removeTransformMatrix:function(m){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=a.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,m&&(this.scaleX*=m.scaleX,this.scaleY*=m.scaleY,this.cropX=m.cropX,this.cropY=m.cropY,v.x+=m.offsetLeft,v.y+=m.offsetTop,this.width=m.width,this.height=m.height),this.setPositionByOrigin(v,"center","center")},clone:function(m,v){var y=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(y,m):a.Object._fromObject("Object",y,m)},cloneAsImage:function(m,v){var y=this.toCanvasElement(v);return m&&m(new a.Image(y)),this},toCanvasElement:function(m){m||(m={});var v=a.util,y=v.saveObjectTransform(this),b=this.group,w=this.shadow,S=Math.abs,_=(m.multiplier||1)*(m.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,m.withoutTransform&&v.resetObjectTransform(this),m.withoutShadow&&(this.shadow=null);var E=a.util.createCanvasElement(),C=this.getBoundingRect(!0,!0),P=this.shadow,N,B={x:0,y:0},I,V,D;P&&(I=P.blur,P.nonScaling?N={scaleX:1,scaleY:1}:N=this.getObjectScaling(),B.x=2*Math.round(S(P.offsetX)+I)*S(N.scaleX),B.y=2*Math.round(S(P.offsetY)+I)*S(N.scaleY)),V=C.width+B.x,D=C.height+B.y,E.width=Math.ceil(V),E.height=Math.ceil(D);var F=new a.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});m.format==="jpeg"&&(F.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(F.width/2,F.height/2),"center","center");var O=this.canvas;F.add(this);var M=F.toCanvasElement(_||1,m);return this.shadow=w,this.set("canvas",O),b&&(this.group=b),this.set(y).setCoords(),F._objects=[],F.dispose(),F=null,M},toDataURL:function(m){return m||(m={}),a.util.toDataURL(this.toCanvasElement(m),m.format||"png",m.quality||1)},isType:function(m){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===m},complexity:function(){return 1},toJSON:function(m){return this.toObject(m)},rotate:function(m){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",m),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(m,v){v=v||this.canvas.getPointer(m);var y=new a.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(y=a.util.rotatePoint(y,b,d(-this.angle))),{x:y.x-b.x,y:y.y-b.y}},_setupCompositeOperation:function(m){this.globalCompositeOperation&&(m.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){a.runningAnimations&&a.runningAnimations.cancelByTarget(this)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),f(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object.ENLIVEN_PROPS=["clipPath"],a.Object._fromObject=function(m,v,y,b){var w=a[m];v=u(v,!0),a.util.enlivenPatterns([v.fill,v.stroke],function(S){typeof S[0]<"u"&&(v.fill=S[0]),typeof S[1]<"u"&&(v.stroke=S[1]),a.util.enlivenObjectEnlivables(v,v,function(){var _=b?new w(v[b],v):new w(v);y&&y(_)})})},a.Object.__uid=0)}(e),function(){var l=t.util.degreesToRadians,a={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(u,s,c,d,p){var g=u.x,m=u.y,v,y,b;return typeof s=="string"?s=a[s]:s-=.5,typeof d=="string"?d=a[d]:d-=.5,v=d-s,typeof c=="string"?c=f[c]:c-=.5,typeof p=="string"?p=f[p]:p-=.5,y=p-c,(v||y)&&(b=this._getTransformedDimensions(),g=u.x+v*b.x,m=u.y+y*b.y),new t.Point(g,m)},translateToCenterPoint:function(u,s,c){var d=this.translateToGivenOrigin(u,s,c,"center","center");return this.angle?t.util.rotatePoint(d,u,l(this.angle)):d},translateToOriginPoint:function(u,s,c){var d=this.translateToGivenOrigin(u,"center","center",s,c);return this.angle?t.util.rotatePoint(d,u,l(this.angle)):d},getCenterPoint:function(){var u=new t.Point(this.left,this.top);return this.translateToCenterPoint(u,this.originX,this.originY)},getPointByOrigin:function(u,s){var c=this.getCenterPoint();return this.translateToOriginPoint(c,u,s)},toLocalPoint:function(u,s,c){var d=this.getCenterPoint(),p,g;return typeof s<"u"&&typeof c<"u"?p=this.translateToGivenOrigin(d,"center","center",s,c):p=new t.Point(this.left,this.top),g=new t.Point(u.x,u.y),this.angle&&(g=t.util.rotatePoint(g,d,-l(this.angle))),g.subtractEquals(p)},setPositionByOrigin:function(u,s,c){var d=this.translateToCenterPoint(u,s,c),p=this.translateToOriginPoint(d,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(u){var s=l(this.angle),c=this.getScaledWidth(),d=t.util.cos(s)*c,p=t.util.sin(s)*c,g,m;typeof this.originX=="string"?g=a[this.originX]:g=this.originX-.5,typeof u=="string"?m=a[u]:m=u-.5,this.left+=d*(m-g),this.top+=p*(m-g),this.setCoords(),this.originX=u},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var u=this.getCenterPoint();this.originX="center",this.originY="center",this.left=u.x,this.top=u.y},_resetOrigin:function(){var u=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=u.x,this.top=u.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function l(c){return[new t.Point(c.tl.x,c.tl.y),new t.Point(c.tr.x,c.tr.y),new t.Point(c.br.x,c.br.y),new t.Point(c.bl.x,c.bl.y)]}var a=t.util,f=a.degreesToRadians,u=a.multiplyTransformMatrices,s=a.transformPoint;a.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,d){return d?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,d){return l(this._getCoords(c,d))},intersectsWithRect:function(c,d,p,g){var m=this.getCoords(p,g),v=t.Intersection.intersectPolygonRectangle(m,c,d);return v.status==="Intersection"},intersectsWithObject:function(c,d,p){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(d,p),c.getCoords(d,p));return g.status==="Intersection"||c.isContainedWithinObject(this,d,p)||this.isContainedWithinObject(c,d,p)},isContainedWithinObject:function(c,d,p){for(var g=this.getCoords(d,p),m=d?c.aCoords:c.lineCoords,v=0,y=c._getImageLines(m);v<4;v++)if(!c.containsPoint(g[v],y))return!1;return!0},isContainedWithinRect:function(c,d,p,g){var m=this.getBoundingRect(p,g);return m.left>=c.x&&m.left+m.width<=d.x&&m.top>=c.y&&m.top+m.height<=d.y},containsPoint:function(c,v,p,g){var m=this._getCoords(p,g),v=v||this._getImageLines(m),y=this._findCrossPoints(c,v);return y!==0&&y%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,g=this.getCoords(!0,c);return g.some(function(m){return m.x<=p.x&&m.x>=d.x&&m.y<=p.y&&m.y>=d.y})||this.intersectsWithRect(d,p,!0,c)?!0:this._containsCenterOfCanvas(d,p,c)},_containsCenterOfCanvas:function(c,d,p){var g={x:(c.x+d.x)/2,y:(c.y+d.y)/2};return!!this.containsPoint(g,null,!0,p)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var d=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(d,p,!0,c))return!0;var g=this.getCoords(!0,c).every(function(m){return(m.x>=p.x||m.x<=d.x)&&(m.y>=p.y||m.y<=d.y)});return g&&this._containsCenterOfCanvas(d,p,c)},_getImageLines:function(c){var d={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return d},_findCrossPoints:function(c,d){var p,g,m,v,y,b=0,w;for(var S in d)if(w=d[S],!(w.o.y<c.y&&w.d.y<c.y)&&!(w.o.y>=c.y&&w.d.y>=c.y)&&(w.o.x===w.d.x&&w.o.x>=c.x?y=w.o.x:(p=0,g=(w.d.y-w.o.y)/(w.d.x-w.o.x),m=c.y-p*c.x,v=w.o.y-g*w.o.x,y=-(m-v)/(p-g)),y>=c.x&&(b+=1),b===2))break;return b},getBoundingRect:function(c,d){var p=this.getCoords(c,d);return a.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,d){var p=this.getBoundingRect(d).width/this.getScaledWidth();return this.scale(c/this.width/p)},scaleToHeight:function(c,d){var p=this.getBoundingRect(d).height/this.getScaledHeight();return this.scale(c/this.height/p)},calcLineCoords:function(){var c=this.getViewportTransform(),d=this.padding,p=f(this.angle),g=a.cos(p),m=a.sin(p),v=g*d,y=m*d,b=v+y,w=v-y,S=this.calcACoords(),_={tl:s(S.tl,c),tr:s(S.tr,c),bl:s(S.bl,c),br:s(S.br,c)};return d&&(_.tl.x-=w,_.tl.y-=b,_.tr.x+=b,_.tr.y-=w,_.bl.x-=b,_.bl.y+=w,_.br.x+=w,_.br.y+=b),_},calcOCoords:function(){var c=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),p=this.getViewportTransform(),g=u(p,d),m=u(g,c),m=u(m,[1/p[0],0,0,1/p[3],0,0]),v=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(b,w,S){y[w]=b.positionHandler(v,m,S)}),y},calcACoords:function(){var c=this._calcRotateMatrix(),d=this._calcTranslateMatrix(),p=u(d,c),g=this._getTransformedDimensions(),m=g.x/2,v=g.y/2;return{tl:s({x:-m,y:-v},p),tr:s({x:m,y:-v},p),bl:s({x:-m,y:v},p),br:s({x:m,y:v},p)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var d="_",p="";return!c&&this.group&&(p=this.group.transformMatrixKey(c)+d),p+this.top+d+this.left+d+this.scaleX+d+this.scaleY+d+this.skewX+d+this.skewY+d+this.angle+d+this.originX+d+this.originY+d+this.width+d+this.height+d+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var d=this.calcOwnMatrix();if(c||!this.group)return d;var p=this.transformMatrixKey(c),g=this.matrixCache||(this.matrixCache={});return g.key===p?g.value:(this.group&&(d=u(this.group.calcTransformMatrix(!1),d)),g.key=p,g.value=d,d)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),d=this.ownMatrixCache||(this.ownMatrixCache={});if(d.key===c)return d.value;var p=this._calcTranslateMatrix(),g={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return d.key=c,d.value=a.composeMatrix(g),d.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth,d=this.width+c,p=this.height+c;return{x:d,y:p}},_getTransformedDimensions:function(c,d){typeof c>"u"&&(c=this.skewX),typeof d>"u"&&(d=this.skewY);var p,g,m,v=c===0&&d===0;if(this.strokeUniform?(g=this.width,m=this.height):(p=this._getNonTransformedDimensions(),g=p.x,m=p.y),v)return this._finalizeDimensions(g*this.scaleX,m*this.scaleY);var y=a.sizeAfterTransform(g,m,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:d});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(c,d){return this.strokeUniform?{x:c+this.strokeWidth,y:d+this.strokeWidth}:{x:c,y:d}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),d=this._getTransformedDimensions(),p=s(d,c,!0);return p.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(l){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,l):this.canvas&&this.canvas.sendBackwards(this,l),this},bringForward:function(l){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,l):this.canvas&&this.canvas.bringForward(this,l),this},moveTo:function(l){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,l):this.canvas&&this.canvas.moveTo(this,l),this}}),function(){function l(f,u){if(u){if(u.toLive)return f+": url(#SVGID_"+u.id+"); ";var s=new t.Color(u),c=f+": "+s.toRgb()+"; ",d=s.getAlpha();return d!==1&&(c+=f+"-opacity: "+d.toString()+"; "),c}else return f+": none; "}var a=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(f){var u=this.fillRule?this.fillRule:"nonzero",s=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",d=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",m=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",b=f?"":this.getSvgFilter(),w=l("fill",this.fill),S=l("stroke",this.stroke);return[S,"stroke-width: ",s,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",d,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",m,"; ",w,"fill-rule: ",u,"; ","opacity: ",v,";",b,y].join("")},getSvgSpanStyles:function(f,u){var s="; ",d=f.fontFamily?"font-family: "+(f.fontFamily.indexOf("'")===-1&&f.fontFamily.indexOf('"')===-1?"'"+f.fontFamily+"'":f.fontFamily)+s:"",c=f.strokeWidth?"stroke-width: "+f.strokeWidth+s:"",d=d,p=f.fontSize?"font-size: "+f.fontSize+"px"+s:"",g=f.fontStyle?"font-style: "+f.fontStyle+s:"",m=f.fontWeight?"font-weight: "+f.fontWeight+s:"",v=f.fill?l("fill",f.fill):"",y=f.stroke?l("stroke",f.stroke):"",b=this.getSvgTextDecoration(f),w=f.deltaY?"baseline-shift: "+-f.deltaY+"; ":"";return b&&(b="text-decoration: "+b+s),[y,c,d,p,g,m,b,v,w,u?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(f){return["overline","underline","line-through"].filter(function(u){return f[u.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(f,u){var s=f?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+t.util.matrixToSVG(s);return c+(u||"")+'" '},_setSVGBg:function(f){if(this.backgroundColor){var u=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,u),'" y="',a(-this.height/2,u),'" width="',a(this.width,u),'" height="',a(this.height,u),`"></rect>
`)}},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(f),{reviver:f})},toClipPathSVG:function(f){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(f),{reviver:f})},_createBaseClipPathSVGMarkup:function(f,u){u=u||{};var s=u.reviver,c=u.additionalTransform||"",d=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),p=f.indexOf("COMMON_PARTS");return f[p]=d,s?s(f.join("")):f.join("")},_createBaseSVGMarkup:function(f,u){u=u||{};var s=u.noStyle,c=u.reviver,d=s?"":'style="'+this.getSvgStyles()+'" ',p=u.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,m=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,y=this.stroke,b=this.fill,w=this.shadow,S,_=[],E,C=f.indexOf("COMMON_PARTS"),P=u.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(c)+`</clipPath>
`),v&&_.push("<g ",p,this.getSvgCommons(),` >
`),_.push("<g ",this.getSvgTransform(!1),v?"":p+this.getSvgCommons(),` >
`),S=[d,m,s?"":this.addPaintOrder()," ",P?'transform="'+P+'" ':""].join(""),f[C]=S,b&&b.toLive&&_.push(b.toSVG(this)),y&&y.toLive&&_.push(y.toSVG(this)),w&&_.push(w.toSVG(this)),g&&_.push(E),_.push(f.join("")),_.push(`</g>
`),v&&_.push(`</g>
`),c?c(_.join("")):_.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var l=t.util.object.extend,a="stateProperties";function f(s,c,d){var p={},g=!0;d.forEach(function(m){p[m]=s[m]}),l(s[c],p,g)}function u(s,c,d){if(s===c)return!0;if(Array.isArray(s)){if(!Array.isArray(c)||s.length!==c.length)return!1;for(var p=0,g=s.length;p<g;p++)if(!u(s[p],c[p]))return!1;return!0}else if(s&&typeof s=="object"){var m=Object.keys(s),v;if(!c||typeof c!="object"||!d&&m.length!==Object.keys(c).length)return!1;for(var p=0,g=m.length;p<g;p++)if(v=m[p],!(v==="canvas"||v==="group")&&!u(s[v],c[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(s){s=s||a;var c="_"+s;return Object.keys(this[c]).length<this[s].length?!0:!u(this[c],this,!0)},saveState:function(s){var c=s&&s.propertySet||a,d="_"+c;return this[d]?(f(this,d,this[c]),s&&s.stateProperties&&f(this,d,s.stateProperties),this):this.setupState(s)},setupState:function(s){s=s||{};var c=s.propertySet||a;return s.propertySet=c,this["_"+c]={},this.saveState(s),this}})}(),function(){var l=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(a,f){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var u=a.x,s=a.y,c,d,p=Object.keys(this.oCoords),g=p.length-1,m;for(this.__corner=0;g>=0;g--)if(m=p[g],!!this.isControlVisible(m)&&(d=this._getImageLines(f?this.oCoords[m].touchCorner:this.oCoords[m].corner),c=this._findCrossPoints({x:u,y:s},d),c!==0&&c%2===1))return this.__corner=m,m;return!1},forEachControl:function(a){for(var f in this.controls)a(this.controls[f],f,this)},_setCornerCoords:function(){var a=this.oCoords;for(var f in a){var u=this.controls[f];a[f].corner=u.calcCornerCoords(this.angle,this.cornerSize,a[f].x,a[f].y,!1),a[f].touchCorner=u.calcCornerCoords(this.angle,this.touchCornerSize,a[f].x,a[f].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var f=this.getCenterPoint(),u=this._calculateCurrentDimensions(),s=this.canvas.viewportTransform;return a.translate(f.x,f.y),a.scale(1/s[0],1/s[3]),a.rotate(l(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-u.x/2,-u.y/2,u.x,u.y),a.restore(),this},drawBorders:function(a,f){f=f||{};var u=this._calculateCurrentDimensions(),s=this.borderScaleFactor,c=u.x+s,d=u.y+s,p=typeof f.hasControls<"u"?f.hasControls:this.hasControls,g=!1;return a.save(),a.strokeStyle=f.borderColor||this.borderColor,this._setLineDash(a,f.borderDashArray||this.borderDashArray),a.strokeRect(-c/2,-d/2,c,d),p&&(a.beginPath(),this.forEachControl(function(m,v,y){m.withConnection&&m.getVisibility(y,v)&&(g=!0,a.moveTo(m.x*c,m.y*d),a.lineTo(m.x*c+m.offsetX,m.y*d+m.offsetY))}),g&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,f,u){u=u||{};var s=t.util.sizeAfterTransform(this.width,this.height,f),c=this.strokeWidth,d=this.strokeUniform,p=this.borderScaleFactor,g=s.x+c*(d?this.canvas.getZoom():f.scaleX)+p,m=s.y+c*(d?this.canvas.getZoom():f.scaleY)+p;return a.save(),this._setLineDash(a,u.borderDashArray||this.borderDashArray),a.strokeStyle=u.borderColor||this.borderColor,a.strokeRect(-g/2,-m/2,g,m),a.restore(),this},drawControls:function(a,f){f=f||{},a.save();var u=this.canvas.getRetinaScaling(),s,c;return a.setTransform(u,0,0,u,0,0),a.strokeStyle=a.fillStyle=f.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=f.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,f.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(s=this.group.calcTransformMatrix()),this.forEachControl(function(d,p,g){c=g.oCoords[p],d.getVisibility(g,p)&&(s&&(c=t.util.transformPoint(c,s)),d.render(a,c.x,c.y,f,g))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,f){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=f,this},setControlsVisibility:function(a){a||(a={});for(var f in a)this.setControlVisible(f,a[f]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(l,a){a=a||{};var f=function(){},u=a.onComplete||f,s=a.onChange||f,c=this;return t.util.animate({target:this,startValue:l.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(d){l.set("left",d),c.requestRenderAll(),s()},onComplete:function(){l.setCoords(),u()}})},fxCenterObjectV:function(l,a){a=a||{};var f=function(){},u=a.onComplete||f,s=a.onChange||f,c=this;return t.util.animate({target:this,startValue:l.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(d){l.set("top",d),c.requestRenderAll(),s()},onComplete:function(){l.setCoords(),u()}})},fxRemove:function(l,a){a=a||{};var f=function(){},u=a.onComplete||f,s=a.onChange||f,c=this;return t.util.animate({target:this,startValue:l.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(d){l.set("opacity",d),c.requestRenderAll(),s()},onComplete:function(){c.remove(l),u()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var l=[],a,f,u=[];for(a in arguments[0])l.push(a);for(var s=0,c=l.length;s<c;s++)a=l[s],f=s!==c-1,u.push(this._animate(a,arguments[0][a],arguments[1],f));return u}else return this._animate.apply(this,arguments)},_animate:function(l,a,f,u){var s=this,c;a=a.toString(),f?f=t.util.object.clone(f):f={},~l.indexOf(".")&&(c=l.split("."));var d=s.colorProperties.indexOf(l)>-1||c&&s.colorProperties.indexOf(c[1])>-1,p=c?this.get(c[0])[c[1]]:this.get(l);"from"in f||(f.from=p),d||(~a.indexOf("=")?a=p+parseFloat(a.replace("=","")):a=parseFloat(a));var g={target:this,startValue:f.from,endValue:a,byValue:f.by,easing:f.easing,duration:f.duration,abort:f.abort&&function(m,v,y){return f.abort.call(s,m,v,y)},onChange:function(m,v,y){c?s[c[0]][c[1]]=m:s.set(l,m),!u&&f.onChange&&f.onChange(m,v,y)},onComplete:function(m,v,y){u||(s.setCoords(),f.onComplete&&f.onComplete(m,v,y))}};return d?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.util.object.clone,s={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(d,p){d||(d=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",d[0]),this.set("y1",d[1]),this.set("x2",d[2]),this.set("y2",d[3]),this._setWidthHeight(p)},_setWidthHeight:function(d){d||(d={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in d?d.left:this._getLeftToOriginX(),this.top="top"in d?d.top:this._getTopToOriginY()},_set:function(d,p){return this.callSuper("_set",d,p),typeof s[d]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(d){d.beginPath();var p=this.calcLinePoints();d.moveTo(p.x1,p.y1),d.lineTo(p.x2,p.y2),d.lineWidth=this.strokeWidth;var g=d.strokeStyle;d.strokeStyle=this.stroke||d.fillStyle,this.stroke&&this._renderStroke(d),d.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(d){return f(this.callSuper("toObject",d),this.calcLinePoints())},_getNonTransformedDimensions:function(){var d=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(d.y-=this.strokeWidth),this.height===0&&(d.x-=this.strokeWidth)),d},calcLinePoints:function(){var d=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,g=d*this.width*.5,m=p*this.height*.5,v=d*this.width*-.5,y=p*this.height*-.5;return{x1:g,x2:v,y1:m,y2:y}},_toSVG:function(){var d=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',d.x1,'" y1="',d.y1,'" x2="',d.x2,'" y2="',d.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(d,p,g){g=g||{};var m=a.parseAttributes(d,a.Line.ATTRIBUTE_NAMES),v=[m.x1||0,m.y1||0,m.x2||0,m.y2||0];p(new a.Line(v,f(m,g)))},a.Line.fromObject=function(d,p){function g(v){delete v.points,p&&p(v)}var m=u(d,!0);m.points=[d.x1,d.y1,d.x2,d.y2],a.Object._fromObject("Line",m,g,"points")};function c(d,p){var g=d.origin,m=d.axis1,v=d.axis2,y=d.dimension,b=p.nearest,w=p.center,S=p.farthest;return function(){switch(this.get(g)){case b:return Math.min(this.get(m),this.get(v));case w:return Math.min(this.get(m),this.get(v))+.5*this.get(y);case S:return Math.max(this.get(m),this.get(v))}}}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.degreesToRadians;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(s,c){return this.callSuper("_set",s,c),s==="radius"&&this.setRadius(c),this},toObject:function(s){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(s))},_toSVG:function(){var s,c=0,d=0,p=(this.endAngle-this.startAngle)%360;if(p===0)s=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+d+'" ','r="',this.radius,`" />
`];else{var g=f(this.startAngle),m=f(this.endAngle),v=this.radius,y=a.util.cos(g)*v,b=a.util.sin(g)*v,w=a.util.cos(m)*v,S=a.util.sin(m)*v,_=p>180?"1":"0";s=['<path d="M '+y+" "+b," A "+v+" "+v," 0 ",+_+" 1"," "+w+" "+S,'" ',"COMMON_PARTS",` />
`]}return s},_render:function(s){s.beginPath(),s.arc(0,0,this.radius,f(this.startAngle),f(this.endAngle),!1),this._renderPaintInOrder(s)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(s){return this.radius=s,this.set("width",s*2).set("height",s*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(s,c){var d=a.parseAttributes(s,a.Circle.ATTRIBUTE_NAMES);if(!u(d))throw new Error("value of `r` attribute is required and can not be negative");d.left=(d.left||0)-d.radius,d.top=(d.top||0)-d.radius,c(new a.Circle(d))};function u(s){return"radius"in s&&s.radius>=0}a.Circle.fromObject=function(s,c){a.Object._fromObject("Circle",s,c)}}(e),function(l){var a=l.fabric||(l.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(f){var u=this.width/2,s=this.height/2;f.beginPath(),f.moveTo(-u,s),f.lineTo(0,-s),f.lineTo(u,s),f.closePath(),this._renderPaintInOrder(f)},_toSVG:function(){var f=this.width/2,u=this.height/2,s=[-f+" "+u,"0 "+-u,f+" "+u].join(",");return["<polygon ","COMMON_PARTS",'points="',s,'" />']}}),a.Triangle.fromObject=function(f,u){return a.Object._fromObject("Triangle",f,u)}}(e),function(l){var a=l.fabric||(l.fabric={}),f=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this.set("rx",u&&u.rx||0),this.set("ry",u&&u.ry||0)},_set:function(u,s){switch(this.callSuper("_set",u,s),u){case"rx":this.rx=s,this.set("width",s*2);break;case"ry":this.ry=s,this.set("height",s*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(u){u.beginPath(),u.save(),u.transform(1,0,0,this.ry/this.rx,0,0),u.arc(0,0,this.rx,0,f,!1),u.restore(),this._renderPaintInOrder(u)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(u,s){var c=a.parseAttributes(u,a.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,s(new a.Ellipse(c))},a.Ellipse.fromObject=function(u,s){a.Object._fromObject("Ellipse",u,s)}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(u){this.callSuper("initialize",u),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(u){var s=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,d=this.width,p=this.height,g=-this.width/2,m=-this.height/2,v=s!==0||c!==0,y=1-.5522847498;u.beginPath(),u.moveTo(g+s,m),u.lineTo(g+d-s,m),v&&u.bezierCurveTo(g+d-y*s,m,g+d,m+y*c,g+d,m+c),u.lineTo(g+d,m+p-c),v&&u.bezierCurveTo(g+d,m+p-y*c,g+d-y*s,m+p,g+d-s,m+p),u.lineTo(g+s,m+p),v&&u.bezierCurveTo(g+y*s,m+p,g,m+p-y*c,g,m+p-c),u.lineTo(g,m+c),v&&u.bezierCurveTo(g,m+y*c,g+y*s,m,g+s,m),u.closePath(),this._renderPaintInOrder(u)},toObject:function(u){return this.callSuper("toObject",["rx","ry"].concat(u))},_toSVG:function(){var u=-this.width/2,s=-this.height/2;return["<rect ","COMMON_PARTS",'x="',u,'" y="',s,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(u,s,c){if(!u)return s(null);c=c||{};var d=a.parseAttributes(u,a.Rect.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0,d.height=d.height||0,d.width=d.width||0;var p=new a.Rect(f(c?a.util.object.clone(c):{},d));p.visible=p.visible&&p.width>0&&p.height>0,s(p)},a.Rect.fromObject=function(u,s){return a.Object._fromObject("Rect",u,s)}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.util.array.min,s=a.util.array.max,c=a.util.toFixed,d=a.util.projectStrokeOnPoints;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(p,g){g=g||{},this.points=p||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return d(this.points,this,!0)},_setPositionDimensions:function(p){var g=this._calcDimensions(p),m,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,p.fromSVG||(m=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?g.left:m.x),typeof p.top>"u"&&(this.top=p.fromSVG?g.top:m.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=u(p,"x")||0,m=u(p,"y")||0,v=s(p,"x")||0,y=s(p,"y")||0,b=v-g,w=y-m;return{left:g,top:m,width:b,height:w}},toObject:function(p){return f(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],g=this.pathOffset.x,m=this.pathOffset.y,v=a.Object.NUM_FRACTION_DIGITS,y=0,b=this.points.length;y<b;y++)p.push(c(this.points[y].x-g,v),",",c(this.points[y].y-m,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var g,m=this.points.length,v=this.pathOffset.x,y=this.pathOffset.y;if(!m||isNaN(this.points[m-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-v,this.points[0].y-y);for(var b=0;b<m;b++)g=this.points[b],p.lineTo(g.x-v,g.y-y);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(p){return function(g,m,v){if(!g)return m(null);v||(v={});var y=a.parsePointsAttribute(g.getAttribute("points")),b=a.parseAttributes(g,a[p].ATTRIBUTE_NAMES);b.fromSVG=!0,m(new a[p](y,f(b,v)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(p,g){return a.Object._fromObject("Polyline",p,g,"points")}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.projectStrokeOnPoints;if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return f(this.points,this)},_render:function(u){this.commonRender(u)&&(u.closePath(),this._renderPaintInOrder(u))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(u,s){a.Object._fromObject("Polygon",u,s,"points")}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.array.min,u=a.util.array.max,s=a.util.object.extend,c=a.util.object.clone,d=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(p,g){g=c(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(p||[],g)},_setPath:function(p,g){this.path=a.util.makePathSimpler(Array.isArray(p)?p:a.util.parsePath(p)),a.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(p){var g,m=0,v=0,y=0,b=0,w=0,S=0,_=-this.pathOffset.x,E=-this.pathOffset.y;p.beginPath();for(var C=0,P=this.path.length;C<P;++C)switch(g=this.path[C],g[0]){case"L":y=g[1],b=g[2],p.lineTo(y+_,b+E);break;case"M":y=g[1],b=g[2],m=y,v=b,p.moveTo(y+_,b+E);break;case"C":y=g[5],b=g[6],w=g[3],S=g[4],p.bezierCurveTo(g[1]+_,g[2]+E,w+_,S+E,y+_,b+E);break;case"Q":p.quadraticCurveTo(g[1]+_,g[2]+E,g[3]+_,g[4]+E),y=g[3],b=g[4],w=g[1],S=g[2];break;case"z":case"Z":y=m,b=v,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return s(this.callSuper("toObject",p),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(p){var g=this.toObject(["sourcePath"].concat(p));return g.sourcePath&&delete g.path,g},_toSVG:function(){var p=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=a.Object.NUM_FRACTION_DIGITS;return" translate("+d(-this.pathOffset.x,p)+", "+d(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},toSVG:function(p){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],g=[],m,v=0,y=0,b=0,w=0,S,_=0,E=this.path.length;_<E;++_){switch(m=this.path[_],m[0]){case"L":b=m[1],w=m[2],S=[];break;case"M":b=m[1],w=m[2],v=b,y=w,S=[];break;case"C":S=a.util.getBoundsOfCurve(b,w,m[1],m[2],m[3],m[4],m[5],m[6]),b=m[5],w=m[6];break;case"Q":S=a.util.getBoundsOfCurve(b,w,m[1],m[2],m[1],m[2],m[3],m[4]),b=m[3],w=m[4];break;case"z":case"Z":b=v,w=y;break}S.forEach(function(D){p.push(D.x),g.push(D.y)}),p.push(b),g.push(w)}var C=f(p)||0,P=f(g)||0,N=u(p)||0,B=u(g)||0,I=N-C,V=B-P;return{left:C,top:P,width:I,height:V}}}),a.Path.fromObject=function(p,g){if(typeof p.sourcePath=="string"){var m=p.sourcePath;a.loadSVGFromURL(m,function(v){var y=v[0];y.setOptions(p),p.clipPath?a.util.enlivenObjects([p.clipPath],function(b){y.clipPath=b[0],g&&g(y)}):g&&g(y)})}else a.Object._fromObject("Path",p,g,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(p,g,m){var v=a.parseAttributes(p,a.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new a.Path(v.d,s(v,m)))}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.array.min,u=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(s,c,d){c=c||{},this._objects=[],d&&this.callSuper("initialize",c),this._objects=s||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(d)this._updateObjectsACoords();else{var g=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var s=!0,c=this._objects.length;c--;)this._objects[c].setCoords(s)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),d=this._objects.length;d--;)this._updateObjectCoords(this._objects[d],c)},_updateObjectCoords:function(s,c){var d=s.left,p=s.top,g=!0;s.set({left:d-c.x,top:p-c.y}),s.group=this,s.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(s){var c=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),s&&(c&&a.util.removeTransformFromObject(s,this.group.calcTransformMatrix()),this._objects.push(s),s.group=this,s._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(s){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(s),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(s){this.dirty=!0,s.group=this,s._set("canvas",this.canvas)},_onObjectRemoved:function(s){this.dirty=!0,delete s.group},_set:function(s,c){var d=this._objects.length;if(this.useSetOnGroup)for(;d--;)this._objects[d].setOnGroup(s,c);if(s==="canvas")for(;d--;)this._objects[d]._set(s,c);a.Object.prototype._set.call(this,s,c)},toObject:function(s){var c=this.includeDefaultValues,d=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=c;var v=g.toObject(s);return g.includeDefaultValues=m,v}),p=a.Object.prototype.toObject.call(this,s);return p.objects=d,p},toDatalessObject:function(s){var c,d=this.sourcePath;if(d)c=d;else{var p=this.includeDefaultValues;c=this._objects.map(function(m){var v=m.includeDefaultValues;m.includeDefaultValues=p;var y=m.toDatalessObject(s);return m.includeDefaultValues=v,y})}var g=a.Object.prototype.toDatalessObject.call(this,s);return g.objects=c,g},render:function(s){this._transformDone=!0,this.callSuper("render",s),this._transformDone=!1},shouldCache:function(){var s=a.Object.prototype.shouldCache.call(this);if(s){for(var c=0,d=this._objects.length;c<d;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return s},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var s=0,c=this._objects.length;s<c;s++)if(this._objects[s].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(s){for(var c=0,d=this._objects.length;c<d;c++)this._objects[c].render(s);this._drawClipPath(s,this.clipPath)},isCacheDirty:function(s){if(this.callSuper("isCacheDirty",s))return!0;if(!this.statefullCache)return!1;for(var c=0,d=this._objects.length;c<d;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-g/2,p,g)}return!0}return!1},_restoreObjectsState:function(){var s=this.calcOwnMatrix();return this._objects.forEach(function(c){a.util.addTransformToObject(c,s),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(s){s.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(s){s.dispose&&s.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var s=this._objects,c=this.canvas;this._objects=[];var d=this.toObject();delete d.objects;var p=new a.ActiveSelection([]);return p.set(d),p.type="activeSelection",c.remove(this),s.forEach(function(g){g.group=p,g.dirty=!0,c.add(g)}),p.canvas=c,p._objects=s,c._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var s=!0;return this.forEachObject(function(c){c.setCoords(s)}),this},_calcBounds:function(s){for(var c=[],d=[],p,g,m,v=["tr","br","bl","tl"],y=0,b=this._objects.length,w,S=v.length;y<b;++y){for(p=this._objects[y],m=p.calcACoords(),w=0;w<S;w++)g=v[w],c.push(m[g].x),d.push(m[g].y);p.aCoords=m}this._getBounds(c,d,s)},_getBounds:function(s,c,d){var p=new a.Point(f(s),f(c)),g=new a.Point(u(s),u(c)),m=p.y||0,v=p.x||0,y=g.x-p.x||0,b=g.y-p.y||0;this.width=y,this.height=b,d||this.setPositionByOrigin({x:v,y:m},"left","top")},_toSVG:function(s){for(var c=["<g ","COMMON_PARTS",` >
`],d=0,p=this._objects.length;d<p;d++)c.push("		",this._objects[d].toSVG(s));return c.push(`</g>
`),c},getSvgStyles:function(){var s=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[s,this.getSvgFilter(),c].join("")},toClipPathSVG:function(s){for(var c=[],d=0,p=this._objects.length;d<p;d++)c.push("	",this._objects[d].toClipPathSVG(s));return this._createBaseClipPathSVGMarkup(c,{reviver:s})}}),a.Group.fromObject=function(s,c){var d=s.objects,p=a.util.object.clone(s,!0);if(delete p.objects,typeof d=="string"){a.loadSVGFromURL(d,function(g){var m=a.util.groupSVGElements(g,s,d),v=p.clipPath;delete p.clipPath,m.set(p),v?a.util.enlivenObjects([v],function(y){m.clipPath=y[0],c&&c(m)}):c&&c(m)});return}a.util.enlivenObjects(d,function(g){a.util.enlivenObjectEnlivables(s,p,function(){c&&c(new a.Group(g,p,!0))})})})}(e),function(l){var a=l.fabric||(l.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(f,u){u=u||{},this._objects=f||[];for(var s=this._objects.length;s--;)this._objects[s].group=this;u.originX&&(this.originX=u.originX),u.originY&&(this.originY=u.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,u),this.setCoords()},toGroup:function(){var f=this._objects.concat();this._objects=[];var u=a.Object.prototype.toObject.call(this),s=new a.Group([]);if(delete u.type,s.set(u),f.forEach(function(d){d.canvas.remove(d),d.group=s}),s._objects=f,!this.canvas)return s;var c=this.canvas;return c.add(s),c._activeObject=s,s.setCoords(),s},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(f,u,s){f.save(),f.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",f,u),s=s||{},typeof s.hasControls>"u"&&(s.hasControls=!1),s.forActiveSelection=!0;for(var c=0,d=this._objects.length;c<d;c++)this._objects[c]._renderControls(f,s);f.restore()}}),a.ActiveSelection.fromObject=function(f,u){a.util.enlivenObjects(f.objects,function(s){delete f.objects,u&&u(new a.ActiveSelection(s,f,!0))})})}(e),function(l){var a=t.util.object.extend;if(l.fabric||(l.fabric={}),l.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(f,u){u||(u={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",u),this._initElement(f,u)},getElement:function(){return this._element||{}},setElement:function(f,u){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=f,this._originalElement=f,this._initConfig(u),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(f){var u=t.filterBackend;u&&u.evictCachesForKey&&u.evictCachesForKey(f)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(f){t.util.cleanUpJsdomNode(this[f]),this[f]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var f=this.getElement();return{width:f.naturalWidth||f.width,height:f.naturalHeight||f.height}},_stroke:function(f){if(!(!this.stroke||this.strokeWidth===0)){var u=this.width/2,s=this.height/2;f.beginPath(),f.moveTo(-u,-s),f.lineTo(u,-s),f.lineTo(u,s),f.lineTo(-u,s),f.lineTo(-u,-s),f.closePath()}},toObject:function(f){var u=[];this.filters.forEach(function(c){c&&u.push(c.toObject())});var s=a(this.callSuper("toObject",["cropX","cropY"].concat(f)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:u});return this.resizeFilter&&(s.resizeFilter=this.resizeFilter.toObject()),s},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var f=[],u=[],s,c=this._element,d=-this.width/2,p=-this.height/2,g="",m="";if(!c)return[];if(this.hasCrop()){var v=t.Object.__uid++;f.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+d+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(m='" image-rendering="optimizeSpeed'),u.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',d-this.cropX,'" y="',p-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,m,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,s=["	<rect ",'x="',d,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?f=f.concat(s,u):f=f.concat(u,s),f},getSrc:function(f){var u=f?this._element:this._originalElement;return u?u.toDataURL?u.toDataURL():this.srcFromAttribute?u.getAttribute("src"):u.src:this.src||""},setSrc:function(f,u,s){return t.util.loadImage(f,function(c,d){this.setElement(c,s),this._setWidthHeight(),u&&u(this,d)},this,s&&s.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var f=this.resizeFilter,u=this.minimumScaleTrigger,s=this.getTotalObjectScaling(),c=s.scaleX,d=s.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!f||c>u&&d>u){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=d;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),m=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=p.width,y=p.height;g.width=v,g.height=y,this._element=g,this._lastScaleX=f.scaleX=c,this._lastScaleY=f.scaleY=d,t.filterBackend.applyFilters([f],p,v,y,this._element,m),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(f){if(f=f||this.filters||[],f=f.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),f.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var u=this._originalElement,s=u.naturalWidth||u.width,c=u.naturalHeight||u.height;if(this._element===this._originalElement){var d=t.util.createCanvasElement();d.width=s,d.height=c,this._element=d,this._filteredEl=d}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,s,c),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(f,this._originalElement,s,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(f),this._renderPaintInOrder(f)},drawCacheOnCanvas:function(f){t.util.setImageSmoothing(f,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,f)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(f){var u=this._element;if(u){var s=this._filterScalingX,c=this._filterScalingY,d=this.width,p=this.height,g=Math.min,m=Math.max,v=m(this.cropX,0),y=m(this.cropY,0),b=u.naturalWidth||u.width,w=u.naturalHeight||u.height,S=v*s,_=y*c,E=g(d*s,b-S),C=g(p*c,w-_),P=-d/2,N=-p/2,B=g(d,b/s-v),I=g(p,w/c-y);u&&f.drawImage(u,S,_,E,C,P,N,B,I)}},_needsResize:function(){var f=this.getTotalObjectScaling();return f.scaleX!==this._lastScaleX||f.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(f,u){this.setElement(t.util.getById(f),u),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(f){f||(f={}),this.setOptions(f),this._setWidthHeight(f)},_initFilters:function(f,u){f&&f.length?t.util.enlivenObjects(f,function(s){u&&u(s)},"fabric.Image.filters"):u&&u()},_setWidthHeight:function(f){f||(f={});var u=this.getElement();this.width=f.width||u.naturalWidth||u.width||0,this.height=f.height||u.naturalHeight||u.height||0},parsePreserveAspectRatioAttribute:function(){var f=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),u=this._element.width,s=this._element.height,c=1,d=1,p=0,g=0,m=0,v=0,y,b=this.width,w=this.height,S={width:b,height:w};return f&&(f.alignX!=="none"||f.alignY!=="none")?(f.meetOrSlice==="meet"&&(c=d=t.util.findScaleToFit(this._element,S),y=(b-u*c)/2,f.alignX==="Min"&&(p=-y),f.alignX==="Max"&&(p=y),y=(w-s*d)/2,f.alignY==="Min"&&(g=-y),f.alignY==="Max"&&(g=y)),f.meetOrSlice==="slice"&&(c=d=t.util.findScaleToCover(this._element,S),y=u-b/c,f.alignX==="Mid"&&(m=y/2),f.alignX==="Max"&&(m=y),y=s-w/d,f.alignY==="Mid"&&(v=y/2),f.alignY==="Max"&&(v=y),u=b/c,s=w/d)):(c=b/u,d=w/s),{width:u,height:s,scaleX:c,scaleY:d,offsetLeft:p,offsetTop:g,cropX:m,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(f,u){var s=t.util.object.clone(f);t.util.loadImage(s.src,function(c,d){if(d){u&&u(null,!0);return}t.Image.prototype._initFilters.call(s,s.filters,function(p){s.filters=p||[],t.Image.prototype._initFilters.call(s,[s.resizeFilter],function(g){s.resizeFilter=g[0],t.util.enlivenObjectEnlivables(s,s,function(){var m=new t.Image(c,s);u(m,!1)})})})},null,s.crossOrigin)},t.Image.fromURL=function(f,u,s){t.util.loadImage(f,function(c,d){u&&u(new t.Image(c,s),d)},null,s&&s.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(f,u,s){var c=t.parseAttributes(f,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(c["xlink:href"],u,a(s?t.util.object.clone(s):{},c))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var l=this.angle%360;return l>0?Math.round((l-1)/90)*90:Math.round(l/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(l){l=l||{};var a=function(){},f=l.onComplete||a,u=l.onChange||a,s=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){s.rotate(c),u()},onComplete:function(){s.setCoords(),f()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(l){return l.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(l){return l.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function l(f,u){var s="precision "+u+` float;
void main(){}`,c=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(c,s),f.compileShader(c),!!f.getShaderParameter(c,f.COMPILE_STATUS)}t.isWebglSupported=function(f){if(t.isLikelyNode)return!1;f=f||t.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),s=u.getContext("webgl")||u.getContext("experimental-webgl"),c=!1;if(s){t.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),c=t.maxTextureSize>=f;for(var d=["highp","mediump","lowp"],p=0;p<3;p++)if(l(s,d[p])){t.webGlPrecision=d[p];break}}return this.isSupported=c,c},t.WebglFilterBackend=a;function a(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(f,u){this.dispose(),this.createWebGLCanvas(f,u),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(f,u)},chooseFastestCopyGLTo2DMethod:function(f,u){var s=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var d=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(s&&c&&d&&p){var g=t.util.createCanvasElement(),m=new ArrayBuffer(f*u*4);if(t.forceGLPutImageData){this.imageBuffer=m,this.copyGLTo2D=h;return}var v={imageBuffer:m,destinationWidth:f,destinationHeight:u,targetCanvas:g},y,b,w;g.width=f,g.height=u,y=window.performance.now(),o.call(v,this.gl,v),b=window.performance.now()-y,y=window.performance.now(),h.call(v,this.gl,v),w=window.performance.now()-y,b>w?(this.imageBuffer=m,this.copyGLTo2D=h):this.copyGLTo2D=o}},createWebGLCanvas:function(f,u){var s=t.util.createCanvasElement();s.width=f,s.height=u;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},d=s.getContext("webgl",c);d||(d=s.getContext("experimental-webgl",c)),d&&(d.clearColor(0,0,0,0),this.canvas=s,this.gl=d)},applyFilters:function(f,u,s,c,d,p){var g=this.gl,m;p&&(m=this.getCachedTexture(p,u));var v={originalWidth:u.width||u.originalWidth,originalHeight:u.height||u.originalHeight,sourceWidth:s,sourceHeight:c,destinationWidth:s,destinationHeight:c,context:g,sourceTexture:this.createTexture(g,s,c,!m&&u),targetTexture:this.createTexture(g,s,c),originalTexture:m||this.createTexture(g,s,c,!m&&u),passes:f.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:d},y=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,y),f.forEach(function(b){b&&b.applyTo(v)}),i(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(y),d.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(f,u,s,c,d){var p=f.createTexture();return f.bindTexture(f.TEXTURE_2D,p),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,d||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,d||f.NEAREST),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),c?f.texImage2D(f.TEXTURE_2D,0,f.RGBA,f.RGBA,f.UNSIGNED_BYTE,c):f.texImage2D(f.TEXTURE_2D,0,f.RGBA,u,s,0,f.RGBA,f.UNSIGNED_BYTE,null),p},getCachedTexture:function(f,u){if(this.textureCache[f])return this.textureCache[f];var s=this.createTexture(this.gl,u.width,u.height,u);return this.textureCache[f]=s,s},evictCachesForKey:function(f){this.textureCache[f]&&(this.gl.deleteTexture(this.textureCache[f]),delete this.textureCache[f])},copyGLTo2D:o,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var f=this.gl,u={renderer:"",vendor:""};if(!f)return u;var s=f.getExtension("WEBGL_debug_renderer_info");if(s){var c=f.getParameter(s.UNMASKED_RENDERER_WEBGL),d=f.getParameter(s.UNMASKED_VENDOR_WEBGL);c&&(u.renderer=c.toLowerCase()),d&&(u.vendor=d.toLowerCase())}return this.gpuInfo=u,u}}}();function i(l){var a=l.targetCanvas,f=a.width,u=a.height,s=l.destinationWidth,c=l.destinationHeight;(f!==s||u!==c)&&(a.width=s,a.height=c)}function o(l,a){var f=l.canvas,u=a.targetCanvas,s=u.getContext("2d");s.translate(0,u.height),s.scale(1,-1);var c=f.height-u.height;s.drawImage(f,0,c,u.width,u.height,0,0,u.width,u.height)}function h(l,a){var f=a.targetCanvas,u=f.getContext("2d"),s=a.destinationWidth,c=a.destinationHeight,d=s*c*4,p=new Uint8Array(this.imageBuffer,0,d),g=new Uint8ClampedArray(this.imageBuffer,0,d);l.readPixels(0,0,s,c,l.RGBA,l.UNSIGNED_BYTE,p);var m=new ImageData(g,s,c);u.putImageData(m,0,0)}(function(){var l=function(){};t.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:l,dispose:l,clearWebGLCaches:l,resources:{},applyFilters:function(f,u,s,c,d){var p=d.getContext("2d");p.drawImage(u,0,0,s,c);var g=p.getImageData(0,0,s,c),m=p.getImageData(0,0,s,c),v={sourceWidth:s,sourceHeight:c,imageData:g,originalEl:u,originalImageData:m,canvasEl:d,ctx:p,filterBackend:this};return f.forEach(function(y){y.applyTo(v)}),(v.imageData.width!==s||v.imageData.height!==c)&&(d.width=v.imageData.width,d.height=v.imageData.height),p.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(l){l&&this.setOptions(l)},setOptions:function(l){for(var a in l)this[a]=l[a]},createProgram:function(l,a,f){a=a||this.fragmentSource,f=f||this.vertexSource,t.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var u=l.createShader(l.VERTEX_SHADER);if(l.shaderSource(u,f),l.compileShader(u),!l.getShaderParameter(u,l.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+l.getShaderInfoLog(u));var s=l.createShader(l.FRAGMENT_SHADER);if(l.shaderSource(s,a),l.compileShader(s),!l.getShaderParameter(s,l.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+l.getShaderInfoLog(s));var c=l.createProgram();if(l.attachShader(c,u),l.attachShader(c,s),l.linkProgram(c),!l.getProgramParameter(c,l.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+l.getProgramInfoLog(c));var d=this.getAttributeLocations(l,c),p=this.getUniformLocations(l,c)||{};return p.uStepW=l.getUniformLocation(c,"uStepW"),p.uStepH=l.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:d,uniformLocations:p}},getAttributeLocations:function(l,a){return{aPosition:l.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(l,a,f){var u=a.aPosition,s=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,s),l.enableVertexAttribArray(u),l.vertexAttribPointer(u,2,l.FLOAT,!1,0,0),l.bufferData(l.ARRAY_BUFFER,f,l.STATIC_DRAW)},_setupFrameBuffer:function(l){var a=l.context,f,u;l.passes>1?(f=l.destinationWidth,u=l.destinationHeight,(l.sourceWidth!==f||l.sourceHeight!==u)&&(a.deleteTexture(l.targetTexture),l.targetTexture=l.filterBackend.createTexture(a,f,u)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,l.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(l){l.passes--,l.pass++;var a=l.targetTexture;l.targetTexture=l.sourceTexture,l.sourceTexture=a},isNeutralState:function(){var l=this.mainParameter,a=t.Image.filters[this.type].prototype;if(l)if(Array.isArray(a[l])){for(var f=a[l].length;f--;)if(this[l][f]!==a[l][f])return!1;return!0}else return a[l]===this[l];else return!1},applyTo:function(l){l.webgl?(this._setupFrameBuffer(l),this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},retrieveShader:function(l){return l.programCache.hasOwnProperty(this.type)||(l.programCache[this.type]=this.createProgram(l.context)),l.programCache[this.type]},applyToWebGL:function(l){var a=l.context,f=this.retrieveShader(l);l.pass===0&&l.originalTexture?a.bindTexture(a.TEXTURE_2D,l.originalTexture):a.bindTexture(a.TEXTURE_2D,l.sourceTexture),a.useProgram(f.program),this.sendAttributeData(a,f.attributeLocations,l.aPosition),a.uniform1f(f.uniformLocations.uStepW,1/l.sourceWidth),a.uniform1f(f.uniformLocations.uStepH,1/l.sourceHeight),this.sendUniformData(a,f.uniformLocations),a.viewport(0,0,l.destinationWidth,l.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(l,a,f){l.activeTexture(f),l.bindTexture(l.TEXTURE_2D,a),l.activeTexture(l.TEXTURE0)},unbindAdditionalTexture:function(l,a){l.activeTexture(a),l.bindTexture(l.TEXTURE_2D,null),l.activeTexture(l.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(l){this[this.mainParameter]=l},sendUniformData:function(){},createHelpLayer:function(l){if(!l.helpLayer){var a=document.createElement("canvas");a.width=l.sourceWidth,a.height=l.sourceHeight,l.helpLayer=a}},toObject:function(){var l={type:this.type},a=this.mainParameter;return a&&(l[a]=this[a]),l},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(l,a){var f=new t.Image.filters[l.type](l);return a&&a(f),f},function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.ColorMatrix=u(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(s){this.callSuper("initialize",s),this.matrix=this.matrix.slice(0)},applyTo2d:function(s){var c=s.imageData,d=c.data,p=d.length,g=this.matrix,m,v,y,b,w,S=this.colorsOnly;for(w=0;w<p;w+=4)m=d[w],v=d[w+1],y=d[w+2],S?(d[w]=m*g[0]+v*g[1]+y*g[2]+g[4]*255,d[w+1]=m*g[5]+v*g[6]+y*g[7]+g[9]*255,d[w+2]=m*g[10]+v*g[11]+y*g[12]+g[14]*255):(b=d[w+3],d[w]=m*g[0]+v*g[1]+y*g[2]+b*g[3]+g[4]*255,d[w+1]=m*g[5]+v*g[6]+y*g[7]+b*g[8]+g[9]*255,d[w+2]=m*g[10]+v*g[11]+y*g[12]+b*g[13]+g[14]*255,d[w+3]=m*g[15]+v*g[16]+y*g[17]+b*g[18]+g[19]*255)},getUniformLocations:function(s,c){return{uColorMatrix:s.getUniformLocation(c,"uColorMatrix"),uConstants:s.getUniformLocation(c,"uConstants")}},sendUniformData:function(s,c){var d=this.matrix,p=[d[0],d[1],d[2],d[3],d[5],d[6],d[7],d[8],d[10],d[11],d[12],d[13],d[15],d[16],d[17],d[18]],g=[d[4],d[9],d[14],d[19]];s.uniformMatrix4fv(c.uColorMatrix,!1,p),s.uniform4fv(c.uConstants,g)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Brightness=u(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(s){if(this.brightness!==0){var c=s.imageData,d=c.data,p,g=d.length,m=Math.round(this.brightness*255);for(p=0;p<g;p+=4)d[p]=d[p]+m,d[p+1]=d[p+1]+m,d[p+2]=d[p+2]+m}},getUniformLocations:function(s,c){return{uBrightness:s.getUniformLocation(c,"uBrightness")}},sendUniformData:function(s,c){s.uniform1f(c.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.Image.filters,s=a.util.createClass;u.Convolute=s(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var d=Math.sqrt(this.matrix.length),p=this.type+"_"+d+"_"+(this.opaque?1:0),g=this.fragmentSource[p];return c.programCache.hasOwnProperty(p)||(c.programCache[p]=this.createProgram(c.context,g)),c.programCache[p]},applyTo2d:function(c){var d=c.imageData,p=d.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),v=Math.floor(m/2),y=d.width,b=d.height,w=c.ctx.createImageData(y,b),S=w.data,_=this.opaque?1:0,E,C,P,N,B,I,V,D,F,O,M,U,k;for(M=0;M<b;M++)for(O=0;O<y;O++){for(B=(M*y+O)*4,E=0,C=0,P=0,N=0,k=0;k<m;k++)for(U=0;U<m;U++)V=M+k-v,I=O+U-v,!(V<0||V>=b||I<0||I>=y)&&(D=(V*y+I)*4,F=g[k*m+U],E+=p[D]*F,C+=p[D+1]*F,P+=p[D+2]*F,_||(N+=p[D+3]*F));S[B]=E,S[B+1]=C,S[B+2]=P,_?S[B+3]=p[B+3]:S[B+3]=N}c.imageData=w},getUniformLocations:function(c,d){return{uMatrix:c.getUniformLocation(d,"uMatrix"),uOpaque:c.getUniformLocation(d,"uOpaque"),uHalfSize:c.getUniformLocation(d,"uHalfSize"),uSize:c.getUniformLocation(d,"uSize")}},sendUniformData:function(c,d){c.uniform1fv(d.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Grayscale=u(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(s){var c=s.imageData,d=c.data,p,g=d.length,m,v=this.mode;for(p=0;p<g;p+=4)v==="average"?m=(d[p]+d[p+1]+d[p+2])/3:v==="lightness"?m=(Math.min(d[p],d[p+1],d[p+2])+Math.max(d[p],d[p+1],d[p+2]))/2:v==="luminosity"&&(m=.21*d[p]+.72*d[p+1]+.07*d[p+2]),d[p]=m,d[p+1]=m,d[p+2]=m},retrieveShader:function(s){var c=this.type+"_"+this.mode;if(!s.programCache.hasOwnProperty(c)){var d=this.fragmentSource[this.mode];s.programCache[c]=this.createProgram(s.context,d)}return s.programCache[c]},getUniformLocations:function(s,c){return{uMode:s.getUniformLocation(c,"uMode")}},sendUniformData:function(s,c){var d=1;s.uniform1i(c.uMode,d)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Invert=u(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(s){var c=s.imageData,d=c.data,p,g=d.length;for(p=0;p<g;p+=4)d[p]=255-d[p],d[p+1]=255-d[p+1],d[p+2]=255-d[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(s,c){return{uInvert:s.getUniformLocation(c,"uInvert")}},sendUniformData:function(s,c){s.uniform1i(c.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.Image.filters,s=a.util.createClass;u.Noise=s(u.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var d=c.imageData,p=d.data,g,m=p.length,v=this.noise,y;for(g=0,m=p.length;g<m;g+=4)y=(.5-Math.random())*v,p[g]+=y,p[g+1]+=y,p[g+2]+=y}},getUniformLocations:function(c,d){return{uNoise:c.getUniformLocation(d,"uNoise"),uSeed:c.getUniformLocation(d,"uSeed")}},sendUniformData:function(c,d){c.uniform1f(d.uNoise,this.noise/255),c.uniform1f(d.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Pixelate=u(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(s){var c=s.imageData,d=c.data,p=c.height,g=c.width,m,v,y,b,w,S,_,E,C,P,N;for(v=0;v<p;v+=this.blocksize)for(y=0;y<g;y+=this.blocksize)for(m=v*4*g+y*4,b=d[m],w=d[m+1],S=d[m+2],_=d[m+3],P=Math.min(v+this.blocksize,p),N=Math.min(y+this.blocksize,g),E=v;E<P;E++)for(C=y;C<N;C++)m=E*4*g+C*4,d[m]=b,d[m+1]=w,d[m+2]=S,d[m+3]=_},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(s,c){return{uBlocksize:s.getUniformLocation(c,"uBlocksize"),uStepW:s.getUniformLocation(c,"uStepW"),uStepH:s.getUniformLocation(c,"uStepH")}},sendUniformData:function(s,c){s.uniform1f(c.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.extend,u=a.Image.filters,s=a.util.createClass;u.RemoveColor=s(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var d=c.imageData,p=d.data,g,m=this.distance*255,v,y,b,w=new a.Color(this.color).getSource(),S=[w[0]-m,w[1]-m,w[2]-m],_=[w[0]+m,w[1]+m,w[2]+m];for(g=0;g<p.length;g+=4)v=p[g],y=p[g+1],b=p[g+2],v>S[0]&&y>S[1]&&b>S[2]&&v<_[0]&&y<_[1]&&b<_[2]&&(p[g+3]=0)},getUniformLocations:function(c,d){return{uLow:c.getUniformLocation(d,"uLow"),uHigh:c.getUniformLocation(d,"uHigh")}},sendUniformData:function(c,d){var p=new a.Color(this.color).getSource(),g=parseFloat(this.distance),m=[0+p[0]/255-g,0+p[1]/255-g,0+p[2]/255-g,1],v=[p[0]/255+g,p[1]/255+g,p[2]/255+g,1];c.uniform4fv(d.uLow,m),c.uniform4fv(d.uHigh,v)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass,s={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in s)f[c]=u(f.ColorMatrix,{type:c,matrix:s[c],mainParameter:!1,colorsOnly:!0}),a.Image.filters[c].fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric,f=a.Image.filters,u=a.util.createClass;f.BlendColor=u(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(s){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[s]+`}
}`},retrieveShader:function(s){var c=this.type+"_"+this.mode,d;return s.programCache.hasOwnProperty(c)||(d=this.buildSource(this.mode),s.programCache[c]=this.createProgram(s.context,d)),s.programCache[c]},applyTo2d:function(s){var c=s.imageData,d=c.data,p=d.length,g,m,v,y,b,w,S,_=1-this.alpha;S=new a.Color(this.color).getSource(),g=S[0]*this.alpha,m=S[1]*this.alpha,v=S[2]*this.alpha;for(var E=0;E<p;E+=4)switch(y=d[E],b=d[E+1],w=d[E+2],this.mode){case"multiply":d[E]=y*g/255,d[E+1]=b*m/255,d[E+2]=w*v/255;break;case"screen":d[E]=255-(255-y)*(255-g)/255,d[E+1]=255-(255-b)*(255-m)/255,d[E+2]=255-(255-w)*(255-v)/255;break;case"add":d[E]=y+g,d[E+1]=b+m,d[E+2]=w+v;break;case"diff":case"difference":d[E]=Math.abs(y-g),d[E+1]=Math.abs(b-m),d[E+2]=Math.abs(w-v);break;case"subtract":d[E]=y-g,d[E+1]=b-m,d[E+2]=w-v;break;case"darken":d[E]=Math.min(y,g),d[E+1]=Math.min(b,m),d[E+2]=Math.min(w,v);break;case"lighten":d[E]=Math.max(y,g),d[E+1]=Math.max(b,m),d[E+2]=Math.max(w,v);break;case"overlay":d[E]=g<128?2*y*g/255:255-2*(255-y)*(255-g)/255,d[E+1]=m<128?2*b*m/255:255-2*(255-b)*(255-m)/255,d[E+2]=v<128?2*w*v/255:255-2*(255-w)*(255-v)/255;break;case"exclusion":d[E]=g+y-2*g*y/255,d[E+1]=m+b-2*m*b/255,d[E+2]=v+w-2*v*w/255;break;case"tint":d[E]=g+y*_,d[E+1]=m+b*_,d[E+2]=v+w*_}},getUniformLocations:function(s,c){return{uColor:s.getUniformLocation(c,"uColor")}},sendUniformData:function(s,c){var d=new a.Color(this.color).getSource();d[0]=this.alpha*d[0]/255,d[1]=this.alpha*d[1]/255,d[2]=this.alpha*d[2]/255,d[3]=this.alpha,s.uniform4fv(c.uColor,d)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric,f=a.Image.filters,u=a.util.createClass;f.BlendImage=u(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(s){var c=this.type+"_"+this.mode,d=this.fragmentSource[this.mode];return s.programCache.hasOwnProperty(c)||(s.programCache[c]=this.createProgram(s.context,d)),s.programCache[c]},applyToWebGL:function(s){var c=s.context,d=this.createTexture(s.filterBackend,this.image);this.bindAdditionalTexture(c,d,c.TEXTURE1),this.callSuper("applyToWebGL",s),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(s,c){return s.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var s=this.image,c=s._element.width,d=s._element.height;return[1/s.scaleX,0,0,0,1/s.scaleY,0,-s.left/c,-s.top/d,1]},applyTo2d:function(s){var c=s.imageData,d=s.filterBackend.resources,p=c.data,g=p.length,m=c.width,v=c.height,y,b,w,S,_,E,C,P,N,B,I=this.image,V;d.blendImage||(d.blendImage=a.util.createCanvasElement()),N=d.blendImage,B=N.getContext("2d"),N.width!==m||N.height!==v?(N.width=m,N.height=v):B.clearRect(0,0,m,v),B.setTransform(I.scaleX,0,0,I.scaleY,I.left,I.top),B.drawImage(I._element,0,0,m,v),V=B.getImageData(0,0,m,v).data;for(var D=0;D<g;D+=4)switch(_=p[D],E=p[D+1],C=p[D+2],P=p[D+3],y=V[D],b=V[D+1],w=V[D+2],S=V[D+3],this.mode){case"multiply":p[D]=_*y/255,p[D+1]=E*b/255,p[D+2]=C*w/255,p[D+3]=P*S/255;break;case"mask":p[D+3]=S;break}},getUniformLocations:function(s,c){return{uTransformMatrix:s.getUniformLocation(c,"uTransformMatrix"),uImage:s.getUniformLocation(c,"uImage")}},sendUniformData:function(s,c){var d=this.calculateMatrix();s.uniform1i(c.uImage,1),s.uniformMatrix3fv(c.uTransformMatrix,!1,d)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(s,c){a.Image.fromObject(s.image,function(d){var p=a.util.object.clone(s);p.image=d,c(new a.Image.filters.BlendImage(p))})}}(e),function(l){var a=l.fabric||(l.fabric={}),f=Math.pow,u=Math.floor,s=Math.sqrt,c=Math.abs,d=Math.round,p=Math.sin,g=Math.ceil,m=a.Image.filters,v=a.util.createClass;m.Resize=v(m.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,b){return{uDelta:y.getUniformLocation(b,"uDelta"),uTaps:y.getUniformLocation(b,"uTaps")}},sendUniformData:function(y,b){y.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(y){var b=this.getFilterWindow(),w=this.type+"_"+b;if(!y.programCache.hasOwnProperty(w)){var S=this.generateShader(b);y.programCache[w]=this.createProgram(y.context,S)}return y.programCache[w]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,w=this.getFilterWindow(),S=new Array(w),_=1;_<=w;_++)S[_-1]=y(_*b);return S},generateShader:function(S){for(var b=new Array(S),w=this.fragmentSourceTOP,S,_=1;_<=S;_++)b[_-1]=_+".0 * uDelta";return w+="uniform float uTaps["+S+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,b.forEach(function(E,C){w+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+C+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+C+`];
`,w+="  sum += 2.0 * uTaps["+C+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(b){if(b>=y||b<=-y)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var w=b/y;return p(b)/b*p(w)/w}},applyTo2d:function(y){var b=y.imageData,w=this.scaleX,S=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/S;var _=b.width,E=b.height,C=d(_*w),P=d(E*S),N;this.resizeType==="sliceHack"?N=this.sliceByTwo(y,_,E,C,P):this.resizeType==="hermite"?N=this.hermiteFastResize(y,_,E,C,P):this.resizeType==="bilinear"?N=this.bilinearFiltering(y,_,E,C,P):this.resizeType==="lanczos"&&(N=this.lanczosResize(y,_,E,C,P)),y.imageData=N},sliceByTwo:function(y,b,w,S,_){var E=y.imageData,C=.5,P=!1,N=!1,B=b*C,I=w*C,V=a.filterBackend.resources,D,F,O=0,M=0,U=b,k=0;for(V.sliceByTwo||(V.sliceByTwo=document.createElement("canvas")),D=V.sliceByTwo,(D.width<b*1.5||D.height<w)&&(D.width=b*1.5,D.height=w),F=D.getContext("2d"),F.clearRect(0,0,b*1.5,w),F.putImageData(E,0,0),S=u(S),_=u(_);!P||!N;)b=B,w=I,S<u(B*C)?B=u(B*C):(B=S,P=!0),_<u(I*C)?I=u(I*C):(I=_,N=!0),F.drawImage(D,O,M,b,w,U,k,B,I),O=U,M=k,k+=I;return F.getImageData(O,M,S,_)},lanczosResize:function(y,b,w,S,_){function E(j){var A,Y,L,$,H,W,K,G,J,ee,ce;for(k.x=(j+.5)*I,R.x=u(k.x),A=0;A<_;A++){for(k.y=(A+.5)*V,R.y=u(k.y),H=0,W=0,K=0,G=0,J=0,Y=R.x-O;Y<=R.x+O;Y++)if(!(Y<0||Y>=b)){ee=u(1e3*c(Y-k.x)),U[ee]||(U[ee]={});for(var te=R.y-M;te<=R.y+M;te++)te<0||te>=w||(ce=u(1e3*c(te-k.y)),U[ee][ce]||(U[ee][ce]=B(s(f(ee*D,2)+f(ce*F,2))/1e3)),L=U[ee][ce],L>0&&($=(te*b+Y)*4,H+=L,W+=L*C[$],K+=L*C[$+1],G+=L*C[$+2],J+=L*C[$+3]))}$=(A*S+j)*4,N[$]=W/H,N[$+1]=K/H,N[$+2]=G/H,N[$+3]=J/H}return++j<S?E(j):P}var C=y.imageData.data,P=y.ctx.createImageData(S,_),N=P.data,B=this.lanczosCreate(this.lanczosLobes),I=this.rcpScaleX,V=this.rcpScaleY,D=2/this.rcpScaleX,F=2/this.rcpScaleY,O=g(I*this.lanczosLobes/2),M=g(V*this.lanczosLobes/2),U={},k={},R={};return E(0)},bilinearFiltering:function(y,b,w,S,_){var E,C,P,N,B,I,V,D,F,O,M,U,k=0,R,j=this.rcpScaleX,A=this.rcpScaleY,Y=4*(b-1),L=y.imageData,$=L.data,H=y.ctx.createImageData(S,_),W=H.data;for(V=0;V<_;V++)for(D=0;D<S;D++)for(B=u(j*D),I=u(A*V),F=j*D-B,O=A*V-I,R=4*(I*b+B),M=0;M<4;M++)E=$[R+M],C=$[R+4+M],P=$[R+Y+M],N=$[R+Y+4+M],U=E*(1-F)*(1-O)+C*F*(1-O)+P*O*(1-F)+N*F*O,W[k++]=U;return H},hermiteFastResize:function(y,b,w,S,_){for(var E=this.rcpScaleX,C=this.rcpScaleY,P=g(E/2),N=g(C/2),B=y.imageData,I=B.data,V=y.ctx.createImageData(S,_),D=V.data,F=0;F<_;F++)for(var O=0;O<S;O++){for(var M=(O+F*S)*4,U=0,k=0,R=0,j=0,A=0,Y=0,L=0,$=(F+.5)*C,H=u(F*C);H<(F+1)*C;H++)for(var W=c($-(H+.5))/N,K=(O+.5)*E,G=W*W,J=u(O*E);J<(O+1)*E;J++){var ee=c(K-(J+.5))/P,ce=s(G+ee*ee);ce>1&&ce<-1||(U=2*ce*ce*ce-3*ce*ce+1,U>0&&(ee=4*(J+H*b),L+=U*I[ee+3],R+=U,I[ee+3]<255&&(U=U*I[ee+3]/250),j+=U*I[ee],A+=U*I[ee+1],Y+=U*I[ee+2],k+=U))}D[M]=j/k,D[M+1]=A/k,D[M+2]=Y/k,D[M+3]=L/R}return V},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Contrast=u(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(s){if(this.contrast!==0){var c=s.imageData,d,g,p=c.data,g=p.length,m=Math.floor(this.contrast*255),v=259*(m+255)/(255*(259-m));for(d=0;d<g;d+=4)p[d]=v*(p[d]-128)+128,p[d+1]=v*(p[d+1]-128)+128,p[d+2]=v*(p[d+2]-128)+128}},getUniformLocations:function(s,c){return{uContrast:s.getUniformLocation(c,"uContrast")}},sendUniformData:function(s,c){s.uniform1f(c.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Saturation=u(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(s){if(this.saturation!==0){var c=s.imageData,d=c.data,p=d.length,g=-this.saturation,m,v;for(m=0;m<p;m+=4)v=Math.max(d[m],d[m+1],d[m+2]),d[m]+=v!==d[m]?(v-d[m])*g:0,d[m+1]+=v!==d[m+1]?(v-d[m+1])*g:0,d[m+2]+=v!==d[m+2]?(v-d[m+2])*g:0}},getUniformLocations:function(s,c){return{uSaturation:s.getUniformLocation(c,"uSaturation")}},sendUniformData:function(s,c){s.uniform1f(c.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Vibrance=u(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(s){if(this.vibrance!==0){var c=s.imageData,d=c.data,p=d.length,g=-this.vibrance,m,v,y,b;for(m=0;m<p;m+=4)v=Math.max(d[m],d[m+1],d[m+2]),y=(d[m]+d[m+1]+d[m+2])/3,b=Math.abs(v-y)*2/255*g,d[m]+=v!==d[m]?(v-d[m])*b:0,d[m+1]+=v!==d[m+1]?(v-d[m+1])*b:0,d[m+2]+=v!==d[m+2]?(v-d[m+2])*b:0}},getUniformLocations:function(s,c){return{uVibrance:s.getUniformLocation(c,"uVibrance")}},sendUniformData:function(s,c){s.uniform1f(c.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Blur=u(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(s){s.webgl?(this.aspectRatio=s.sourceWidth/s.sourceHeight,s.passes++,this._setupFrameBuffer(s),this.horizontal=!0,this.applyToWebGL(s),this._swapTextures(s),this._setupFrameBuffer(s),this.horizontal=!1,this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},applyTo2d:function(s){s.imageData=this.simpleBlur(s)},simpleBlur:function(s){var c=s.filterBackend.resources,d,p,g=s.imageData.width,m=s.imageData.height;c.blurLayer1||(c.blurLayer1=a.util.createCanvasElement(),c.blurLayer2=a.util.createCanvasElement()),d=c.blurLayer1,p=c.blurLayer2,(d.width!==g||d.height!==m)&&(p.width=d.width=g,p.height=d.height=m);var v=d.getContext("2d"),y=p.getContext("2d"),b=15,w,S,_,E,C=this.blur*.06*.5;for(v.putImageData(s.imageData,0,0),y.clearRect(0,0,g,m),E=-b;E<=b;E++)w=(Math.random()-.5)/4,S=E/b,_=C*S*g+w,y.globalAlpha=1-Math.abs(S),y.drawImage(d,_,w),v.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);for(E=-b;E<=b;E++)w=(Math.random()-.5)/4,S=E/b,_=C*S*m+w,y.globalAlpha=1-Math.abs(S),y.drawImage(d,w,_),v.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);s.ctx.drawImage(d,0,0);var P=s.ctx.getImageData(0,0,d.width,d.height);return v.globalAlpha=1,v.clearRect(0,0,d.width,d.height),P},getUniformLocations:function(s,c){return{delta:s.getUniformLocation(c,"uDelta")}},sendUniformData:function(s,c){var d=this.chooseRightDelta();s.uniform2fv(c.delta,d)},chooseRightDelta:function(){var s=1,c=[0,0],d;return this.horizontal?this.aspectRatio>1&&(s=1/this.aspectRatio):this.aspectRatio<1&&(s=this.aspectRatio),d=s*this.blur*.12,this.horizontal?c[0]=d:c[1]=d,c}}),f.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Gamma=u(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(s){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,s)},applyTo2d:function(s){var c=s.imageData,d=c.data,p=this.gamma,g=d.length,m=1/p[0],v=1/p[1],y=1/p[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,g=256;b<g;b++)this.rVals[b]=Math.pow(b/255,m)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,y)*255;for(b=0,g=d.length;b<g;b+=4)d[b]=this.rVals[d[b]],d[b+1]=this.gVals[d[b+1]],d[b+2]=this.bVals[d[b+2]]},getUniformLocations:function(s,c){return{uGamma:s.getUniformLocation(c,"uGamma")}},sendUniformData:function(s,c){s.uniform3fv(c.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.Composed=u(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(s){this.callSuper("initialize",s),this.subFilters=this.subFilters.slice(0)},applyTo:function(s){s.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(s)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(s){return s.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(s){return!s.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(s,c){var d=s.subFilters||[],p=d.map(function(m){return new a.Image.filters[m.type](m)}),g=new a.Image.filters.Composed({subFilters:p});return c&&c(g),g}}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.Image.filters,u=a.util.createClass;f.HueRotation=u(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var s=this.rotation*Math.PI,c=a.util.cos(s),d=a.util.sin(s),p=1/3,g=Math.sqrt(p)*d,m=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+m/3,this.matrix[1]=p*m-g,this.matrix[2]=p*m+g,this.matrix[5]=p*m+g,this.matrix[6]=c+p*m,this.matrix[7]=p*m-g,this.matrix[10]=p*m-g,this.matrix[11]=p*m+g,this.matrix[12]=c+p*m},isNeutralState:function(s){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,s)},applyTo:function(s){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,s)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(e),function(l){var a=l.fabric||(l.fabric={}),f=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(u),cacheProperties:a.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(s,c){this.styles=c?c.styles||{}:{},this.text=s,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var s=this.path;s&&(s.segmentsInfo=a.util.getPathSegmentsInfo(s.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var s=this._splitTextIntoLines(this.text);return this.textLines=s.lines,this._textLines=s.graphemeLines,this._unwrappedTextLines=s._unwrappedLines,this._text=s.graphemeText,s},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var s,c,d,p,g,m,v,y=0,b=this._textLines.length;y<b;y++)if(!(this.textAlign!=="justify"&&(y===b-1||this.isEndOfWrapping(y)))&&(p=0,g=this._textLines[y],c=this.getLineWidth(y),c<this.width&&(v=this.textLines[y].match(this._reSpacesAndTabs)))){d=v.length,s=(this.width-c)/d;for(var w=0,S=g.length;w<=S;w++)m=this.__charBounds[y][w],this._reSpaceAndTab.test(g[w])?(m.width+=s,m.kernedWidth+=s,m.left+=p,p+=s):m.left+=p}},isEndOfWrapping:function(s){return s===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var s=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return s.width+=c*s.zoomX,s.height+=c*s.zoomY,s},_render:function(s){var c=this.path;c&&!c.isNotVisible()&&c._render(s),this._setTextStyles(s),this._renderTextLinesBackground(s),this._renderTextDecoration(s,"underline"),this._renderText(s),this._renderTextDecoration(s,"overline"),this._renderTextDecoration(s,"linethrough")},_renderText:function(s){this.paintFirst==="stroke"?(this._renderTextStroke(s),this._renderTextFill(s)):(this._renderTextFill(s),this._renderTextStroke(s))},_setTextStyles:function(s,c,d){if(s.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":s.textBaseline="middle";break;case"ascender":s.textBaseline="top";break;case"descender":s.textBaseline="bottom";break}s.font=this._getFontDeclaration(c,d)},calcTextWidth:function(){for(var s=this.getLineWidth(0),c=1,d=this._textLines.length;c<d;c++){var p=this.getLineWidth(c);p>s&&(s=p)}return s},_renderTextLine:function(s,c,d,p,g,m){this._renderChars(s,c,d,p,g,m)},_renderTextLinesBackground:function(s){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,d,p=s.fillStyle,g,m,v=this._getLeftOffset(),y=this._getTopOffset(),b=0,w=0,S,_,E=this.path,C,P=0,N=this._textLines.length;P<N;P++){if(c=this.getHeightOfLine(P),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",P)){y+=c;continue}g=this._textLines[P],d=this._getLineLeftOffset(P),w=0,b=0,m=this.getValueOfPropertyAt(P,0,"textBackgroundColor");for(var B=0,I=g.length;B<I;B++)S=this.__charBounds[P][B],_=this.getValueOfPropertyAt(P,B,"textBackgroundColor"),E?(s.save(),s.translate(S.renderLeft,S.renderTop),s.rotate(S.angle),s.fillStyle=_,_&&s.fillRect(-S.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),S.width,c/this.lineHeight),s.restore()):_!==m?(C=v+d+b,this.direction==="rtl"&&(C=this.width-C-w),s.fillStyle=m,m&&s.fillRect(C,y,w,c/this.lineHeight),b=S.left,w=S.width,m=_):w+=S.kernedWidth;_&&!E&&(C=v+d+b,this.direction==="rtl"&&(C=this.width-C-w),s.fillStyle=_,s.fillRect(C,y,w,c/this.lineHeight)),y+=c}s.fillStyle=p,this._removeShadow(s)}},getFontCache:function(s){var c=s.fontFamily.toLowerCase();a.charWidthsCache[c]||(a.charWidthsCache[c]={});var d=a.charWidthsCache[c],p=s.fontStyle.toLowerCase()+"_"+(s.fontWeight+"").toLowerCase();return d[p]||(d[p]={}),d[p]},_measureChar:function(s,c,d,p){var g=this.getFontCache(c),m=this._getFontDeclaration(c),v=this._getFontDeclaration(p),y=d+s,b=m===v,w,S,_,E=c.fontSize/this.CACHE_FONT_SIZE,C;if(d&&g[d]!==void 0&&(_=g[d]),g[s]!==void 0&&(C=w=g[s]),b&&g[y]!==void 0&&(S=g[y],C=S-_),w===void 0||_===void 0||S===void 0){var P=this.getMeasuringContext();this._setTextStyles(P,c,!0)}return w===void 0&&(C=w=P.measureText(s).width,g[s]=w),_===void 0&&b&&d&&(_=P.measureText(d).width,g[d]=_),b&&S===void 0&&(S=P.measureText(y).width,g[y]=S,C=S-_),{width:w*E,kernedWidth:C*E}},getHeightOfChar:function(s,c){return this.getValueOfPropertyAt(s,c,"fontSize")},measureLine:function(s){var c=this._measureLine(s);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(s){var c=0,d,p,g=this._textLines[s],m,v,y=0,b=new Array(g.length),w=0,S,_,E=this.path,C=this.pathSide==="right";for(this.__charBounds[s]=b,d=0;d<g.length;d++)p=g[d],v=this._getGraphemeBox(p,s,d,m),b[d]=v,c+=v.kernedWidth,m=p;if(b[d]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(_=E.segmentsInfo[E.segmentsInfo.length-1].length,S=a.util.getPointOnPath(E.path,0,E.segmentsInfo),S.x+=E.pathOffset.x,S.y+=E.pathOffset.y,this.textAlign){case"left":w=C?_-c:0;break;case"center":w=(_-c)/2;break;case"right":w=C?0:_-c;break}for(w+=this.pathStartOffset*(C?-1:1),d=C?g.length-1:0;C?d>=0:d<g.length;C?d--:d++)v=b[d],w>_?w%=_:w<0&&(w+=_),this._setGraphemeOnPath(w,v,S),w+=v.kernedWidth}return{width:c,numOfSpaces:y}},_setGraphemeOnPath:function(s,c,d){var p=s+c.kernedWidth/2,g=this.path,m=a.util.getPointOnPath(g.path,p,g.segmentsInfo);c.renderLeft=m.x-d.x,c.renderTop=m.y-d.y,c.angle=m.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(s,c,d,p,g){var m=this.getCompleteStyleDeclaration(c,d),v=p?this.getCompleteStyleDeclaration(c,d-1):{},y=this._measureChar(s,m,p,v),b=y.kernedWidth,w=y.width,S;this.charSpacing!==0&&(S=this._getWidthOfCharSpacing(),w+=S,b+=S);var _={width:w,left:0,height:m.fontSize,kernedWidth:b,deltaY:m.deltaY};if(d>0&&!g){var E=this.__charBounds[c][d-1];_.left=E.left+E.width+y.kernedWidth-y.width}return _},getHeightOfLine:function(s){if(this.__lineHeights[s])return this.__lineHeights[s];for(var c=this._textLines[s],d=this.getHeightOfChar(s,0),p=1,g=c.length;p<g;p++)d=Math.max(this.getHeightOfChar(s,p),d);return this.__lineHeights[s]=d*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var s,c=0,d=0,p=this._textLines.length;d<p;d++)s=this.getHeightOfLine(d),c+=d===p-1?s/this.lineHeight:s;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(s,c){s.save();for(var d=0,p=this._getLeftOffset(),g=this._getTopOffset(),m=0,v=this._textLines.length;m<v;m++){var y=this.getHeightOfLine(m),b=y/this.lineHeight,w=this._getLineLeftOffset(m);this._renderTextLine(c,s,this._textLines[m],p+w,g+d+b,m),d+=y}s.restore()},_renderTextFill:function(s){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(s,"fillText")},_renderTextStroke:function(s){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(s),s.save(),this._setLineDash(s,this.strokeDashArray),s.beginPath(),this._renderTextCommon(s,"strokeText"),s.closePath(),s.restore())},_renderChars:function(s,c,d,p,g,m){var v=this.getHeightOfLine(m),y=this.textAlign.indexOf("justify")!==-1,b,w,S="",_,E=0,C,P=this.path,N=!y&&this.charSpacing===0&&this.isEmptyStyles(m)&&!P,B=this.direction==="ltr",I=this.direction==="ltr"?1:-1,V,D=c.canvas.getAttribute("dir");if(c.save(),D!==this.direction&&(c.canvas.setAttribute("dir",B?"ltr":"rtl"),c.direction=B?"ltr":"rtl",c.textAlign=B?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,N){this._renderChar(s,c,m,0,d.join(""),p,g,v),c.restore();return}for(var F=0,O=d.length-1;F<=O;F++)C=F===O||this.charSpacing||P,S+=d[F],_=this.__charBounds[m][F],E===0?(p+=I*(_.kernedWidth-_.width),E+=_.width):E+=_.kernedWidth,y&&!C&&this._reSpaceAndTab.test(d[F])&&(C=!0),C||(b=b||this.getCompleteStyleDeclaration(m,F),w=this.getCompleteStyleDeclaration(m,F+1),C=a.util.hasStyleChanged(b,w,!1)),C&&(P?(c.save(),c.translate(_.renderLeft,_.renderTop),c.rotate(_.angle),this._renderChar(s,c,m,F,S,-E/2,0,v),c.restore()):(V=p,this._renderChar(s,c,m,F,S,V,g,v)),S="",b=w,p+=I*E,E=0);c.restore()},_applyPatternGradientTransformText:function(s){var c=a.util.createCanvasElement(),d,p=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return c.width=p,c.height=g,d=c.getContext("2d"),d.beginPath(),d.moveTo(0,0),d.lineTo(p,0),d.lineTo(p,g),d.lineTo(0,g),d.closePath(),d.translate(p/2,g/2),d.fillStyle=s.toLive(d),this._applyPatternGradientTransform(d,s),d.fill(),d.createPattern(c,"no-repeat")},handleFiller:function(s,c,d){var p,g;return d.toLive?d.gradientUnits==="percentage"||d.gradientTransform||d.patternTransform?(p=-this.width/2,g=-this.height/2,s.translate(p,g),s[c]=this._applyPatternGradientTransformText(d),{offsetX:p,offsetY:g}):(s[c]=d.toLive(s,this),this._applyPatternGradientTransform(s,d)):(s[c]=d,{offsetX:0,offsetY:0})},_setStrokeStyles:function(s,c){return s.lineWidth=c.strokeWidth,s.lineCap=this.strokeLineCap,s.lineDashOffset=this.strokeDashOffset,s.lineJoin=this.strokeLineJoin,s.miterLimit=this.strokeMiterLimit,this.handleFiller(s,"strokeStyle",c.stroke)},_setFillStyles:function(s,c){return this.handleFiller(s,"fillStyle",c.fill)},_renderChar:function(s,c,d,p,g,m,v){var y=this._getStyleDeclaration(d,p),b=this.getCompleteStyleDeclaration(d,p),w=s==="fillText"&&b.fill,S=s==="strokeText"&&b.stroke&&b.strokeWidth,_,E;!S&&!w||(c.save(),w&&(_=this._setFillStyles(c,b)),S&&(E=this._setStrokeStyles(c,b)),c.font=this._getFontDeclaration(b),y&&y.textBackgroundColor&&this._removeShadow(c),y&&y.deltaY&&(v+=y.deltaY),w&&c.fillText(g,m-_.offsetX,v-_.offsetY),S&&c.strokeText(g,m-E.offsetX,v-E.offsetY),c.restore())},setSuperscript:function(s,c){return this._setScript(s,c,this.superscript)},setSubscript:function(s,c){return this._setScript(s,c,this.subscript)},_setScript:function(s,c,d){var p=this.get2DCursorLocation(s,!0),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),m=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),v={fontSize:g*d.size,deltaY:m+g*d.baseline};return this.setSelectionStyles(v,s,c),this},_getLineLeftOffset:function(s){var c=this.getLineWidth(s),d=this.width-c,p=this.textAlign,g=this.direction,v,m=0,v=this.isEndOfWrapping(s);return p==="justify"||p==="justify-center"&&!v||p==="justify-right"&&!v||p==="justify-left"&&!v?0:(p==="center"&&(m=d/2),p==="right"&&(m=d),p==="justify-center"&&(m=d/2),p==="justify-right"&&(m=d),g==="rtl"&&(m-=d),m)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var s=this._forceClearCache;return s||(s=this.hasStateChanged("_dimensionAffectingProps")),s&&(this.dirty=!0,this._forceClearCache=!1),s},getLineWidth:function(s){if(this.__lineWidths[s]!==void 0)return this.__lineWidths[s];var c=this.measureLine(s),d=c.width;return this.__lineWidths[s]=d,d},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(s,c,d){var p=this._getStyleDeclaration(s,c);return p&&typeof p[d]<"u"?p[d]:this[d]},_renderTextDecoration:function(s,c){if(!(!this[c]&&!this.styleHas(c))){for(var d,p,g,m,v,y,b,w,S=this._getLeftOffset(),_=this._getTopOffset(),E,C,P,N,B,I,V,D,F=this.path,O=this._getWidthOfCharSpacing(),M=this.offsets[c],U=0,k=this._textLines.length;U<k;U++){if(d=this.getHeightOfLine(U),!this[c]&&!this.styleHas(c,U)){_+=d;continue}b=this._textLines[U],I=d/this.lineHeight,m=this._getLineLeftOffset(U),C=0,P=0,w=this.getValueOfPropertyAt(U,0,c),D=this.getValueOfPropertyAt(U,0,"fill"),E=_+I*(1-this._fontSizeFraction),p=this.getHeightOfChar(U,0),v=this.getValueOfPropertyAt(U,0,"deltaY");for(var R=0,j=b.length;R<j;R++)if(N=this.__charBounds[U][R],B=this.getValueOfPropertyAt(U,R,c),V=this.getValueOfPropertyAt(U,R,"fill"),g=this.getHeightOfChar(U,R),y=this.getValueOfPropertyAt(U,R,"deltaY"),F&&B&&V)s.save(),s.fillStyle=D,s.translate(N.renderLeft,N.renderTop),s.rotate(N.angle),s.fillRect(-N.kernedWidth/2,M*g+y,N.kernedWidth,this.fontSize/15),s.restore();else if((B!==w||V!==D||g!==p||y!==v)&&P>0){var A=S+m+C;this.direction==="rtl"&&(A=this.width-A-P),w&&D&&(s.fillStyle=D,s.fillRect(A,E+M*p+v,P,this.fontSize/15)),C=N.left,P=N.width,w=B,D=V,p=g,v=y}else P+=N.kernedWidth;var A=S+m+C;this.direction==="rtl"&&(A=this.width-A-P),s.fillStyle=V,B&&V&&s.fillRect(A,E+M*p+v,P-O,this.fontSize/15),_+=d}this._removeShadow(s)}},_getFontDeclaration:function(s,c){var d=s||this,p=this.fontFamily,g=a.Text.genericFonts.indexOf(p.toLowerCase())>-1,m=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||g?d.fontFamily:'"'+d.fontFamily+'"';return[a.isLikelyNode?d.fontWeight:d.fontStyle,a.isLikelyNode?d.fontStyle:d.fontWeight,c?this.CACHE_FONT_SIZE+"px":d.fontSize+"px",m].join(" ")},render:function(s){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",s)))},_splitTextIntoLines:function(s){for(var c=s.split(this._reNewline),d=new Array(c.length),p=[`
`],g=[],m=0;m<c.length;m++)d[m]=a.util.string.graphemeSplit(c[m]),g=g.concat(d[m],p);return g.pop(),{_unwrappedLines:d,lines:c,graphemeText:g,graphemeLines:d}},toObject:function(s){var c=u.concat(s),d=this.callSuper("toObject",c);return d.styles=a.util.stylesToArray(this.styles,this.text),d.path&&(d.path=this.path.toObject()),d},set:function(s,c){this.callSuper("set",s,c);var d=!1,p=!1;if(typeof s=="object")for(var g in s)g==="path"&&this.setPathInfo(),d=d||this._dimensionAffectingProps.indexOf(g)!==-1,p=p||g==="path";else d=this._dimensionAffectingProps.indexOf(s)!==-1,p=s==="path";return p&&this.setPathInfo(),d&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(s,c,d){if(!s)return c(null);var p=a.parseAttributes(s,a.Text.ATTRIBUTE_NAMES),g=p.textAnchor||"left";if(d=a.util.object.extend(d?f(d):{},p),d.top=d.top||0,d.left=d.left||0,p.textDecoration){var m=p.textDecoration;m.indexOf("underline")!==-1&&(d.underline=!0),m.indexOf("overline")!==-1&&(d.overline=!0),m.indexOf("line-through")!==-1&&(d.linethrough=!0),delete d.textDecoration}"dx"in p&&(d.left+=p.dx),"dy"in p&&(d.top+=p.dy),"fontSize"in d||(d.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in s?v=s.textContent:"firstChild"in s&&s.firstChild!==null&&"data"in s.firstChild&&s.firstChild.data!==null&&(v=s.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=d.strokeWidth;d.strokeWidth=0;var b=new a.Text(v,d),w=b.getScaledHeight()/b.height,S=(b.height+b.strokeWidth)*b.lineHeight-b.height,_=S*w,E=b.getScaledHeight()+_,C=0;g==="center"&&(C=b.getScaledWidth()/2),g==="right"&&(C=b.getScaledWidth()),b.set({left:b.left-C,top:b.top-(E-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof y<"u"?y:1}),c(b)},a.Text.fromObject=function(s,c){var d=f(s),p=s.path;return delete d.path,a.Object._fromObject("Text",d,function(g){g.styles=a.util.stylesFromArray(s.styles,s.text),p?a.Object._fromObject("Path",p,function(m){g.set("path",m),c(g)},"path"):c(g)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(l){if(!this.styles||typeof l<"u"&&!this.styles[l])return!0;var a=typeof l>"u"?this.styles:{line:this.styles[l]};for(var f in a)for(var u in a[f])for(var s in a[f][u])return!1;return!0},styleHas:function(l,a){if(!this.styles||!l||l===""||typeof a<"u"&&!this.styles[a])return!1;var f=typeof a>"u"?this.styles:{0:this.styles[a]};for(var u in f)for(var s in f[u])if(typeof f[u][s][l]<"u")return!0;return!1},cleanStyle:function(l){if(!this.styles||!l||l==="")return!1;var a=this.styles,f=0,u,s,c=!0,d=0,p;for(var g in a){u=0;for(var m in a[g]){var p=a[g][m],v=p.hasOwnProperty(l);f++,v?(s?p[l]!==s&&(c=!1):s=p[l],p[l]===this[l]&&delete p[l]):c=!1,Object.keys(p).length!==0?u++:delete a[g][m]}u===0&&delete a[g]}for(var y=0;y<this._textLines.length;y++)d+=this._textLines[y].length;c&&f===d&&(this[l]=s,this.removeStyle(l))},removeStyle:function(l){if(!(!this.styles||!l||l==="")){var a=this.styles,f,u,s;for(u in a){f=a[u];for(s in f)delete f[s][l],Object.keys(f[s]).length===0&&delete f[s];Object.keys(f).length===0&&delete a[u]}}},_extendStyles:function(l,a){var f=this.get2DCursorLocation(l);this._getLineStyle(f.lineIndex)||this._setLineStyle(f.lineIndex),this._getStyleDeclaration(f.lineIndex,f.charIndex)||this._setStyleDeclaration(f.lineIndex,f.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(f.lineIndex,f.charIndex),a)},get2DCursorLocation:function(l,a){typeof l>"u"&&(l=this.selectionStart);for(var f=a?this._unwrappedTextLines:this._textLines,u=f.length,s=0;s<u;s++){if(l<=f[s].length)return{lineIndex:s,charIndex:l};l-=f[s].length+this.missingNewlineOffset(s)}return{lineIndex:s-1,charIndex:f[s-1].length<l?f[s-1].length:l}},getSelectionStyles:function(l,a,f){typeof l>"u"&&(l=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||l);for(var u=[],s=l;s<a;s++)u.push(this.getStyleAtPosition(s,f));return u},getStyleAtPosition:function(l,a){var f=this.get2DCursorLocation(l),u=a?this.getCompleteStyleDeclaration(f.lineIndex,f.charIndex):this._getStyleDeclaration(f.lineIndex,f.charIndex);return u||{}},setSelectionStyles:function(l,a,f){typeof a>"u"&&(a=this.selectionStart||0),typeof f>"u"&&(f=this.selectionEnd||a);for(var u=a;u<f;u++)this._extendStyles(u,l);return this._forceClearCache=!0,this},_getStyleDeclaration:function(l,a){var f=this.styles&&this.styles[l];return f?f[a]:null},getCompleteStyleDeclaration:function(l,a){for(var f=this._getStyleDeclaration(l,a)||{},u={},s,c=0;c<this._styleProperties.length;c++)s=this._styleProperties[c],u[s]=typeof f[s]>"u"?this[s]:f[s];return u},_setStyleDeclaration:function(l,a,f){this.styles[l][a]=f},_deleteStyleDeclaration:function(l,a){delete this.styles[l][a]},_getLineStyle:function(l){return!!this.styles[l]},_setLineStyle:function(l){this.styles[l]={}},_deleteLineStyle:function(l){delete this.styles[l]}})}(),function(){function l(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,f){this.callSuper("initialize",a,f),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,f){this[a]!==f&&(this._fireSelectionChanged(),this[a]=f),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this.canvas.contextTop,u=this.canvas.viewportTransform;f.save(),f.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this.transform(f),this._clearTextArea(f),a||f.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),f=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,f):this.renderSelection(a,f),f.restore()}},_clearTextArea:function(a){var f=this.width+4,u=this.height+4;a.clearRect(-f/2,-u/2,f,u)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var f=this._getLeftOffset(),u=this._getTopOffset(),s=this._getCursorBoundariesOffsets(a);return{left:f,top:u,leftOffset:s.left,topOffset:s.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var f,u,s,c=0,d=0,p,g=this.get2DCursorLocation(a);s=g.charIndex,u=g.lineIndex;for(var m=0;m<u;m++)c+=this.getHeightOfLine(m);f=this._getLineLeftOffset(u);var v=this.__charBounds[u][s];return v&&(d=v.left),this.charSpacing!==0&&s===this._textLines[u].length&&(d-=this._getWidthOfCharSpacing()),p={top:c,left:f+(d>0?d:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(a,f){var u=this.get2DCursorLocation(),s=u.lineIndex,c=u.charIndex>0?u.charIndex-1:0,d=this.getValueOfPropertyAt(s,c,"fontSize"),p=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/p,m=a.topOffset,v=this.getValueOfPropertyAt(s,c,"deltaY");m+=(1-this._fontSizeFraction)*this.getHeightOfLine(s)/this.lineHeight-d*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,f),f.fillStyle=this.cursorColor||this.getValueOfPropertyAt(s,c,"fill"),f.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,f.fillRect(a.left+a.leftOffset-g/2,m+a.top+v,g,d)},renderSelection:function(a,f){for(var u=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,s=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,d=this.get2DCursorLocation(u),p=this.get2DCursorLocation(s),g=d.lineIndex,m=p.lineIndex,v=d.charIndex<0?0:d.charIndex,y=p.charIndex<0?0:p.charIndex,b=g;b<=m;b++){var w=this._getLineLeftOffset(b)||0,S=this.getHeightOfLine(b),_=0,E=0,C=0;if(b===g&&(E=this.__charBounds[g][v].left),b>=g&&b<m)C=c&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===m)if(y===0)C=this.__charBounds[m][y].left;else{var P=this._getWidthOfCharSpacing();C=this.__charBounds[m][y-1].left+this.__charBounds[m][y-1].width-P}_=S,(this.lineHeight<1||b===m&&this.lineHeight>1)&&(S/=this.lineHeight);var N=a.left+w+E,B=C-E,I=S,V=0;this.inCompositionMode?(f.fillStyle=this.compositionColor||"black",I=1,V=S):f.fillStyle=this.selectionColor,this.direction==="rtl"&&(N=this.width-N-B),f.fillRect(N,a.top+a.topOffset+V,B,I),a.topOffset+=_}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),f=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:f}}}),t.IText.fromObject=function(a,f){var u=t.util.stylesFromArray(a.styles,a.text),s=Object.assign({},a,{styles:u});if(l(s),s.styles)for(var c in s.styles)for(var d in s.styles[c])l(s.styles[c][d]);t.Object._fromObject("IText",s,f,"text")}}(),function(){var l=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var f=a.canvas;f&&(f._hasITextHandlers||(f._hasITextHandlers=!0,a._initCanvasHandlers(f)),f._iTextInstances=f._iTextInstances||[],f._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var f=a.canvas;f&&(f._iTextInstances=f._iTextInstances||[],t.util.removeFromArray(f._iTextInstances,a),f._iTextInstances.length===0&&(f._hasITextHandlers=!1,a._removeCanvasHandlers(f)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(f){f.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,f,u,s){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",f,{duration:u,onComplete:function(){c.isAborted||a[s]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var f=this,u=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){f._tick()},u)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,f=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&f&&f.clearContext(f.contextTop||f.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var f=0,u=a-1;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)f++,u--;for(;/\S/.test(this._text[u])&&u>-1;)f++,u--;return a-f},findWordBoundaryRight:function(a){var f=0,u=a;if(this._reSpace.test(this._text[u]))for(;this._reSpace.test(this._text[u]);)f++,u++;for(;/\S/.test(this._text[u])&&u<this._text.length;)f++,u++;return a+f},findLineBoundaryLeft:function(a){for(var f=0,u=a-1;!/\n/.test(this._text[u])&&u>-1;)f++,u--;return a-f},findLineBoundaryRight:function(a){for(var f=0,u=a;!/\n/.test(this._text[u])&&u<this._text.length;)f++,u++;return a+f},searchWordBoundary:function(a,f){for(var u=this._text,s=this._reSpace.test(u[a])?a-1:a,c=u[s],d=t.reNonWord;!d.test(c)&&s>0&&s<u.length;)s+=f,c=u[s];return d.test(c)&&(s+=f===1?0:1),s},selectWord:function(a){a=a||this.selectionStart;var f=this.searchWordBoundary(a,-1),u=this.searchWordBoundary(a,1);this.selectionStart=f,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var f=this.findLineBoundaryLeft(a),u=this.findLineBoundaryRight(a);return this.selectionStart=f,this.selectionEnd=u,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(f){f.selected=!1,f.isEditing&&f.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var f=this.getSelectionStartFromPointer(a.e),u=this.selectionStart,s=this.selectionEnd;(f!==this.__selectionStartOnMouseDown||u===s)&&(u===f||s===f)||(f>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=f):(this.selectionStart=f,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==u||this.selectionEnd!==s)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,f,u){var s=u.slice(0,a),c=t.util.string.graphemeSplit(s).length;if(a===f)return{selectionStart:c,selectionEnd:c};var d=u.slice(a,f),p=t.util.string.graphemeSplit(d).length;return{selectionStart:c,selectionEnd:c+p}},fromGraphemeToStringSelection:function(a,f,u){var s=u.slice(0,a),c=s.join("").length;if(a===f)return{selectionStart:c,selectionEnd:c};var d=u.slice(a,f),p=d.join("").length;return{selectionStart:c,selectionEnd:c+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,f=this._getCursorBoundaries(a),u=this.get2DCursorLocation(a),s=u.lineIndex,c=u.charIndex,d=this.getValueOfPropertyAt(s,c,"fontSize")*this.lineHeight,p=f.leftOffset,g=this.calcTransformMatrix(),m={x:f.left+p,y:f.top+f.topOffset+d},v=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,b=y.width/v,w=y.height/v,S=b-d,_=w-d,E=y.clientWidth/b,C=y.clientHeight/w;return m=t.util.transformPoint(m,g),m=t.util.transformPoint(m,this.canvas.viewportTransform),m.x*=E,m.y*=C,m.x<0&&(m.x=0),m.x>S&&(m.x=S),m.y<0&&(m.y=0),m.y>_&&(m.y=_),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:d+"px",charHeight:d}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,f=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,f&&(f.blur&&f.blur(),f.parentNode&&f.parentNode.removeChild(f)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,f){var u=this.get2DCursorLocation(a,!0),s=this.get2DCursorLocation(f,!0),c=u.lineIndex,d=u.charIndex,p=s.lineIndex,g=s.charIndex,m,v;if(c!==p){if(this.styles[c])for(m=d;m<this._unwrappedTextLines[c].length;m++)delete this.styles[c][m];if(this.styles[p])for(m=g;m<this._unwrappedTextLines[p].length;m++)v=this.styles[p][m],v&&(this.styles[c]||(this.styles[c]={}),this.styles[c][d+m-g]=v);for(m=c+1;m<=p;m++)delete this.styles[m];this.shiftLineStyles(p,c-p)}else if(this.styles[c]){v=this.styles[c];var y=g-d,b,w;for(m=d;m<g;m++)delete v[m];for(w in this.styles[c])b=parseInt(w,10),b>=g&&(v[b-y]=v[w],delete v[w])}},shiftLineStyles:function(a,f){var u=l(this.styles);for(var s in this.styles){var c=parseInt(s,10);c>a&&(this.styles[c+f]=u[c],u[c-f]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,f,u,s){var c,d={},p=!1,g=this._unwrappedTextLines[a].length===f;u||(u=1),this.shiftLineStyles(a,u),this.styles[a]&&(c=this.styles[a][f===0?f:f-1]);for(var m in this.styles[a]){var v=parseInt(m,10);v>=f&&(p=!0,d[v-f]=this.styles[a][m],g&&f===0||delete this.styles[a][m])}var y=!1;for(p&&!g&&(this.styles[a+u]=d,y=!0),y&&u--;u>0;)s&&s[u-1]?this.styles[a+u]={0:l(s[u-1])}:c?this.styles[a+u]={0:l(c)}:delete this.styles[a+u],u--;this._forceClearCache=!0},insertCharStyleObject:function(a,f,u,s){this.styles||(this.styles={});var c=this.styles[a],d=c?l(c):{};u||(u=1);for(var p in d){var g=parseInt(p,10);g>=f&&(c[g+u]=d[g],d[g-u]||delete c[g])}if(this._forceClearCache=!0,s){for(;u--;)Object.keys(s[u]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][f+u]=l(s[u]));return}if(c)for(var m=c[f?f-1:1];m&&u--;)this.styles[a][f+u]=l(m)},insertNewStyleBlock:function(a,f,u){for(var s=this.get2DCursorLocation(f,!0),c=[0],d=0,p=0;p<a.length;p++)a[p]===`
`?(d++,c[d]=0):c[d]++;c[0]>0&&(this.insertCharStyleObject(s.lineIndex,s.charIndex,c[0],u),u=u&&u.slice(c[0]+1)),d&&this.insertNewlineStyleObject(s.lineIndex,s.charIndex+c[0],d);for(var p=1;p<d;p++)c[p]>0?this.insertCharStyleObject(s.lineIndex+p,0,c[p],u):u&&this.styles[s.lineIndex+p]&&u[0]&&(this.styles[s.lineIndex+p][0]=u[0]),u=u&&u.slice(c[p]+1);c[p]>0&&this.insertCharStyleObject(s.lineIndex+p,0,c[p],u)},setSelectionStartEndWithShift:function(a,f,u){u<=a?(f===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=u):u>a&&u<f?this._selectionDirection==="right"?this.selectionEnd=u:this.selectionStart=u:(f===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=f),this.selectionEnd=u)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(l){if(this.canvas){this.__newClickTime=+new Date;var a=l.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",l),this._stopEvent(l.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(l){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===l.x&&this.__lastPointer.y===l.y},_stopEvent:function(l){l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(l){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(l.e))},tripleClickHandler:function(l){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(l.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(l.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(l){!this.canvas||!this.editable||l.e.button&&l.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(l){if(this.__isMousedown=!1,!(!this.editable||this.group||l.transform&&l.transform.actionPerformed||l.e.button&&l.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(l.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(l){var a=this.getSelectionStartFromPointer(l),f=this.selectionStart,u=this.selectionEnd;l.shiftKey?this.setSelectionStartEndWithShift(f,u,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(l){for(var a=this.getLocalPointer(l),f=0,u=0,s=0,c=0,d=0,p,g,m=0,v=this._textLines.length;m<v&&s<=a.y;m++)s+=this.getHeightOfLine(m)*this.scaleY,d=m,m>0&&(c+=this._textLines[m-1].length+this.missingNewlineOffset(m-1));p=this._getLineLeftOffset(d),u=p*this.scaleX,g=this._textLines[d],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+u);for(var y=0,b=g.length;y<b&&(f=u,u+=this.__charBounds[d][y].kernedWidth*this.scaleX,u<=a.x);y++)c++;return this._getNewSelectionStartFromOffset(a,f,u,c,b)},_getNewSelectionStartFromOffset:function(l,a,f,u,s){var c=l.x-a,d=f-l.x,p=d>c||d<0?0:1,g=u+p;return this.flipX&&(g=s-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var l=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+l.top+"; left: "+l.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+l.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(l){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(l.keyCode in a)this[a[l.keyCode]](l);else if(l.keyCode in this.ctrlKeysMapDown&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapDown[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),l.keyCode>=33&&l.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(l){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(l.keyCode in this.ctrlKeysMapUp&&(l.ctrlKey||l.metaKey))this[this.ctrlKeysMapUp[l.keyCode]](l);else return;l.stopImmediatePropagation(),l.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(l){var a=this.fromPaste;if(this.fromPaste=!1,l&&l.stopPropagation(),!!this.isEditing){var f=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,u=this._text.length,s=f.length,c,d,p=s-u,g=this.selectionStart,m=this.selectionEnd,v=g!==m,y,b,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var S=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_=g>S.selectionStart;v?(c=this._text.slice(g,m),p+=m-g):s<u&&(_?c=this._text.slice(m+p,m):c=this._text.slice(g,g-p)),d=f.slice(S.selectionEnd-p,S.selectionEnd),c&&c.length&&(d.length&&(y=this.getSelectionStyles(g,g+1,!1),y=d.map(function(){return y[0]})),v?(b=g,w=m):_?(b=m-c.length,w=m):(b=m,w=m+c.length),this.removeStyleFromTo(b,w)),d.length&&(a&&d.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(y=t.copiedTextStyle),this.insertNewStyleBlock(d,g,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(l){this.compositionStart=l.target.selectionStart,this.compositionEnd=l.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(l){return l&&l.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(l,a){var f=this._getLineLeftOffset(l),u;return a>0&&(u=this.__charBounds[l][a-1],f+=u.left+u.width),f},getDownCursorOffset:function(l,a){var f=this._getSelectionForOffset(l,a),u=this.get2DCursorLocation(f),s=u.lineIndex;if(s===this._textLines.length-1||l.metaKey||l.keyCode===34)return this._text.length-f;var c=u.charIndex,d=this._getWidthBeforeCursor(s,c),p=this._getIndexOnLine(s+1,d),g=this._textLines[s].slice(c);return g.length+p+1+this.missingNewlineOffset(s)},_getSelectionForOffset:function(l,a){return l.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(l,a){var f=this._getSelectionForOffset(l,a),u=this.get2DCursorLocation(f),s=u.lineIndex;if(s===0||l.metaKey||l.keyCode===33)return-f;var c=u.charIndex,d=this._getWidthBeforeCursor(s,c),p=this._getIndexOnLine(s-1,d),g=this._textLines[s].slice(0,c),m=this.missingNewlineOffset(s-1);return-this._textLines[s-1].length+p-g.length+(1-m)},_getIndexOnLine:function(l,a){for(var f=this._textLines[l],u=this._getLineLeftOffset(l),s=u,c=0,d,p,g=0,m=f.length;g<m;g++)if(d=this.__charBounds[l][g].width,s+=d,s>a){p=!0;var v=s-d,y=s,b=Math.abs(v-a),w=Math.abs(y-a);c=w<b?g:g-1;break}return p||(c=f.length-1),c},moveCursorDown:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",l)},moveCursorUp:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",l)},_moveCursorUpOrDown:function(l,a){var f="get"+l+"CursorOffset",u=this[f](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(u):this.moveCursorWithoutShift(u),u!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(l){var a=this._selectionDirection==="left"?this.selectionStart+l:this.selectionEnd+l;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),l!==0},moveCursorWithoutShift:function(l){return l<0?(this.selectionStart+=l,this.selectionEnd=this.selectionStart):(this.selectionEnd+=l,this.selectionStart=this.selectionEnd),l!==0},moveCursorLeft:function(l){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",l)},_move:function(l,a,f){var u;if(l.altKey)u=this["findWordBoundary"+f](this[a]);else if(l.metaKey||l.keyCode===35||l.keyCode===36)u=this["findLineBoundary"+f](this[a]);else return this[a]+=f==="Left"?-1:1,!0;if(typeof u<"u"&&this[a]!==u)return this[a]=u,!0},_moveLeft:function(l,a){return this._move(l,a,"Left")},_moveRight:function(l,a){return this._move(l,a,"Right")},moveCursorLeftWithoutShift:function(l){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(l,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(l){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(l,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(l,"selectionStart")},moveCursorRight:function(l){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",l)},_moveCursorLeftOrRight:function(l,a){var f="moveCursor"+l+"With";this._currentCursorOpacity=1,a.shiftKey?f+="Shift":f+="outShift",this[f](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(l){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(l,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(l,"selectionEnd")},moveCursorRightWithoutShift:function(l){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(l,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(l,a){typeof a>"u"&&(a=l+1),this.removeStyleFromTo(l,a),this._text.splice(l,a-l),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(l,a,f,u){typeof u>"u"&&(u=f),u>f&&this.removeStyleFromTo(f,u);var s=t.util.string.graphemeSplit(l);this.insertNewStyleBlock(s,f,a),this._text=[].concat(this._text.slice(0,f),s,this._text.slice(u)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var l=t.util.toFixed,a=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var f=this._getSVGLeftTopOffsets(),u=this._getSVGTextAndBg(f.textTop,f.textLeft);return this._wrapSVGTextAndBg(u)},toSVG:function(f){return this._createBaseSVGMarkup(this._toSVG(),{reviver:f,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(f){var u=!0,s=this.getSvgTextDecoration(this);return[f.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",s?'text-decoration="'+s+'" ':"",'style="',this.getSvgStyles(u),'"',this.addPaintOrder()," >",f.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(f,u){var s=[],c=[],d=f,p;this._setSVGBg(c);for(var g=0,m=this._textLines.length;g<m;g++)p=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(c,g,u+p,d),this._setSVGTextLineText(s,g,u+p,d),d+=this.getHeightOfLine(g);return{textSpans:s,textBgRects:c}},_createTextCharSpan:function(f,u,s,c){var d=f!==f.trim()||f.match(a),p=this.getSvgSpanStyles(u,d),g=p?'style="'+p+'"':"",m=u.deltaY,v="",y=t.Object.NUM_FRACTION_DIGITS;return m&&(v=' dy="'+l(m,y)+'" '),['<tspan x="',l(s,y),'" y="',l(c,y),'" ',v,g,">",t.util.string.escapeXml(f),"</tspan>"].join("")},_setSVGTextLineText:function(f,u,s,c){var d=this.getHeightOfLine(u),p=this.textAlign.indexOf("justify")!==-1,g,m,v="",y,b,w=0,S=this._textLines[u],_;c+=d*(1-this._fontSizeFraction)/this.lineHeight;for(var E=0,C=S.length-1;E<=C;E++)_=E===C||this.charSpacing,v+=S[E],y=this.__charBounds[u][E],w===0?(s+=y.kernedWidth-y.width,w+=y.width):w+=y.kernedWidth,p&&!_&&this._reSpaceAndTab.test(S[E])&&(_=!0),_||(g=g||this.getCompleteStyleDeclaration(u,E),m=this.getCompleteStyleDeclaration(u,E+1),_=t.util.hasStyleChanged(g,m,!0)),_&&(b=this._getStyleDeclaration(u,E)||{},f.push(this._createTextCharSpan(v,b,s,c)),v="",g=m,s+=w,w=0)},_pushTextBgRect:function(f,u,s,c,d,p){var g=t.Object.NUM_FRACTION_DIGITS;f.push("		<rect ",this._getFillAttributes(u),' x="',l(s,g),'" y="',l(c,g),'" width="',l(d,g),'" height="',l(p,g),`"></rect>
`)},_setSVGTextLineBg:function(f,u,s,c){for(var d=this._textLines[u],p=this.getHeightOfLine(u)/this.lineHeight,g=0,m=0,v,y,b=this.getValueOfPropertyAt(u,0,"textBackgroundColor"),w=0,S=d.length;w<S;w++)v=this.__charBounds[u][w],y=this.getValueOfPropertyAt(u,w,"textBackgroundColor"),y!==b?(b&&this._pushTextBgRect(f,b,s+m,c,g,p),m=v.left,g=v.width,b=y):g+=v.kernedWidth;y&&this._pushTextBgRect(f,y,s+m,c,g,p)},_getFillAttributes:function(f){var u=f&&typeof f=="string"?new t.Color(f):"";return!u||!u.getSource()||u.getAlpha()===1?'fill="'+f+'"':'opacity="'+u.getAlpha()+'" fill="'+u.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(f){for(var u=0,s=0,c=0;c<f;c++)u+=this.getHeightOfLine(c);return s=this.getHeightOfLine(c),{lineTop:u,offset:(this._fontSizeMult-this._fontSizeFraction)*s/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(f){var u=t.Object.prototype.getSvgStyles.call(this,f);return u+" white-space: pre;"}})}(),function(l){var a=l.fabric||(l.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(f){for(var u=0,s=0,c=0,d={},p=0;p<f.graphemeLines.length;p++)f.graphemeText[c]===`
`&&p>0?(s=0,c++,u++):!this.splitByGrapheme&&this._reSpaceAndTab.test(f.graphemeText[c])&&p>0&&(s++,c++),d[p]={line:u,offset:s},c+=f.graphemeLines[p].length,s+=f.graphemeLines[p].length;return d},styleHas:function(f,u){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[u];s&&(u=s.line)}return a.Text.prototype.styleHas.call(this,f,u)},isEmptyStyles:function(f){if(!this.styles)return!0;var u=0,s=f+1,c,d,p=!1,g=this._styleMap[f],m=this._styleMap[f+1];g&&(f=g.line,u=g.offset),m&&(s=m.line,p=s===f,c=m.offset),d=typeof f>"u"?this.styles:{line:this.styles[f]};for(var v in d)for(var y in d[v])if(y>=u&&(!p||y<c))for(var b in d[v][y])return!1;return!0},_getStyleDeclaration:function(f,u){if(this._styleMap&&!this.isWrapping){var s=this._styleMap[f];if(!s)return null;f=s.line,u=s.offset+u}return this.callSuper("_getStyleDeclaration",f,u)},_setStyleDeclaration:function(f,u,s){var c=this._styleMap[f];f=c.line,u=c.offset+u,this.styles[f][u]=s},_deleteStyleDeclaration:function(f,u){var s=this._styleMap[f];f=s.line,u=s.offset+u,delete this.styles[f][u]},_getLineStyle:function(f){var u=this._styleMap[f];return!!this.styles[u.line]},_setLineStyle:function(f){var u=this._styleMap[f];this.styles[u.line]={}},_wrapText:function(f,u){var s=[],c;for(this.isWrapping=!0,c=0;c<f.length;c++)s=s.concat(this._wrapLine(f[c],c,u));return this.isWrapping=!1,s},_measureWord:function(f,u,s){var c=0,d,p=!0;s=s||0;for(var g=0,m=f.length;g<m;g++){var v=this._getGraphemeBox(f[g],u,g+s,d,p);c+=v.kernedWidth,d=f[g]}return c},_wrapLine:function(f,u,s,N){var d=0,p=this.splitByGrapheme,g=[],m=[],v=p?a.util.string.graphemeSplit(f):f.split(this._wordJoiners),y="",b=0,w=p?"":" ",S=0,_=0,E=0,C=!0,P=this._getWidthOfCharSpacing(),N=N||0;v.length===0&&v.push([]),s-=N;for(var B=0;B<v.length;B++)y=p?v[B]:a.util.string.graphemeSplit(v[B]),S=this._measureWord(y,u,b),b+=y.length,d+=_+S-P,d>s&&!C?(g.push(m),m=[],d=S,C=!0):d+=P,!C&&!p&&m.push(w),m=m.concat(y),_=p?0:this._measureWord([w],u,b),b++,C=!1,S>E&&(E=S);return B&&g.push(m),E+N>this.dynamicMinWidth&&(this.dynamicMinWidth=E-P+N),g},isEndOfWrapping:function(f){return!this._styleMap[f+1]||this._styleMap[f+1].line!==this._styleMap[f].line},missingNewlineOffset:function(f){return this.splitByGrapheme?this.isEndOfWrapping(f)?1:0:1},_splitTextIntoLines:function(f){for(var u=a.Text.prototype._splitTextIntoLines.call(this,f),s=this._wrapText(u.lines,this.width),c=new Array(s.length),d=0;d<s.length;d++)c[d]=s[d].join("");return u.lines=c,u.graphemeLines=s,u},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var f={};for(var u in this._styleMap)this._textLines[u]&&(f[this._styleMap[u].line]=1);for(var u in this.styles)f[u]||delete this.styles[u]},toObject:function(f){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(f))}}),a.Textbox.fromObject=function(f,u){var s=a.util.stylesFromArray(f.styles,f.text),c=Object.assign({},f,{styles:s});return a.Object._fromObject("Textbox",c,u,"text")}}(e),function(){var l=t.controlsUtils,a=l.scaleSkewCursorStyleHandler,f=l.scaleCursorStyleHandler,u=l.scalingEqually,s=l.scalingYOrSkewingX,c=l.scalingXOrSkewingY,d=l.scaleOrSkewActionName,p=t.Object.prototype.controls;if(p.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:d}),p.mr=new t.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:d}),p.mb=new t.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:s,getActionName:d}),p.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:s,getActionName:d}),p.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:u}),p.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:u}),p.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:u}),p.br=new t.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:u}),p.mtr=new t.Control({x:0,y:-.5,actionHandler:l.rotationWithSnapping,cursorStyleHandler:l.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=p.mtr,g.tr=p.tr,g.br=p.br,g.tl=p.tl,g.bl=p.bl,g.mt=p.mt,g.mb=p.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:l.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()})(Ka);function be(...e){return Mg(rO(e))}function dh(e){const t=e.split(",")[0].split(":")[1].split(";")[0],n=atob(e.split(",")[1]),r=[];for(let i=0;i<n.length;i+=1)r.push(n.charCodeAt(i));return new Blob([new Uint8Array(r)],{type:t})}function iu(e,t){return new Promise((n,r)=>{const i=e.src,o=e;o.onload=n,o.onerror=h=>{o.src=i,r(h)},o.src=t})}async function VO(e){const t=URL.createObjectURL(e),n=new Image;return await iu(n,t),n}function UO(e){return new Promise((t,n)=>{const r=new Image;r.addEventListener("load",()=>{t(r)}),r.addEventListener("error",i=>{n(i)}),r.src=e.toDataURL()})}function sS(e,t,n){return fetch(e).then(function(r){return r.arrayBuffer()}).then(function(r){return new File([r],t,{type:n})})}function aS(e,t){return Math.floor(Math.random()*(t-e+1))+e}async function HO(){try{const{state:e}=await navigator.permissions.query({name:"clipboard-write"});return e==="granted"}catch{return!1}}function WO(e,t){return new Promise((n,r)=>e.toBlob(async i=>{i?n(i):r(new Error("Expected toBlob() to be defined"))},t))}function lS(e){const t=atob(e),n=new Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);const r=new Uint8Array(n);return new Blob([r],{type:"image/png"})}const YO=async e=>{const t=[new ClipboardItem({[e.type]:e})];await navigator.clipboard.write(t)};function fy(e){return e.e.button===1}async function XO(e){const t=await WO(e,"image/png");try{await YO(t)}catch{console.log("Copy image failed!")}}function GO(e,t,n=Vu){e.strokeStyle=n,e.lineCap="round",e.lineJoin="round",t.forEach(r=>{!(r!=null&&r.pts.length)||!r.size||(e.lineWidth=r.size,e.beginPath(),e.moveTo(r.pts[0].x,r.pts[0].y),r.pts.forEach(i=>e.lineTo(i.x,i.y)),e.stroke())})}const dy=(e,t,n,r=[],i="white")=>{const o=document.createElement("canvas");o.width=e,o.height=t;const h=o.getContext("2d");if(!h)throw new Error("could not retrieve mask canvas");return r.forEach(l=>{h.drawImage(l,0,0,e,t)}),n.forEach(l=>{GO(h,l,i)}),o},KO=(e,t,n)=>new Promise((r,i)=>{var o=new Ka.fabric.Canvas(null,{width:t,height:n});let h,l;const a=JSON.parse(e),f=a.objects.filter(d=>d.type==="path"),u={...a,objects:f},s=a.objects.filter(d=>d.type==="image"),c={...a,objects:s};o.loadFromJSON(u,()=>{try{if(l=o.toDataURL(),!l)throw new Error("Mask generation failed")}catch(d){i(d)}}),o.clear(),o.loadFromJSON(c,()=>{try{if(h=o.toDataURL(),!h)throw new Error("Image generation failed");r({targetMask:l,targetFile:h})}catch(d){i(d)}})}),qa=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{var h;const o=(h=i.target)==null?void 0:h.result;t(o)},r.onerror=i=>{n(i)},r.readAsDataURL(e)}),qO=tO,cS=x.forwardRef(({className:e,...t},n)=>T.jsx(Hx,{ref:n,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),tabIndex:-1,...t}));cS.displayName=Hx.displayName;const ZO=Wl("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),uS=x.forwardRef(({className:e,variant:t,...n},r)=>T.jsx(Wx,{ref:r,className:be(ZO({variant:t}),e),tabIndex:-1,...n}));uS.displayName=Wx.displayName;const QO=x.forwardRef(({className:e,...t},n)=>T.jsx(Gx,{ref:n,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),tabIndex:-1,...t}));QO.displayName=Gx.displayName;const fS=x.forwardRef(({className:e,...t},n)=>T.jsx(Kx,{ref:n,className:be("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",tabIndex:-1,...t,children:T.jsx(Mx,{className:"h-4 w-4"})}));fS.displayName=Kx.displayName;const dS=x.forwardRef(({className:e,...t},n)=>T.jsx(Yx,{ref:n,className:be("text-sm font-semibold [&+div]:text-xs",e),tabIndex:-1,...t}));dS.displayName=Yx.displayName;const hS=x.forwardRef(({className:e,...t},n)=>T.jsx(Xx,{ref:n,className:be("text-sm opacity-90",e),...t,tabIndex:-1}));hS.displayName=Xx.displayName;const JO=1,e3=1e6;let hh=0;function t3(){return hh=(hh+1)%Number.MAX_VALUE,hh.toString()}const ph=new Map,hy=e=>{if(ph.has(e))return;const t=setTimeout(()=>{ph.delete(e),Za({type:"REMOVE_TOAST",toastId:e})},e3);ph.set(e,t)},n3=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,JO)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?hy(n):e.toasts.forEach(r=>{hy(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},ou=[];let su={toasts:[]};function Za(e){su=n3(su,e),ou.forEach(t=>{t(su)})}function Da({...e}){const t=t3(),n=i=>Za({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Za({type:"DISMISS_TOAST",toastId:t});return Za({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Dg(){const[e,t]=x.useState(su);return x.useEffect(()=>(ou.push(t),()=>{const n=ou.indexOf(t);n>-1&&ou.splice(n,1)}),[e]),{...e,toast:Da,dismiss:n=>Za({type:"DISMISS_TOAST",toastId:n})}}function r3(){const{toasts:e}=Dg();return T.jsxs(qO,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return T.jsxs(uS,{...o,children:[T.jsxs("div",{className:"grid gap-1",children:[n&&T.jsx(dS,{children:n}),r&&T.jsx(hS,{children:r})]}),i,T.jsx(fS,{})]},t)}),T.jsx(cS,{})]})}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pS=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:h,...l},a)=>x.createElement("svg",{ref:a,...o3,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:pS("lucide",i),...l},[...h.map(([f,u])=>x.createElement(f,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=(e,t)=>{const n=x.forwardRef(({className:r,...i},o)=>x.createElement(s3,{ref:o,iconNode:t,className:pS(`lucide-${i3(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=mt("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=mt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=mt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=mt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f3=mt("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d3=mt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=mt("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=mt("Expand",[["path",{d:"m21 21-6-6m6 6v-4.8m0 4.8h-4.8",key:"1c15vz"}],["path",{d:"M3 16.2V21m0 0h4.8M3 21l6-6",key:"1fsnz2"}],["path",{d:"M21 7.8V3m0 0h-4.8M21 3l-6 6",key:"hawz9i"}],["path",{d:"M3 7.8V3m0 0h4.8M3 3l6 6",key:"u9ee12"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=mt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g3=mt("Fullscreen",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=mt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=mt("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=mt("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=mt("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=mt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=mt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=mt("Slice",[["path",{d:"m8 14-6 6h9v-3",key:"zo3j9a"}],["path",{d:"M18.37 3.63 8 14l3 3L21.37 6.63a2.12 2.12 0 1 0-3-3Z",key:"1dzx0j"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=mt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=mt("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var E3={VITE_BACKEND:"https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",VITE_RUNPOD:"J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",BASE_URL:"/images-project",MODE:"production",DEV:!1,PROD:!0,SSR:!1};function T3(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const h=a=>a===null?null:JSON.parse(a,void 0),l=(o=n.getItem(i))!=null?o:null;return l instanceof Promise?l.then(h):h(l)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const wl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return wl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return wl(r)(n)}}}},k3=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,v)=>({...v,...m}),...t},h=!1;const l=new Set,a=new Set;let f;try{f=o.getStorage()}catch{}if(!f)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,i);const u=wl(o.serialize),s=()=>{const m=o.partialize({...r()});let v;const y=u({state:m,version:o.version}).then(b=>f.setItem(o.name,b)).catch(b=>{v=b});if(v)throw v;return y},c=i.setState;i.setState=(m,v)=>{c(m,v),s()};const d=e((...m)=>{n(...m),s()},r,i);let p;const g=()=>{var m;if(!f)return;h=!1,l.forEach(y=>y(r()));const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,r()))||void 0;return wl(f.getItem.bind(f))(o.name).then(y=>{if(y)return o.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return o.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return p=o.merge(y,(b=r())!=null?b:d),n(p,!0),s()}).then(()=>{v==null||v(p,void 0),h=!0,a.forEach(y=>y(p))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(f=m.getStorage())},clearStorage:()=>{f==null||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>g(),hasHydrated:()=>h,onHydrate:m=>(l.add(m),()=>{l.delete(m)}),onFinishHydration:m=>(a.add(m),()=>{a.delete(m)})},g(),p||d},P3=(e,t)=>(n,r,i)=>{let o={storage:T3(()=>localStorage),partialize:g=>g,version:0,merge:(g,m)=>({...m,...g}),...t},h=!1;const l=new Set,a=new Set;let f=o.storage;if(!f)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...g)},r,i);const u=()=>{const g=o.partialize({...r()});return f.setItem(o.name,{state:g,version:o.version})},s=i.setState;i.setState=(g,m)=>{s(g,m),u()};const c=e((...g)=>{n(...g),u()},r,i);i.getInitialState=()=>c;let d;const p=()=>{var g,m;if(!f)return;h=!1,l.forEach(y=>{var b;return y((b=r())!=null?b:c)});const v=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(g=r())!=null?g:c))||void 0;return wl(f.getItem.bind(f))(o.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return o.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var b;return d=o.merge(y,(b=r())!=null?b:c),n(d,!0),u()}).then(()=>{v==null||v(d,void 0),d=r(),h=!0,a.forEach(y=>y(d))}).catch(y=>{v==null||v(void 0,y)})};return i.persist={setOptions:g=>{o={...o,...g},g.storage&&(f=g.storage)},clearStorage:()=>{f==null||f.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>h,onHydrate:g=>(l.add(g),()=>{l.delete(g)}),onFinishHydration:g=>(a.add(g),()=>{a.delete(g)})},o.skipHydration||p(),d||c},O3=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((E3?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),k3(e,t)):P3(e,t),$3=O3;function A3(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var mS=Symbol.for("immer-nothing"),gy=Symbol.for("immer-draftable"),bn=Symbol.for("immer-state");function Gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ls=Object.getPrototypeOf;function Is(e){return!!e&&!!e[bn]}function Eo(e){var t;return e?gS(e)||Array.isArray(e)||!!e[gy]||!!((t=e.constructor)!=null&&t[gy])||qf(e)||Zf(e):!1}var R3=Object.prototype.constructor.toString();function gS(e){if(!e||typeof e!="object")return!1;const t=Ls(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===R3}function Uu(e,t){Kf(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Kf(e){const t=e[bn];return t?t.type_:Array.isArray(e)?1:qf(e)?2:Zf(e)?3:0}function Hp(e,t){return Kf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vS(e,t,n){const r=Kf(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function M3(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function qf(e){return e instanceof Map}function Zf(e){return e instanceof Set}function Ji(e){return e.copy_||e.base_}function Wp(e,t){if(qf(e))return new Map(e);if(Zf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=gS(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[bn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const h=i[o],l=r[h];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[h]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[h]})}return Object.create(Ls(e),r)}else{const r=Ls(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Ng(e,t=!1){return Qf(e)||Is(e)||!Eo(e)||(Kf(e)>1&&(e.set=e.add=e.clear=e.delete=D3),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Ng(r,!0))),e}function D3(){Gn(2)}function Qf(e){return Object.isFrozen(e)}var N3={};function To(e){const t=N3[e];return t||Gn(0,e),t}var xl;function yS(){return xl}function F3(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function vy(e,t){t&&(To("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Yp(e){Xp(e),e.drafts_.forEach(L3),e.drafts_=null}function Xp(e){e===xl&&(xl=e.parent_)}function yy(e){return xl=F3(xl,e)}function L3(e){const t=e[bn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function by(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[bn].modified_&&(Yp(t),Gn(4)),Eo(e)&&(e=Hu(t,e),t.parent_||Wu(t,e)),t.patches_&&To("Patches").generateReplacementPatches_(n[bn].base_,e,t.patches_,t.inversePatches_)):e=Hu(t,n,[]),Yp(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==mS?e:void 0}function Hu(e,t,n){if(Qf(t))return t;const r=t[bn];if(!r)return Uu(t,(i,o)=>wy(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Wu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,h=!1;r.type_===3&&(o=new Set(i),i.clear(),h=!0),Uu(o,(l,a)=>wy(e,r,i,l,a,n,h)),Wu(e,i,!1),n&&e.patches_&&To("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function wy(e,t,n,r,i,o,h){if(Is(i)){const l=o&&t&&t.type_!==3&&!Hp(t.assigned_,r)?o.concat(r):void 0,a=Hu(e,i,l);if(vS(n,r,a),Is(a))e.canAutoFreeze_=!1;else return}else h&&n.add(i);if(Eo(i)&&!Qf(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Wu(e,i)}}function Wu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ng(t,n)}function I3(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:yS(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Fg;n&&(i=[r],o=Sl);const{revoke:h,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=h,l}var Fg={get(e,t){if(t===bn)return e;const n=Ji(e);if(!Hp(n,t))return j3(e,n,t);const r=n[t];return e.finalized_||!Eo(r)?r:r===mh(e.base_,t)?(gh(e),e.copy_[t]=Kp(r,e)):r},has(e,t){return t in Ji(e)},ownKeys(e){return Reflect.ownKeys(Ji(e))},set(e,t,n){const r=bS(Ji(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=mh(Ji(e),t),o=i==null?void 0:i[bn];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(M3(n,i)&&(n!==void 0||Hp(e.base_,t)))return!0;gh(e),Gp(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mh(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,gh(e),Gp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ji(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Gn(11)},getPrototypeOf(e){return Ls(e.base_)},setPrototypeOf(){Gn(12)}},Sl={};Uu(Fg,(e,t)=>{Sl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sl.deleteProperty=function(e,t){return Sl.set.call(this,e,t,void 0)};Sl.set=function(e,t,n){return Fg.set.call(this,e[0],t,n,e[0])};function mh(e,t){const n=e[bn];return(n?Ji(n):e)[t]}function j3(e,t,n){var i;const r=bS(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function bS(e,t){if(!(t in e))return;let n=Ls(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ls(n)}}function Gp(e){e.modified_||(e.modified_=!0,e.parent_&&Gp(e.parent_))}function gh(e){e.copy_||(e.copy_=Wp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var B3=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const h=this;return function(a=o,...f){return h.produce(a,u=>n.call(this,u,...f))}}typeof n!="function"&&Gn(6),r!==void 0&&typeof r!="function"&&Gn(7);let i;if(Eo(t)){const o=yy(this),h=Kp(t,void 0);let l=!0;try{i=n(h),l=!1}finally{l?Yp(o):Xp(o)}return vy(o,r),by(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===mS&&(i=void 0),this.autoFreeze_&&Ng(i,!0),r){const o=[],h=[];To("Patches").generateReplacementPatches_(t,i,o,h),r(o,h)}return i}else Gn(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(h,...l)=>this.produceWithPatches(h,a=>t(a,...l));let r,i;return[this.produce(t,n,(h,l)=>{r=h,i=l}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Eo(e)||Gn(8),Is(e)&&(e=z3(e));const t=yy(this),n=Kp(e,void 0);return n[bn].isManual_=!0,Xp(t),n}finishDraft(e,t){const n=e&&e[bn];(!n||!n.isManual_)&&Gn(9);const{scope_:r}=n;return vy(r,t),by(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=To("Patches").applyPatches_;return Is(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Kp(e,t){const n=qf(e)?To("MapSet").proxyMap_(e,t):Zf(e)?To("MapSet").proxySet_(e,t):I3(e,t);return(t?t.scope_:yS()).drafts_.push(n),n}function z3(e){return Is(e)||Gn(10,e),wS(e)}function wS(e){if(!Eo(e)||Qf(e))return e;const t=e[bn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Wp(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Wp(e,!0);return Uu(n,(r,i)=>{vS(n,r,wS(i))}),t&&(t.finalized_=!1),n}var wn=new B3,V3=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseStrictShallowCopy.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);const U3=e=>(t,n,r)=>(r.setState=(i,o,...h)=>{const l=typeof i=="function"?V3(i):i;return t(l,o,...h)},e(r.setState,n,r)),H3=U3;var xS={exports:{}},SS={},_S={exports:{}},CS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=x;function W3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Y3=typeof Object.is=="function"?Object.is:W3,X3=js.useState,G3=js.useEffect,K3=js.useLayoutEffect,q3=js.useDebugValue;function Z3(e,t){var n=t(),r=X3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return K3(function(){i.value=n,i.getSnapshot=t,vh(i)&&o({inst:i})},[e,n,t]),G3(function(){return vh(i)&&o({inst:i}),e(function(){vh(i)&&o({inst:i})})},[e]),q3(n),n}function vh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Y3(e,n)}catch{return!0}}function Q3(e,t){return t()}var J3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Q3:Z3;CS.useSyncExternalStore=js.useSyncExternalStore!==void 0?js.useSyncExternalStore:J3;_S.exports=CS;var e$=_S.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=x,t$=e$;function n$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var r$=typeof Object.is=="function"?Object.is:n$,i$=t$.useSyncExternalStore,o$=Jf.useRef,s$=Jf.useEffect,a$=Jf.useMemo,l$=Jf.useDebugValue;SS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=o$(null);if(o.current===null){var h={hasValue:!1,value:null};o.current=h}else h=o.current;o=a$(function(){function a(d){if(!f){if(f=!0,u=d,d=r(d),i!==void 0&&h.hasValue){var p=h.value;if(i(p,d))return s=p}return s=d}if(p=s,r$(u,d))return p;var g=r(d);return i!==void 0&&i(p,g)?p:(u=d,s=g)}var f=!1,u,s,c=n===void 0?null:n;return[function(){return a(t())},c===null?void 0:function(){return a(c())}]},[t,n,r,i]);var l=i$(e,o[0],o[1]);return s$(function(){h.hasValue=!0,h.value=l},[l]),l$(l),l};xS.exports=SS;var c$=xS.exports;const u$=Rm(c$);var f$={VITE_BACKEND:"https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",VITE_RUNPOD:"J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",BASE_URL:"/images-project",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const xy=e=>{let t;const n=new Set,r=(u,s)=>{const c=typeof u=="function"?u(t):u;if(!Object.is(c,t)){const d=t;t=s??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(p=>p(t,d))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>f,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(f$?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,a);return a},d$=e=>e?xy(e):xy,{useDebugValue:h$}=ke,{useSyncExternalStoreWithSelector:p$}=u$,m$=e=>e;function g$(e,t=m$,n){const r=p$(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h$(r),r}const Sy=(e,t)=>{const n=d$(e),r=(i,o=t)=>g$(n,i,o);return Object.assign(r,n),r},ES=(e,t)=>e?Sy(e,t):Sy;var li=(e=>(e.RemoveBG="RemoveBG",e.AnimeSeg="AnimeSeg",e.RealESRGAN="RealESRGAN",e.GFPGAN="GFPGAN",e.RestoreFormer="RestoreFormer",e.InteractiveSeg="InteractiveSeg",e))(li||{}),TS=(e=>(e.NAME="name",e.CTIME="ctime",e.MTIME="mtime",e))(TS||{}),kS=(e=>(e.DESCENDING="desc",e.ASCENDING="asc",e))(kS||{}),Lg=(e=>(e.ddim="ddim",e.plms="plms",e))(Lg||{}),Ig=(e=>(e.INPAINT_NS="INPAINT_NS",e.INPAINT_TELEA="INPAINT_TELEA",e))(Ig||{}),zt=(e=>(e.x="x",e.y="y",e.xy="xy",e))(zt||{}),vs=(e=>(e.text_guided="text-guided",e.shape_guided="shape-guided",e.object_remove="object-remove",e.outpainting="outpainting",e))(vs||{});const v$={plugins:[{name:"RemoveBG",support_gen_image:!0,support_gen_mask:!0}],modelInfos:[{name:"lama",path:"lama",model_type:"inpaint",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"cv2",path:"cv2",model_type:"inpaint",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"runwayml/stable-diffusion-v1-5",path:"runwayml/stable-diffusion-v1-5",model_type:"diffusers_sd",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!0,support_controlnet:!0,support_freeu:!0},{name:"Sanster/PowerPaint-V1-stable-diffusion-inpainting",path:"Sanster/PowerPaint-V1-stable-diffusion-inpainting",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},{name:"redstonehero/ReV_Animated_Inpainting",path:"redstonehero/ReV_Animated_Inpainting",model_type:"diffusers_sd",is_single_file_diffusers:!1,need_prompt:!0,controlnets:["lllyasviel/control_v11p_sd15_canny","lllyasviel/control_v11p_sd15_openpose","lllyasviel/control_v11p_sd15_inpaint","lllyasviel/control_v11f1p_sd15_depth"],support_strength:!0,support_outpainting:!0,support_lcm_lora:!0,support_controlnet:!0,support_freeu:!0},{name:"Fantasy-Studio/Paint-by-Example",path:"Fantasy-Studio/Paint-by-Example",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1}],removeBGModel:"briaai/RMBG-1.4",removeBGModels:["u2net","u2netp","u2net_human_seg","u2net_cloth_seg","silueta","isnet-general-use","briaai/RMBG-1.4"],realesrganModel:"realesr-general-x4v3",realesrganModels:["realesr-general-x4v3","RealESRGAN_x4plus","RealESRGAN_x4plus_anime_6B"],interactiveSegModel:"vit_b",interactiveSegModels:["vit_b","vit_l","vit_h","sam_hq_vit_b","sam_hq_vit_l","sam_hq_vit_h","mobile_sam"],enableFileManager:!1,enableAutoSaving:!1,enableControlnet:!1,controlnetMethod:"",disableModelSwitch:!1,isDesktop:!1,samplers:["DPM++ 2M","DPM++ 2M Karras","DPM++ 2M SDE","DPM++ 2M SDE Karras","DPM++ SDE","DPM++ SDE Karras","DPM2","DPM2 Karras","DPM2 a","DPM2 a Karras","Euler","Euler a","Heun","LMS","LMS Karras","DDIM","PNDM","UniPC","LCM"]};function PS(e,t){return function(){return e.apply(t,arguments)}}const{toString:y$}=Object.prototype,{getPrototypeOf:jg}=Object,ed=(e=>t=>{const n=y$.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Er=e=>(e=e.toLowerCase(),t=>ed(t)===e),td=e=>t=>typeof t===e,{isArray:ta}=Array,_l=td("undefined");function b$(e){return e!==null&&!_l(e)&&e.constructor!==null&&!_l(e.constructor)&&$n(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const OS=Er("ArrayBuffer");function w$(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&OS(e.buffer),t}const x$=td("string"),$n=td("function"),$S=td("number"),nd=e=>e!==null&&typeof e=="object",S$=e=>e===!0||e===!1,au=e=>{if(ed(e)!=="object")return!1;const t=jg(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_$=Er("Date"),C$=Er("File"),E$=Er("Blob"),T$=Er("FileList"),k$=e=>nd(e)&&$n(e.pipe),P$=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$n(e.append)&&((t=ed(e))==="formdata"||t==="object"&&$n(e.toString)&&e.toString()==="[object FormData]"))},O$=Er("URLSearchParams"),$$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),ta(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),h=o.length;let l;for(r=0;r<h;r++)l=o[r],t.call(null,e[l],l,e)}}function AS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const RS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MS=e=>!_l(e)&&e!==RS;function qp(){const{caseless:e}=MS(this)&&this||{},t={},n=(r,i)=>{const o=e&&AS(t,i)||i;au(t[o])&&au(r)?t[o]=qp(t[o],r):au(r)?t[o]=qp({},r):ta(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Yl(arguments[r],n);return t}const A$=(e,t,n,{allOwnKeys:r}={})=>(Yl(t,(i,o)=>{n&&$n(i)?e[o]=PS(i,n):e[o]=i},{allOwnKeys:r}),e),R$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),M$=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},D$=(e,t,n,r)=>{let i,o,h;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)h=i[o],(!r||r(h,e,t))&&!l[h]&&(t[h]=e[h],l[h]=!0);e=n!==!1&&jg(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},N$=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},F$=e=>{if(!e)return null;if(ta(e))return e;let t=e.length;if(!$S(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},L$=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jg(Uint8Array)),I$=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},j$=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},B$=Er("HTMLFormElement"),z$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),_y=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),V$=Er("RegExp"),DS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Yl(n,(i,o)=>{let h;(h=t(i,o,e))!==!1&&(r[o]=h||i)}),Object.defineProperties(e,r)},U$=e=>{DS(e,(t,n)=>{if($n(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if($n(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},H$=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return ta(e)?r(e):r(String(e).split(t)),n},W$=()=>{},Y$=(e,t)=>(e=+e,Number.isFinite(e)?e:t),yh="abcdefghijklmnopqrstuvwxyz",Cy="0123456789",NS={DIGIT:Cy,ALPHA:yh,ALPHA_DIGIT:yh+yh.toUpperCase()+Cy},X$=(e=16,t=NS.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function G$(e){return!!(e&&$n(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const K$=e=>{const t=new Array(10),n=(r,i)=>{if(nd(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=ta(r)?[]:{};return Yl(r,(h,l)=>{const a=n(h,i+1);!_l(a)&&(o[l]=a)}),t[i]=void 0,o}}return r};return n(e,0)},q$=Er("AsyncFunction"),Z$=e=>e&&(nd(e)||$n(e))&&$n(e.then)&&$n(e.catch),fe={isArray:ta,isArrayBuffer:OS,isBuffer:b$,isFormData:P$,isArrayBufferView:w$,isString:x$,isNumber:$S,isBoolean:S$,isObject:nd,isPlainObject:au,isUndefined:_l,isDate:_$,isFile:C$,isBlob:E$,isRegExp:V$,isFunction:$n,isStream:k$,isURLSearchParams:O$,isTypedArray:L$,isFileList:T$,forEach:Yl,merge:qp,extend:A$,trim:$$,stripBOM:R$,inherits:M$,toFlatObject:D$,kindOf:ed,kindOfTest:Er,endsWith:N$,toArray:F$,forEachEntry:I$,matchAll:j$,isHTMLForm:B$,hasOwnProperty:_y,hasOwnProp:_y,reduceDescriptors:DS,freezeMethods:U$,toObjectSet:H$,toCamelCase:z$,noop:W$,toFiniteNumber:Y$,findKey:AS,global:RS,isContextDefined:MS,ALPHABET:NS,generateString:X$,isSpecCompliantForm:G$,toJSONObject:K$,isAsyncFn:q$,isThenable:Z$};function Le(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}fe.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:fe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FS=Le.prototype,LS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{LS[e]={value:e}});Object.defineProperties(Le,LS);Object.defineProperty(FS,"isAxiosError",{value:!0});Le.from=(e,t,n,r,i,o)=>{const h=Object.create(FS);return fe.toFlatObject(e,h,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),Le.call(h,e.message,t,n,r,i),h.cause=e,h.name=e.name,o&&Object.assign(h,o),h};const Q$=null;function Zp(e){return fe.isPlainObject(e)||fe.isArray(e)}function IS(e){return fe.endsWith(e,"[]")?e.slice(0,-2):e}function Ey(e,t,n){return e?e.concat(t).map(function(i,o){return i=IS(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function J$(e){return fe.isArray(e)&&!e.some(Zp)}const eA=fe.toFlatObject(fe,{},null,function(t){return/^is[A-Z]/.test(t)});function rd(e,t,n){if(!fe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=fe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!fe.isUndefined(m[g])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,h=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&fe.isSpecCompliantForm(t);if(!fe.isFunction(i))throw new TypeError("visitor must be a function");function f(p){if(p===null)return"";if(fe.isDate(p))return p.toISOString();if(!a&&fe.isBlob(p))throw new Le("Blob is not supported. Use a Buffer instead.");return fe.isArrayBuffer(p)||fe.isTypedArray(p)?a&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,g,m){let v=p;if(p&&!m&&typeof p=="object"){if(fe.endsWith(g,"{}"))g=r?g:g.slice(0,-2),p=JSON.stringify(p);else if(fe.isArray(p)&&J$(p)||(fe.isFileList(p)||fe.endsWith(g,"[]"))&&(v=fe.toArray(p)))return g=IS(g),v.forEach(function(b,w){!(fe.isUndefined(b)||b===null)&&t.append(h===!0?Ey([g],w,o):h===null?g:g+"[]",f(b))}),!1}return Zp(p)?!0:(t.append(Ey(m,g,o),f(p)),!1)}const s=[],c=Object.assign(eA,{defaultVisitor:u,convertValue:f,isVisitable:Zp});function d(p,g){if(!fe.isUndefined(p)){if(s.indexOf(p)!==-1)throw Error("Circular reference detected in "+g.join("."));s.push(p),fe.forEach(p,function(v,y){(!(fe.isUndefined(v)||v===null)&&i.call(t,v,fe.isString(y)?y.trim():y,g,c))===!0&&d(v,g?g.concat(y):[y])}),s.pop()}}if(!fe.isObject(e))throw new TypeError("data must be an object");return d(e),t}function Ty(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Bg(e,t){this._pairs=[],e&&rd(e,this,t)}const jS=Bg.prototype;jS.append=function(t,n){this._pairs.push([t,n])};jS.toString=function(t){const n=t?function(r){return t.call(this,r,Ty)}:Ty;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function tA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BS(e,t,n){if(!t)return e;const r=n&&n.encode||tA,i=n&&n.serialize;let o;if(i?o=i(t,n):o=fe.isURLSearchParams(t)?t.toString():new Bg(t,n).toString(r),o){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class ky{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){fe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const zS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},nA=typeof URLSearchParams<"u"?URLSearchParams:Bg,rA=typeof FormData<"u"?FormData:null,iA=typeof Blob<"u"?Blob:null,oA={isBrowser:!0,classes:{URLSearchParams:nA,FormData:rA,Blob:iA},protocols:["http","https","file","blob","url","data"]},VS=typeof window<"u"&&typeof document<"u",sA=(e=>VS&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),aA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:VS,hasStandardBrowserEnv:sA,hasStandardBrowserWebWorkerEnv:aA},Symbol.toStringTag,{value:"Module"})),dr={...lA,...oA};function cA(e,t){return rd(e,new dr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return dr.isNode&&fe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function uA(e){return fe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fA(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function US(e){function t(n,r,i,o){let h=n[o++];if(h==="__proto__")return!0;const l=Number.isFinite(+h),a=o>=n.length;return h=!h&&fe.isArray(i)?i.length:h,a?(fe.hasOwnProp(i,h)?i[h]=[i[h],r]:i[h]=r,!l):((!i[h]||!fe.isObject(i[h]))&&(i[h]=[]),t(n,r,i[h],o)&&fe.isArray(i[h])&&(i[h]=fA(i[h])),!l)}if(fe.isFormData(e)&&fe.isFunction(e.entries)){const n={};return fe.forEachEntry(e,(r,i)=>{t(uA(r),i,n,0)}),n}return null}function dA(e,t,n){if(fe.isString(e))try{return(t||JSON.parse)(e),fe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Xl={transitional:zS,adapter:["xhr","http"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=fe.isObject(t);if(o&&fe.isHTMLForm(t)&&(t=new FormData(t)),fe.isFormData(t))return i?JSON.stringify(US(t)):t;if(fe.isArrayBuffer(t)||fe.isBuffer(t)||fe.isStream(t)||fe.isFile(t)||fe.isBlob(t))return t;if(fe.isArrayBufferView(t))return t.buffer;if(fe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cA(t,this.formSerializer).toString();if((l=fe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return rd(l?{"files[]":t}:t,a&&new a,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),dA(t)):t}],transformResponse:[function(t){const n=this.transitional||Xl.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(t&&fe.isString(t)&&(r&&!this.responseType||i)){const h=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(h)throw l.name==="SyntaxError"?Le.from(l,Le.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:dr.classes.FormData,Blob:dr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};fe.forEach(["delete","get","head","post","put","patch"],e=>{Xl.headers[e]={}});const hA=fe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pA=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(h){i=h.indexOf(":"),n=h.substring(0,i).trim().toLowerCase(),r=h.substring(i+1).trim(),!(!n||t[n]&&hA[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Py=Symbol("internals");function xa(e){return e&&String(e).trim().toLowerCase()}function lu(e){return e===!1||e==null?e:fe.isArray(e)?e.map(lu):String(e)}function mA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function bh(e,t,n,r,i){if(fe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!fe.isString(t)){if(fe.isString(r))return t.indexOf(r)!==-1;if(fe.isRegExp(r))return r.test(t)}}function vA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function yA(e,t){const n=fe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,h){return this[r].call(this,t,i,o,h)},configurable:!0})})}class An{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(l,a,f){const u=xa(a);if(!u)throw new Error("header name must be a non-empty string");const s=fe.findKey(i,u);(!s||i[s]===void 0||f===!0||f===void 0&&i[s]!==!1)&&(i[s||a]=lu(l))}const h=(l,a)=>fe.forEach(l,(f,u)=>o(f,u,a));return fe.isPlainObject(t)||t instanceof this.constructor?h(t,n):fe.isString(t)&&(t=t.trim())&&!gA(t)?h(pA(t),n):t!=null&&o(n,t,r),this}get(t,n){if(t=xa(t),t){const r=fe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return mA(i);if(fe.isFunction(n))return n.call(this,i,r);if(fe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xa(t),t){const r=fe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||bh(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(h){if(h=xa(h),h){const l=fe.findKey(r,h);l&&(!n||bh(r,r[l],l,n))&&(delete r[l],i=!0)}}return fe.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||bh(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return fe.forEach(this,(i,o)=>{const h=fe.findKey(r,o);if(h){n[h]=lu(i),delete n[o];return}const l=t?vA(o):String(o).trim();l!==o&&delete n[o],n[l]=lu(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return fe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&fe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Py]=this[Py]={accessors:{}}).accessors,i=this.prototype;function o(h){const l=xa(h);r[l]||(yA(i,h),r[l]=!0)}return fe.isArray(t)?t.forEach(o):o(t),this}}An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);fe.reduceDescriptors(An.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});fe.freezeMethods(An);function wh(e,t){const n=this||Xl,r=t||n,i=An.from(r.headers);let o=r.data;return fe.forEach(e,function(l){o=l.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function HS(e){return!!(e&&e.__CANCEL__)}function Gl(e,t,n){Le.call(this,e??"canceled",Le.ERR_CANCELED,t,n),this.name="CanceledError"}fe.inherits(Gl,Le,{__CANCEL__:!0});function bA(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const wA=dr.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const h=[e+"="+encodeURIComponent(t)];fe.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),fe.isString(r)&&h.push("path="+r),fe.isString(i)&&h.push("domain="+i),o===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xA(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function SA(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function WS(e,t){return e&&!xA(t)?SA(e,t):t}const _A=dr.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(o){let h=o;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(h){const l=fe.isString(h)?i(h):h;return l.protocol===r.protocol&&l.host===r.host}}():function(){return function(){return!0}}();function CA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function EA(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,h;return t=t!==void 0?t:1e3,function(a){const f=Date.now(),u=r[o];h||(h=f),n[i]=a,r[i]=f;let s=o,c=0;for(;s!==i;)c+=n[s++],s=s%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),f-h<t)return;const d=u&&f-u;return d?Math.round(c*1e3/d):void 0}}function Oy(e,t){let n=0;const r=EA(50,250);return i=>{const o=i.loaded,h=i.lengthComputable?i.total:void 0,l=o-n,a=r(l),f=o<=h;n=o;const u={loaded:o,total:h,progress:h?o/h:void 0,bytes:l,rate:a||void 0,estimated:a&&h&&f?(h-o)/a:void 0,event:i};u[t?"download":"upload"]=!0,e(u)}}const TA=typeof XMLHttpRequest<"u",kA=TA&&function(e){return new Promise(function(n,r){let i=e.data;const o=An.from(e.headers).normalize();let{responseType:h,withXSRFToken:l}=e,a;function f(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}let u;if(fe.isFormData(i)){if(dr.hasStandardBrowserEnv||dr.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((u=o.getContentType())!==!1){const[g,...m]=u?u.split(";").map(v=>v.trim()).filter(Boolean):[];o.setContentType([g||"multipart/form-data",...m].join("; "))}}let s=new XMLHttpRequest;if(e.auth){const g=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(g+":"+m))}const c=WS(e.baseURL,e.url);s.open(e.method.toUpperCase(),BS(c,e.params,e.paramsSerializer),!0),s.timeout=e.timeout;function d(){if(!s)return;const g=An.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders()),v={data:!h||h==="text"||h==="json"?s.responseText:s.response,status:s.status,statusText:s.statusText,headers:g,config:e,request:s};bA(function(b){n(b),f()},function(b){r(b),f()},v),s=null}if("onloadend"in s?s.onloadend=d:s.onreadystatechange=function(){!s||s.readyState!==4||s.status===0&&!(s.responseURL&&s.responseURL.indexOf("file:")===0)||setTimeout(d)},s.onabort=function(){s&&(r(new Le("Request aborted",Le.ECONNABORTED,e,s)),s=null)},s.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||zS;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),r(new Le(m,v.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,e,s)),s=null},dr.hasStandardBrowserEnv&&(l&&fe.isFunction(l)&&(l=l(e)),l||l!==!1&&_A(c))){const g=e.xsrfHeaderName&&e.xsrfCookieName&&wA.read(e.xsrfCookieName);g&&o.set(e.xsrfHeaderName,g)}i===void 0&&o.setContentType(null),"setRequestHeader"in s&&fe.forEach(o.toJSON(),function(m,v){s.setRequestHeader(v,m)}),fe.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),h&&h!=="json"&&(s.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&s.addEventListener("progress",Oy(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&s.upload&&s.upload.addEventListener("progress",Oy(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=g=>{s&&(r(!g||g.type?new Gl(null,e,s):g),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=CA(c);if(p&&dr.protocols.indexOf(p)===-1){r(new Le("Unsupported protocol "+p+":",Le.ERR_BAD_REQUEST,e));return}s.send(i||null)})},Qp={http:Q$,xhr:kA};fe.forEach(Qp,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const $y=e=>`- ${e}`,PA=e=>fe.isFunction(e)||e===null||e===!1,YS={getAdapter:e=>{e=fe.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let h;if(r=n,!PA(n)&&(r=Qp[(h=String(n)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${h}'`);if(r)break;i[h||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let h=t?o.length>1?`since :
`+o.map($y).join(`
`):" "+$y(o[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:Qp};function xh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gl(null,e)}function Ay(e){return xh(e),e.headers=An.from(e.headers),e.data=wh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),YS.getAdapter(e.adapter||Xl.adapter)(e).then(function(r){return xh(e),r.data=wh.call(e,e.transformResponse,r),r.headers=An.from(r.headers),r},function(r){return HS(r)||(xh(e),r&&r.response&&(r.response.data=wh.call(e,e.transformResponse,r.response),r.response.headers=An.from(r.response.headers))),Promise.reject(r)})}const Ry=e=>e instanceof An?{...e}:e;function Bs(e,t){t=t||{};const n={};function r(f,u,s){return fe.isPlainObject(f)&&fe.isPlainObject(u)?fe.merge.call({caseless:s},f,u):fe.isPlainObject(u)?fe.merge({},u):fe.isArray(u)?u.slice():u}function i(f,u,s){if(fe.isUndefined(u)){if(!fe.isUndefined(f))return r(void 0,f,s)}else return r(f,u,s)}function o(f,u){if(!fe.isUndefined(u))return r(void 0,u)}function h(f,u){if(fe.isUndefined(u)){if(!fe.isUndefined(f))return r(void 0,f)}else return r(void 0,u)}function l(f,u,s){if(s in t)return r(f,u);if(s in e)return r(void 0,f)}const a={url:o,method:o,data:o,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:l,headers:(f,u)=>i(Ry(f),Ry(u),!0)};return fe.forEach(Object.keys(Object.assign({},e,t)),function(u){const s=a[u]||i,c=s(e[u],t[u],u);fe.isUndefined(c)&&s!==l||(n[u]=c)}),n}const XS="1.6.8",zg={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{zg[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const My={};zg.transitional=function(t,n,r){function i(o,h){return"[Axios v"+XS+"] Transitional option '"+o+"'"+h+(r?". "+r:"")}return(o,h,l)=>{if(t===!1)throw new Le(i(h," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!My[h]&&(My[h]=!0,console.warn(i(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,h,l):!0}};function OA(e,t,n){if(typeof e!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],h=t[o];if(h){const l=e[o],a=l===void 0||h(l,o,e);if(a!==!0)throw new Le("option "+o+" must be "+a,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+o,Le.ERR_BAD_OPTION)}}const Jp={assertOptions:OA,validators:zg},si=Jp.validators;class bo{constructor(t){this.defaults=t,this.interceptors={request:new ky,response:new ky}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Bs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Jp.assertOptions(r,{silentJSONParsing:si.transitional(si.boolean),forcedJSONParsing:si.transitional(si.boolean),clarifyTimeoutError:si.transitional(si.boolean)},!1),i!=null&&(fe.isFunction(i)?n.paramsSerializer={serialize:i}:Jp.assertOptions(i,{encode:si.function,serialize:si.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=o&&fe.merge(o.common,o[n.method]);o&&fe.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=An.concat(h,o);const l=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(a=a&&g.synchronous,l.unshift(g.fulfilled,g.rejected))});const f=[];this.interceptors.response.forEach(function(g){f.push(g.fulfilled,g.rejected)});let u,s=0,c;if(!a){const p=[Ay.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,f),c=p.length,u=Promise.resolve(n);s<c;)u=u.then(p[s++],p[s++]);return u}c=l.length;let d=n;for(s=0;s<c;){const p=l[s++],g=l[s++];try{d=p(d)}catch(m){g.call(this,m);break}}try{u=Ay.call(this,d)}catch(p){return Promise.reject(p)}for(s=0,c=f.length;s<c;)u=u.then(f[s++],f[s++]);return u}getUri(t){t=Bs(this.defaults,t);const n=WS(t.baseURL,t.url);return BS(n,t.params,t.paramsSerializer)}}fe.forEach(["delete","get","head","options"],function(t){bo.prototype[t]=function(n,r){return this.request(Bs(r||{},{method:t,url:n,data:(r||{}).data}))}});fe.forEach(["post","put","patch"],function(t){function n(r){return function(o,h,l){return this.request(Bs(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:h}))}}bo.prototype[t]=n(),bo.prototype[t+"Form"]=n(!0)});class Vg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const h=new Promise(l=>{r.subscribe(l),o=l}).then(i);return h.cancel=function(){r.unsubscribe(o)},h},t(function(o,h,l){r.reason||(r.reason=new Gl(o,h,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Vg(function(i){t=i}),cancel:t}}}function $A(e){return function(n){return e.apply(null,n)}}function AA(e){return fe.isObject(e)&&e.isAxiosError===!0}const em={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(em).forEach(([e,t])=>{em[t]=e});function GS(e){const t=new bo(e),n=PS(bo.prototype.request,t);return fe.extend(n,bo.prototype,t,{allOwnKeys:!0}),fe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return GS(Bs(e,i))},n}const pt=GS(Xl);pt.Axios=bo;pt.CanceledError=Gl;pt.CancelToken=Vg;pt.isCancel=HS;pt.VERSION=XS;pt.toFormData=rd;pt.AxiosError=Le;pt.Cancel=pt.CanceledError;pt.all=function(t){return Promise.all(t)};pt.spread=$A;pt.isAxiosError=AA;pt.mergeConfig=Bs;pt.AxiosHeaders=An;pt.formToJSON=e=>US(fe.isHTMLForm(e)?new FormData(e):e);pt.getAdapter=YS.getAdapter;pt.HttpStatusCode=em;pt.default=pt;const id="https://api.runpod.ai/v2/sa6txt6v9ok382/runsync",KS="J9AEA4HA0M792XF35GRC8FHVHWQAH2LU3LZB635Q",qS=pt.create({baseURL:id});async function RA(e,t,n,r,i,o=null,h){const l=await qa(e),a=await qa(i),f=o?await qa(o):null,u=await fetch(`${id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${KS}`},body:JSON.stringify({id:aS(1,65536),input:{image:l,mask:a,call_to_api:{api_call:"inpainting"},model:h,ldm_steps:t.ldmSteps,ldm_sampler:t.ldmSampler,zits_wireframe:t.zitsWireframe,cv2_flag:t.cv2Flag,cv2_radius:t.cv2Radius,hd_strategy:"Crop",hd_strategy_crop_triger_size:640,hd_strategy_crop_margin:128,hd_trategy_resize_imit:2048,prompt:t.prompt,negative_prompt:t.negativePrompt,use_croper:t.showCropper,croper_x:n.x,croper_y:n.y,croper_height:n.height,croper_width:n.width,use_extender:t.showExtender,extender_x:r.x,extender_y:r.y,extender_height:r.height,extender_width:r.width,sd_mask_blur:t.sdMaskBlur,sd_strength:t.sdStrength,sd_steps:t.sdSteps,sd_guidance_scale:t.sdGuidanceScale,sd_sampler:t.sdSampler,sd_seed:t.seedFixed?t.seed:-1,sd_match_histograms:t.sdMatchHistograms,sd_freeu:t.enableFreeu,sd_freeu_config:t.freeuConfig,sd_lcm_lora:t.enableLCMLora,paint_by_example_example_image:f,p2p_image_guidance_scale:t.p2pImageGuidanceScale,enable_controlnet:t.enableControlnet,controlnet_conditioning_scale:t.controlnetConditioningScale,controlnet_method:t.controlnetMethod?t.controlnetMethod:"",powerpaint_task:t.showExtender?vs.outpainting:t.powerpaintTask}})});if(u.ok){const c=await u.json(),{output:d}=c,p=lS(d);return{blob:URL.createObjectURL(p),seed:"42"}}const s=await u.json();throw new Error(`Something went wrong: ${s.errors}`)}async function MA(e){return(await qS.post("/model",{name:e})).data}async function Dy(e,t){return qS.post("/switch_plugin_model",{plugin_name:e,model_name:t})}async function DA(e,t,n,r,i,o){const h=await qa(n),l=await fetch(`${id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${KS}`},body:JSON.stringify({id:aS(1,65536),input:{call_to_api:{api_call:t,plugin_name:t,model_name:r.removeBGModel},name:t,image:h,upscale:i,clicks:o}})});if(l.ok){const f=await l.json(),{output:u}=f,s=lS(u);return{blob:URL.createObjectURL(s)}}const a=await l.json();throw new Error(a)}async function NA(e,t,n){const r=await qa(e),i=await fetch(`${id}/adjust_mask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mask:r,operate:t,kernel_size:n})});if(i.ok)return await i.blob();const o=await i.json();throw new Error(o)}const qi={file:null,paintByExampleFile:null,customMask:null,imageHeight:0,imageWidth:0,isInpainting:!1,isPluginRunning:!1,isAdjustingMask:!1,disableShortCuts:!1,windowSize:{height:600,width:800},editorState:{baseBrushSize:rS,brushSizeScale:1,renders:[],extraMasks:[],prevExtraMasks:[],temporaryMasks:[],lineGroups:[],lastLineGroup:[],curLineGroup:[],currentCanvas:"",canvasGroups:[],currCanvasGroups:[],lastCanvasGroups:[],redoRenders:[],redoCurLines:[],redoLineGroups:[],redoCurCanvas:[]},interactiveSegState:{isInteractiveSeg:!1,tmpInteractiveSegMask:null,clicks:[]},cropperState:{x:0,y:0,width:512,height:512},extenderState:{x:0,y:0,width:512,height:512},isCropperExtenderResizing:!1,fileManagerState:{sortBy:TS.CTIME,sortOrder:kS.DESCENDING,layout:"masonry",searchText:"",inputDirectory:"",outputDirectory:""},serverConfig:v$,settings:{model:{name:"lama",path:"lama",model_type:"inpaint",support_controlnet:!1,support_strength:!1,support_outpainting:!1,controlnets:[],support_freeu:!1,support_lcm_lora:!1,is_single_file_diffusers:!1,need_prompt:!1},enableControlnet:!1,showCropper:!1,showExtender:!1,extenderDirection:zt.xy,enableDownloadMask:!1,enableManualInpainting:!1,enableUploadMask:!1,enableAutoExtractPrompt:!0,ldmSteps:30,ldmSampler:Lg.ddim,zitsWireframe:!0,cv2Radius:5,cv2Flag:Ig.INPAINT_NS,prompt:"",negativePrompt:jO,seed:42,seedFixed:!1,sdMaskBlur:12,sdStrength:1,sdSteps:50,sdGuidanceScale:7.5,sdSampler:"DPM++ 2M",sdMatchHistograms:!1,sdScale:1,p2pImageGuidanceScale:1.5,controlnetConditioningScale:.4,controlnetMethod:"lllyasviel/control_v11p_sd15_canny",enableLCMLora:!1,enableFreeu:!1,freeuConfig:{s1:.9,s2:.2,b1:1.2,b2:1.4},powerpaintTask:vs.text_guided,adjustMaskKernelSize:12}},FA=ES(e=>({language:"",setLanguage:t=>e({language:t})})),Xe=ES()($3(H3((e,t)=>({...qi,showPrevMask:async()=>{if(t().settings.showExtender)return;const{lastLineGroup:n,curLineGroup:r,prevExtraMasks:i,extraMasks:o}=t().editorState;if(r.length!==0||o.length!==0)return;const{imageWidth:h,imageHeight:l}=t(),a=dy(h,l,[n],i,Vu);try{const f=await UO(a);e(u=>{u.editorState.temporaryMasks.push(f)})}catch(f){console.error(f);return}},hidePrevMask:()=>{e(n=>{n.editorState.temporaryMasks=[]})},getCurrentTargetFile:async()=>{const n=t().file,r=t().editorState.renders;let i=n;if(r.length>0){const o=r[r.length-1];i=await sS(o.currentSrc,n.name,n.type)}return i},runInpainting:async n=>{const{isInpainting:r,file:i,paintByExampleFile:o,imageWidth:h,imageHeight:l,settings:a,cropperState:f,extenderState:u}=t();if(r||i===null||t().settings.model.support_outpainting&&a.showExtender&&u.height===l&&u.width===h)return;const{lastLineGroup:s,curLineGroup:c,lineGroups:d,renders:p,prevExtraMasks:g,extraMasks:m,currCanvasGroups:v}=t().editorState;let y=[],b=[];if(v.length===0){Da({variant:"destructive",description:"Please draw mask on picture"});return}const w=[...d,b];e(E=>{E.isInpainting=!0});const{targetMask:S,targetFile:_}=await KO(v[v.length-1],h,l);try{const E=await RA(dh(_),a,f,u,dh(S),o,n),{blob:C,seed:P}=E;P&&t().setSeed(parseInt(P,10));const N=new Image;await iu(N,C);const B=[...p,N];t().setImageSize(N.width,N.height),t().updateEditorState({renders:B,lineGroups:w,lastLineGroup:b,curLineGroup:[],extraMasks:[],prevExtraMasks:y})}catch(E){Da({variant:"destructive",description:E.message?E.message:E.toString()})}t().resetRedoState(),e(E=>{E.isInpainting=!1,E.editorState.temporaryMasks=[]})},runRenderablePlugin:async(n,r,i={upscale:1})=>{const{renders:o,lineGroups:h}=t().editorState;e(l=>{l.isPluginRunning=!0});try{const l=new Date,a=await t().getCurrentTargetFile(),f=await DA(n,r,a,t().serverConfig,i.upscale),{blob:u}=f;if(n){const d=new Image;await iu(d,u),e(p=>{p.editorState.extraMasks.push(d)})}else{const d=new Image;await iu(d,u),t().setImageSize(d.width,d.height);const p=[...o,d],g=[...h,[]];t().updateEditorState({renders:p,lineGroups:g})}const c=new Date().getTime()-l.getTime();Da({description:`Run ${r} successfully in ${c/1e3}s`})}catch(l){Da({variant:"destructive",description:l.message?l.message:l.toString()})}e(l=>{l.isPluginRunning=!1})},updateEditorState:n=>{e(r=>{r.editorState={...r.editorState,...n}})},cleanCurLineGroup:()=>{t().updateEditorState({curLineGroup:[]})},handleCanvasMouseDown:n=>{let r=[];const i=t();i.runMannually()&&(r=[...i.editorState.curLineGroup]),r.push({size:i.getBrushSize(),pts:[n]}),e(o=>{o.editorState.curLineGroup=r})},handleSaveState:n=>{let r=[];const i=t();i.runMannually()&&(r=[...i.editorState.currCanvasGroups]),r.push(n),e(o=>{o.editorState.currCanvasGroups=r})},handleCanvasMouseMove:n=>{e(r=>{const i=r.editorState.curLineGroup;i.length&&i[i.length-1].pts.push(n)})},runMannually:()=>{const n=t();return n.settings.enableManualInpainting||n.settings.model.model_type!==xi},getIsProcessing:()=>t().isInpainting||t().isPluginRunning||t().isAdjustingMask,isSD:()=>t().settings.model.model_type!==xi,undoDisabled:()=>{const n=t().editorState;if(n.renders.length>0)return!1;if(t().runMannually()){if(n.currCanvasGroups.length===0)return!0}else if(n.renders.length===0)return!0;return!1},undo:()=>{t().runMannually()&&t().editorState.currCanvasGroups.length!==0?e(n=>{const r=n.editorState;if(r.currCanvasGroups.length===0)return;r.lastCanvasGroups=[];const i=r.currCanvasGroups.pop();r.redoCurCanvas.push(i)}):e(n=>{const r=n.editorState;if(r.renders.length===0||r.lineGroups.length===0)return;const i=r.lineGroups.pop();r.redoLineGroups.push(i),r.redoCurLines=[],r.curLineGroup=[];const o=r.renders.pop();r.redoRenders.push(o)})},redoDisabled:()=>{const n=t().editorState;if(n.redoRenders.length>0)return!1;if(t().runMannually()){if(n.redoCurCanvas.length===0)return!0}else if(n.redoRenders.length===0)return!0;return!1},redo:()=>{t().runMannually()&&t().editorState.redoCurCanvas.length!==0?e(n=>{const r=n.editorState;if(r.redoCurCanvas.length===0)return;const i=r.redoCurCanvas.pop();r.currCanvasGroups.push(i)}):e(n=>{const r=n.editorState;if(r.redoRenders.length===0||r.redoLineGroups.length===0)return;const i=r.redoLineGroups.pop();r.lineGroups.push(i),r.curLineGroup=[];const o=r.redoRenders.pop();r.renders.push(o)})},resetRedoState:()=>{e(n=>{n.editorState.redoCurLines=[],n.editorState.redoLineGroups=[],n.editorState.redoRenders=[]})},updateAppState:n=>{e(()=>n)},getBrushSize:()=>t().editorState.baseBrushSize*t().editorState.brushSizeScale,showPromptInput:()=>{const n=t().settings.model;return n.model_type!==xi&&n.name!==oS},setServerConfig:n=>{e(r=>{r.serverConfig=n,r.settings.enableControlnet=n.enableControlnet,r.settings.controlnetMethod=n.controlnetMethod})},updateServerConfig:n=>{e(r=>{r.serverConfig={...r.serverConfig,...n},console.log(r.serverConfig)})},updateSettings:n=>{e(r=>{r.settings={...r.settings,...n}})},setModel:n=>{e(r=>{r.settings.model=n,n.support_controlnet&&!n.controlnets.includes(r.settings.controlnetMethod)&&(r.settings.controlnetMethod=n.controlnets[0])})},updateFileManagerState:n=>{e(r=>{r.fileManagerState={...r.fileManagerState,...n}})},updateInteractiveSegState:n=>{e(r=>({...r,interactiveSegState:{...r.interactiveSegState,...n}}))},resetInteractiveSegState:()=>{t().updateInteractiveSegState(qi.interactiveSegState)},handleInteractiveSegAccept:()=>{e(n=>{n.interactiveSegState.tmpInteractiveSegMask&&n.editorState.extraMasks.push(n.interactiveSegState.tmpInteractiveSegMask),n.interactiveSegState={...qi.interactiveSegState}})},setIsInpainting:n=>e(r=>{r.isInpainting=n}),setFile:async n=>{e(r=>{r.file=n,r.interactiveSegState=qi.interactiveSegState,r.editorState=qi.editorState,r.cropperState=qi.cropperState})},setCustomFile:n=>e(r=>{r.customMask=n}),setBaseBrushSize:n=>e(r=>{r.editorState.baseBrushSize=n}),decreaseBaseBrushSize:()=>{const n=t().editorState.baseBrushSize;let r=n;n>10&&(r=n-10),n<=10&&n>0&&(r=n-3),t().setBaseBrushSize(r)},increaseBaseBrushSize:()=>{const n=t().editorState.baseBrushSize,r=Math.min(n+10,iS);t().setBaseBrushSize(r)},setImageSize:(n,r)=>{e(i=>{i.imageWidth=n,i.imageHeight=r,i.editorState.brushSizeScale=Math.max(Math.min(n,r),512)/512}),t().resetExtender(n,r)},setCropperX:n=>e(r=>{r.cropperState.x=n}),setCropperY:n=>e(r=>{r.cropperState.y=n}),setCropperWidth:n=>e(r=>{r.cropperState.width=n}),setCropperHeight:n=>e(r=>{r.cropperState.height=n}),setExtenderX:n=>e(r=>{r.extenderState.x=n}),setExtenderY:n=>e(r=>{r.extenderState.y=n}),setExtenderWidth:n=>e(r=>{r.extenderState.width=n}),setExtenderHeight:n=>e(r=>{r.extenderState.height=n}),setIsCropperExtenderResizing:n=>e(r=>{r.isCropperExtenderResizing=n}),updateExtenderDirection:n=>{console.log(`updateExtenderDirection: ${JSON.stringify(t().extenderState)}`),e(r=>{r.settings.extenderDirection=n,r.extenderState.x=0,r.extenderState.y=0,r.extenderState.width=r.imageWidth,r.extenderState.height=r.imageHeight}),t().updateExtenderByBuiltIn(n,1.5)},updateExtenderByBuiltIn:(n,r)=>{const i={...qi.extenderState};let{x:o,y:h,width:l,height:a}=i;const{imageWidth:f,imageHeight:u}=t();switch(l=f,a=u,n){case zt.x:o=-Math.ceil(f*(r-1)/2),l=Math.ceil(f*r);break;case zt.y:h=-Math.ceil(u*(r-1)/2),a=Math.ceil(u*r);break;case zt.xy:o=-Math.ceil(f*(r-1)/2),h=-Math.ceil(u*(r-1)/2),l=Math.ceil(f*r),a=Math.ceil(u*r);break}e(s=>{s.extenderState.x=o,s.extenderState.y=h,s.extenderState.width=l,s.extenderState.height=a})},resetExtender:(n,r)=>{e(i=>{i.extenderState.x=0,i.extenderState.y=0,i.extenderState.width=n,i.extenderState.height=r})},setSeed:n=>e(r=>{r.settings.seed=n}),adjustMask:async n=>{const{imageWidth:r,imageHeight:i}=t(),{curLineGroup:o,extraMasks:h}=t().editorState,{adjustMaskKernelSize:l}=t().settings;if(o.length===0&&h.length===0)return;e(c=>{c.isAdjustingMask=!0});const a=dy(r,i,[o],h,Vu),f=dh(a.toDataURL()),u=await NA(f,n,l),s=await VO(u);e(c=>{c.editorState.extraMasks=[s],c.editorState.curLineGroup=[]}),e(c=>{c.isAdjustingMask=!1})},clearMask:()=>{e(n=>{n.editorState.extraMasks=[],n.editorState.curLineGroup=[]})}})),{name:"ZUSTAND_STATE",version:1,partialize:e=>Object.fromEntries(Object.entries(e).filter(([t])=>["fileManagerState","settings"].includes(t)))}),A3),Ug=x.forwardRef(({className:e,type:t,...n},r)=>{const i=Xe(l=>l.updateAppState),o=()=>{i({disableShortCuts:!0})},h=()=>{i({disableShortCuts:!1})};return T.jsx("input",{type:t,className:be("flex h-8 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,autoComplete:"off",tabIndex:-1,onFocus:o,onBlur:h,...n})});Ug.displayName="Input";const Zt=x.forwardRef(({numberValue:e,allowFloat:t,onNumberValueChange:n,...r},i)=>{const[o,h]=x.useState(e.toString());x.useEffect(()=>{o!==e.toString()+"."&&h(e.toString())},[e]);const l=a=>{let u=a.target.value;if(t){if(u=u.replace(/[^0-9.]/g,"").replace(/(\..*?)\..*/g,"$1"),u.length===0){n(0);return}n(parseFloat(u))}else{if(u=u.replace(/\D/g,""),u.length===0){n(0);return}n(parseInt(u,10))}h(u)};return T.jsx(Ug,{ref:i,value:o,onInput:l,...r})}),LA=wT.useId||(()=>{});let IA=0;function sn(e){const[t,n]=x.useState(LA());return Ft(()=>{n(r=>r??String(IA++))},[e]),t?`radix-${t}`:""}const jA=["top","right","bottom","left"],Fi=Math.min,hn=Math.max,Yu=Math.round,Mc=Math.floor,Li=e=>({x:e,y:e}),BA={left:"right",right:"left",bottom:"top",top:"bottom"},zA={start:"end",end:"start"};function tm(e,t,n){return hn(e,Fi(t,n))}function Gr(e,t){return typeof e=="function"?e(t):e}function Kr(e){return e.split("-")[0]}function na(e){return e.split("-")[1]}function Hg(e){return e==="x"?"y":"x"}function Wg(e){return e==="y"?"height":"width"}function ra(e){return["top","bottom"].includes(Kr(e))?"y":"x"}function Yg(e){return Hg(ra(e))}function VA(e,t,n){n===void 0&&(n=!1);const r=na(e),i=Yg(e),o=Wg(i);let h=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(h=Xu(h)),[h,Xu(h)]}function UA(e){const t=Xu(e);return[nm(e),t,nm(t)]}function nm(e){return e.replace(/start|end/g,t=>zA[t])}function HA(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:h;default:return[]}}function WA(e,t,n,r){const i=na(e);let o=HA(Kr(e),n==="start",r);return i&&(o=o.map(h=>h+"-"+i),t&&(o=o.concat(o.map(nm)))),o}function Xu(e){return e.replace(/left|right|bottom|top/g,t=>BA[t])}function YA(e){return{top:0,right:0,bottom:0,left:0,...e}}function ZS(e){return typeof e!="number"?YA(e):{top:e,right:e,bottom:e,left:e}}function Gu(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Ny(e,t,n){let{reference:r,floating:i}=e;const o=ra(t),h=Yg(t),l=Wg(h),a=Kr(t),f=o==="y",u=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,c=r[l]/2-i[l]/2;let d;switch(a){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:s};break;case"left":d={x:r.x-i.width,y:s};break;default:d={x:r.x,y:r.y}}switch(na(t)){case"start":d[h]-=c*(n&&f?-1:1);break;case"end":d[h]+=c*(n&&f?-1:1);break}return d}const XA=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:h}=n,l=o.filter(Boolean),a=await(h.isRTL==null?void 0:h.isRTL(t));let f=await h.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:s}=Ny(f,r,a),c=r,d={},p=0;for(let g=0;g<l.length;g++){const{name:m,fn:v}=l[g],{x:y,y:b,data:w,reset:S}=await v({x:u,y:s,initialPlacement:r,placement:c,strategy:i,middlewareData:d,rects:f,platform:h,elements:{reference:e,floating:t}});u=y??u,s=b??s,d={...d,[m]:{...d[m],...w}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(c=S.placement),S.rects&&(f=S.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:s}=Ny(f,c,a)),g=-1)}return{x:u,y:s,placement:c,strategy:i,middlewareData:d}};async function Cl(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:h,elements:l,strategy:a}=e,{boundary:f="clippingAncestors",rootBoundary:u="viewport",elementContext:s="floating",altBoundary:c=!1,padding:d=0}=Gr(t,e),p=ZS(d),m=l[c?s==="floating"?"reference":"floating":s],v=Gu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(m)))==null||n?m:m.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:f,rootBoundary:u,strategy:a})),y=s==="floating"?{x:r,y:i,width:h.floating.width,height:h.floating.height}:h.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),w=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},S=Gu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:a}):y);return{top:(v.top-S.top+p.top)/w.y,bottom:(S.bottom-v.bottom+p.bottom)/w.y,left:(v.left-S.left+p.left)/w.x,right:(S.right-v.right+p.right)/w.x}}const GA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:h,elements:l,middlewareData:a}=t,{element:f,padding:u=0}=Gr(e,t)||{};if(f==null)return{};const s=ZS(u),c={x:n,y:r},d=Yg(i),p=Wg(d),g=await h.getDimensions(f),m=d==="y",v=m?"top":"left",y=m?"bottom":"right",b=m?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[d]-c[d]-o.floating[p],S=c[d]-o.reference[d],_=await(h.getOffsetParent==null?void 0:h.getOffsetParent(f));let E=_?_[b]:0;(!E||!await(h.isElement==null?void 0:h.isElement(_)))&&(E=l.floating[b]||o.floating[p]);const C=w/2-S/2,P=E/2-g[p]/2-1,N=Fi(s[v],P),B=Fi(s[y],P),I=N,V=E-g[p]-B,D=E/2-g[p]/2+C,F=tm(I,D,V),O=!a.arrow&&na(i)!=null&&D!==F&&o.reference[p]/2-(D<I?N:B)-g[p]/2<0,M=O?D<I?D-I:D-V:0;return{[d]:c[d]+M,data:{[d]:F,centerOffset:D-F-M,...O&&{alignmentOffset:M}},reset:O}}}),KA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:h,initialPlacement:l,platform:a,elements:f}=t,{mainAxis:u=!0,crossAxis:s=!0,fallbackPlacements:c,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Gr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=Kr(i),y=Kr(l)===l,b=await(a.isRTL==null?void 0:a.isRTL(f.floating)),w=c||(y||!g?[Xu(l)]:UA(l));!c&&p!=="none"&&w.push(...WA(l,g,p,b));const S=[l,...w],_=await Cl(t,m),E=[];let C=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&E.push(_[v]),s){const I=VA(i,h,b);E.push(_[I[0]],_[I[1]])}if(C=[...C,{placement:i,overflows:E}],!E.every(I=>I<=0)){var P,N;const I=(((P=o.flip)==null?void 0:P.index)||0)+1,V=S[I];if(V)return{data:{index:I,overflows:C},reset:{placement:V}};let D=(N=C.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:N.placement;if(!D)switch(d){case"bestFit":{var B;const F=(B=C.map(O=>[O.placement,O.overflows.filter(M=>M>0).reduce((M,U)=>M+U,0)]).sort((O,M)=>O[1]-M[1])[0])==null?void 0:B[0];F&&(D=F);break}case"initialPlacement":D=l;break}if(i!==D)return{reset:{placement:D}}}return{}}}};function Fy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ly(e){return jA.some(t=>e[t]>=0)}const qA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Gr(e,t);switch(r){case"referenceHidden":{const o=await Cl(t,{...i,elementContext:"reference"}),h=Fy(o,n.reference);return{data:{referenceHiddenOffsets:h,referenceHidden:Ly(h)}}}case"escaped":{const o=await Cl(t,{...i,altBoundary:!0}),h=Fy(o,n.floating);return{data:{escapedOffsets:h,escaped:Ly(h)}}}default:return{}}}}};async function ZA(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),h=Kr(n),l=na(n),a=ra(n)==="y",f=["left","top"].includes(h)?-1:1,u=o&&a?-1:1,s=Gr(t,e);let{mainAxis:c,crossAxis:d,alignmentAxis:p}=typeof s=="number"?{mainAxis:s,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...s};return l&&typeof p=="number"&&(d=l==="end"?p*-1:p),a?{x:d*u,y:c*f}:{x:c*f,y:d*u}}const QA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:h,middlewareData:l}=t,a=await ZA(t,e);return h===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:o+a.y,data:{...a,placement:h}}}}},JA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:h=!1,limiter:l={fn:m=>{let{x:v,y}=m;return{x:v,y}}},...a}=Gr(e,t),f={x:n,y:r},u=await Cl(t,a),s=ra(Kr(i)),c=Hg(s);let d=f[c],p=f[s];if(o){const m=c==="y"?"top":"left",v=c==="y"?"bottom":"right",y=d+u[m],b=d-u[v];d=tm(y,d,b)}if(h){const m=s==="y"?"top":"left",v=s==="y"?"bottom":"right",y=p+u[m],b=p-u[v];p=tm(y,p,b)}const g=l.fn({...t,[c]:d,[s]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},eR=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:h}=t,{offset:l=0,mainAxis:a=!0,crossAxis:f=!0}=Gr(e,t),u={x:n,y:r},s=ra(i),c=Hg(s);let d=u[c],p=u[s];const g=Gr(l,t),m=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(a){const b=c==="y"?"height":"width",w=o.reference[c]-o.floating[b]+m.mainAxis,S=o.reference[c]+o.reference[b]-m.mainAxis;d<w?d=w:d>S&&(d=S)}if(f){var v,y;const b=c==="y"?"width":"height",w=["top","left"].includes(Kr(i)),S=o.reference[s]-o.floating[b]+(w&&((v=h.offset)==null?void 0:v[s])||0)+(w?0:m.crossAxis),_=o.reference[s]+o.reference[b]+(w?0:((y=h.offset)==null?void 0:y[s])||0)-(w?m.crossAxis:0);p<S?p=S:p>_&&(p=_)}return{[c]:d,[s]:p}}}},tR=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:h=()=>{},...l}=Gr(e,t),a=await Cl(t,l),f=Kr(n),u=na(n),s=ra(n)==="y",{width:c,height:d}=r.floating;let p,g;f==="top"||f==="bottom"?(p=f,g=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=f,p=u==="end"?"top":"bottom");const m=d-a[p],v=c-a[g],y=!t.middlewareData.shift;let b=m,w=v;if(s){const _=c-a.left-a.right;w=u||y?Fi(v,_):_}else{const _=d-a.top-a.bottom;b=u||y?Fi(m,_):_}if(y&&!u){const _=hn(a.left,0),E=hn(a.right,0),C=hn(a.top,0),P=hn(a.bottom,0);s?w=c-2*(_!==0||E!==0?_+E:hn(a.left,a.right)):b=d-2*(C!==0||P!==0?C+P:hn(a.top,a.bottom))}await h({...t,availableWidth:w,availableHeight:b});const S=await i.getDimensions(o.floating);return c!==S.width||d!==S.height?{reset:{rects:!0}}:{}}}};function ia(e){return QS(e)?(e.nodeName||"").toLowerCase():"#document"}function gn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(QS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function QS(e){return e instanceof Node||e instanceof gn(e).Node}function Sr(e){return e instanceof Element||e instanceof gn(e).Element}function _r(e){return e instanceof HTMLElement||e instanceof gn(e).HTMLElement}function Iy(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gn(e).ShadowRoot}function Kl(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=er(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function nR(e){return["table","td","th"].includes(ia(e))}function Xg(e){const t=Gg(),n=er(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rR(e){let t=Ii(e);for(;_r(t)&&!zs(t);){if(Xg(t))return t;t=Ii(t)}return null}function Gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zs(e){return["html","body","#document"].includes(ia(e))}function er(e){return gn(e).getComputedStyle(e)}function od(e){return Sr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ii(e){if(ia(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Iy(e)&&e.host||Jr(e);return Iy(t)?t.host:t}function JS(e){const t=Ii(e);return zs(t)?e.ownerDocument?e.ownerDocument.body:e.body:_r(t)&&Kl(t)?t:JS(t)}function El(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=JS(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),h=gn(i);return o?t.concat(h,h.visualViewport||[],Kl(i)?i:[],h.frameElement&&n?El(h.frameElement):[]):t.concat(i,El(i,[],n))}function e_(e){const t=er(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=_r(e),o=i?e.offsetWidth:n,h=i?e.offsetHeight:r,l=Yu(n)!==o||Yu(r)!==h;return l&&(n=o,r=h),{width:n,height:r,$:l}}function Kg(e){return Sr(e)?e:e.contextElement}function ys(e){const t=Kg(e);if(!_r(t))return Li(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=e_(t);let h=(o?Yu(n.width):n.width)/r,l=(o?Yu(n.height):n.height)/i;return(!h||!Number.isFinite(h))&&(h=1),(!l||!Number.isFinite(l))&&(l=1),{x:h,y:l}}const iR=Li(0);function t_(e){const t=gn(e);return!Gg()||!t.visualViewport?iR:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function oR(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gn(e)?!1:t}function ko(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Kg(e);let h=Li(1);t&&(r?Sr(r)&&(h=ys(r)):h=ys(e));const l=oR(o,n,r)?t_(o):Li(0);let a=(i.left+l.x)/h.x,f=(i.top+l.y)/h.y,u=i.width/h.x,s=i.height/h.y;if(o){const c=gn(o),d=r&&Sr(r)?gn(r):r;let p=c,g=p.frameElement;for(;g&&r&&d!==p;){const m=ys(g),v=g.getBoundingClientRect(),y=er(g),b=v.left+(g.clientLeft+parseFloat(y.paddingLeft))*m.x,w=v.top+(g.clientTop+parseFloat(y.paddingTop))*m.y;a*=m.x,f*=m.y,u*=m.x,s*=m.y,a+=b,f+=w,p=gn(g),g=p.frameElement}}return Gu({width:u,height:s,x:a,y:f})}const sR=[":popover-open",":modal"];function qg(e){return sR.some(t=>{try{return e.matches(t)}catch{return!1}})}function aR(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",h=Jr(r),l=t?qg(t.floating):!1;if(r===h||l&&o)return n;let a={scrollLeft:0,scrollTop:0},f=Li(1);const u=Li(0),s=_r(r);if((s||!s&&!o)&&((ia(r)!=="body"||Kl(h))&&(a=od(r)),_r(r))){const c=ko(r);f=ys(r),u.x=c.x+r.clientLeft,u.y=c.y+r.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-a.scrollLeft*f.x+u.x,y:n.y*f.y-a.scrollTop*f.y+u.y}}function lR(e){return Array.from(e.getClientRects())}function n_(e){return ko(Jr(e)).left+od(e).scrollLeft}function cR(e){const t=Jr(e),n=od(e),r=e.ownerDocument.body,i=hn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=hn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+n_(e);const l=-n.scrollTop;return er(r).direction==="rtl"&&(h+=hn(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:h,y:l}}function uR(e,t){const n=gn(e),r=Jr(e),i=n.visualViewport;let o=r.clientWidth,h=r.clientHeight,l=0,a=0;if(i){o=i.width,h=i.height;const f=Gg();(!f||f&&t==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:o,height:h,x:l,y:a}}function fR(e,t){const n=ko(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=_r(e)?ys(e):Li(1),h=e.clientWidth*o.x,l=e.clientHeight*o.y,a=i*o.x,f=r*o.y;return{width:h,height:l,x:a,y:f}}function jy(e,t,n){let r;if(t==="viewport")r=uR(e,n);else if(t==="document")r=cR(Jr(e));else if(Sr(t))r=fR(t,n);else{const i=t_(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Gu(r)}function r_(e,t){const n=Ii(e);return n===t||!Sr(n)||zs(n)?!1:er(n).position==="fixed"||r_(n,t)}function dR(e,t){const n=t.get(e);if(n)return n;let r=El(e,[],!1).filter(l=>Sr(l)&&ia(l)!=="body"),i=null;const o=er(e).position==="fixed";let h=o?Ii(e):e;for(;Sr(h)&&!zs(h);){const l=er(h),a=Xg(h);!a&&l.position==="fixed"&&(i=null),(o?!a&&!i:!a&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kl(h)&&!a&&r_(e,h))?r=r.filter(u=>u!==h):i=l,h=Ii(h)}return t.set(e,r),r}function hR(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const h=[...n==="clippingAncestors"?qg(t)?[]:dR(t,this._c):[].concat(n),r],l=h[0],a=h.reduce((f,u)=>{const s=jy(t,u,i);return f.top=hn(s.top,f.top),f.right=Fi(s.right,f.right),f.bottom=Fi(s.bottom,f.bottom),f.left=hn(s.left,f.left),f},jy(t,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function pR(e){const{width:t,height:n}=e_(e);return{width:t,height:n}}function mR(e,t,n){const r=_r(t),i=Jr(t),o=n==="fixed",h=ko(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const a=Li(0);if(r||!r&&!o)if((ia(t)!=="body"||Kl(i))&&(l=od(t)),r){const s=ko(t,!0,o,t);a.x=s.x+t.clientLeft,a.y=s.y+t.clientTop}else i&&(a.x=n_(i));const f=h.left+l.scrollLeft-a.x,u=h.top+l.scrollTop-a.y;return{x:f,y:u,width:h.width,height:h.height}}function Sh(e){return er(e).position==="static"}function By(e,t){return!_r(e)||er(e).position==="fixed"?null:t?t(e):e.offsetParent}function i_(e,t){const n=gn(e);if(qg(e))return n;if(!_r(e)){let i=Ii(e);for(;i&&!zs(i);){if(Sr(i)&&!Sh(i))return i;i=Ii(i)}return n}let r=By(e,t);for(;r&&nR(r)&&Sh(r);)r=By(r,t);return r&&zs(r)&&Sh(r)&&!Xg(r)?n:r||rR(e)||n}const gR=async function(e){const t=this.getOffsetParent||i_,n=this.getDimensions,r=await n(e.floating);return{reference:mR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vR(e){return er(e).direction==="rtl"}const yR={convertOffsetParentRelativeRectToViewportRelativeRect:aR,getDocumentElement:Jr,getClippingRect:hR,getOffsetParent:i_,getElementRects:gR,getClientRects:lR,getDimensions:pR,getScale:ys,isElement:Sr,isRTL:vR};function bR(e,t){let n=null,r;const i=Jr(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function h(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),o();const{left:f,top:u,width:s,height:c}=e.getBoundingClientRect();if(l||t(),!s||!c)return;const d=Mc(u),p=Mc(i.clientWidth-(f+s)),g=Mc(i.clientHeight-(u+c)),m=Mc(f),y={rootMargin:-d+"px "+-p+"px "+-g+"px "+-m+"px",threshold:hn(0,Fi(1,a))||1};let b=!0;function w(S){const _=S[0].intersectionRatio;if(_!==a){if(!b)return h();_?h(!1,_):r=setTimeout(()=>{h(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(e)}return h(!0),o}function wR(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,f=Kg(e),u=i||o?[...f?El(f):[],...El(t)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const s=f&&l?bR(f,n):null;let c=-1,d=null;h&&(d=new ResizeObserver(v=>{let[y]=v;y&&y.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(t)})),n()}),f&&!a&&d.observe(f),d.observe(t));let p,g=a?ko(e):null;a&&m();function m(){const v=ko(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(m)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),s==null||s(),(v=d)==null||v.disconnect(),d=null,a&&cancelAnimationFrame(p)}}const xR=QA,SR=JA,_R=KA,CR=tR,ER=qA,zy=GA,TR=eR,kR=(e,t,n)=>{const r=new Map,i={platform:yR,...n},o={...i.platform,_c:r};return XA(e,t,{...i,platform:o})},PR=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?zy({element:r.current,padding:i}).fn(n):{}:r?zy({element:r,padding:i}).fn(n):{}}}};var cu=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Ku(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ku(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Ku(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function o_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Vy(e,t){const n=o_(e);return Math.round(t*n)/n}function Uy(e){const t=x.useRef(e);return cu(()=>{t.current=e}),t}function OR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:h}={},transform:l=!0,whileElementsMounted:a,open:f}=e,[u,s]=x.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,d]=x.useState(r);Ku(c,r)||d(r);const[p,g]=x.useState(null),[m,v]=x.useState(null),y=x.useCallback(M=>{M!==_.current&&(_.current=M,g(M))},[]),b=x.useCallback(M=>{M!==E.current&&(E.current=M,v(M))},[]),w=o||p,S=h||m,_=x.useRef(null),E=x.useRef(null),C=x.useRef(u),P=a!=null,N=Uy(a),B=Uy(i),I=x.useCallback(()=>{if(!_.current||!E.current)return;const M={placement:t,strategy:n,middleware:c};B.current&&(M.platform=B.current),kR(_.current,E.current,M).then(U=>{const k={...U,isPositioned:!0};V.current&&!Ku(C.current,k)&&(C.current=k,Ui.flushSync(()=>{s(k)}))})},[c,t,n,B]);cu(()=>{f===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,s(M=>({...M,isPositioned:!1})))},[f]);const V=x.useRef(!1);cu(()=>(V.current=!0,()=>{V.current=!1}),[]),cu(()=>{if(w&&(_.current=w),S&&(E.current=S),w&&S){if(N.current)return N.current(w,S,I);I()}},[w,S,I,N,P]);const D=x.useMemo(()=>({reference:_,floating:E,setReference:y,setFloating:b}),[y,b]),F=x.useMemo(()=>({reference:w,floating:S}),[w,S]),O=x.useMemo(()=>{const M={position:n,left:0,top:0};if(!F.floating)return M;const U=Vy(F.floating,u.x),k=Vy(F.floating,u.y);return l?{...M,transform:"translate("+U+"px, "+k+"px)",...o_(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:k}},[n,l,F.floating,u.x,u.y]);return x.useMemo(()=>({...u,update:I,refs:D,elements:F,floatingStyles:O}),[u,I,D,F,O])}function Zg(e){const[t,n]=x.useState(void 0);return Ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let h,l;if("borderBoxSize"in o){const a=o.borderBoxSize,f=Array.isArray(a)?a[0]:a;h=f.inlineSize,l=f.blockSize}else h=e.offsetWidth,l=e.offsetHeight;n({width:h,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const s_="Popper",[a_,Wi]=Kt(s_),[$R,l_]=a_(s_),AR=e=>{const{__scopePopper:t,children:n}=e,[r,i]=x.useState(null);return x.createElement($R,{scope:t,anchor:r,onAnchorChange:i},n)},RR="PopperAnchor",MR=x.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=l_(RR,n),h=x.useRef(null),l=Oe(t,h);return x.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||h.current)}),r?null:x.createElement(Se.div,le({},i,{ref:l}))}),c_="PopperContent",[DR,BI]=a_(c_),NR=x.forwardRef((e,t)=>{var n,r,i,o,h,l,a,f;const{__scopePopper:u,side:s="bottom",sideOffset:c=0,align:d="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:m=!0,collisionBoundary:v=[],collisionPadding:y=0,sticky:b="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:_,...E}=e,C=l_(c_,u),[P,N]=x.useState(null),B=Oe(t,oe=>N(oe)),[I,V]=x.useState(null),D=Zg(I),F=(n=D==null?void 0:D.width)!==null&&n!==void 0?n:0,O=(r=D==null?void 0:D.height)!==null&&r!==void 0?r:0,M=s+(d!=="center"?"-"+d:""),U=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},k=Array.isArray(v)?v:[v],R=k.length>0,j={padding:U,boundary:k.filter(FR),altBoundary:R},{refs:A,floatingStyles:Y,placement:L,isPositioned:$,middlewareData:H}=OR({strategy:"fixed",placement:M,whileElementsMounted:(...oe)=>wR(...oe,{animationFrame:S==="always"}),elements:{reference:C.anchor},middleware:[xR({mainAxis:c+O,alignmentAxis:p}),m&&SR({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?TR():void 0,...j}),m&&_R({...j}),CR({...j,apply:({elements:oe,rects:se,availableWidth:ne,availableHeight:z})=>{const{width:X,height:Q}=se.reference,ie=oe.floating.style;ie.setProperty("--radix-popper-available-width",`${ne}px`),ie.setProperty("--radix-popper-available-height",`${z}px`),ie.setProperty("--radix-popper-anchor-width",`${X}px`),ie.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),I&&PR({element:I,padding:g}),LR({arrowWidth:F,arrowHeight:O}),w&&ER({strategy:"referenceHidden",...j})]}),[W,K]=u_(L),G=rt(_);Ft(()=>{$&&(G==null||G())},[$,G]);const J=(i=H.arrow)===null||i===void 0?void 0:i.x,ee=(o=H.arrow)===null||o===void 0?void 0:o.y,ce=((h=H.arrow)===null||h===void 0?void 0:h.centerOffset)!==0,[te,Z]=x.useState();return Ft(()=>{P&&Z(window.getComputedStyle(P).zIndex)},[P]),x.createElement("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:$?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(l=H.transformOrigin)===null||l===void 0?void 0:l.x,(a=H.transformOrigin)===null||a===void 0?void 0:a.y].join(" ")},dir:e.dir},x.createElement(DR,{scope:u,placedSide:W,onArrowChange:V,arrowX:J,arrowY:ee,shouldHideArrow:ce},x.createElement(Se.div,le({"data-side":W,"data-align":K},E,{ref:B,style:{...E.style,animation:$?void 0:"none",opacity:(f=H.hide)!==null&&f!==void 0&&f.referenceHidden?0:void 0}}))))});function FR(e){return e!==null}const LR=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,h;const{placement:l,rects:a,middlewareData:f}=t,s=((n=f.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,c=s?0:e.arrowWidth,d=s?0:e.arrowHeight,[p,g]=u_(l),m={start:"0%",center:"50%",end:"100%"}[g],v=((r=(i=f.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+c/2,y=((o=(h=f.arrow)===null||h===void 0?void 0:h.y)!==null&&o!==void 0?o:0)+d/2;let b="",w="";return p==="bottom"?(b=s?m:`${v}px`,w=`${-d}px`):p==="top"?(b=s?m:`${v}px`,w=`${a.floating.height+d}px`):p==="right"?(b=`${-d}px`,w=s?m:`${y}px`):p==="left"&&(b=`${a.floating.width+d}px`,w=s?m:`${y}px`),{data:{x:b,y:w}}}});function u_(e){const[t,n="center"]=e.split("-");return[t,n]}const ql=AR,sd=MR,ad=NR,[ld,zI]=Kt("Tooltip",[Wi]),Qg=Wi(),IR="TooltipProvider",jR=700,rm="tooltip.open",[BR,Jg]=ld(IR),zR=e=>{const{__scopeTooltip:t,delayDuration:n=jR,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[h,l]=x.useState(!0),a=x.useRef(!1),f=x.useRef(0);return x.useEffect(()=>{const u=f.current;return()=>window.clearTimeout(u)},[]),x.createElement(BR,{scope:t,isOpenDelayed:h,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(f.current),l(!1)},[]),onClose:x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:x.useCallback(u=>{a.current=u},[]),disableHoverableContent:i},o)},ev="Tooltip",[VR,cd]=ld(ev),UR=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:h,delayDuration:l}=e,a=Jg(ev,e.__scopeTooltip),f=Qg(t),[u,s]=x.useState(null),c=sn(),d=x.useRef(0),p=h??a.disableHoverableContent,g=l??a.delayDuration,m=x.useRef(!1),[v=!1,y]=yn({prop:r,defaultProp:i,onChange:E=>{E?(a.onOpen(),document.dispatchEvent(new CustomEvent(rm))):a.onClose(),o==null||o(E)}}),b=x.useMemo(()=>v?m.current?"delayed-open":"instant-open":"closed",[v]),w=x.useCallback(()=>{window.clearTimeout(d.current),m.current=!1,y(!0)},[y]),S=x.useCallback(()=>{window.clearTimeout(d.current),y(!1)},[y]),_=x.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{m.current=!0,y(!0)},g)},[g,y]);return x.useEffect(()=>()=>window.clearTimeout(d.current),[]),x.createElement(ql,f,x.createElement(VR,{scope:t,contentId:c,open:v,stateAttribute:b,trigger:u,onTriggerChange:s,onTriggerEnter:x.useCallback(()=>{a.isOpenDelayed?_():w()},[a.isOpenDelayed,_,w]),onTriggerLeave:x.useCallback(()=>{p?S():window.clearTimeout(d.current)},[S,p]),onOpen:w,onClose:S,disableHoverableContent:p},n))},Hy="TooltipTrigger",HR=x.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=cd(Hy,n),o=Jg(Hy,n),h=Qg(n),l=x.useRef(null),a=Oe(t,l,i.onTriggerChange),f=x.useRef(!1),u=x.useRef(!1),s=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",s),[s]),x.createElement(sd,le({asChild:!0},h),x.createElement(Se.button,le({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:a,onPointerMove:pe(e.onPointerMove,c=>{c.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{f.current=!0,document.addEventListener("pointerup",s,{once:!0})}),onFocus:pe(e.onFocus,()=>{f.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})))}),WR="TooltipPortal",[VI,YR]=ld(WR,{forceMount:void 0}),Tl="TooltipContent",XR=x.forwardRef((e,t)=>{const n=YR(Tl,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,h=cd(Tl,e.__scopeTooltip);return x.createElement(Ot,{present:r||h.open},h.disableHoverableContent?x.createElement(f_,le({side:i},o,{ref:t})):x.createElement(GR,le({side:i},o,{ref:t})))}),GR=x.forwardRef((e,t)=>{const n=cd(Tl,e.__scopeTooltip),r=Jg(Tl,e.__scopeTooltip),i=x.useRef(null),o=Oe(t,i),[h,l]=x.useState(null),{trigger:a,onClose:f}=n,u=i.current,{onPointerInTransitChange:s}=r,c=x.useCallback(()=>{l(null),s(!1)},[s]),d=x.useCallback((p,g)=>{const m=p.currentTarget,v={x:p.clientX,y:p.clientY},y=qR(v,m.getBoundingClientRect()),b=ZR(v,y),w=QR(g.getBoundingClientRect()),S=eM([...b,...w]);l(S),s(!0)},[s]);return x.useEffect(()=>()=>c(),[c]),x.useEffect(()=>{if(a&&u){const p=m=>d(m,u),g=m=>d(m,a);return a.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{a.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[a,u,d,c]),x.useEffect(()=>{if(h){const p=g=>{const m=g.target,v={x:g.clientX,y:g.clientY},y=(a==null?void 0:a.contains(m))||(u==null?void 0:u.contains(m)),b=!JR(v,h);y?c():b&&(c(),f())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[a,u,h,f,c]),x.createElement(f_,le({},e,{ref:o}))}),[KR,UI]=ld(ev,{isInside:!1}),f_=x.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:h,...l}=e,a=cd(Tl,n),f=Qg(n),{onClose:u}=a;return x.useEffect(()=>(document.addEventListener(rm,u),()=>document.removeEventListener(rm,u)),[u]),x.useEffect(()=>{if(a.trigger){const s=c=>{const d=c.target;d!=null&&d.contains(a.trigger)&&u()};return window.addEventListener("scroll",s,{capture:!0}),()=>window.removeEventListener("scroll",s,{capture:!0})}},[a.trigger,u]),x.createElement(Js,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:h,onFocusOutside:s=>s.preventDefault(),onDismiss:u},x.createElement(ad,le({"data-state":a.stateAttribute},f,l,{ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),x.createElement(Og,null,r),x.createElement(KR,{scope:n,isInside:!0},x.createElement(RP,{id:a.contentId,role:"tooltip"},i||r))))});function qR(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ZR(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function QR(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function JR(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,h=t.length-1;o<t.length;h=o++){const l=t[o].x,a=t[o].y,f=t[h].x,u=t[h].y;a>r!=u>r&&n<(f-l)*(r-a)/(u-a)+l&&(i=!i)}return i}function eM(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),tM(t)}function tM(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],h=t[t.length-2];if((o.x-h.x)*(i.y-h.y)>=(o.y-h.y)*(i.x-h.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],h=n[n.length-2];if((o.x-h.x)*(i.y-h.y)>=(o.y-h.y)*(i.x-h.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}const nM=zR,rM=UR,iM=HR,d_=XR,oM=nM,h_=rM,p_=iM,tv=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>T.jsx(d_,{ref:r,sideOffset:t,className:be("z-50 border overflow-hidden rounded-md bg-background text-foreground px-3 py-1.5 text-xs animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));tv.displayName=d_.displayName;const nv=Wl("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ht=x.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const h=r?xr:"button";return T.jsx(h,{className:be(nv({variant:t,size:n,className:e}),"outline-none cursor-default select-none"),ref:o,tabIndex:-1,...i})});Ht.displayName="Button";const Nr=x.forwardRef(({tooltip:e,children:t,...n},r)=>T.jsxs(h_,{children:[T.jsx(p_,{asChild:!0,children:T.jsx(Ht,{variant:"ghost",size:"icon",...n,ref:r,tabIndex:-1,className:"cursor-default bg-background",children:T.jsx("div",{className:"icon-button-icon-wrapper",children:t})})}),T.jsx(tv,{children:T.jsx("p",{children:e})})]})),m_=e=>{const{onFileUpload:t,children:n,...r}=e,[i]=x.useState(`file-upload-${Math.random().toString()}`),o=h=>{var a;const l=(a=h.currentTarget.files)==null?void 0:a[0];l&&t(l)};return T.jsxs(T.Fragment,{children:[T.jsx("label",{htmlFor:i,children:T.jsx(Nr,{...r,asChild:!0,children:n})}),T.jsx(Ug,{style:{display:"none"},id:i,name:i,type:"file",onChange:o,accept:"image/png, image/jpeg"})]})};function g_(e){const[t,n]=x.useState(()=>e),r=x.useCallback(i=>n(typeof i=="boolean"?i:o=>!o),[]);return[t,r]}const _h="focusScope.autoFocusOnMount",Ch="focusScope.autoFocusOnUnmount",Wy={bubbles:!1,cancelable:!0},ud=x.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...h}=e,[l,a]=x.useState(null),f=rt(i),u=rt(o),s=x.useRef(null),c=Oe(t,g=>a(g)),d=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(r){let y=function(_){if(d.paused||!l)return;const E=_.target;l.contains(E)?s.current=E:ci(s.current,{select:!0})},b=function(_){if(d.paused||!l)return;const E=_.relatedTarget;E!==null&&(l.contains(E)||ci(s.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const C of _)C.removedNodes.length>0&&ci(l)};var g=y,m=b,v=w;document.addEventListener("focusin",y),document.addEventListener("focusout",b);const S=new MutationObserver(w);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),S.disconnect()}}},[r,l,d.paused]),x.useEffect(()=>{if(l){Xy.add(d);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(_h,Wy);l.addEventListener(_h,f),l.dispatchEvent(v),v.defaultPrevented||(sM(fM(v_(l)),{select:!0}),document.activeElement===g&&ci(l))}return()=>{l.removeEventListener(_h,f),setTimeout(()=>{const v=new CustomEvent(Ch,Wy);l.addEventListener(Ch,u),l.dispatchEvent(v),v.defaultPrevented||ci(g??document.body,{select:!0}),l.removeEventListener(Ch,u),Xy.remove(d)},0)}}},[l,f,u,d]);const p=x.useCallback(g=>{if(!n&&!r||d.paused)return;const m=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(m&&v){const y=g.currentTarget,[b,w]=aM(y);b&&w?!g.shiftKey&&v===w?(g.preventDefault(),n&&ci(b,{select:!0})):g.shiftKey&&v===b&&(g.preventDefault(),n&&ci(w,{select:!0})):v===y&&g.preventDefault()}},[n,r,d.paused]);return x.createElement(Se.div,le({tabIndex:-1},h,{ref:c,onKeyDown:p}))});function sM(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ci(r,{select:t}),document.activeElement!==n)return}function aM(e){const t=v_(e),n=Yy(t,e),r=Yy(t.reverse(),e);return[n,r]}function v_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yy(e,t){for(const n of e)if(!lM(n,{upTo:t}))return n}function lM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cM(e){return e instanceof HTMLInputElement&&"select"in e}function ci(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cM(e)&&t&&e.select()}}const Xy=uM();function uM(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Gy(e,t),e.unshift(t)},remove(t){var n;e=Gy(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Gy(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function fM(e){return e.filter(t=>t.tagName!=="A")}let Eh=0;function fd(){x.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Ky()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Ky()),Eh++,()=>{Eh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Eh--}},[])}function Ky(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ur=function(){return ur=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ur.apply(this,arguments)};function y_(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function dM(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var uu="right-scroll-bar-position",fu="width-before-scroll-bar",hM="with-scroll-bars-hidden",pM="--removed-body-scroll-bar-size";function Th(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mM(e,t){var n=x.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var gM=typeof window<"u"?x.useLayoutEffect:x.useEffect,qy=new WeakMap;function vM(e,t){var n=mM(null,function(r){return e.forEach(function(i){return Th(i,r)})});return gM(function(){var r=qy.get(n);if(r){var i=new Set(r),o=new Set(e),h=n.current;i.forEach(function(l){o.has(l)||Th(l,null)}),o.forEach(function(l){i.has(l)||Th(l,h)})}qy.set(n,e)},[e]),n}function yM(e){return e}function bM(e,t){t===void 0&&(t=yM);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var h=t(o,r);return n.push(h),function(){n=n.filter(function(l){return l!==h})}},assignSyncMedium:function(o){for(r=!0;n.length;){var h=n;n=[],h.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var h=[];if(n.length){var l=n;n=[],l.forEach(o),h=n}var a=function(){var u=h;h=[],u.forEach(o)},f=function(){return Promise.resolve().then(a)};f(),n={push:function(u){h.push(u),f()},filter:function(u){return h=h.filter(u),n}}}};return i}function wM(e){e===void 0&&(e={});var t=bM(null);return t.options=ur({async:!0,ssr:!1},e),t}var b_=function(e){var t=e.sideCar,n=y_(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return x.createElement(r,ur({},n))};b_.isSideCarExport=!0;function xM(e,t){return e.useMedium(t),b_}var w_=wM(),kh=function(){},dd=x.forwardRef(function(e,t){var n=x.useRef(null),r=x.useState({onScrollCapture:kh,onWheelCapture:kh,onTouchMoveCapture:kh}),i=r[0],o=r[1],h=e.forwardProps,l=e.children,a=e.className,f=e.removeScrollBar,u=e.enabled,s=e.shards,c=e.sideCar,d=e.noIsolation,p=e.inert,g=e.allowPinchZoom,m=e.as,v=m===void 0?"div":m,y=y_(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=c,w=vM([n,t]),S=ur(ur({},y),i);return x.createElement(x.Fragment,null,u&&x.createElement(b,{sideCar:w_,removeScrollBar:f,shards:s,noIsolation:d,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),h?x.cloneElement(x.Children.only(l),ur(ur({},S),{ref:w})):x.createElement(v,ur({},S,{className:a,ref:w}),l))});dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dd.classNames={fullWidth:fu,zeroRight:uu};var SM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function _M(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SM();return t&&e.setAttribute("nonce",t),e}function CM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var TM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=_M())&&(CM(t,n),EM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kM=function(){var e=TM();return function(t,n){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},x_=function(){var e=kM(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},PM={left:0,top:0,right:0,gap:0},Ph=function(e){return parseInt(e||"",10)||0},OM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Ph(n),Ph(r),Ph(i)]},$M=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PM;var t=OM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AM=x_(),bs="data-scroll-locked",RM=function(e,t,n,r){var i=e.left,o=e.top,h=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(hM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(bs,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(uu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(uu," .").concat(uu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fu," .").concat(fu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bs,`] {
    `).concat(pM,": ").concat(l,`px;
  }
`)},Zy=function(){var e=parseInt(document.body.getAttribute(bs)||"0",10);return isFinite(e)?e:0},MM=function(){x.useEffect(function(){return document.body.setAttribute(bs,(Zy()+1).toString()),function(){var e=Zy()-1;e<=0?document.body.removeAttribute(bs):document.body.setAttribute(bs,e.toString())}},[])},DM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;MM();var o=x.useMemo(function(){return $M(i)},[i]);return x.createElement(AM,{styles:RM(o,!t,i,n?"":"!important")})},im=!1;if(typeof window<"u")try{var Dc=Object.defineProperty({},"passive",{get:function(){return im=!0,!0}});window.addEventListener("test",Dc,Dc),window.removeEventListener("test",Dc,Dc)}catch{im=!1}var Bo=im?{passive:!1}:!1,NM=function(e){return e.tagName==="TEXTAREA"},S_=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!NM(e)&&n[t]==="visible")},FM=function(e){return S_(e,"overflowY")},LM=function(e){return S_(e,"overflowX")},Qy=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=__(e,n);if(r){var i=C_(e,n),o=i[1],h=i[2];if(o>h)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},IM=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},jM=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},__=function(e,t){return e==="v"?FM(t):LM(t)},C_=function(e,t){return e==="v"?IM(t):jM(t)},BM=function(e,t){return e==="h"&&t==="rtl"?-1:1},zM=function(e,t,n,r,i){var o=BM(e,window.getComputedStyle(t).direction),h=o*r,l=n.target,a=t.contains(l),f=!1,u=h>0,s=0,c=0;do{var d=C_(e,l),p=d[0],g=d[1],m=d[2],v=g-m-o*p;(p||v)&&__(e,l)&&(s+=v,c+=p),l=l.parentNode}while(!a&&l!==document.body||a&&(t.contains(l)||t===l));return(u&&(s===0||!i)||!u&&(c===0||!i))&&(f=!0),f},Nc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Jy=function(e){return[e.deltaX,e.deltaY]},e1=function(e){return e&&"current"in e?e.current:e},VM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},UM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},HM=0,zo=[];function WM(e){var t=x.useRef([]),n=x.useRef([0,0]),r=x.useRef(),i=x.useState(HM++)[0],o=x.useState(function(){return x_()})[0],h=x.useRef(e);x.useEffect(function(){h.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=dM([e.lockRef.current],(e.shards||[]).map(e1),!0).filter(Boolean);return g.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(g,m){if("touches"in g&&g.touches.length===2)return!h.current.allowPinchZoom;var v=Nc(g),y=n.current,b="deltaX"in g?g.deltaX:y[0]-v[0],w="deltaY"in g?g.deltaY:y[1]-v[1],S,_=g.target,E=Math.abs(b)>Math.abs(w)?"h":"v";if("touches"in g&&E==="h"&&_.type==="range")return!1;var C=Qy(E,_);if(!C)return!0;if(C?S=E:(S=E==="v"?"h":"v",C=Qy(E,_)),!C)return!1;if(!r.current&&"changedTouches"in g&&(b||w)&&(r.current=S),!S)return!0;var P=r.current||S;return zM(P,m,g,P==="h"?b:w,!0)},[]),a=x.useCallback(function(g){var m=g;if(!(!zo.length||zo[zo.length-1]!==o)){var v="deltaY"in m?Jy(m):Nc(m),y=t.current.filter(function(S){return S.name===m.type&&S.target===m.target&&VM(S.delta,v)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var b=(h.current.shards||[]).map(e1).filter(Boolean).filter(function(S){return S.contains(m.target)}),w=b.length>0?l(m,b[0]):!h.current.noIsolation;w&&m.cancelable&&m.preventDefault()}}},[]),f=x.useCallback(function(g,m,v,y){var b={name:g,delta:m,target:v,should:y};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(w){return w!==b})},1)},[]),u=x.useCallback(function(g){n.current=Nc(g),r.current=void 0},[]),s=x.useCallback(function(g){f(g.type,Jy(g),g.target,l(g,e.lockRef.current))},[]),c=x.useCallback(function(g){f(g.type,Nc(g),g.target,l(g,e.lockRef.current))},[]);x.useEffect(function(){return zo.push(o),e.setCallbacks({onScrollCapture:s,onWheelCapture:s,onTouchMoveCapture:c}),document.addEventListener("wheel",a,Bo),document.addEventListener("touchmove",a,Bo),document.addEventListener("touchstart",u,Bo),function(){zo=zo.filter(function(g){return g!==o}),document.removeEventListener("wheel",a,Bo),document.removeEventListener("touchmove",a,Bo),document.removeEventListener("touchstart",u,Bo)}},[]);var d=e.removeScrollBar,p=e.inert;return x.createElement(x.Fragment,null,p?x.createElement(o,{styles:UM(i)}):null,d?x.createElement(DM,{gapMode:"margin"}):null)}const YM=xM(w_,WM);var Zl=x.forwardRef(function(e,t){return x.createElement(dd,ur({},e,{ref:t,sideCar:YM}))});Zl.classNames=dd.classNames;var XM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Vo=new WeakMap,Fc=new WeakMap,Lc={},Oh=0,E_=function(e){return e&&(e.host||E_(e.parentNode))},GM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=E_(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},KM=function(e,t,n,r){var i=GM(t,Array.isArray(e)?e:[e]);Lc[n]||(Lc[n]=new WeakMap);var o=Lc[n],h=[],l=new Set,a=new Set(i),f=function(s){!s||l.has(s)||(l.add(s),f(s.parentNode))};i.forEach(f);var u=function(s){!s||a.has(s)||Array.prototype.forEach.call(s.children,function(c){if(l.has(c))u(c);else try{var d=c.getAttribute(r),p=d!==null&&d!=="false",g=(Vo.get(c)||0)+1,m=(o.get(c)||0)+1;Vo.set(c,g),o.set(c,m),h.push(c),g===1&&p&&Fc.set(c,!0),m===1&&c.setAttribute(n,"true"),p||c.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",c,v)}})};return u(t),l.clear(),Oh++,function(){h.forEach(function(s){var c=Vo.get(s)-1,d=o.get(s)-1;Vo.set(s,c),o.set(s,d),c||(Fc.has(s)||s.removeAttribute(r),Fc.delete(s)),d||s.removeAttribute(n)}),Oh--,Oh||(Vo=new WeakMap,Vo=new WeakMap,Fc=new WeakMap,Lc={})}},hd=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=XM(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),KM(r,i,n,"aria-hidden")):function(){return null}};const T_="Dialog",[k_,P_]=Kt(T_),[qM,tr]=k_(T_),ZM=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:h=!0}=e,l=x.useRef(null),a=x.useRef(null),[f=!1,u]=yn({prop:r,defaultProp:i,onChange:o});return x.createElement(qM,{scope:t,triggerRef:l,contentRef:a,contentId:sn(),titleId:sn(),descriptionId:sn(),open:f,onOpenChange:u,onOpenToggle:x.useCallback(()=>u(s=>!s),[u]),modal:h},n)},QM="DialogTrigger",JM=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=tr(QM,n),o=Oe(t,i.triggerRef);return x.createElement(Se.button,le({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":rv(i.open)},r,{ref:o,onClick:pe(e.onClick,i.onOpenToggle)}))}),O_="DialogPortal",[eD,$_]=k_(O_,{forceMount:void 0}),tD=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=tr(O_,t);return x.createElement(eD,{scope:t,forceMount:n},x.Children.map(r,h=>x.createElement(Ot,{present:n||o.open},x.createElement(Hl,{asChild:!0,container:i},h))))},om="DialogOverlay",nD=x.forwardRef((e,t)=>{const n=$_(om,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=tr(om,e.__scopeDialog);return o.modal?x.createElement(Ot,{present:r||o.open},x.createElement(rD,le({},i,{ref:t}))):null}),rD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=tr(om,n);return x.createElement(Zl,{as:xr,allowPinchZoom:!0,shards:[i.contentRef]},x.createElement(Se.div,le({"data-state":rv(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),Vs="DialogContent",iD=x.forwardRef((e,t)=>{const n=$_(Vs,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=tr(Vs,e.__scopeDialog);return x.createElement(Ot,{present:r||o.open},o.modal?x.createElement(oD,le({},i,{ref:t})):x.createElement(sD,le({},i,{ref:t})))}),oD=x.forwardRef((e,t)=>{const n=tr(Vs,e.__scopeDialog),r=x.useRef(null),i=Oe(t,n.contentRef,r);return x.useEffect(()=>{const o=r.current;if(o)return hd(o)},[]),x.createElement(A_,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var h;o.preventDefault(),(h=n.triggerRef.current)===null||h===void 0||h.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const h=o.detail.originalEvent,l=h.button===0&&h.ctrlKey===!0;(h.button===2||l)&&o.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault())}))}),sD=x.forwardRef((e,t)=>{const n=tr(Vs,e.__scopeDialog),r=x.useRef(!1),i=x.useRef(!1);return x.createElement(A_,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var h;if((h=e.onCloseAutoFocus)===null||h===void 0||h.call(e,o),!o.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var h,l;(h=e.onInteractOutside)===null||h===void 0||h.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),A_=x.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...h}=e,l=tr(Vs,n),a=x.useRef(null),f=Oe(t,a);return fd(),x.createElement(x.Fragment,null,x.createElement(ud,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},x.createElement(Js,le({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":rv(l.open)},h,{ref:f,onDismiss:()=>l.onOpenChange(!1)}))),!1)}),R_="DialogTitle",aD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=tr(R_,n);return x.createElement(Se.h2,le({id:i.titleId},r,{ref:t}))}),lD="DialogDescription",cD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=tr(lD,n);return x.createElement(Se.p,le({id:i.descriptionId},r,{ref:t}))}),uD="DialogClose",fD=x.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=tr(uD,n);return x.createElement(Se.button,le({type:"button"},r,{ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))}))});function rv(e){return e?"open":"closed"}const dD="DialogTitleWarning",[hD,HI]=gP(dD,{contentName:Vs,titleName:R_,docsSlug:"dialog"}),pd=ZM,M_=JM,md=tD,oa=nD,sa=iD,Ql=aD,Jl=cD,iv=fD,D_=pd,N_=M_,pD=md,F_=x.forwardRef(({className:e,...t},n)=>T.jsx(oa,{ref:n,className:be("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F_.displayName=oa.displayName;const ov=x.forwardRef(({className:e,children:t,...n},r)=>T.jsxs(pD,{children:[T.jsx(F_,{}),T.jsxs(sa,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 flex flex-col w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e,"outline-none"),onCloseAutoFocus:i=>i.preventDefault(),...n,children:[t,T.jsxs(iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[T.jsx(Mx,{className:"h-4 w-4"}),T.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ov.displayName=sa.displayName;const L_=({className:e,...t})=>T.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});L_.displayName="DialogHeader";const sv=x.forwardRef(({className:e,...t},n)=>T.jsx(Ql,{ref:n,className:be("text-2xl font-semibold leading-none tracking-tight",e),...t}));sv.displayName=Ql.displayName;const mD=x.forwardRef(({className:e,...t},n)=>T.jsx(Jl,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));mD.displayName=Jl.displayName;function sm(){return sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sm.apply(this,arguments)}var I_=["shift","alt","meta","mod","ctrl"],gD={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Si(e){return(gD[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function vD(e){return I_.includes(e)}function $h(e,t){return t===void 0&&(t=","),e.split(t)}function Ah(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(h){return Si(h)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},o=r.filter(function(h){return!I_.includes(h)});return sm({},i,{keys:o,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&j_([Si(e.key),Si(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&B_([Si(e.key),Si(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){_i.clear()})})();var _i=new Set;function av(e){return Array.isArray(e)}function yD(e,t){t===void 0&&(t=",");var n=av(e)?e:e.split(t);return n.every(function(r){return _i.has(r.trim().toLowerCase())})}function j_(e){var t=Array.isArray(e)?e:[e];_i.has("meta")&&_i.forEach(function(n){return!vD(n)&&_i.delete(n.toLowerCase())}),t.forEach(function(n){return _i.add(n.toLowerCase())})}function B_(e){var t=Array.isArray(e)?e:[e];e==="meta"?_i.clear():t.forEach(function(n){return _i.delete(n.toLowerCase())})}function bD(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function wD(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function xD(e){return z_(e,["input","textarea","select"])}function z_(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return av(t)?!!(r&&t&&t.some(function(i){return i.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function SD(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var _D=function(t,n,r){r===void 0&&(r=!1);var i=n.alt,o=n.meta,h=n.mod,l=n.shift,a=n.ctrl,f=n.keys,u=t.key,s=t.code,c=t.ctrlKey,d=t.metaKey,p=t.shiftKey,g=t.altKey,m=Si(s),v=u.toLowerCase();if(!(f!=null&&f.includes(m))&&!(f!=null&&f.includes(v))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(m))return!1;if(!r){if(i===!g&&v!=="alt"||l===!p&&v!=="shift")return!1;if(h){if(!d&&!c)return!1}else if(o===!d&&v!=="meta"&&v!=="os"||a===!c&&v!=="ctrl"&&v!=="control")return!1}return f&&f.length===1&&(f.includes(v)||f.includes(m))?!0:f?yD(f):!f},CD=x.createContext(void 0),ED=function(){return x.useContext(CD)};function V_(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&V_(e[r],t[r])},!0):e===t}var TD=x.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),kD=function(){return x.useContext(TD)};function PD(e){var t=x.useRef(void 0);return V_(t.current,e)||(t.current=e),t.current}var t1=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},OD=typeof window<"u"?x.useLayoutEffect:x.useEffect;function $D(e,t,n,r){var i=x.useRef(null),o=x.useRef(!1),h=n instanceof Array?r instanceof Array?void 0:r:n,l=av(e)?e.join(h==null?void 0:h.splitKey):e,a=n instanceof Array?n:r instanceof Array?r:void 0,f=x.useCallback(t,a??[]),u=x.useRef(f);a?u.current=f:u.current=t;var s=PD(h),c=kD(),d=c.enabledScopes,p=ED();return OD(function(){if(!((s==null?void 0:s.enabled)===!1||!SD(d,s==null?void 0:s.scopes))){var g=function(w,S){var _;if(S===void 0&&(S=!1),!(xD(w)&&!z_(w,s==null?void 0:s.enableOnFormTags))){if(i.current!==null){var E=i.current.getRootNode();if((E instanceof Document||E instanceof ShadowRoot)&&E.activeElement!==i.current&&!i.current.contains(E.activeElement)){t1(w);return}}(_=w.target)!=null&&_.isContentEditable&&!(s!=null&&s.enableOnContentEditable)||$h(l,s==null?void 0:s.splitKey).forEach(function(C){var P,N=Ah(C,s==null?void 0:s.combinationKey);if(_D(w,N,s==null?void 0:s.ignoreModifiers)||(P=N.keys)!=null&&P.includes("*")){if(s!=null&&s.ignoreEventWhen!=null&&s.ignoreEventWhen(w)||S&&o.current)return;if(bD(w,N,s==null?void 0:s.preventDefault),!wD(w,N,s==null?void 0:s.enabled)){t1(w);return}u.current(w,N),S||(o.current=!0)}})}},m=function(w){w.key!==void 0&&(j_(Si(w.code)),((s==null?void 0:s.keydown)===void 0&&(s==null?void 0:s.keyup)!==!0||s!=null&&s.keydown)&&g(w))},v=function(w){w.key!==void 0&&(B_(Si(w.code)),o.current=!1,s!=null&&s.keyup&&g(w,!0))},y=i.current||(h==null?void 0:h.document)||document;return y.addEventListener("keyup",v),y.addEventListener("keydown",m),p&&$h(l,s==null?void 0:s.splitKey).forEach(function(b){return p.addHotkey(Ah(b,s==null?void 0:s.combinationKey,s==null?void 0:s.description))}),function(){y.removeEventListener("keyup",v),y.removeEventListener("keydown",m),p&&$h(l,s==null?void 0:s.splitKey).forEach(function(b){return p.removeHotkey(Ah(b,s==null?void 0:s.combinationKey,s==null?void 0:s.description))})}}},[l,s,d]),i}const ir=(e,t,n)=>{const r=Xe(o=>o.disableShortCuts);return $D(e,t,{enabled:!r},n)};function AD(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const n1={};function am(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];typeof t[0]=="string"&&n1[t[0]]||(typeof t[0]=="string"&&(n1[t[0]]=new Date),AD(...t))}const U_=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}};function r1(e,t,n){e.loadNamespaces(t,U_(e,n))}function i1(e,t,n,r){typeof n=="string"&&(n=[n]),n.forEach(i=>{e.options.ns.indexOf(i)<0&&e.options.ns.push(i)}),e.loadLanguages(t,U_(e,r))}function RD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=t.languages[0],i=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const h=(l,a)=>{const f=t.services.backendConnector.state[`${l}|${a}`];return f===-1||f===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!h(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(r,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||h(r,e)&&(!i||h(o,e)))}function MD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(am("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,e))return!1}}):RD(e,t,n)}const DD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,ND={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},FD=e=>ND[e],LD=e=>e.replace(DD,FD);let lm={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:LD};function ID(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lm={...lm,...e}}function jD(){return lm}let H_;function BD(e){H_=e}function zD(){return H_}const VD={type:"3rdParty",init(e){ID(e.options.react),BD(e)}},UD=x.createContext();class HD{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const WD=(e,t)=>{const n=x.useRef();return x.useEffect(()=>{n.current=e},[e,t]),n.current};function W_(e,t,n,r){return e.getFixedT(t,n,r)}function YD(e,t,n,r){return x.useCallback(W_(e,t,n,r),[e,t,n,r])}function gd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:i}=x.useContext(UD)||{},o=n||r||zD();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new HD),!o){am("You will need to pass in an i18next instance by using initReactI18next");const w=(_,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(_)?_[_.length-1]:_,S=[w,{},!1];return S.t=w,S.i18n={},S.ready=!1,S}o.options.react&&o.options.react.wait!==void 0&&am("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const h={...jD(),...o.options.react,...t},{useSuspense:l,keyPrefix:a}=h;let f=i||o.options&&o.options.defaultNS;f=typeof f=="string"?[f]:f||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(f);const u=(o.isInitialized||o.initializedStoreOnce)&&f.every(w=>MD(w,o,h)),s=YD(o,t.lng||null,h.nsMode==="fallback"?f:f[0],a),c=()=>s,d=()=>W_(o,t.lng||null,h.nsMode==="fallback"?f:f[0],a),[p,g]=x.useState(c);let m=f.join();t.lng&&(m=`${t.lng}${m}`);const v=WD(m),y=x.useRef(!0);x.useEffect(()=>{const{bindI18n:w,bindI18nStore:S}=h;y.current=!0,!u&&!l&&(t.lng?i1(o,t.lng,f,()=>{y.current&&g(d)}):r1(o,f,()=>{y.current&&g(d)})),u&&v&&v!==m&&y.current&&g(d);function _(){y.current&&g(d)}return w&&o&&o.on(w,_),S&&o&&o.store.on(S,_),()=>{y.current=!1,w&&o&&w.split(" ").forEach(E=>o.off(E,_)),S&&o&&S.split(" ").forEach(E=>o.store.off(E,_))}},[o,m]),x.useEffect(()=>{y.current&&u&&g(c)},[o,a,u]);const b=[p,o,u];if(b.t=p,b.i18n=o,b.ready=u,u||!u&&!l)return b;throw new Promise(w=>{t.lng?i1(o,t.lng,f,()=>w()):r1(o,f,()=>w())})}function cn(e){const{content:t,keys:n}=e;return T.jsxs("div",{className:"flex justify-between",children:[T.jsx("div",{children:t}),T.jsx("div",{className:"flex gap-[8px]",children:n.map(r=>T.jsx("div",{className:"border px-2 py-1 rounded-lg",children:r},r))})]})}const XD=function(){return/macintosh|mac os x/i.test(navigator.userAgent)},Ic=()=>XD()?"Cmd":"Ctrl";function GD(){const[e,t]=g_(!1),{t:n}=gd();return ir("h",()=>{t()}),T.jsxs(D_,{open:e,onOpenChange:t,children:[T.jsx(N_,{asChild:!0,children:T.jsx(Nr,{tooltip:"Hotkeys",children:T.jsx(y3,{})})}),T.jsx(ov,{children:T.jsxs(L_,{children:[T.jsx(sv,{children:"Hotkeys"}),T.jsxs("div",{className:"flex gap-2 flex-col pt-4",children:[T.jsx(cn,{content:n("Pan"),keys:["Space + Drag"]}),T.jsx(cn,{content:n("Reset Zoom/Pan"),keys:["Esc"]}),T.jsx(cn,{content:n("Decrease Brush Size"),keys:["["]}),T.jsx(cn,{content:n("Increase Brush Size"),keys:["]"]}),T.jsx(cn,{content:n("View Original Image"),keys:["Hold Tab"]}),T.jsx(cn,{content:n("Undo"),keys:[Ic(),"Z"]}),T.jsx(cn,{content:n("Redo"),keys:[Ic(),"Shift","Z"]}),T.jsx(cn,{content:n("Copy Result"),keys:[Ic(),"C"]}),T.jsx(cn,{content:n("Paste Image"),keys:[Ic(),"V"]}),T.jsx(cn,{content:n("Trigger Manually Inpainting"),keys:["Shift","R"]}),T.jsx(cn,{content:n("Toggle Hotkeys Dialog"),keys:["H"]}),T.jsx(cn,{content:n("Toggle Settings Dialog"),keys:["S"]}),T.jsx(cn,{content:n("Toggle File Manager"),keys:["F"]})]})]})})]})}var ec=e=>e.type==="checkbox",cs=e=>e instanceof Date,Vt=e=>e==null;const Y_=e=>typeof e=="object";var wt=e=>!Vt(e)&&!Array.isArray(e)&&Y_(e)&&!cs(e),X_=e=>wt(e)&&e.target?ec(e.target)?e.target.checked:e.target.value:e,KD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,G_=(e,t)=>e.has(KD(t)),qD=e=>{const t=e.constructor&&e.constructor.prototype;return wt(t)&&t.hasOwnProperty("isPrototypeOf")},lv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qt(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(lv&&(e instanceof Blob||e instanceof FileList))&&(n||wt(e)))if(t=n?[]:{},!n&&!qD(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=Qt(e[r]));else return e;return t}var tc=e=>Array.isArray(e)?e.filter(Boolean):[],ut=e=>e===void 0,ve=(e,t,n)=>{if(!t||!wt(e))return n;const r=tc(t.split(/[,[\].]+?/)).reduce((i,o)=>Vt(i)?i:i[o],e);return ut(r)||r===e?ut(e[t])?n:e[t]:r},Xn=e=>typeof e=="boolean";const qu={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Kn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Or={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},K_=ke.createContext(null),vd=()=>ke.useContext(K_),ZD=e=>{const{children:t,...n}=e;return ke.createElement(K_.Provider,{value:n},t)};var q_=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const h=o;return t._proxyFormState[h]!==Kn.all&&(t._proxyFormState[h]=!r||Kn.all),n&&(n[h]=!0),e[h]}});return i},fn=e=>wt(e)&&!Object.keys(e).length,Z_=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return fn(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(h=>t[h]===(!r||Kn.all))},du=e=>Array.isArray(e)?e:[e],Q_=(e,t,n)=>!e||!t||e===t||du(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function cv(e){const t=ke.useRef(e);t.current=e,ke.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function QD(e){const t=vd(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[h,l]=ke.useState(n._formState),a=ke.useRef(!0),f=ke.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ke.useRef(i);return u.current=i,cv({disabled:r,next:s=>a.current&&Q_(u.current,s.name,o)&&Z_(s,f.current,n._updateFormState)&&l({...n._formState,...s}),subject:n._subjects.state}),ke.useEffect(()=>(a.current=!0,f.current.isValid&&n._updateValid(!0),()=>{a.current=!1}),[n]),q_(h,n,f.current,!1)}var hr=e=>typeof e=="string",J_=(e,t,n,r,i)=>hr(e)?(r&&t.watch.add(e),ve(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),ve(n,o))):(r&&(t.watchAll=!0),n);function JD(e){const t=vd(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:h}=e||{},l=ke.useRef(r);l.current=r,cv({disabled:o,subject:n._subjects.values,next:u=>{Q_(l.current,u.name,h)&&f(Qt(J_(l.current,n._names,u.values||n._formValues,!1,i)))}});const[a,f]=ke.useState(n._getWatch(r,i));return ke.useEffect(()=>n._removeUnmounted()),a}var uv=e=>/^\w*$/.test(e),eC=e=>tc(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ve=(e,t,n)=>{let r=-1;const i=uv(t)?[t]:eC(t),o=i.length,h=o-1;for(;++r<o;){const l=i[r];let a=n;if(r!==h){const f=e[l];a=wt(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}e[l]=a,e=e[l]}return e};function e4(e){const t=vd(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,h=G_(i._names.array,n),l=JD({control:i,name:n,defaultValue:ve(i._formValues,n,ve(i._defaultValues,n,e.defaultValue)),exact:!0}),a=QD({control:i,name:n}),f=ke.useRef(i.register(n,{...e.rules,value:l,...Xn(e.disabled)?{disabled:e.disabled}:{}}));return ke.useEffect(()=>{const u=i._options.shouldUnregister||o,s=(c,d)=>{const p=ve(i._fields,c);p&&(p._f.mount=d)};if(s(n,!0),u){const c=Qt(ve(i._options.defaultValues,n));Ve(i._defaultValues,n,c),ut(ve(i._formValues,n))&&Ve(i._formValues,n,c)}return()=>{(h?u&&!i._state.action:u)?i.unregister(n):s(n,!1)}},[n,i,h,o]),ke.useEffect(()=>{ve(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ve(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:l,...Xn(r)||a.disabled?{disabled:a.disabled||r}:{},onChange:ke.useCallback(u=>f.current.onChange({target:{value:X_(u),name:n},type:qu.CHANGE}),[n]),onBlur:ke.useCallback(()=>f.current.onBlur({target:{value:ve(i._formValues,n),name:n},type:qu.BLUR}),[n,i]),ref:u=>{const s=ve(i._fields,n);s&&u&&(s._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:c=>u.setCustomValidity(c),reportValidity:()=>u.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!ve(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ve(a.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ve(a.validatingFields,n)},error:{enumerable:!0,get:()=>ve(a.errors,n)}})}}const t4=e=>e.render(e4(e));var tC=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},o1=e=>({isOnSubmit:!e||e===Kn.onSubmit,isOnBlur:e===Kn.onBlur,isOnChange:e===Kn.onChange,isOnAll:e===Kn.all,isOnTouch:e===Kn.onTouched}),s1=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Qa=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=ve(e,i);if(o){const{_f:h,...l}=o;if(h){if(h.refs&&h.refs[0]&&t(h.refs[0],i)&&!r)break;if(h.ref&&t(h.ref,h.name)&&!r)break;Qa(l,t)}else wt(l)&&Qa(l,t)}}};var n4=(e,t,n)=>{const r=tc(ve(e,n));return Ve(r,"root",t[n]),Ve(e,n,r),e},fv=e=>e.type==="file",Ci=e=>typeof e=="function",Zu=e=>{if(!lv)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},hu=e=>hr(e),dv=e=>e.type==="radio",Qu=e=>e instanceof RegExp;const a1={value:!1,isValid:!1},l1={value:!0,isValid:!0};var nC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ut(e[0].attributes.value)?ut(e[0].value)||e[0].value===""?l1:{value:e[0].value,isValid:!0}:l1:a1}return a1};const c1={isValid:!1,value:null};var rC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,c1):c1;function u1(e,t,n="validate"){if(hu(e)||Array.isArray(e)&&e.every(hu)||Xn(e)&&!e)return{type:n,message:hu(e)?e:"",ref:t}}var Uo=e=>wt(e)&&!Qu(e)?e:{value:e,message:""},f1=async(e,t,n,r,i)=>{const{ref:o,refs:h,required:l,maxLength:a,minLength:f,min:u,max:s,pattern:c,validate:d,name:p,valueAsNumber:g,mount:m,disabled:v}=e._f,y=ve(t,p);if(!m||v)return{};const b=h?h[0]:o,w=I=>{r&&b.reportValidity&&(b.setCustomValidity(Xn(I)?"":I||""),b.reportValidity())},S={},_=dv(o),E=ec(o),C=_||E,P=(g||fv(o))&&ut(o.value)&&ut(y)||Zu(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,N=tC.bind(null,p,n,S),B=(I,V,D,F=Or.maxLength,O=Or.minLength)=>{const M=I?V:D;S[p]={type:I?F:O,message:M,ref:o,...N(I?F:O,M)}};if(i?!Array.isArray(y)||!y.length:l&&(!C&&(P||Vt(y))||Xn(y)&&!y||E&&!nC(h).isValid||_&&!rC(h).isValid)){const{value:I,message:V}=hu(l)?{value:!!l,message:l}:Uo(l);if(I&&(S[p]={type:Or.required,message:V,ref:b,...N(Or.required,V)},!n))return w(V),S}if(!P&&(!Vt(u)||!Vt(s))){let I,V;const D=Uo(s),F=Uo(u);if(!Vt(y)&&!isNaN(y)){const O=o.valueAsNumber||y&&+y;Vt(D.value)||(I=O>D.value),Vt(F.value)||(V=O<F.value)}else{const O=o.valueAsDate||new Date(y),M=R=>new Date(new Date().toDateString()+" "+R),U=o.type=="time",k=o.type=="week";hr(D.value)&&y&&(I=U?M(y)>M(D.value):k?y>D.value:O>new Date(D.value)),hr(F.value)&&y&&(V=U?M(y)<M(F.value):k?y<F.value:O<new Date(F.value))}if((I||V)&&(B(!!I,D.message,F.message,Or.max,Or.min),!n))return w(S[p].message),S}if((a||f)&&!P&&(hr(y)||i&&Array.isArray(y))){const I=Uo(a),V=Uo(f),D=!Vt(I.value)&&y.length>+I.value,F=!Vt(V.value)&&y.length<+V.value;if((D||F)&&(B(D,I.message,V.message),!n))return w(S[p].message),S}if(c&&!P&&hr(y)){const{value:I,message:V}=Uo(c);if(Qu(I)&&!y.match(I)&&(S[p]={type:Or.pattern,message:V,ref:o,...N(Or.pattern,V)},!n))return w(V),S}if(d){if(Ci(d)){const I=await d(y,t),V=u1(I,b);if(V&&(S[p]={...V,...N(Or.validate,V.message)},!n))return w(V.message),S}else if(wt(d)){let I={};for(const V in d){if(!fn(I)&&!n)break;const D=u1(await d[V](y,t),b,V);D&&(I={...D,...N(V,D.message)},w(D.message),n&&(S[p]=I))}if(!fn(I)&&(S[p]={ref:b,...I},!n))return S}}return w(!0),S};function r4(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ut(e)?r++:e[t[r++]];return e}function i4(e){for(const t in e)if(e.hasOwnProperty(t)&&!ut(e[t]))return!1;return!0}function vt(e,t){const n=Array.isArray(t)?t:uv(t)?[t]:eC(t),r=n.length===1?e:r4(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(wt(r)&&fn(r)||Array.isArray(r)&&i4(r))&&vt(e,n.slice(0,-1)),e}var Rh=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Ju=e=>Vt(e)||!Y_(e);function uo(e,t){if(Ju(e)||Ju(t))return e===t;if(cs(e)&&cs(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const h=t[i];if(cs(o)&&cs(h)||wt(o)&&wt(h)||Array.isArray(o)&&Array.isArray(h)?!uo(o,h):o!==h)return!1}}return!0}var iC=e=>e.type==="select-multiple",o4=e=>dv(e)||ec(e),Mh=e=>Zu(e)&&e.isConnected,oC=e=>{for(const t in e)if(Ci(e[t]))return!0;return!1};function ef(e,t={}){const n=Array.isArray(e);if(wt(e)||n)for(const r in e)Array.isArray(e[r])||wt(e[r])&&!oC(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ef(e[r],t[r])):Vt(e[r])||(t[r]=!0);return t}function sC(e,t,n){const r=Array.isArray(e);if(wt(e)||r)for(const i in e)Array.isArray(e[i])||wt(e[i])&&!oC(e[i])?ut(t)||Ju(n[i])?n[i]=Array.isArray(e[i])?ef(e[i],[]):{...ef(e[i])}:sC(e[i],Vt(t)?{}:t[i],n[i]):n[i]=!uo(e[i],t[i]);return n}var jc=(e,t)=>sC(e,t,ef(t)),aC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ut(e)?e:t?e===""?NaN:e&&+e:n&&hr(e)?new Date(e):r?r(e):e;function Dh(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return fv(t)?t.files:dv(t)?rC(e.refs).value:iC(t)?[...t.selectedOptions].map(({value:n})=>n):ec(t)?nC(e.refs).value:aC(ut(t.value)?e.ref.value:t.value,e)}var s4=(e,t,n,r)=>{const i={};for(const o of e){const h=ve(t,o);h&&Ve(i,o,h._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Sa=e=>ut(e)?e:Qu(e)?e.source:wt(e)?Qu(e.value)?e.value.source:e.value:e,a4=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function d1(e,t,n){const r=ve(e,n);if(r||uv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),h=ve(t,o),l=ve(e,o);if(h&&!Array.isArray(h)&&n!==o)return{name:n};if(l&&l.type)return{name:o,error:l};i.pop()}return{name:n}}var l4=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,c4=(e,t)=>!tc(ve(e,t)).length&&vt(e,t);const u4={mode:Kn.onSubmit,reValidateMode:Kn.onChange,shouldFocusError:!0};function f4(e={}){let t={...u4,...e},n={submitCount:0,isDirty:!1,isLoading:Ci(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=wt(t.defaultValues)||wt(t.values)?Qt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Qt(i),h={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},a,f=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},s={values:Rh(),array:Rh(),state:Rh()},c=o1(t.mode),d=o1(t.reValidateMode),p=t.criteriaMode===Kn.all,g=z=>X=>{clearTimeout(f),f=setTimeout(z,X)},m=async z=>{if(u.isValid||z){const X=t.resolver?fn((await C()).errors):await N(r,!0);X!==n.isValid&&s.state.next({isValid:X})}},v=(z,X)=>{(u.isValidating||u.validatingFields)&&((z||Array.from(l.mount)).forEach(Q=>{Q&&(X?Ve(n.validatingFields,Q,X):vt(n.validatingFields,Q))}),s.state.next({validatingFields:n.validatingFields,isValidating:!fn(n.validatingFields)}))},y=(z,X=[],Q,ie,q=!0,re=!0)=>{if(ie&&Q){if(h.action=!0,re&&Array.isArray(ve(r,z))){const ue=Q(ve(r,z),ie.argA,ie.argB);q&&Ve(r,z,ue)}if(re&&Array.isArray(ve(n.errors,z))){const ue=Q(ve(n.errors,z),ie.argA,ie.argB);q&&Ve(n.errors,z,ue),c4(n.errors,z)}if(u.touchedFields&&re&&Array.isArray(ve(n.touchedFields,z))){const ue=Q(ve(n.touchedFields,z),ie.argA,ie.argB);q&&Ve(n.touchedFields,z,ue)}u.dirtyFields&&(n.dirtyFields=jc(i,o)),s.state.next({name:z,isDirty:I(z,X),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ve(o,z,X)},b=(z,X)=>{Ve(n.errors,z,X),s.state.next({errors:n.errors})},w=z=>{n.errors=z,s.state.next({errors:n.errors,isValid:!1})},S=(z,X,Q,ie)=>{const q=ve(r,z);if(q){const re=ve(o,z,ut(Q)?ve(i,z):Q);ut(re)||ie&&ie.defaultChecked||X?Ve(o,z,X?re:Dh(q._f)):F(z,re),h.mount&&m()}},_=(z,X,Q,ie,q)=>{let re=!1,ue=!1;const ge={name:z},_e=!!(ve(r,z)&&ve(r,z)._f.disabled);if(!Q||ie){u.isDirty&&(ue=n.isDirty,n.isDirty=ge.isDirty=I(),re=ue!==ge.isDirty);const Te=_e||uo(ve(i,z),X);ue=!!(!_e&&ve(n.dirtyFields,z)),Te||_e?vt(n.dirtyFields,z):Ve(n.dirtyFields,z,!0),ge.dirtyFields=n.dirtyFields,re=re||u.dirtyFields&&ue!==!Te}if(Q){const Te=ve(n.touchedFields,z);Te||(Ve(n.touchedFields,z,Q),ge.touchedFields=n.touchedFields,re=re||u.touchedFields&&Te!==Q)}return re&&q&&s.state.next(ge),re?ge:{}},E=(z,X,Q,ie)=>{const q=ve(n.errors,z),re=u.isValid&&Xn(X)&&n.isValid!==X;if(e.delayError&&Q?(a=g(()=>b(z,Q)),a(e.delayError)):(clearTimeout(f),a=null,Q?Ve(n.errors,z,Q):vt(n.errors,z)),(Q?!uo(q,Q):q)||!fn(ie)||re){const ue={...ie,...re&&Xn(X)?{isValid:X}:{},errors:n.errors,name:z};n={...n,...ue},s.state.next(ue)}},C=async z=>{v(z,!0);const X=await t.resolver(o,t.context,s4(z||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return v(z),X},P=async z=>{const{errors:X}=await C(z);if(z)for(const Q of z){const ie=ve(X,Q);ie?Ve(n.errors,Q,ie):vt(n.errors,Q)}else n.errors=X;return X},N=async(z,X,Q={valid:!0})=>{for(const ie in z){const q=z[ie];if(q){const{_f:re,...ue}=q;if(re){const ge=l.array.has(re.name);v([ie],!0);const _e=await f1(q,o,p,t.shouldUseNativeValidation&&!X,ge);if(v([ie]),_e[re.name]&&(Q.valid=!1,X))break;!X&&(ve(_e,re.name)?ge?n4(n.errors,_e,re.name):Ve(n.errors,re.name,_e[re.name]):vt(n.errors,re.name))}ue&&await N(ue,X,Q)}}return Q.valid},B=()=>{for(const z of l.unMount){const X=ve(r,z);X&&(X._f.refs?X._f.refs.every(Q=>!Mh(Q)):!Mh(X._f.ref))&&H(z)}l.unMount=new Set},I=(z,X)=>(z&&X&&Ve(o,z,X),!uo(j(),i)),V=(z,X,Q)=>J_(z,l,{...h.mount?o:ut(X)?i:hr(z)?{[z]:X}:X},Q,X),D=z=>tc(ve(h.mount?o:i,z,e.shouldUnregister?ve(i,z,[]):[])),F=(z,X,Q={})=>{const ie=ve(r,z);let q=X;if(ie){const re=ie._f;re&&(!re.disabled&&Ve(o,z,aC(X,re)),q=Zu(re.ref)&&Vt(X)?"":X,iC(re.ref)?[...re.ref.options].forEach(ue=>ue.selected=q.includes(ue.value)):re.refs?ec(re.ref)?re.refs.length>1?re.refs.forEach(ue=>(!ue.defaultChecked||!ue.disabled)&&(ue.checked=Array.isArray(q)?!!q.find(ge=>ge===ue.value):q===ue.value)):re.refs[0]&&(re.refs[0].checked=!!q):re.refs.forEach(ue=>ue.checked=ue.value===q):fv(re.ref)?re.ref.value="":(re.ref.value=q,re.ref.type||s.values.next({name:z,values:{...o}})))}(Q.shouldDirty||Q.shouldTouch)&&_(z,q,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&R(z)},O=(z,X,Q)=>{for(const ie in X){const q=X[ie],re=`${z}.${ie}`,ue=ve(r,re);(l.array.has(z)||!Ju(q)||ue&&!ue._f)&&!cs(q)?O(re,q,Q):F(re,q,Q)}},M=(z,X,Q={})=>{const ie=ve(r,z),q=l.array.has(z),re=Qt(X);Ve(o,z,re),q?(s.array.next({name:z,values:{...o}}),(u.isDirty||u.dirtyFields)&&Q.shouldDirty&&s.state.next({name:z,dirtyFields:jc(i,o),isDirty:I(z,re)})):ie&&!ie._f&&!Vt(re)?O(z,re,Q):F(z,re,Q),s1(z,l)&&s.state.next({...n}),s.values.next({name:h.mount?z:void 0,values:{...o}})},U=async z=>{h.mount=!0;const X=z.target;let Q=X.name,ie=!0;const q=ve(r,Q),re=()=>X.type?Dh(q._f):X_(z),ue=ge=>{ie=Number.isNaN(ge)||ge===ve(o,Q,ge)};if(q){let ge,_e;const Te=re(),Ae=z.type===qu.BLUR||z.type===qu.FOCUS_OUT,Ie=!a4(q._f)&&!t.resolver&&!ve(n.errors,Q)&&!q._f.deps||l4(Ae,ve(n.touchedFields,Q),n.isSubmitted,d,c),Ce=s1(Q,l,Ae);Ve(o,Q,Te),Ae?(q._f.onBlur&&q._f.onBlur(z),a&&a(0)):q._f.onChange&&q._f.onChange(z);const tt=_(Q,Te,Ae,!1),Ue=!fn(tt)||Ce;if(!Ae&&s.values.next({name:Q,type:z.type,values:{...o}}),Ie)return u.isValid&&m(),Ue&&s.state.next({name:Q,...Ce?{}:tt});if(!Ae&&Ce&&s.state.next({...n}),t.resolver){const{errors:Ct}=await C([Q]);if(ue(Te),ie){const xt=d1(n.errors,r,Q),gt=d1(Ct,r,xt.name||Q);ge=gt.error,Q=gt.name,_e=fn(Ct)}}else v([Q],!0),ge=(await f1(q,o,p,t.shouldUseNativeValidation))[Q],v([Q]),ue(Te),ie&&(ge?_e=!1:u.isValid&&(_e=await N(r,!0)));ie&&(q._f.deps&&R(q._f.deps),E(Q,_e,ge,tt))}},k=(z,X)=>{if(ve(n.errors,X)&&z.focus)return z.focus(),1},R=async(z,X={})=>{let Q,ie;const q=du(z);if(t.resolver){const re=await P(ut(z)?z:q);Q=fn(re),ie=z?!q.some(ue=>ve(re,ue)):Q}else z?(ie=(await Promise.all(q.map(async re=>{const ue=ve(r,re);return await N(ue&&ue._f?{[re]:ue}:ue)}))).every(Boolean),!(!ie&&!n.isValid)&&m()):ie=Q=await N(r);return s.state.next({...!hr(z)||u.isValid&&Q!==n.isValid?{}:{name:z},...t.resolver||!z?{isValid:Q}:{},errors:n.errors}),X.shouldFocus&&!ie&&Qa(r,k,z?q:l.mount),ie},j=z=>{const X={...h.mount?o:i};return ut(z)?X:hr(z)?ve(X,z):z.map(Q=>ve(X,Q))},A=(z,X)=>({invalid:!!ve((X||n).errors,z),isDirty:!!ve((X||n).dirtyFields,z),isTouched:!!ve((X||n).touchedFields,z),isValidating:!!ve((X||n).validatingFields,z),error:ve((X||n).errors,z)}),Y=z=>{z&&du(z).forEach(X=>vt(n.errors,X)),s.state.next({errors:z?n.errors:{}})},L=(z,X,Q)=>{const ie=(ve(r,z,{_f:{}})._f||{}).ref;Ve(n.errors,z,{...X,ref:ie}),s.state.next({name:z,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&ie&&ie.focus&&ie.focus()},$=(z,X)=>Ci(z)?s.values.subscribe({next:Q=>z(V(void 0,X),Q)}):V(z,X,!0),H=(z,X={})=>{for(const Q of z?du(z):l.mount)l.mount.delete(Q),l.array.delete(Q),X.keepValue||(vt(r,Q),vt(o,Q)),!X.keepError&&vt(n.errors,Q),!X.keepDirty&&vt(n.dirtyFields,Q),!X.keepTouched&&vt(n.touchedFields,Q),!X.keepIsValidating&&vt(n.validatingFields,Q),!t.shouldUnregister&&!X.keepDefaultValue&&vt(i,Q);s.values.next({values:{...o}}),s.state.next({...n,...X.keepDirty?{isDirty:I()}:{}}),!X.keepIsValid&&m()},W=({disabled:z,name:X,field:Q,fields:ie,value:q})=>{if(Xn(z)){const re=z?void 0:ut(q)?Dh(Q?Q._f:ve(ie,X)._f):q;Ve(o,X,re),_(X,re,!1,!1,!0)}},K=(z,X={})=>{let Q=ve(r,z);const ie=Xn(X.disabled);return Ve(r,z,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:z}},name:z,mount:!0,...X}}),l.mount.add(z),Q?W({field:Q,disabled:X.disabled,name:z,value:X.value}):S(z,!0,X.value),{...ie?{disabled:X.disabled}:{},...t.progressive?{required:!!X.required,min:Sa(X.min),max:Sa(X.max),minLength:Sa(X.minLength),maxLength:Sa(X.maxLength),pattern:Sa(X.pattern)}:{},name:z,onChange:U,onBlur:U,ref:q=>{if(q){K(z,X),Q=ve(r,z);const re=ut(q.value)&&q.querySelectorAll&&q.querySelectorAll("input,select,textarea")[0]||q,ue=o4(re),ge=Q._f.refs||[];if(ue?ge.find(_e=>_e===re):re===Q._f.ref)return;Ve(r,z,{_f:{...Q._f,...ue?{refs:[...ge.filter(Mh),re,...Array.isArray(ve(i,z))?[{}]:[]],ref:{type:re.type,name:z}}:{ref:re}}}),S(z,!1,void 0,re)}else Q=ve(r,z,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||X.shouldUnregister)&&!(G_(l.array,z)&&h.action)&&l.unMount.add(z)}}},G=()=>t.shouldFocusError&&Qa(r,k,l.mount),J=z=>{Xn(z)&&(s.state.next({disabled:z}),Qa(r,(X,Q)=>{let ie=z;const q=ve(r,Q);q&&Xn(q._f.disabled)&&(ie||(ie=q._f.disabled)),X.disabled=ie},0,!1))},ee=(z,X)=>async Q=>{let ie;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let q=Qt(o);if(s.state.next({isSubmitting:!0}),t.resolver){const{errors:re,values:ue}=await C();n.errors=re,q=ue}else await N(r);if(vt(n.errors,"root"),fn(n.errors)){s.state.next({errors:{}});try{await z(q,Q)}catch(re){ie=re}}else X&&await X({...n.errors},Q),G(),setTimeout(G);if(s.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:fn(n.errors)&&!ie,submitCount:n.submitCount+1,errors:n.errors}),ie)throw ie},ce=(z,X={})=>{ve(r,z)&&(ut(X.defaultValue)?M(z,Qt(ve(i,z))):(M(z,X.defaultValue),Ve(i,z,Qt(X.defaultValue))),X.keepTouched||vt(n.touchedFields,z),X.keepDirty||(vt(n.dirtyFields,z),n.isDirty=X.defaultValue?I(z,Qt(ve(i,z))):I()),X.keepError||(vt(n.errors,z),u.isValid&&m()),s.state.next({...n}))},te=(z,X={})=>{const Q=z?Qt(z):i,ie=Qt(Q),q=fn(z),re=q?i:ie;if(X.keepDefaultValues||(i=Q),!X.keepValues){if(X.keepDirtyValues)for(const ue of l.mount)ve(n.dirtyFields,ue)?Ve(re,ue,ve(o,ue)):M(ue,ve(re,ue));else{if(lv&&ut(z))for(const ue of l.mount){const ge=ve(r,ue);if(ge&&ge._f){const _e=Array.isArray(ge._f.refs)?ge._f.refs[0]:ge._f.ref;if(Zu(_e)){const Te=_e.closest("form");if(Te){Te.reset();break}}}}r={}}o=e.shouldUnregister?X.keepDefaultValues?Qt(i):{}:Qt(re),s.array.next({values:{...re}}),s.values.next({values:{...re}})}l={mount:X.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!u.isValid||!!X.keepIsValid||!!X.keepDirtyValues,h.watch=!!e.shouldUnregister,s.state.next({submitCount:X.keepSubmitCount?n.submitCount:0,isDirty:q?!1:X.keepDirty?n.isDirty:!!(X.keepDefaultValues&&!uo(z,i)),isSubmitted:X.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:q?[]:X.keepDirtyValues?X.keepDefaultValues&&o?jc(i,o):n.dirtyFields:X.keepDefaultValues&&z?jc(i,z):{},touchedFields:X.keepTouched?n.touchedFields:{},errors:X.keepErrors?n.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Z=(z,X)=>te(Ci(z)?z(o):z,X);return{control:{register:K,unregister:H,getFieldState:A,handleSubmit:ee,setError:L,_executeSchema:C,_getWatch:V,_getDirty:I,_updateValid:m,_removeUnmounted:B,_updateFieldArray:y,_updateDisabledField:W,_getFieldArray:D,_reset:te,_resetDefaultValues:()=>Ci(t.defaultValues)&&t.defaultValues().then(z=>{Z(z,t.resetOptions),s.state.next({isLoading:!1})}),_updateFormState:z=>{n={...n,...z}},_disableForm:J,_subjects:s,_proxyFormState:u,_setErrors:w,get _fields(){return r},get _formValues(){return o},get _state(){return h},set _state(z){h=z},get _defaultValues(){return i},get _names(){return l},set _names(z){l=z},get _formState(){return n},set _formState(z){n=z},get _options(){return t},set _options(z){t={...t,...z}}},trigger:R,register:K,handleSubmit:ee,watch:$,setValue:M,getValues:j,reset:Z,resetField:ce,clearErrors:Y,unregister:H,setError:L,setFocus:(z,X={})=>{const Q=ve(r,z),ie=Q&&Q._f;if(ie){const q=ie.refs?ie.refs[0]:ie.ref;q.focus&&(q.focus(),X.shouldSelect&&q.select())}},getFieldState:A}}function d4(e={}){const t=ke.useRef(),n=ke.useRef(),[r,i]=ke.useState({isDirty:!1,isValidating:!1,isLoading:Ci(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ci(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...f4(e),formState:r});const o=t.current.control;return o._options=e,cv({subject:o._subjects.state,next:h=>{Z_(h,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ke.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ke.useEffect(()=>{if(o._proxyFormState.isDirty){const h=o._getDirty();h!==r.isDirty&&o._subjects.state.next({isDirty:h})}},[o,r.isDirty]),ke.useEffect(()=>{e.values&&!uo(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(h=>({...h}))):o._resetDefaultValues()},[e.values,o]),ke.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ke.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ke.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=q_(r,o),t.current}var h1=function(e,t,n){if(e&&"reportValidity"in e){var r=ve(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},lC=function(e,t){var n=function(i){var o=t.fields[i];o&&o.ref&&"reportValidity"in o.ref?h1(o.ref,i,e):o.refs&&o.refs.forEach(function(h){return h1(h,i,e)})};for(var r in t.fields)n(r)},h4=function(e,t){t.shouldUseNativeValidation&&lC(e,t);var n={};for(var r in e){var i=ve(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(p4(t.names||Object.keys(e),r)){var h=Object.assign({},ve(n,r));Ve(h,"root",o),Ve(n,r,h)}else Ve(n,r,o)}return n},p4=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},m4=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,h=r.path.join(".");if(!n[h])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[h]={message:l.message,type:l.code}}else n[h]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(s){return e.push(s)})}),t){var a=n[h].types,f=a&&a[r.code];n[h]=tC(h,t,n,i,f?[].concat(f,r.message):r.message)}e.shift()}return n},g4=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(h,l){try{var a=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(f){return o.shouldUseNativeValidation&&lC({},o),{errors:{},values:n.raw?r:f}})}catch(f){return l(f)}return a&&a.then?a.then(void 0,l):a}(0,function(h){if(function(l){return l.errors!=null}(h))return{values:{},errors:h4(m4(h.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw h}))}catch(h){return Promise.reject(h)}}},je;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const h of i)o[h]=h;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),h={};for(const l of o)h[l]=i[l];return e.objectValues(h)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const h in i)Object.prototype.hasOwnProperty.call(i,h)&&o.push(h);return o},e.find=(i,o)=>{for(const h of i)if(o(h))return h},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(h=>typeof h=="string"?`'${h}'`:h).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(je||(je={}));var p1;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(p1||(p1={}));const we=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),io=e=>{switch(typeof e){case"undefined":return we.undefined;case"string":return we.string;case"number":return isNaN(e)?we.nan:we.number;case"boolean":return we.boolean;case"function":return we.function;case"bigint":return we.bigint;case"symbol":return we.symbol;case"object":return Array.isArray(e)?we.array:e===null?we.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?we.promise:typeof Map<"u"&&e instanceof Map?we.map:typeof Set<"u"&&e instanceof Set?we.set:typeof Date<"u"&&e instanceof Date?we.date:we.object;default:return we.unknown}},me=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rn extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const h of o.issues)if(h.code==="invalid_union")h.unionErrors.map(i);else if(h.code==="invalid_return_type")i(h.returnTypeError);else if(h.code==="invalid_arguments")i(h.argumentsError);else if(h.path.length===0)r._errors.push(n(h));else{let l=r,a=0;for(;a<h.path.length;){const f=h.path[a];a===h.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(n(h))):l[f]=l[f]||{_errors:[]},l=l[f],a++}}};return i(this),r}static assert(t){if(!(t instanceof Rn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rn.create=e=>new Rn(e);const kl=(e,t)=>{let n;switch(e.code){case me.invalid_type:e.received===we.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,je.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${je.joinValues(e.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${je.joinValues(e.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${je.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:je.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case me.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case me.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=t.defaultError,je.assertNever(e)}return{message:n}};let v4=kl;function cm(){return v4}const um=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],h={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let l="";const a=r.filter(f=>!!f).slice().reverse();for(const f of a)l=f(h,{data:t,defaultError:l}).message;return{...i,path:o,message:l}};function ye(e,t){const n=cm(),r=um({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===kl?void 0:kl].filter(i=>!!i)});e.common.issues.push(r)}class Yt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return $e;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,h=await i.value;r.push({key:o,value:h})}return Yt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:h}=i;if(o.status==="aborted"||h.status==="aborted")return $e;o.status==="dirty"&&t.dirty(),h.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof h.value<"u"||i.alwaysSet)&&(r[o.value]=h.value)}return{status:t.value,value:r}}}const $e=Object.freeze({status:"aborted"}),Na=e=>({status:"dirty",value:e}),an=e=>({status:"valid",value:e}),m1=e=>e.status==="aborted",g1=e=>e.status==="dirty",tf=e=>e.status==="valid",nf=e=>typeof Promise<"u"&&e instanceof Promise;function rf(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function cC(e,t,n,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Ee;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ee||(Ee={}));var Fa,La;class Cr{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const v1=(e,t)=>{if(tf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rn(e.common.issues);return this._error=n,this._error}}};function Re(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(h,l)=>{var a,f;const{message:u}=e;return h.code==="invalid_enum_value"?{message:u??l.defaultError}:typeof l.data>"u"?{message:(a=u??r)!==null&&a!==void 0?a:l.defaultError}:h.code!=="invalid_type"?{message:l.defaultError}:{message:(f=u??n)!==null&&f!==void 0?f:l.defaultError}},description:i}}class Ne{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return io(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:io(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Yt,ctx:{common:t.parent.common,data:t.data,parsedType:io(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(nf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:io(t)},o=this._parseSync({data:t,path:i.path,parent:i});return v1(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:io(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(nf(i)?i:Promise.resolve(i));return v1(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const h=t(i),l=()=>o.addIssue({code:me.custom,...r(i)});return typeof Promise<"u"&&h instanceof Promise?h.then(a=>a?!0:(l(),!1)):h?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Zr({schema:this,typeName:Pe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Ur.create(this,this._def)}nullable(){return Oo.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wr.create(this,this._def)}promise(){return Ol.create(this,this._def)}or(t){return af.create([this,t],this._def)}and(t){return lf.create(this,t,this._def)}transform(t){return new Zr({...Re(this._def),schema:this,typeName:Pe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new hf({...Re(this._def),innerType:this,defaultValue:n,typeName:Pe.ZodDefault})}brand(){return new hC({typeName:Pe.ZodBranded,type:this,...Re(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new pf({...Re(this._def),innerType:this,catchValue:n,typeName:Pe.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return yd.create(this,t)}readonly(){return mf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const y4=/^c[^\s-]{8,}$/i,b4=/^[0-9a-z]+$/,w4=/^[0-9A-HJKMNP-TV-Z]{26}$/,x4=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S4=/^[a-z0-9_-]{21}$/i,_4=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,C4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,E4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Nh;const T4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,k4=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,P4=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O4=new RegExp(`^${uC}$`);function fC(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function $4(e){return new RegExp(`^${fC(e)}$`)}function A4(e){let t=`${uC}T${fC(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function R4(e,t){return!!((t==="v4"||!t)&&T4.test(e)||(t==="v6"||!t)&&k4.test(e))}class Ir extends Ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==we.string){const o=this._getOrReturnCtx(t);return ye(o,{code:me.invalid_type,expected:we.string,received:o.parsedType}),$e}const r=new Yt;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const h=t.data.length>o.value,l=t.data.length<o.value;(h||l)&&(i=this._getOrReturnCtx(t,i),h?ye(i,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):l&&ye(i,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")C4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"email",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Nh||(Nh=new RegExp(E4,"u")),Nh.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"emoji",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")x4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"uuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")S4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"nanoid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")y4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"cuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")b4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"cuid2",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")w4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"ulid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ye(i,{validation:"url",code:me.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"regex",code:me.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?A4(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?O4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?$4(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:me.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?_4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"duration",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?R4(t.data,o.version)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"ip",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?P4.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"base64",code:me.invalid_string,message:o.message}),r.dirty()):je.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:me.invalid_string,...Ee.errToObj(r)})}_addCheck(t){return new Ir({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ee.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ee.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ee.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ee.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ee.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ee.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ee.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ee.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ee.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ee.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Ee.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ee.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ee.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Ee.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Ee.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Ee.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Ee.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Ee.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Ee.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Ee.errToObj(n)})}nonempty(t){return this.min(1,Ee.errToObj(t))}trim(){return new Ir({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ir({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ir({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ir.create=e=>{var t;return new Ir({checks:[],typeName:Pe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Re(e)})};function M4(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),h=parseInt(t.toFixed(i).replace(".",""));return o%h/Math.pow(10,i)}class Us extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==we.number){const o=this._getOrReturnCtx(t);return ye(o,{code:me.invalid_type,expected:we.number,received:o.parsedType}),$e}let r;const i=new Yt;for(const o of this._def.checks)o.kind==="int"?je.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:me.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?M4(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),ye(r,{code:me.not_finite,message:o.message}),i.dirty()):je.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ee.toString(n))}setLimit(t,n,r,i){return new Us({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ee.toString(i)}]})}_addCheck(t){return new Us({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ee.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Ee.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&je.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Us.create=e=>new Us({checks:[],typeName:Pe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class Hs extends Ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==we.bigint){const o=this._getOrReturnCtx(t);return ye(o,{code:me.invalid_type,expected:we.bigint,received:o.parsedType}),$e}let r;const i=new Yt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),ye(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):je.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Ee.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Ee.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Ee.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Ee.toString(n))}setLimit(t,n,r,i){return new Hs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Ee.toString(i)}]})}_addCheck(t){return new Hs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Ee.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Hs.create=e=>{var t;return new Hs({checks:[],typeName:Pe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Re(e)})};class fm extends Ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==we.boolean){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.boolean,received:r.parsedType}),$e}return an(t.data)}}fm.create=e=>new fm({typeName:Pe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Re(e)});class Pl extends Ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==we.date){const o=this._getOrReturnCtx(t);return ye(o,{code:me.invalid_type,expected:we.date,received:o.parsedType}),$e}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ye(o,{code:me.invalid_date}),$e}const r=new Yt;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:me.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:me.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):je.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Pl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Ee.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Ee.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Pl.create=e=>new Pl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Pe.ZodDate,...Re(e)});class dm extends Ne{_parse(t){if(this._getType(t)!==we.symbol){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.symbol,received:r.parsedType}),$e}return an(t.data)}}dm.create=e=>new dm({typeName:Pe.ZodSymbol,...Re(e)});class of extends Ne{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.undefined,received:r.parsedType}),$e}return an(t.data)}}of.create=e=>new of({typeName:Pe.ZodUndefined,...Re(e)});class sf extends Ne{_parse(t){if(this._getType(t)!==we.null){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.null,received:r.parsedType}),$e}return an(t.data)}}sf.create=e=>new sf({typeName:Pe.ZodNull,...Re(e)});class hm extends Ne{constructor(){super(...arguments),this._any=!0}_parse(t){return an(t.data)}}hm.create=e=>new hm({typeName:Pe.ZodAny,...Re(e)});class ws extends Ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return an(t.data)}}ws.create=e=>new ws({typeName:Pe.ZodUnknown,...Re(e)});class ji extends Ne{_parse(t){const n=this._getOrReturnCtx(t);return ye(n,{code:me.invalid_type,expected:we.never,received:n.parsedType}),$e}}ji.create=e=>new ji({typeName:Pe.ZodNever,...Re(e)});class pm extends Ne{_parse(t){if(this._getType(t)!==we.undefined){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.void,received:r.parsedType}),$e}return an(t.data)}}pm.create=e=>new pm({typeName:Pe.ZodVoid,...Re(e)});class wr extends Ne{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==we.array)return ye(n,{code:me.invalid_type,expected:we.array,received:n.parsedType}),$e;if(i.exactLength!==null){const h=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(h||l)&&(ye(n,{code:h?me.too_big:me.too_small,minimum:l?i.exactLength.value:void 0,maximum:h?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ye(n,{code:me.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ye(n,{code:me.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((h,l)=>i.type._parseAsync(new Cr(n,h,n.path,l)))).then(h=>Yt.mergeArray(r,h));const o=[...n.data].map((h,l)=>i.type._parseSync(new Cr(n,h,n.path,l)));return Yt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new wr({...this._def,minLength:{value:t,message:Ee.toString(n)}})}max(t,n){return new wr({...this._def,maxLength:{value:t,message:Ee.toString(n)}})}length(t,n){return new wr({...this._def,exactLength:{value:t,message:Ee.toString(n)}})}nonempty(t){return this.min(1,t)}}wr.create=(e,t)=>new wr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pe.ZodArray,...Re(t)});function Ko(e){if(e instanceof lt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ur.create(Ko(r))}return new lt({...e._def,shape:()=>t})}else return e instanceof wr?new wr({...e._def,type:Ko(e.element)}):e instanceof Ur?Ur.create(Ko(e.unwrap())):e instanceof Oo?Oo.create(Ko(e.unwrap())):e instanceof qr?qr.create(e.items.map(t=>Ko(t))):e}class lt extends Ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=je.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==we.object){const f=this._getOrReturnCtx(t);return ye(f,{code:me.invalid_type,expected:we.object,received:f.parsedType}),$e}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:h}=this._getCached(),l=[];if(!(this._def.catchall instanceof ji&&this._def.unknownKeys==="strip"))for(const f in i.data)h.includes(f)||l.push(f);const a=[];for(const f of h){const u=o[f],s=i.data[f];a.push({key:{status:"valid",value:f},value:u._parse(new Cr(i,s,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof ji){const f=this._def.unknownKeys;if(f==="passthrough")for(const u of l)a.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(f==="strict")l.length>0&&(ye(i,{code:me.unrecognized_keys,keys:l}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const u of l){const s=i.data[u];a.push({key:{status:"valid",value:u},value:f._parse(new Cr(i,s,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const u of a){const s=await u.key,c=await u.value;f.push({key:s,value:c,alwaysSet:u.alwaysSet})}return f}).then(f=>Yt.mergeObjectSync(r,f)):Yt.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return Ee.errToObj,new lt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,h,l;const a=(h=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&h!==void 0?h:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ee.errToObj(t).message)!==null&&l!==void 0?l:a}:{message:a}}}:{}})}strip(){return new lt({...this._def,unknownKeys:"strip"})}passthrough(){return new lt({...this._def,unknownKeys:"passthrough"})}extend(t){return new lt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new lt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Pe.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new lt({...this._def,catchall:t})}pick(t){const n={};return je.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new lt({...this._def,shape:()=>n})}omit(t){const n={};return je.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new lt({...this._def,shape:()=>n})}deepPartial(){return Ko(this)}partial(t){const n={};return je.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new lt({...this._def,shape:()=>n})}required(t){const n={};return je.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ur;)o=o._def.innerType;n[r]=o}}),new lt({...this._def,shape:()=>n})}keyof(){return dC(je.objectKeys(this.shape))}}lt.create=(e,t)=>new lt({shape:()=>e,unknownKeys:"strip",catchall:ji.create(),typeName:Pe.ZodObject,...Re(t)});lt.strictCreate=(e,t)=>new lt({shape:()=>e,unknownKeys:"strict",catchall:ji.create(),typeName:Pe.ZodObject,...Re(t)});lt.lazycreate=(e,t)=>new lt({shape:e,unknownKeys:"strip",catchall:ji.create(),typeName:Pe.ZodObject,...Re(t)});class af extends Ne{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const l of o)if(l.result.status==="valid")return l.result;for(const l of o)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const h=o.map(l=>new Rn(l.ctx.common.issues));return ye(n,{code:me.invalid_union,unionErrors:h}),$e}if(n.common.async)return Promise.all(r.map(async o=>{const h={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:h}),ctx:h}})).then(i);{let o;const h=[];for(const a of r){const f={...n,common:{...n.common,issues:[]},parent:null},u=a._parseSync({data:n.data,path:n.path,parent:f});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:f}),f.common.issues.length&&h.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const l=h.map(a=>new Rn(a));return ye(n,{code:me.invalid_union,unionErrors:l}),$e}}get options(){return this._def.options}}af.create=(e,t)=>new af({options:e,typeName:Pe.ZodUnion,...Re(t)});const Ar=e=>e instanceof uf?Ar(e.schema):e instanceof Zr?Ar(e.innerType()):e instanceof ff?[e.value]:e instanceof Po?e.options:e instanceof df?je.objectValues(e.enum):e instanceof hf?Ar(e._def.innerType):e instanceof of?[void 0]:e instanceof sf?[null]:e instanceof Ur?[void 0,...Ar(e.unwrap())]:e instanceof Oo?[null,...Ar(e.unwrap())]:e instanceof hC||e instanceof mf?Ar(e.unwrap()):e instanceof pf?Ar(e._def.innerType):[];class hv extends Ne{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.object)return ye(n,{code:me.invalid_type,expected:we.object,received:n.parsedType}),$e;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ye(n,{code:me.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const h=Ar(o.shape[t]);if(!h.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of h){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,o)}}return new hv({typeName:Pe.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Re(r)})}}function mm(e,t){const n=io(e),r=io(t);if(e===t)return{valid:!0,data:e};if(n===we.object&&r===we.object){const i=je.objectKeys(t),o=je.objectKeys(e).filter(l=>i.indexOf(l)!==-1),h={...e,...t};for(const l of o){const a=mm(e[l],t[l]);if(!a.valid)return{valid:!1};h[l]=a.data}return{valid:!0,data:h}}else if(n===we.array&&r===we.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const h=e[o],l=t[o],a=mm(h,l);if(!a.valid)return{valid:!1};i.push(a.data)}return{valid:!0,data:i}}else return n===we.date&&r===we.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class lf extends Ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,h)=>{if(m1(o)||m1(h))return $e;const l=mm(o.value,h.value);return l.valid?((g1(o)||g1(h))&&n.dirty(),{status:n.value,value:l.data}):(ye(r,{code:me.invalid_intersection_types}),$e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,h])=>i(o,h)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}lf.create=(e,t,n)=>new lf({left:e,right:t,typeName:Pe.ZodIntersection,...Re(n)});class qr extends Ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.array)return ye(r,{code:me.invalid_type,expected:we.array,received:r.parsedType}),$e;if(r.data.length<this._def.items.length)return ye(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&r.data.length>this._def.items.length&&(ye(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((h,l)=>{const a=this._def.items[l]||this._def.rest;return a?a._parse(new Cr(r,h,r.path,l)):null}).filter(h=>!!h);return r.common.async?Promise.all(o).then(h=>Yt.mergeArray(n,h)):Yt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new qr({...this._def,rest:t})}}qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:e,typeName:Pe.ZodTuple,rest:null,...Re(t)})};class cf extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.object)return ye(r,{code:me.invalid_type,expected:we.object,received:r.parsedType}),$e;const i=[],o=this._def.keyType,h=this._def.valueType;for(const l in r.data)i.push({key:o._parse(new Cr(r,l,r.path,l)),value:h._parse(new Cr(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Yt.mergeObjectAsync(n,i):Yt.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ne?new cf({keyType:t,valueType:n,typeName:Pe.ZodRecord,...Re(r)}):new cf({keyType:Ir.create(),valueType:t,typeName:Pe.ZodRecord,...Re(n)})}}class gm extends Ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.map)return ye(r,{code:me.invalid_type,expected:we.map,received:r.parsedType}),$e;const i=this._def.keyType,o=this._def.valueType,h=[...r.data.entries()].map(([l,a],f)=>({key:i._parse(new Cr(r,l,r.path,[f,"key"])),value:o._parse(new Cr(r,a,r.path,[f,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of h){const f=await a.key,u=await a.value;if(f.status==="aborted"||u.status==="aborted")return $e;(f.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(f.value,u.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const a of h){const f=a.key,u=a.value;if(f.status==="aborted"||u.status==="aborted")return $e;(f.status==="dirty"||u.status==="dirty")&&n.dirty(),l.set(f.value,u.value)}return{status:n.value,value:l}}}}gm.create=(e,t,n)=>new gm({valueType:t,keyType:e,typeName:Pe.ZodMap,...Re(n)});class Ws extends Ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==we.set)return ye(r,{code:me.invalid_type,expected:we.set,received:r.parsedType}),$e;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ye(r,{code:me.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ye(r,{code:me.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function h(a){const f=new Set;for(const u of a){if(u.status==="aborted")return $e;u.status==="dirty"&&n.dirty(),f.add(u.value)}return{status:n.value,value:f}}const l=[...r.data.values()].map((a,f)=>o._parse(new Cr(r,a,r.path,f)));return r.common.async?Promise.all(l).then(a=>h(a)):h(l)}min(t,n){return new Ws({...this._def,minSize:{value:t,message:Ee.toString(n)}})}max(t,n){return new Ws({...this._def,maxSize:{value:t,message:Ee.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ws.create=(e,t)=>new Ws({valueType:e,minSize:null,maxSize:null,typeName:Pe.ZodSet,...Re(t)});class Ja extends Ne{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.function)return ye(n,{code:me.invalid_type,expected:we.function,received:n.parsedType}),$e;function r(l,a){return um({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cm(),kl].filter(f=>!!f),issueData:{code:me.invalid_arguments,argumentsError:a}})}function i(l,a){return um({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cm(),kl].filter(f=>!!f),issueData:{code:me.invalid_return_type,returnTypeError:a}})}const o={errorMap:n.common.contextualErrorMap},h=n.data;if(this._def.returns instanceof Ol){const l=this;return an(async function(...a){const f=new Rn([]),u=await l._def.args.parseAsync(a,o).catch(d=>{throw f.addIssue(r(a,d)),f}),s=await Reflect.apply(h,this,u);return await l._def.returns._def.type.parseAsync(s,o).catch(d=>{throw f.addIssue(i(s,d)),f})})}else{const l=this;return an(function(...a){const f=l._def.args.safeParse(a,o);if(!f.success)throw new Rn([r(a,f.error)]);const u=Reflect.apply(h,this,f.data),s=l._def.returns.safeParse(u,o);if(!s.success)throw new Rn([i(u,s.error)]);return s.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ja({...this._def,args:qr.create(t).rest(ws.create())})}returns(t){return new Ja({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Ja({args:t||qr.create([]).rest(ws.create()),returns:n||ws.create(),typeName:Pe.ZodFunction,...Re(r)})}}class uf extends Ne{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}uf.create=(e,t)=>new uf({getter:e,typeName:Pe.ZodLazy,...Re(t)});class ff extends Ne{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ye(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:t.data}}get value(){return this._def.value}}ff.create=(e,t)=>new ff({value:e,typeName:Pe.ZodLiteral,...Re(t)});function dC(e,t){return new Po({values:e,typeName:Pe.ZodEnum,...Re(t)})}class Po extends Ne{constructor(){super(...arguments),Fa.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return ye(n,{expected:je.joinValues(r),received:n.parsedType,code:me.invalid_type}),$e}if(rf(this,Fa)||cC(this,Fa,new Set(this._def.values)),!rf(this,Fa).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return ye(n,{received:n.data,code:me.invalid_enum_value,options:r}),$e}return an(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Po.create(t,{...this._def,...n})}exclude(t,n=this._def){return Po.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Fa=new WeakMap;Po.create=dC;class df extends Ne{constructor(){super(...arguments),La.set(this,void 0)}_parse(t){const n=je.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==we.string&&r.parsedType!==we.number){const i=je.objectValues(n);return ye(r,{expected:je.joinValues(i),received:r.parsedType,code:me.invalid_type}),$e}if(rf(this,La)||cC(this,La,new Set(je.getValidEnumValues(this._def.values))),!rf(this,La).has(t.data)){const i=je.objectValues(n);return ye(r,{received:r.data,code:me.invalid_enum_value,options:i}),$e}return an(t.data)}get enum(){return this._def.values}}La=new WeakMap;df.create=(e,t)=>new df({values:e,typeName:Pe.ZodNativeEnum,...Re(t)});class Ol extends Ne{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==we.promise&&n.common.async===!1)return ye(n,{code:me.invalid_type,expected:we.promise,received:n.parsedType}),$e;const r=n.parsedType===we.promise?n.data:Promise.resolve(n.data);return an(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ol.create=(e,t)=>new Ol({type:e,typeName:Pe.ZodPromise,...Re(t)});class Zr extends Ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:h=>{ye(r,h),h.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const h=i.transform(r.data,o);if(r.common.async)return Promise.resolve(h).then(async l=>{if(n.value==="aborted")return $e;const a=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return a.status==="aborted"?$e:a.status==="dirty"||n.value==="dirty"?Na(a.value):a});{if(n.value==="aborted")return $e;const l=this._def.schema._parseSync({data:h,path:r.path,parent:r});return l.status==="aborted"?$e:l.status==="dirty"||n.value==="dirty"?Na(l.value):l}}if(i.type==="refinement"){const h=l=>{const a=i.refinement(l,o);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),h(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),h(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const h=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tf(h))return h;const l=i.transform(h.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(h=>tf(h)?Promise.resolve(i.transform(h.value,o)).then(l=>({status:n.value,value:l})):h);je.assertNever(i)}}Zr.create=(e,t,n)=>new Zr({schema:e,typeName:Pe.ZodEffects,effect:t,...Re(n)});Zr.createWithPreprocess=(e,t,n)=>new Zr({schema:t,effect:{type:"preprocess",transform:e},typeName:Pe.ZodEffects,...Re(n)});class Ur extends Ne{_parse(t){return this._getType(t)===we.undefined?an(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ur.create=(e,t)=>new Ur({innerType:e,typeName:Pe.ZodOptional,...Re(t)});class Oo extends Ne{_parse(t){return this._getType(t)===we.null?an(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Oo.create=(e,t)=>new Oo({innerType:e,typeName:Pe.ZodNullable,...Re(t)});class hf extends Ne{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===we.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}hf.create=(e,t)=>new hf({innerType:e,typeName:Pe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Re(t)});class pf extends Ne{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return nf(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pf.create=(e,t)=>new pf({innerType:e,typeName:Pe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Re(t)});class vm extends Ne{_parse(t){if(this._getType(t)!==we.nan){const r=this._getOrReturnCtx(t);return ye(r,{code:me.invalid_type,expected:we.nan,received:r.parsedType}),$e}return{status:"valid",value:t.data}}}vm.create=e=>new vm({typeName:Pe.ZodNaN,...Re(e)});class hC extends Ne{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class yd extends Ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?$e:o.status==="dirty"?(n.dirty(),Na(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$e:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new yd({in:t,out:n,typeName:Pe.ZodPipeline})}}class mf extends Ne{_parse(t){const n=this._def.innerType._parse(t),r=i=>(tf(i)&&(i.value=Object.freeze(i.value)),i);return nf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}mf.create=(e,t)=>new mf({innerType:e,typeName:Pe.ZodReadonly,...Re(t)});lt.lazycreate;var Pe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Pe||(Pe={}));const _a=Ir.create;Us.create;vm.create;Hs.create;const Ca=fm.create;Pl.create;dm.create;of.create;sf.create;hm.create;ws.create;ji.create;pm.create;wr.create;const D4=lt.create;lt.strictCreate;af.create;hv.create;lf.create;qr.create;cf.create;gm.create;Ws.create;Ja.create;uf.create;ff.create;Po.create;df.create;Ol.create;Zr.create;Ur.create;Oo.create;Zr.createWithPreprocess;yd.create;const ym="horizontal",N4=["horizontal","vertical"],pC=x.forwardRef((e,t)=>{const{decorative:n,orientation:r=ym,...i}=e,o=mC(r)?r:ym,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return x.createElement(Se.div,le({"data-orientation":o},l,i,{ref:t}))});pC.propTypes={orientation(e,t,n){const r=e[t],i=String(r);return r&&!mC(r)?new Error(F4(i,n)):null}};function F4(e,t){return`Invalid prop \`orientation\` of value \`${e}\` supplied to \`${t}\`, expected one of:
  - horizontal
  - vertical

Defaulting to \`${ym}\`.`}function mC(e){return N4.includes(e)}const gC=pC,Tt=x.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>T.jsx(gC,{ref:i,decorative:n,orientation:t,className:be("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Tt.displayName=gC.displayName;const L4=x.forwardRef((e,t)=>x.createElement(Se.label,le({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),vC=L4,I4=Wl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pv=x.forwardRef(({className:e,disabled:t,...n},r)=>T.jsx(vC,{ref:r,className:be(I4(),e,t?"opacity-50":"","select-none"),...n}));pv.displayName=vC.displayName;const j4=ZD,yC=x.createContext({}),Ho=({...e})=>T.jsx(yC.Provider,{value:{name:e.name},children:T.jsx(t4,{...e})}),bd=()=>{const e=x.useContext(yC),t=x.useContext(bC),{getFieldState:n,formState:r}=vd(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},bC=x.createContext({}),eo=x.forwardRef(({className:e,...t},n)=>{const r=x.useId();return T.jsx(bC.Provider,{value:{id:r},children:T.jsx("div",{ref:n,className:be("space-y-2",e),...t})})});eo.displayName="FormItem";const to=x.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=bd();return T.jsx(pv,{ref:n,className:be(r&&"text-destructive","text-sm",e),htmlFor:i,...t})});to.displayName="FormLabel";const no=x.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=bd();return T.jsx(xr,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});no.displayName="FormControl";const ro=x.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=bd();return T.jsx("p",{ref:n,id:r,className:be("text-[0.8rem] text-muted-foreground",e),...t})});ro.displayName="FormDescription";const B4=x.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=bd(),h=i?String(i==null?void 0:i.message):t;return h?T.jsx("p",{ref:r,id:o,className:be("text-[0.8rem] font-medium text-destructive",e),...n,children:h}):null});B4.displayName="FormMessage";function mv(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const wC="Switch",[z4,WI]=Kt(wC),[V4,U4]=z4(wC),H4=x.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:h,disabled:l,value:a="on",onCheckedChange:f,...u}=e,[s,c]=x.useState(null),d=Oe(t,y=>c(y)),p=x.useRef(!1),g=s?!!s.closest("form"):!0,[m=!1,v]=yn({prop:i,defaultProp:o,onChange:f});return x.createElement(V4,{scope:n,checked:m,disabled:l},x.createElement(Se.button,le({type:"button",role:"switch","aria-checked":m,"aria-required":h,"data-state":xC(m),"data-disabled":l?"":void 0,disabled:l,value:a},u,{ref:d,onClick:pe(e.onClick,y=>{v(b=>!b),g&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})})),g&&x.createElement(X4,{control:s,bubbles:!p.current,name:r,value:a,checked:m,required:h,disabled:l,style:{transform:"translateX(-100%)"}}))}),W4="SwitchThumb",Y4=x.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=U4(W4,n);return x.createElement(Se.span,le({"data-state":xC(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:t}))}),X4=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=x.useRef(null),h=mv(n),l=Zg(t);return x.useEffect(()=>{const a=o.current,f=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(f,"checked").set;if(h!==n&&s){const c=new Event("click",{bubbles:r});s.call(a,n),a.dispatchEvent(c)}},[h,n,r]),x.createElement("input",le({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function xC(e){return e?"checked":"unchecked"}const SC=H4,G4=Y4,Hn=x.forwardRef(({className:e,...t},n)=>T.jsx(SC,{className:be("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),tabIndex:-1,...t,ref:n,children:T.jsx(G4,{className:be("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Hn.displayName=SC.displayName;const K4=x.createContext(void 0);function aa(e){const t=x.useContext(K4);return e||t||"ltr"}const Fh="rovingFocusGroup.onEntryFocus",q4={bubbles:!1,cancelable:!0},gv="RovingFocusGroup",[bm,_C,Z4]=Ul(gv),[Q4,wd]=Kt(gv,[Z4]),[J4,e9]=Q4(gv),t9=x.forwardRef((e,t)=>x.createElement(bm.Provider,{scope:e.__scopeRovingFocusGroup},x.createElement(bm.Slot,{scope:e.__scopeRovingFocusGroup},x.createElement(n9,le({},e,{ref:t}))))),n9=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:h,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:a,onEntryFocus:f,...u}=e,s=x.useRef(null),c=Oe(t,s),d=aa(o),[p=null,g]=yn({prop:h,defaultProp:l,onChange:a}),[m,v]=x.useState(!1),y=rt(f),b=_C(n),w=x.useRef(!1),[S,_]=x.useState(0);return x.useEffect(()=>{const E=s.current;if(E)return E.addEventListener(Fh,y),()=>E.removeEventListener(Fh,y)},[y]),x.createElement(J4,{scope:n,orientation:r,dir:d,loop:i,currentTabStopId:p,onItemFocus:x.useCallback(E=>g(E),[g]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>_(E=>E-1),[])},x.createElement(Se.div,le({tabIndex:m||S===0?-1:0,"data-orientation":r},u,{ref:c,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{w.current=!0}),onFocus:pe(e.onFocus,E=>{const C=!w.current;if(E.target===E.currentTarget&&C&&!m){const P=new CustomEvent(Fh,q4);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const N=b().filter(F=>F.focusable),B=N.find(F=>F.active),I=N.find(F=>F.id===p),D=[B,I,...N].filter(Boolean).map(F=>F.ref.current);CC(D)}}w.current=!1}),onBlur:pe(e.onBlur,()=>v(!1))})))}),r9="RovingFocusGroupItem",i9=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...h}=e,l=sn(),a=o||l,f=e9(r9,n),u=f.currentTabStopId===a,s=_C(n),{onFocusableItemAdd:c,onFocusableItemRemove:d}=f;return x.useEffect(()=>{if(r)return c(),()=>d()},[r,c,d]),x.createElement(bm.ItemSlot,{scope:n,id:a,focusable:r,active:i},x.createElement(Se.span,le({tabIndex:u?0:-1,"data-orientation":f.orientation},h,{ref:t,onMouseDown:pe(e.onMouseDown,p=>{r?f.onItemFocus(a):p.preventDefault()}),onFocus:pe(e.onFocus,()=>f.onItemFocus(a)),onKeyDown:pe(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){f.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=a9(p,f.orientation,f.dir);if(g!==void 0){p.preventDefault();let v=s().filter(y=>y.focusable).map(y=>y.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const y=v.indexOf(p.currentTarget);v=f.loop?l9(v,y+1):v.slice(y+1)}setTimeout(()=>CC(v))}})})))}),o9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s9(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a9(e,t,n){const r=s9(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return o9[r]}function CC(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function l9(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const EC=t9,TC=i9,kC="Tabs",[c9,YI]=Kt(kC,[wd]),PC=wd(),[u9,vv]=c9(kC),f9=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:h="horizontal",dir:l,activationMode:a="automatic",...f}=e,u=aa(l),[s,c]=yn({prop:r,onChange:i,defaultProp:o});return x.createElement(u9,{scope:n,baseId:sn(),value:s,onValueChange:c,orientation:h,dir:u,activationMode:a},x.createElement(Se.div,le({dir:u,"data-orientation":h},f,{ref:t})))}),d9="TabsList",h9=x.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=vv(d9,n),h=PC(n);return x.createElement(EC,le({asChild:!0},h,{orientation:o.orientation,dir:o.dir,loop:r}),x.createElement(Se.div,le({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))}),p9="TabsTrigger",m9=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,h=vv(p9,n),l=PC(n),a=OC(h.baseId,r),f=$C(h.baseId,r),u=r===h.value;return x.createElement(TC,le({asChild:!0},l,{focusable:!i,active:u}),x.createElement(Se.button,le({type:"button",role:"tab","aria-selected":u,"aria-controls":f,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:a},o,{ref:t,onMouseDown:pe(e.onMouseDown,s=>{!i&&s.button===0&&s.ctrlKey===!1?h.onValueChange(r):s.preventDefault()}),onKeyDown:pe(e.onKeyDown,s=>{[" ","Enter"].includes(s.key)&&h.onValueChange(r)}),onFocus:pe(e.onFocus,()=>{const s=h.activationMode!=="manual";!u&&!i&&s&&h.onValueChange(r)})})))}),g9="TabsContent",v9=x.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...h}=e,l=vv(g9,n),a=OC(l.baseId,r),f=$C(l.baseId,r),u=r===l.value,s=x.useRef(u);return x.useEffect(()=>{const c=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(c)},[]),x.createElement(Ot,{present:i||u},({present:c})=>x.createElement(Se.div,le({"data-state":u?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":a,hidden:!c,id:f,tabIndex:0},h,{ref:t,style:{...e.style,animationDuration:s.current?"0s":void 0}}),c&&o))});function OC(e,t){return`${e}-trigger-${t}`}function $C(e,t){return`${e}-content-${t}`}const y9=f9,AC=h9,RC=m9,MC=v9,b9=y9,DC=x.forwardRef(({className:e,...t},n)=>T.jsx(AC,{ref:n,className:be("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),tabIndex:-1,...t}));DC.displayName=AC.displayName;const Ia=x.forwardRef(({className:e,...t},n)=>T.jsx(RC,{ref:n,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),tabIndex:-1,...t}));Ia.displayName=RC.displayName;const ja=x.forwardRef(({className:e,...t},n)=>T.jsx(MC,{ref:n,className:be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),tabIndex:-1,...t}));ja.displayName=MC.displayName;function $l(e,[t,n]){return Math.min(n,Math.max(t,e))}function w9(e,t){return x.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const NC="ScrollArea",[FC,XI]=Kt(NC),[x9,Nn]=FC(NC),S9=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...h}=e,[l,a]=x.useState(null),[f,u]=x.useState(null),[s,c]=x.useState(null),[d,p]=x.useState(null),[g,m]=x.useState(null),[v,y]=x.useState(0),[b,w]=x.useState(0),[S,_]=x.useState(!1),[E,C]=x.useState(!1),P=Oe(t,B=>a(B)),N=aa(i);return x.createElement(x9,{scope:n,type:r,dir:N,scrollHideDelay:o,scrollArea:l,viewport:f,onViewportChange:u,content:s,onContentChange:c,scrollbarX:d,onScrollbarXChange:p,scrollbarXEnabled:S,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:E,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:w},x.createElement(Se.div,le({dir:N},h,{ref:P,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})))}),_9="ScrollAreaViewport",C9=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,...i}=e,o=Nn(_9,n),h=x.useRef(null),l=Oe(t,h,o.onViewportChange);return x.createElement(x.Fragment,null,x.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),x.createElement(Se.div,le({"data-radix-scroll-area-viewport":""},i,{ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style}}),x.createElement("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),ei="ScrollAreaScrollbar",LC=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Nn(ei,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:h}=i,l=e.orientation==="horizontal";return x.useEffect(()=>(l?o(!0):h(!0),()=>{l?o(!1):h(!1)}),[l,o,h]),i.type==="hover"?x.createElement(E9,le({},r,{ref:t,forceMount:n})):i.type==="scroll"?x.createElement(T9,le({},r,{ref:t,forceMount:n})):i.type==="auto"?x.createElement(IC,le({},r,{ref:t,forceMount:n})):i.type==="always"?x.createElement(yv,le({},r,{ref:t})):null}),E9=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Nn(ei,e.__scopeScrollArea),[o,h]=x.useState(!1);return x.useEffect(()=>{const l=i.scrollArea;let a=0;if(l){const f=()=>{window.clearTimeout(a),h(!0)},u=()=>{a=window.setTimeout(()=>h(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",u),()=>{window.clearTimeout(a),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),x.createElement(Ot,{present:n||o},x.createElement(IC,le({"data-state":o?"visible":"hidden"},r,{ref:t})))}),T9=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Nn(ei,e.__scopeScrollArea),o=e.orientation==="horizontal",h=Sd(()=>a("SCROLL_END"),100),[l,a]=w9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>a("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,i.scrollHideDelay,a]),x.useEffect(()=>{const f=i.viewport,u=o?"scrollLeft":"scrollTop";if(f){let s=f[u];const c=()=>{const d=f[u];s!==d&&(a("SCROLL"),h()),s=d};return f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[i.viewport,o,a,h]),x.createElement(Ot,{present:n||l!=="hidden"},x.createElement(yv,le({"data-state":l==="hidden"?"hidden":"visible"},r,{ref:t,onPointerEnter:pe(e.onPointerEnter,()=>a("POINTER_ENTER")),onPointerLeave:pe(e.onPointerLeave,()=>a("POINTER_LEAVE"))})))}),IC=x.forwardRef((e,t)=>{const n=Nn(ei,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,h]=x.useState(!1),l=e.orientation==="horizontal",a=Sd(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;h(l?f:u)}},10);return Ys(n.viewport,a),Ys(n.content,a),x.createElement(Ot,{present:r||o},x.createElement(yv,le({"data-state":o?"visible":"hidden"},i,{ref:t})))}),yv=x.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Nn(ei,e.__scopeScrollArea),o=x.useRef(null),h=x.useRef(0),[l,a]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=VC(l.viewport,l.content),u={...r,sizes:l,onSizesChange:a,hasThumb:f>0&&f<1,onThumbChange:c=>o.current=c,onThumbPointerUp:()=>h.current=0,onThumbPointerDown:c=>h.current=c};function s(c,d){return D9(c,h.current,l,d)}return n==="horizontal"?x.createElement(k9,le({},u,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const c=i.viewport.scrollLeft,d=y1(c,l,i.dir);o.current.style.transform=`translate3d(${d}px, 0, 0)`}},onWheelScroll:c=>{i.viewport&&(i.viewport.scrollLeft=c)},onDragScroll:c=>{i.viewport&&(i.viewport.scrollLeft=s(c,i.dir))}})):n==="vertical"?x.createElement(P9,le({},u,{ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const c=i.viewport.scrollTop,d=y1(c,l);o.current.style.transform=`translate3d(0, ${d}px, 0)`}},onWheelScroll:c=>{i.viewport&&(i.viewport.scrollTop=c)},onDragScroll:c=>{i.viewport&&(i.viewport.scrollTop=s(c))}})):null}),k9=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Nn(ei,e.__scopeScrollArea),[h,l]=x.useState(),a=x.useRef(null),f=Oe(t,a,o.onScrollbarXChange);return x.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),x.createElement(BC,le({"data-orientation":"horizontal"},i,{ref:f,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":xd(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,s)=>{if(o.viewport){const c=o.viewport.scrollLeft+u.deltaX;e.onWheelScroll(c),HC(c,s)&&u.preventDefault()}},onResize:()=>{a.current&&o.viewport&&h&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:a.current.clientWidth,paddingStart:gf(h.paddingLeft),paddingEnd:gf(h.paddingRight)}})}}))}),P9=x.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Nn(ei,e.__scopeScrollArea),[h,l]=x.useState(),a=x.useRef(null),f=Oe(t,a,o.onScrollbarYChange);return x.useEffect(()=>{a.current&&l(getComputedStyle(a.current))},[a]),x.createElement(BC,le({"data-orientation":"vertical"},i,{ref:f,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":xd(n)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,s)=>{if(o.viewport){const c=o.viewport.scrollTop+u.deltaY;e.onWheelScroll(c),HC(c,s)&&u.preventDefault()}},onResize:()=>{a.current&&o.viewport&&h&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:a.current.clientHeight,paddingStart:gf(h.paddingTop),paddingEnd:gf(h.paddingBottom)}})}}))}),[O9,jC]=FC(ei),BC=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:h,onThumbPointerDown:l,onThumbPositionChange:a,onDragScroll:f,onWheelScroll:u,onResize:s,...c}=e,d=Nn(ei,n),[p,g]=x.useState(null),m=Oe(t,P=>g(P)),v=x.useRef(null),y=x.useRef(""),b=d.viewport,w=r.content-r.viewport,S=rt(u),_=rt(a),E=Sd(s,10);function C(P){if(v.current){const N=P.clientX-v.current.left,B=P.clientY-v.current.top;f({x:N,y:B})}}return x.useEffect(()=>{const P=N=>{const B=N.target;(p==null?void 0:p.contains(B))&&S(N,w)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[b,p,w,S]),x.useEffect(_,[r,_]),Ys(p,E),Ys(d.content,E),x.createElement(O9,{scope:n,scrollbar:p,hasThumb:i,onThumbChange:rt(o),onThumbPointerUp:rt(h),onThumbPositionChange:_,onThumbPointerDown:rt(l)},x.createElement(Se.div,le({},c,{ref:m,style:{position:"absolute",...c.style},onPointerDown:pe(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),v.current=p.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",d.viewport&&(d.viewport.style.scrollBehavior="auto"),C(P))}),onPointerMove:pe(e.onPointerMove,C),onPointerUp:pe(e.onPointerUp,P=>{const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,d.viewport&&(d.viewport.style.scrollBehavior=""),v.current=null})})))}),wm="ScrollAreaThumb",$9=x.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=jC(wm,e.__scopeScrollArea);return x.createElement(Ot,{present:n||i.hasThumb},x.createElement(A9,le({ref:t},r)))}),A9=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Nn(wm,n),h=jC(wm,n),{onThumbPositionChange:l}=h,a=Oe(t,s=>h.onThumbChange(s)),f=x.useRef(),u=Sd(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const s=o.viewport;if(s){const c=()=>{if(u(),!f.current){const d=N9(s,l);f.current=d,l()}};return l(),s.addEventListener("scroll",c),()=>s.removeEventListener("scroll",c)}},[o.viewport,u,l]),x.createElement(Se.div,le({"data-state":h.hasThumb?"visible":"hidden"},i,{ref:a,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:pe(e.onPointerDownCapture,s=>{const d=s.target.getBoundingClientRect(),p=s.clientX-d.left,g=s.clientY-d.top;h.onThumbPointerDown({x:p,y:g})}),onPointerUp:pe(e.onPointerUp,h.onThumbPointerUp)}))}),zC="ScrollAreaCorner",R9=x.forwardRef((e,t)=>{const n=Nn(zC,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?x.createElement(M9,le({},e,{ref:t})):null}),M9=x.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Nn(zC,n),[o,h]=x.useState(0),[l,a]=x.useState(0),f=!!(o&&l);return Ys(i.scrollbarX,()=>{var u;const s=((u=i.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;i.onCornerHeightChange(s),a(s)}),Ys(i.scrollbarY,()=>{var u;const s=((u=i.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;i.onCornerWidthChange(s),h(s)}),f?x.createElement(Se.div,le({},r,{ref:t,style:{width:o,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function gf(e){return e?parseInt(e,10):0}function VC(e,t){const n=e/t;return isNaN(n)?0:n}function xd(e){const t=VC(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function D9(e,t,n,r="ltr"){const i=xd(n),o=i/2,h=t||o,l=i-h,a=n.scrollbar.paddingStart+h,f=n.scrollbar.size-n.scrollbar.paddingEnd-l,u=n.content-n.viewport,s=r==="ltr"?[0,u]:[u*-1,0];return UC([a,f],s)(e)}function y1(e,t,n="ltr"){const r=xd(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,h=t.content-t.viewport,l=o-r,a=n==="ltr"?[0,h]:[h*-1,0],f=$l(e,a);return UC([0,h],[0,l])(f)}function UC(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function HC(e,t){return e>0&&e<t}const N9=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},h=n.left!==o.left,l=n.top!==o.top;(h||l)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Sd(e,t){const n=rt(e),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ys(e,t){const n=rt(t);Ft(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const WC=S9,F9=C9,L9=R9,bv=x.forwardRef(({className:e,children:t,...n},r)=>T.jsxs(WC,{ref:r,className:be("relative overflow-hidden",e),scrollHideDelay:400,...n,children:[T.jsx(F9,{className:"h-full w-full rounded-[inherit]",children:t}),T.jsx(YC,{}),T.jsx(L9,{})]}));bv.displayName=WC.displayName;const YC=x.forwardRef(({className:e,orientation:t="vertical",...n},r)=>T.jsx(LC,{ref:r,orientation:t,className:be("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:T.jsx($9,{className:"relative flex-1 rounded-full bg-border"})}));YC.displayName=LC.displayName;const I9="AlertDialog",[j9,GI]=Kt(I9,[P_]),Yi=P_(),B9=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yi(t);return x.createElement(pd,le({},r,n,{modal:!0}))},z9=e=>{const{__scopeAlertDialog:t,...n}=e,r=Yi(t);return x.createElement(md,le({},r,n))},V9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yi(n);return x.createElement(oa,le({},i,r,{ref:t}))}),XC="AlertDialogContent",[U9,H9]=j9(XC),W9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=Yi(n),h=x.useRef(null),l=Oe(t,h),a=x.useRef(null);return x.createElement(hD,{contentName:XC,titleName:Y9,docsSlug:"alert-dialog"},x.createElement(U9,{scope:n,cancelRef:a},x.createElement(sa,le({role:"alertdialog"},o,i,{ref:l,onOpenAutoFocus:pe(i.onOpenAutoFocus,f=>{var u;f.preventDefault(),(u=a.current)===null||u===void 0||u.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault()}),x.createElement(Og,null,r),!1)))}),Y9="AlertDialogTitle",X9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yi(n);return x.createElement(Ql,le({},i,r,{ref:t}))}),G9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yi(n);return x.createElement(Jl,le({},i,r,{ref:t}))}),K9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Yi(n);return x.createElement(iv,le({},i,r,{ref:t}))}),q9="AlertDialogCancel",Z9=x.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=H9(q9,n),o=Yi(n),h=Oe(t,i);return x.createElement(iv,le({},o,r,{ref:h}))}),Q9=B9,J9=z9,GC=V9,KC=W9,qC=K9,ZC=Z9,QC=X9,JC=G9,e8=Q9,t8=J9,e2=x.forwardRef(({className:e,...t},n)=>T.jsx(GC,{className:be("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));e2.displayName=GC.displayName;const t2=x.forwardRef(({className:e,...t},n)=>T.jsxs(t8,{children:[T.jsx(e2,{}),T.jsx(KC,{ref:n,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));t2.displayName=KC.displayName;const n2=({className:e,...t})=>T.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});n2.displayName="AlertDialogHeader";const n8=x.forwardRef(({className:e,...t},n)=>T.jsx(QC,{ref:n,className:be("text-lg font-semibold",e),...t}));n8.displayName=QC.displayName;const r8=x.forwardRef(({className:e,...t},n)=>T.jsx(JC,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));r8.displayName=JC.displayName;const i8=x.forwardRef(({className:e,...t},n)=>T.jsx(qC,{ref:n,className:be(nv(),e),...t}));i8.displayName=qC.displayName;const o8=x.forwardRef(({className:e,...t},n)=>T.jsx(ZC,{ref:n,className:be(nv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));o8.displayName=ZC.displayName;const s8=[" ","Enter","ArrowUp","ArrowDown"],a8=[" ","Enter"],_d="Select",[Cd,Ed,l8]=Ul(_d),[la,KI]=Kt(_d,[l8,Wi]),wv=Wi(),[c8,Do]=la(_d),[u8,f8]=la(_d),d8=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:h,defaultValue:l,onValueChange:a,dir:f,name:u,autoComplete:s,disabled:c,required:d}=e,p=wv(t),[g,m]=x.useState(null),[v,y]=x.useState(null),[b,w]=x.useState(!1),S=aa(f),[_=!1,E]=yn({prop:r,defaultProp:i,onChange:o}),[C,P]=yn({prop:h,defaultProp:l,onChange:a}),N=x.useRef(null),B=g?!!g.closest("form"):!0,[I,V]=x.useState(new Set),D=Array.from(I).map(F=>F.props.value).join(";");return x.createElement(ql,p,x.createElement(c8,{required:d,scope:t,trigger:g,onTriggerChange:m,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:sn(),value:C,onValueChange:P,open:_,onOpenChange:E,dir:S,triggerPointerDownPosRef:N,disabled:c},x.createElement(Cd.Provider,{scope:t},x.createElement(u8,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{V(O=>new Set(O).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{V(O=>{const M=new Set(O);return M.delete(F),M})},[])},n)),B?x.createElement(a2,{key:D,"aria-hidden":!0,required:d,tabIndex:-1,name:u,autoComplete:s,value:C,onChange:F=>P(F.target.value),disabled:c},C===void 0?x.createElement("option",{value:""}):null,Array.from(I)):null))},h8="SelectTrigger",p8=x.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=wv(n),h=Do(h8,n),l=h.disabled||r,a=Oe(t,h.onTriggerChange),f=Ed(n),[u,s,c]=l2(p=>{const g=f().filter(y=>!y.disabled),m=g.find(y=>y.value===h.value),v=c2(g,p,m);v!==void 0&&h.onValueChange(v.value)}),d=()=>{l||(h.onOpenChange(!0),c())};return x.createElement(sd,le({asChild:!0},o),x.createElement(Se.button,le({type:"button",role:"combobox","aria-controls":h.contentId,"aria-expanded":h.open,"aria-required":h.required,"aria-autocomplete":"none",dir:h.dir,"data-state":h.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":s2(h.value)?"":void 0},i,{ref:a,onClick:pe(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:pe(i.onPointerDown,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(d(),h.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:pe(i.onKeyDown,p=>{const g=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&s(p.key),!(g&&p.key===" ")&&s8.includes(p.key)&&(d(),p.preventDefault())})})))}),m8="SelectValue",g8=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:h="",...l}=e,a=Do(m8,n),{onValueNodeHasChildrenChange:f}=a,u=o!==void 0,s=Oe(t,a.onValueNodeChange);return Ft(()=>{f(u)},[f,u]),x.createElement(Se.span,le({},l,{ref:s,style:{pointerEvents:"none"}}),s2(a.value)?x.createElement(x.Fragment,null,h):o)}),v8=x.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return x.createElement(Se.span,le({"aria-hidden":!0},i,{ref:t}),r||"▼")}),y8=e=>x.createElement(Hl,le({asChild:!0},e)),Xs="SelectContent",b8=x.forwardRef((e,t)=>{const n=Do(Xs,e.__scopeSelect),[r,i]=x.useState();if(Ft(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Ui.createPortal(x.createElement(r2,{scope:e.__scopeSelect},x.createElement(Cd.Slot,{scope:e.__scopeSelect},x.createElement("div",null,e.children))),o):null}return x.createElement(w8,le({},e,{ref:t}))}),Mr=10,[r2,No]=la(Xs),w8=x.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:h,side:l,sideOffset:a,align:f,alignOffset:u,arrowPadding:s,collisionBoundary:c,collisionPadding:d,sticky:p,hideWhenDetached:g,avoidCollisions:m,...v}=e,y=Do(Xs,n),[b,w]=x.useState(null),[S,_]=x.useState(null),E=Oe(t,W=>w(W)),[C,P]=x.useState(null),[N,B]=x.useState(null),I=Ed(n),[V,D]=x.useState(!1),F=x.useRef(!1);x.useEffect(()=>{if(b)return hd(b)},[b]),fd();const O=x.useCallback(W=>{const[K,...G]=I().map(ce=>ce.ref.current),[J]=G.slice(-1),ee=document.activeElement;for(const ce of W)if(ce===ee||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===K&&S&&(S.scrollTop=0),ce===J&&S&&(S.scrollTop=S.scrollHeight),ce==null||ce.focus(),document.activeElement!==ee))return},[I,S]),M=x.useCallback(()=>O([C,b]),[O,C,b]);x.useEffect(()=>{V&&M()},[V,M]);const{onOpenChange:U,triggerPointerDownPosRef:k}=y;x.useEffect(()=>{if(b){let W={x:0,y:0};const K=J=>{var ee,ce,te,Z;W={x:Math.abs(Math.round(J.pageX)-((ee=(ce=k.current)===null||ce===void 0?void 0:ce.x)!==null&&ee!==void 0?ee:0)),y:Math.abs(Math.round(J.pageY)-((te=(Z=k.current)===null||Z===void 0?void 0:Z.y)!==null&&te!==void 0?te:0))}},G=J=>{W.x<=10&&W.y<=10?J.preventDefault():b.contains(J.target)||U(!1),document.removeEventListener("pointermove",K),k.current=null};return k.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",G,{capture:!0})}}},[b,U,k]),x.useEffect(()=>{const W=()=>U(!1);return window.addEventListener("blur",W),window.addEventListener("resize",W),()=>{window.removeEventListener("blur",W),window.removeEventListener("resize",W)}},[U]);const[R,j]=l2(W=>{const K=I().filter(ee=>!ee.disabled),G=K.find(ee=>ee.ref.current===document.activeElement),J=c2(K,W,G);J&&setTimeout(()=>J.ref.current.focus())}),A=x.useCallback((W,K,G)=>{const J=!F.current&&!G;(y.value!==void 0&&y.value===K||J)&&(P(W),J&&(F.current=!0))},[y.value]),Y=x.useCallback(()=>b==null?void 0:b.focus(),[b]),L=x.useCallback((W,K,G)=>{const J=!F.current&&!G;(y.value!==void 0&&y.value===K||J)&&B(W)},[y.value]),$=r==="popper"?b1:x8,H=$===b1?{side:l,sideOffset:a,align:f,alignOffset:u,arrowPadding:s,collisionBoundary:c,collisionPadding:d,sticky:p,hideWhenDetached:g,avoidCollisions:m}:{};return x.createElement(r2,{scope:n,content:b,viewport:S,onViewportChange:_,itemRefCallback:A,selectedItem:C,onItemLeave:Y,itemTextRefCallback:L,focusSelectedItem:M,selectedItemText:N,position:r,isPositioned:V,searchRef:R},x.createElement(Zl,{as:xr,allowPinchZoom:!0},x.createElement(ud,{asChild:!0,trapped:y.open,onMountAutoFocus:W=>{W.preventDefault()},onUnmountAutoFocus:pe(i,W=>{var K;(K=y.trigger)===null||K===void 0||K.focus({preventScroll:!0}),W.preventDefault()})},x.createElement(Js,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:h,onFocusOutside:W=>W.preventDefault(),onDismiss:()=>y.onOpenChange(!1)},x.createElement($,le({role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:W=>W.preventDefault()},v,H,{onPlaced:()=>D(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:pe(v.onKeyDown,W=>{const K=W.ctrlKey||W.altKey||W.metaKey;if(W.key==="Tab"&&W.preventDefault(),!K&&W.key.length===1&&j(W.key),["ArrowUp","ArrowDown","Home","End"].includes(W.key)){let J=I().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes(W.key)&&(J=J.slice().reverse()),["ArrowUp","ArrowDown"].includes(W.key)){const ee=W.target,ce=J.indexOf(ee);J=J.slice(ce+1)}setTimeout(()=>O(J)),W.preventDefault()}})}))))))}),x8=x.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Do(Xs,n),h=No(Xs,n),[l,a]=x.useState(null),[f,u]=x.useState(null),s=Oe(t,E=>u(E)),c=Ed(n),d=x.useRef(!1),p=x.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:v,focusSelectedItem:y}=h,b=x.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&f&&g&&m&&v){const E=o.trigger.getBoundingClientRect(),C=f.getBoundingClientRect(),P=o.valueNode.getBoundingClientRect(),N=v.getBoundingClientRect();if(o.dir!=="rtl"){const ee=N.left-C.left,ce=P.left-ee,te=E.left-ce,Z=E.width+te,oe=Math.max(Z,C.width),se=window.innerWidth-Mr,ne=$l(ce,[Mr,se-oe]);l.style.minWidth=Z+"px",l.style.left=ne+"px"}else{const ee=C.right-N.right,ce=window.innerWidth-P.right-ee,te=window.innerWidth-E.right-ce,Z=E.width+te,oe=Math.max(Z,C.width),se=window.innerWidth-Mr,ne=$l(ce,[Mr,se-oe]);l.style.minWidth=Z+"px",l.style.right=ne+"px"}const B=c(),I=window.innerHeight-Mr*2,V=g.scrollHeight,D=window.getComputedStyle(f),F=parseInt(D.borderTopWidth,10),O=parseInt(D.paddingTop,10),M=parseInt(D.borderBottomWidth,10),U=parseInt(D.paddingBottom,10),k=F+O+V+U+M,R=Math.min(m.offsetHeight*5,k),j=window.getComputedStyle(g),A=parseInt(j.paddingTop,10),Y=parseInt(j.paddingBottom,10),L=E.top+E.height/2-Mr,$=I-L,H=m.offsetHeight/2,W=m.offsetTop+H,K=F+O+W,G=k-K;if(K<=L){const ee=m===B[B.length-1].ref.current;l.style.bottom="0px";const ce=f.clientHeight-g.offsetTop-g.offsetHeight,te=Math.max($,H+(ee?Y:0)+ce+M),Z=K+te;l.style.height=Z+"px"}else{const ee=m===B[0].ref.current;l.style.top="0px";const te=Math.max(L,F+g.offsetTop+(ee?A:0)+H)+G;l.style.height=te+"px",g.scrollTop=K-L+g.offsetTop}l.style.margin=`${Mr}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[c,o.trigger,o.valueNode,l,f,g,m,v,o.dir,r]);Ft(()=>b(),[b]);const[w,S]=x.useState();Ft(()=>{f&&S(window.getComputedStyle(f).zIndex)},[f]);const _=x.useCallback(E=>{E&&p.current===!0&&(b(),y==null||y(),p.current=!1)},[b,y]);return x.createElement(S8,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:d,onScrollButtonChange:_},x.createElement("div",{ref:a,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},x.createElement(Se.div,le({},i,{ref:s,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),b1=x.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Mr,...o}=e,h=wv(n);return x.createElement(ad,le({},h,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[S8,xv]=la(Xs,{}),w1="SelectViewport",_8=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=No(w1,n),o=xv(w1,n),h=Oe(t,i.onViewportChange),l=x.useRef(0);return x.createElement(x.Fragment,null,x.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),x.createElement(Cd.Slot,{scope:n},x.createElement(Se.div,le({"data-radix-select-viewport":"",role:"presentation"},r,{ref:h,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:pe(r.onScroll,a=>{const f=a.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:s}=o;if(s!=null&&s.current&&u){const c=Math.abs(l.current-f.scrollTop);if(c>0){const d=window.innerHeight-Mr*2,p=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),m=Math.max(p,g);if(m<d){const v=m+c,y=Math.min(d,v),b=v-y;u.style.height=y+"px",u.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=f.scrollTop})}))))}),C8="SelectGroup",[E8,T8]=la(C8),k8=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=sn();return x.createElement(E8,{scope:n,id:i},x.createElement(Se.div,le({role:"group","aria-labelledby":i},r,{ref:t})))}),P8="SelectLabel",O8=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=T8(P8,n);return x.createElement(Se.div,le({id:i.id},r,{ref:t}))}),xm="SelectItem",[$8,i2]=la(xm),A8=x.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...h}=e,l=Do(xm,n),a=No(xm,n),f=l.value===r,[u,s]=x.useState(o??""),[c,d]=x.useState(!1),p=Oe(t,v=>{var y;return(y=a.itemRefCallback)===null||y===void 0?void 0:y.call(a,v,r,i)}),g=sn(),m=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.createElement($8,{scope:n,value:r,disabled:i,textId:g,isSelected:f,onItemTextChange:x.useCallback(v=>{s(y=>{var b;return y||((b=v==null?void 0:v.textContent)!==null&&b!==void 0?b:"").trim()})},[])},x.createElement(Cd.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},x.createElement(Se.div,le({role:"option","aria-labelledby":g,"data-highlighted":c?"":void 0,"aria-selected":f&&c,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},h,{ref:p,onFocus:pe(h.onFocus,()=>d(!0)),onBlur:pe(h.onBlur,()=>d(!1)),onPointerUp:pe(h.onPointerUp,m),onPointerMove:pe(h.onPointerMove,v=>{if(i){var y;(y=a.onItemLeave)===null||y===void 0||y.call(a)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(h.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var y;(y=a.onItemLeave)===null||y===void 0||y.call(a)}}),onKeyDown:pe(h.onKeyDown,v=>{var y;((y=a.searchRef)===null||y===void 0?void 0:y.current)!==""&&v.key===" "||(a8.includes(v.key)&&m(),v.key===" "&&v.preventDefault())})}))))}),Bc="SelectItemText",R8=x.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,h=Do(Bc,n),l=No(Bc,n),a=i2(Bc,n),f=f8(Bc,n),[u,s]=x.useState(null),c=Oe(t,v=>s(v),a.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)===null||y===void 0?void 0:y.call(l,v,a.value,a.disabled)}),d=u==null?void 0:u.textContent,p=x.useMemo(()=>x.createElement("option",{key:a.value,value:a.value,disabled:a.disabled},d),[a.disabled,a.value,d]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=f;return Ft(()=>(g(p),()=>m(p)),[g,m,p]),x.createElement(x.Fragment,null,x.createElement(Se.span,le({id:a.textId},o,{ref:c})),a.isSelected&&h.valueNode&&!h.valueNodeHasChildren?Ui.createPortal(o.children,h.valueNode):null)}),M8="SelectItemIndicator",D8=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i2(M8,n).isSelected?x.createElement(Se.span,le({"aria-hidden":!0},r,{ref:t})):null}),x1="SelectScrollUpButton",N8=x.forwardRef((e,t)=>{const n=No(x1,e.__scopeSelect),r=xv(x1,e.__scopeSelect),[i,o]=x.useState(!1),h=Oe(t,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let f=function(){const u=a.scrollTop>0;o(u)};var l=f;const a=n.viewport;return f(),a.addEventListener("scroll",f),()=>a.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?x.createElement(o2,le({},e,{ref:h,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop-a.offsetHeight)}})):null}),S1="SelectScrollDownButton",F8=x.forwardRef((e,t)=>{const n=No(S1,e.__scopeSelect),r=xv(S1,e.__scopeSelect),[i,o]=x.useState(!1),h=Oe(t,r.onScrollButtonChange);return Ft(()=>{if(n.viewport&&n.isPositioned){let f=function(){const u=a.scrollHeight-a.clientHeight,s=Math.ceil(a.scrollTop)<u;o(s)};var l=f;const a=n.viewport;return f(),a.addEventListener("scroll",f),()=>a.removeEventListener("scroll",f)}},[n.viewport,n.isPositioned]),i?x.createElement(o2,le({},e,{ref:h,onAutoScroll:()=>{const{viewport:l,selectedItem:a}=n;l&&a&&(l.scrollTop=l.scrollTop+a.offsetHeight)}})):null}),o2=x.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=No("SelectScrollButton",n),h=x.useRef(null),l=Ed(n),a=x.useCallback(()=>{h.current!==null&&(window.clearInterval(h.current),h.current=null)},[]);return x.useEffect(()=>()=>a(),[a]),Ft(()=>{var f;const u=l().find(s=>s.ref.current===document.activeElement);u==null||(f=u.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[l]),x.createElement(Se.div,le({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{h.current===null&&(h.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var f;(f=o.onItemLeave)===null||f===void 0||f.call(o),h.current===null&&(h.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{a()})}))}),L8=x.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return x.createElement(Se.div,le({"aria-hidden":!0},r,{ref:t}))});function s2(e){return e===""||e===void 0}const a2=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=x.useRef(null),o=Oe(t,i),h=mv(n);return x.useEffect(()=>{const l=i.current,a=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(h!==n&&u){const s=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(s)}},[h,n]),x.createElement(Yf,{asChild:!0},x.createElement("select",le({},r,{ref:o,defaultValue:n})))});a2.displayName="BubbleSelect";function l2(e){const t=rt(e),n=x.useRef(""),r=x.useRef(0),i=x.useCallback(h=>{const l=n.current+h;t(l),function a(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>a(""),1e3))}(l)},[t]),o=x.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function c2(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let h=I8(e,Math.max(o,0));i.length===1&&(h=h.filter(f=>f!==n));const a=h.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function I8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const j8=d8,u2=p8,B8=g8,z8=v8,V8=y8,f2=b8,U8=_8,H8=k8,d2=O8,h2=A8,W8=R8,Y8=D8,p2=N8,m2=F8,g2=L8,jr=j8,Br=H8,zr=B8,pr=x.forwardRef(({className:e,children:t,...n},r)=>T.jsxs(u2,{ref:r,className:be("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),tabIndex:-1,...n,children:[t,T.jsx(z8,{asChild:!0,children:T.jsx(nP,{className:"h-4 w-4 opacity-50"})})]}));pr.displayName=u2.displayName;const v2=x.forwardRef(({className:e,...t},n)=>T.jsx(p2,{ref:n,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:T.jsx(cP,{})}));v2.displayName=p2.displayName;const y2=x.forwardRef(({className:e,...t},n)=>T.jsx(m2,{ref:n,className:be("flex cursor-default items-center justify-center py-1",e),...t,children:T.jsx(oP,{})}));y2.displayName=m2.displayName;const mr=x.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>T.jsx(V8,{children:T.jsxs(f2,{ref:i,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,onCloseAutoFocus:o=>o.preventDefault(),...r,children:[T.jsx(v2,{}),T.jsx(U8,{className:be("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),T.jsx(y2,{})]})}));mr.displayName=f2.displayName;const X8=x.forwardRef(({className:e,...t},n)=>T.jsx(d2,{ref:n,className:be("px-2 py-1.5 text-sm font-semibold",e),...t}));X8.displayName=d2.displayName;const gr=x.forwardRef(({className:e,children:t,...n},r)=>T.jsxs(h2,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[T.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(Y8,{children:T.jsx(Rx,{className:"h-4 w-4"})})}),T.jsx(W8,{children:t})]}));gr.displayName=h2.displayName;const G8=x.forwardRef(({className:e,...t},n)=>T.jsx(g2,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));G8.displayName=g2.displayName;const K8=D4({enableFileManager:Ca(),inputDirectory:_a(),outputDirectory:_a(),enableDownloadMask:Ca(),enableManualInpainting:Ca(),enableUploadMask:Ca(),enableAutoExtractPrompt:Ca(),removeBGModel:_a(),realesrganModel:_a(),interactiveSegModel:_a()}),b2="General",Sm="Model",w2="Plugins",q8=[Sm,b2,w2];function Z8(){const[e,t]=g_(!1),[n,r]=x.useState(Sm),[i,o,h,l,a,f,u,s]=Xe(F=>[F.updateAppState,F.settings,F.updateSettings,F.fileManagerState,F.setModel,F.serverConfig,F.updateServerConfig,F.setServerConfig]),{toast:c}=Dg(),[d,p]=x.useState(o.model),[g,m]=x.useState([]),v=g.length>0;x.useEffect(()=>{p(o.model)},[o.model]);const y=d4({resolver:g4(K8),defaultValues:{enableDownloadMask:o.enableDownloadMask,enableManualInpainting:o.enableManualInpainting,enableUploadMask:o.enableUploadMask,enableAutoExtractPrompt:o.enableAutoExtractPrompt,inputDirectory:l.inputDirectory,outputDirectory:l.outputDirectory,removeBGModel:f==null?void 0:f.removeBGModel,realesrganModel:f==null?void 0:f.realesrganModel,interactiveSegModel:f==null?void 0:f.interactiveSegModel}});x.useEffect(()=>{f&&(s(f),y.setValue("removeBGModel",f.removeBGModel),y.setValue("realesrganModel",f.realesrganModel),y.setValue("interactiveSegModel",f.interactiveSegModel))},[y,f]);async function b(F){h({enableDownloadMask:F.enableDownloadMask,enableManualInpainting:F.enableManualInpainting,enableUploadMask:F.enableUploadMask,enableAutoExtractPrompt:F.enableAutoExtractPrompt});const O=d.name!==o.model.name,M=(f==null?void 0:f.removeBGModel)!==F.removeBGModel&&_,U=(f==null?void 0:f.realesrganModel)!==F.realesrganModel&&E,k=(f==null?void 0:f.interactiveSegModel)!==F.interactiveSegModel&&C;if(O||M||U||k){const j=[];if(O&&j.push(`Switching model from ${o.model.name} to ${d.name}`),M&&j.push(`Switching RemoveBG model from ${f==null?void 0:f.removeBGModel} to ${F.removeBGModel}`),U&&j.push(`Switching RealESRGAN model from ${f==null?void 0:f.realesrganModel} to ${F.realesrganModel}`),k&&j.push(`Switching ${li.InteractiveSeg} model from ${f==null?void 0:f.interactiveSegModel} to ${F.interactiveSegModel}`),m(j),i({disableShortCuts:!0}),O)try{const A=await MA(d.name);c({title:`Switch to ${A.name} success`}),a(d)}catch(A){c({variant:"destructive",title:`Switch to ${d.name} failed: ${A}`}),p(o.model)}if(M)try{console.log(F.removeBGModel),u({removeBGModel:F.removeBGModel})}catch(A){c({variant:"destructive",title:`Switch RemoveBG model to ${F.removeBGModel} failed: ${A}`})}if(U)try{const A=await Dy(li.RealESRGAN,F.realesrganModel);if(A.status!==200)throw new Error(A.statusText)}catch(A){c({variant:"destructive",title:`Switch RealESRGAN model to ${F.realesrganModel} failed: ${A}`})}if(k)try{const A=await Dy(li.InteractiveSeg,F.interactiveSegModel);if(A.status!==200)throw new Error(A.statusText)}catch(A){c({variant:"destructive",title:`Switch ${li.InteractiveSeg} model to ${F.interactiveSegModel} failed: ${A}`})}m([]),i({disableShortCuts:!1})}}ir("s",()=>{t(),e&&b(y.getValues())},[e,y,d,f]);const w=f.modelInfos,S=f.plugins,_=S.some(F=>F.name===li.RemoveBG),E=S.some(F=>F.name===li.RealESRGAN),C=S.some(F=>F.name===li.InteractiveSeg);function P(F){t(),F||b(y.getValues())}function N(F){p(F)}function B(F){return w?w.filter(O=>F.includes(O.model_type)).map(O=>T.jsxs("div",{onClick:()=>N(O),className:"px-2",children:[T.jsx("div",{className:be([O.name===d.name?"bg-muted":"hover:bg-muted","rounded-md px-2 py-2","cursor-default"]),children:T.jsx("div",{className:"text-base",children:O.name})}),T.jsx(Tt,{className:"my-1"})]},O.name)):T.jsx("div",{children:"Please download model first"})}function I(){let F=xi;for(let O of w)if(d.name===O.name){F=O.model_type,F===ay&&(F=Ac),F===ly&&(F=Rc);break}return T.jsxs("div",{className:"flex flex-col gap-4 w-[510px]",children:[T.jsxs("div",{className:"flex flex-col gap-4 rounded-md",children:[T.jsx("div",{className:"font-medium",children:"Current Model"}),T.jsx("div",{children:d.name})]}),T.jsx(Tt,{}),T.jsxs("div",{className:"space-y-4  rounded-md",children:[T.jsx("div",{className:"flex gap-1 items-center justify-start",children:T.jsx("div",{className:"font-medium",children:"Available models"})}),T.jsxs(b9,{defaultValue:F,children:[T.jsxs(DC,{children:[T.jsx(Ia,{value:xi,children:"Inpaint"}),T.jsx(Ia,{value:Ac,children:"Stable Diffusion"}),T.jsx(Ia,{value:Rc,children:"Stable Diffusion Inpaint"}),T.jsx(Ia,{value:uh,children:"Other Diffusion"})]}),T.jsxs(bv,{className:"h-[240px] w-full mt-2 outline-none border rounded-lg",children:[T.jsx(ja,{value:xi,children:B([xi])}),T.jsx(ja,{value:Ac,children:B([Ac,ay])}),T.jsx(ja,{value:Rc,children:B([Rc,ly])}),T.jsx(ja,{value:uh,children:B([uh])})]})]})]})]})}function V(){return T.jsxs("div",{className:"space-y-4 w-[510px]",children:[T.jsx(Ho,{control:y.control,name:"enableManualInpainting",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"Enable manual inpainting"}),T.jsx(ro,{children:"For erase model, click a button to trigger inpainting after draw mask."})]}),T.jsx(no,{children:T.jsx(Hn,{checked:F.value,onCheckedChange:F.onChange})})]})}),T.jsx(Tt,{}),T.jsx(Ho,{control:y.control,name:"enableDownloadMask",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"Enable download mask"}),T.jsx(ro,{children:"Also download the mask after save the inpainting result."})]}),T.jsx(no,{children:T.jsx(Hn,{checked:F.value,onCheckedChange:F.onChange})})]})}),T.jsx(Tt,{}),T.jsx(Ho,{control:y.control,name:"enableAutoExtractPrompt",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"Enable auto extract prompt"}),T.jsx(ro,{children:"Automatically extract prompt/negativate prompt from the image meta."})]}),T.jsx(no,{children:T.jsx(Hn,{checked:F.value,onCheckedChange:F.onChange})})]})})]})}function D(){return T.jsxs("div",{className:"space-y-4 w-[510px]",children:[T.jsx(Ho,{control:y.control,name:"removeBGModel",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"Remove Background"}),T.jsx(ro,{children:"Remove background model"})]}),T.jsxs(jr,{onValueChange:F.onChange,defaultValue:F.value,disabled:!_,children:[T.jsx(no,{children:T.jsx(pr,{className:"w-auto",children:T.jsx(zr,{placeholder:"Select removebg model"})})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:f==null?void 0:f.removeBGModels.map(O=>T.jsx(gr,{value:O,children:O},O))})})]})]})}),T.jsx(Tt,{}),T.jsx(Ho,{control:y.control,name:"realesrganModel",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"RealESRGAN"}),T.jsx(ro,{children:"RealESRGAN Model"})]}),T.jsxs(jr,{onValueChange:F.onChange,defaultValue:F.value,disabled:!E,children:[T.jsx(no,{children:T.jsx(pr,{className:"w-auto",children:T.jsx(zr,{placeholder:"Select RealESRGAN model"})})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:f==null?void 0:f.realesrganModels.map(O=>T.jsx(gr,{value:O,children:O},O))})})]})]})}),T.jsx(Tt,{}),T.jsx(Ho,{control:y.control,name:"interactiveSegModel",render:({field:F})=>T.jsxs(eo,{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"space-y-0.5",children:[T.jsx(to,{children:"Interactive Segmentation"}),T.jsx(ro,{children:"Interactive Segmentation Model"})]}),T.jsxs(jr,{onValueChange:F.onChange,defaultValue:F.value,disabled:!C,children:[T.jsx(no,{children:T.jsx(pr,{className:"w-auto",children:T.jsx(zr,{placeholder:"Select interactive segmentation model"})})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:f==null?void 0:f.interactiveSegModels.map(O=>T.jsx(gr,{value:O,children:O},O))})})]})]})})]})}return T.jsxs(T.Fragment,{children:[T.jsx(e8,{open:v,children:T.jsx(t2,{children:T.jsx(n2,{children:T.jsxs("div",{className:"flex flex-col justify-center items-center gap-4",children:[T.jsxs("div",{role:"status",children:[T.jsxs("svg",{"aria-hidden":"true",className:"w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]}),T.jsx("span",{className:"sr-only",children:"Loading..."})]}),g?T.jsx("div",{className:"flex flex-col",children:g.map((F,O)=>T.jsx("div",{children:F},O))}):T.jsx(T.Fragment,{})]})})})}),T.jsxs(D_,{open:e,onOpenChange:P,children:[T.jsx(N_,{asChild:!0,children:T.jsx(Nr,{tooltip:"Settings",children:T.jsx(S3,{})})}),T.jsxs(ov,{className:"max-w-3xl h-[600px]",onOpenAutoFocus:F=>F.preventDefault(),children:[T.jsx(sv,{children:"Settings"}),T.jsx(Tt,{}),T.jsxs("div",{className:"flex flex-row space-x-8 h-full",children:[T.jsx("div",{className:"flex flex-col space-y-1",children:q8.map(F=>T.jsx(Ht,{variant:"ghost",onClick:()=>r(F),className:be(n===F?"bg-muted ":"hover:bg-muted","justify-start"),children:F},F))}),T.jsx(Tt,{orientation:"vertical"}),T.jsx(j4,{...y,children:T.jsx("div",{className:"flex w-full justify-center",children:T.jsxs("form",{onSubmit:y.handleSubmit(b),children:[n===Sm?I():T.jsx(T.Fragment,{}),n===b2?V():T.jsx(T.Fragment,{}),n===w2?D():T.jsx(T.Fragment,{}),T.jsx("div",{className:"absolute right-10 bottom-6",children:T.jsx(Ht,{onClick:()=>P(!1),children:"Ok"})})]})})})]})]})]})]})}var _1=1,Q8=.9,J8=.8,e6=.17,Lh=.1,Ih=.999,t6=.9999,n6=.99,r6=/[\\\/_+.#"@\[\(\{&]/,i6=/[\\\/_+.#"@\[\(\{&]/g,o6=/[\s-]/,x2=/[\s-]/g;function _m(e,t,n,r,i,o,h){if(o===t.length)return i===e.length?_1:n6;var l=`${i},${o}`;if(h[l]!==void 0)return h[l];for(var a=r.charAt(o),f=n.indexOf(a,i),u=0,s,c,d,p;f>=0;)s=_m(e,t,n,r,f+1,o+1,h),s>u&&(f===i?s*=_1:r6.test(e.charAt(f-1))?(s*=J8,d=e.slice(i,f-1).match(i6),d&&i>0&&(s*=Math.pow(Ih,d.length))):o6.test(e.charAt(f-1))?(s*=Q8,p=e.slice(i,f-1).match(x2),p&&i>0&&(s*=Math.pow(Ih,p.length))):(s*=e6,i>0&&(s*=Math.pow(Ih,f-i))),e.charAt(f)!==t.charAt(o)&&(s*=t6)),(s<Lh&&n.charAt(f-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(f-1)!==r.charAt(o))&&(c=_m(e,t,n,r,f+1,o+2,h),c*Lh>s&&(s=c*Lh)),s>u&&(u=s),f=n.indexOf(a,f+1);return h[l]=u,u}function C1(e){return e.toLowerCase().replace(x2," ")}function s6(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,_m(e,t,C1(e),C1(t),0,0,{})}var Ea='[cmdk-group=""]',jh='[cmdk-group-items=""]',a6='[cmdk-group-heading=""]',Sv='[cmdk-item=""]',E1=`${Sv}:not([aria-disabled="true"])`,Cm="cmdk-item-select",oo="data-value",l6=(e,t,n)=>s6(e,t,n),S2=x.createContext(void 0),nc=()=>x.useContext(S2),_2=x.createContext(void 0),_v=()=>x.useContext(_2),C2=x.createContext(void 0),E2=x.forwardRef((e,t)=>{let n=qo(()=>{var A,Y;return{search:"",value:(Y=(A=e.value)!=null?A:e.defaultValue)!=null?Y:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=qo(()=>new Set),i=qo(()=>new Map),o=qo(()=>new Map),h=qo(()=>new Set),l=T2(e),{label:a,children:f,value:u,onValueChange:s,filter:c,shouldFilter:d,loop:p,disablePointerSelection:g=!1,vimBindings:m=!0,...v}=e,y=x.useId(),b=x.useId(),w=x.useId(),S=x.useRef(null),_=b6();$o(()=>{if(u!==void 0){let A=u.trim();n.current.value=A,E.emit()}},[u]),$o(()=>{_(6,V)},[]);let E=x.useMemo(()=>({subscribe:A=>(h.current.add(A),()=>h.current.delete(A)),snapshot:()=>n.current,setState:(A,Y,L)=>{var $,H,W;if(!Object.is(n.current[A],Y)){if(n.current[A]=Y,A==="search")I(),N(),_(1,B);else if(A==="value"&&(L||_(5,V),(($=l.current)==null?void 0:$.value)!==void 0)){let K=Y??"";(W=(H=l.current).onValueChange)==null||W.call(H,K);return}E.emit()}},emit:()=>{h.current.forEach(A=>A())}}),[]),C=x.useMemo(()=>({value:(A,Y,L)=>{var $;Y!==(($=o.current.get(A))==null?void 0:$.value)&&(o.current.set(A,{value:Y,keywords:L}),n.current.filtered.items.set(A,P(Y,L)),_(2,()=>{N(),E.emit()}))},item:(A,Y)=>(r.current.add(A),Y&&(i.current.has(Y)?i.current.get(Y).add(A):i.current.set(Y,new Set([A]))),_(3,()=>{I(),N(),n.current.value||B(),E.emit()}),()=>{o.current.delete(A),r.current.delete(A),n.current.filtered.items.delete(A);let L=D();_(4,()=>{I(),(L==null?void 0:L.getAttribute("id"))===A&&B(),E.emit()})}),group:A=>(i.current.has(A)||i.current.set(A,new Set),()=>{o.current.delete(A),i.current.delete(A)}),filter:()=>l.current.shouldFilter,label:a||e["aria-label"],disablePointerSelection:g,listId:y,inputId:w,labelId:b,listInnerRef:S}),[]);function P(A,Y){var L,$;let H=($=(L=l.current)==null?void 0:L.filter)!=null?$:l6;return A?H(A,n.current.search,Y):0}function N(){if(!n.current.search||l.current.shouldFilter===!1)return;let A=n.current.filtered.items,Y=[];n.current.filtered.groups.forEach($=>{let H=i.current.get($),W=0;H.forEach(K=>{let G=A.get(K);W=Math.max(G,W)}),Y.push([$,W])});let L=S.current;F().sort(($,H)=>{var W,K;let G=$.getAttribute("id"),J=H.getAttribute("id");return((W=A.get(J))!=null?W:0)-((K=A.get(G))!=null?K:0)}).forEach($=>{let H=$.closest(jh);H?H.appendChild($.parentElement===H?$:$.closest(`${jh} > *`)):L.appendChild($.parentElement===L?$:$.closest(`${jh} > *`))}),Y.sort(($,H)=>H[1]-$[1]).forEach($=>{let H=S.current.querySelector(`${Ea}[${oo}="${encodeURIComponent($[0])}"]`);H==null||H.parentElement.appendChild(H)})}function B(){let A=F().find(L=>L.getAttribute("aria-disabled")!=="true"),Y=A==null?void 0:A.getAttribute(oo);E.setState("value",Y||void 0)}function I(){var A,Y,L,$;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let H=0;for(let W of r.current){let K=(Y=(A=o.current.get(W))==null?void 0:A.value)!=null?Y:"",G=($=(L=o.current.get(W))==null?void 0:L.keywords)!=null?$:[],J=P(K,G);n.current.filtered.items.set(W,J),J>0&&H++}for(let[W,K]of i.current)for(let G of K)if(n.current.filtered.items.get(G)>0){n.current.filtered.groups.add(W);break}n.current.filtered.count=H}function V(){var A,Y,L;let $=D();$&&(((A=$.parentElement)==null?void 0:A.firstChild)===$&&((L=(Y=$.closest(Ea))==null?void 0:Y.querySelector(a6))==null||L.scrollIntoView({block:"nearest"})),$.scrollIntoView({block:"nearest"}))}function D(){var A;return(A=S.current)==null?void 0:A.querySelector(`${Sv}[aria-selected="true"]`)}function F(){var A;return Array.from((A=S.current)==null?void 0:A.querySelectorAll(E1))}function O(A){let Y=F()[A];Y&&E.setState("value",Y.getAttribute(oo))}function M(A){var Y;let L=D(),$=F(),H=$.findIndex(K=>K===L),W=$[H+A];(Y=l.current)!=null&&Y.loop&&(W=H+A<0?$[$.length-1]:H+A===$.length?$[0]:$[H+A]),W&&E.setState("value",W.getAttribute(oo))}function U(A){let Y=D(),L=Y==null?void 0:Y.closest(Ea),$;for(;L&&!$;)L=A>0?v6(L,Ea):y6(L,Ea),$=L==null?void 0:L.querySelector(E1);$?E.setState("value",$.getAttribute(oo)):M(A)}let k=()=>O(F().length-1),R=A=>{A.preventDefault(),A.metaKey?k():A.altKey?U(1):M(1)},j=A=>{A.preventDefault(),A.metaKey?O(0):A.altKey?U(-1):M(-1)};return x.createElement(Se.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:A=>{var Y;if((Y=v.onKeyDown)==null||Y.call(v,A),!A.defaultPrevented)switch(A.key){case"n":case"j":{m&&A.ctrlKey&&R(A);break}case"ArrowDown":{R(A);break}case"p":case"k":{m&&A.ctrlKey&&j(A);break}case"ArrowUp":{j(A);break}case"Home":{A.preventDefault(),O(0);break}case"End":{A.preventDefault(),k();break}case"Enter":if(!A.nativeEvent.isComposing&&A.keyCode!==229){A.preventDefault();let L=D();if(L){let $=new Event(Cm);L.dispatchEvent($)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:x6},a),Td(e,A=>x.createElement(_2.Provider,{value:E},x.createElement(S2.Provider,{value:C},A))))}),c6=x.forwardRef((e,t)=>{var n,r;let i=x.useId(),o=x.useRef(null),h=x.useContext(C2),l=nc(),a=T2(e),f=(r=(n=a.current)==null?void 0:n.forceMount)!=null?r:h==null?void 0:h.forceMount;$o(()=>{if(!f)return l.item(i,h==null?void 0:h.id)},[f]);let u=k2(i,o,[e.value,e.children,o],e.keywords),s=_v(),c=Ao(_=>_.value&&_.value===u.current),d=Ao(_=>f||l.filter()===!1?!0:_.search?_.filtered.items.get(i)>0:!0);x.useEffect(()=>{let _=o.current;if(!(!_||e.disabled))return _.addEventListener(Cm,p),()=>_.removeEventListener(Cm,p)},[d,e.onSelect,e.disabled]);function p(){var _,E;g(),(E=(_=a.current).onSelect)==null||E.call(_,u.current)}function g(){s.setState("value",u.current,!0)}if(!d)return null;let{disabled:m,value:v,onSelect:y,forceMount:b,keywords:w,...S}=e;return x.createElement(Se.div,{ref:Al([o,t]),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!c,"data-disabled":!!m,"data-selected":!!c,onPointerMove:m||l.disablePointerSelection?void 0:g,onClick:m?void 0:p},e.children)}),u6=x.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,h=x.useId(),l=x.useRef(null),a=x.useRef(null),f=x.useId(),u=nc(),s=Ao(d=>i||u.filter()===!1?!0:d.search?d.filtered.groups.has(h):!0);$o(()=>u.group(h),[]),k2(h,l,[e.value,e.heading,a]);let c=x.useMemo(()=>({id:h,forceMount:i}),[i]);return x.createElement(Se.div,{ref:Al([l,t]),...o,"cmdk-group":"",role:"presentation",hidden:s?void 0:!0},n&&x.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:f},n),Td(e,d=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?f:void 0},x.createElement(C2.Provider,{value:c},d))))}),f6=x.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=x.useRef(null),o=Ao(h=>!h.search);return!n&&!o?null:x.createElement(Se.div,{ref:Al([i,t]),...r,"cmdk-separator":"",role:"separator"})}),d6=x.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=_v(),h=Ao(u=>u.search),l=Ao(u=>u.value),a=nc(),f=x.useMemo(()=>{var u;let s=(u=a.listInnerRef.current)==null?void 0:u.querySelector(`${Sv}[${oo}="${encodeURIComponent(l)}"]`);return s==null?void 0:s.getAttribute("id")},[]);return x.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),x.createElement(Se.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,"aria-activedescendant":f,id:a.inputId,type:"text",value:i?e.value:h,onChange:u=>{i||o.setState("search",u.target.value),n==null||n(u.target.value)}})}),h6=x.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,o=x.useRef(null),h=x.useRef(null),l=nc();return x.useEffect(()=>{if(h.current&&o.current){let a=h.current,f=o.current,u,s=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let c=a.offsetHeight;f.style.setProperty("--cmdk-list-height",c.toFixed(1)+"px")})});return s.observe(a),()=>{cancelAnimationFrame(u),s.unobserve(a)}}},[]),x.createElement(Se.div,{ref:Al([o,t]),...i,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},Td(e,a=>x.createElement("div",{ref:Al([h,l.listInnerRef]),"cmdk-list-sizer":""},a)))}),p6=x.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:h,...l}=e;return x.createElement(pd,{open:n,onOpenChange:r},x.createElement(md,{container:h},x.createElement(oa,{"cmdk-overlay":"",className:i}),x.createElement(sa,{"aria-label":e.label,"cmdk-dialog":"",className:o},x.createElement(E2,{ref:t,...l}))))}),m6=x.forwardRef((e,t)=>Ao(n=>n.filtered.count===0)?x.createElement(Se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),g6=x.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...o}=e;return x.createElement(Se.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Td(e,h=>x.createElement("div",{"aria-hidden":!0},h)))}),ln=Object.assign(E2,{List:h6,Item:c6,Input:d6,Group:u6,Separator:f6,Dialog:p6,Empty:m6,Loading:g6});function v6(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function y6(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function T2(e){let t=x.useRef(e);return $o(()=>{t.current=e}),t}var $o=typeof window>"u"?x.useEffect:x.useLayoutEffect;function qo(e){let t=x.useRef();return t.current===void 0&&(t.current=e()),t}function Al(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Ao(e){let t=_v(),n=()=>e(t.snapshot());return x.useSyncExternalStore(t.subscribe,n,n)}function k2(e,t,n,r=[]){let i=x.useRef(),o=nc();return $o(()=>{var h;let l=(()=>{var f;for(let u of n){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(f=u.current.textContent)==null?void 0:f.trim():i.current}})(),a=r.map(f=>f.trim());o.value(e,l,a),(h=t.current)==null||h.setAttribute(oo,l),i.current=l}),i}var b6=()=>{let[e,t]=x.useState(),n=qo(()=>new Map);return $o(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function w6(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Td({asChild:e,children:t},n){return e&&x.isValidElement(t)?x.cloneElement(w6(t),{ref:t.ref},n(t.props.children)):n(t)}var x6={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const P2=x.forwardRef(({className:e,...t},n)=>T.jsx(ln,{ref:n,className:be("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));P2.displayName=ln.displayName;const S6=x.forwardRef(({className:e,...t},n)=>T.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[T.jsx(x3,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),T.jsx(ln.Input,{ref:n,className:be("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));S6.displayName=ln.Input.displayName;const O2=x.forwardRef(({className:e,...t},n)=>T.jsx(ln.List,{ref:n,className:be("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));O2.displayName=ln.List.displayName;const _6=x.forwardRef((e,t)=>T.jsx(ln.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_6.displayName=ln.Empty.displayName;const $2=x.forwardRef(({className:e,...t},n)=>T.jsx(ln.Group,{ref:n,className:be("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));$2.displayName=ln.Group.displayName;const C6=x.forwardRef(({className:e,...t},n)=>T.jsx(ln.Separator,{ref:n,className:be("-mx-1 h-px bg-border",e),...t}));C6.displayName=ln.Separator.displayName;const A2=x.forwardRef(({className:e,...t},n)=>T.jsx(ln.Item,{ref:n,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",e),...t}));A2.displayName=ln.Item.displayName;const R2="Popover",[M2,qI]=Kt(R2,[Wi]),Cv=Wi(),[E6,ca]=M2(R2),T6=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:h=!1}=e,l=Cv(t),a=x.useRef(null),[f,u]=x.useState(!1),[s=!1,c]=yn({prop:r,defaultProp:i,onChange:o});return x.createElement(ql,l,x.createElement(E6,{scope:t,contentId:sn(),triggerRef:a,open:s,onOpenChange:c,onOpenToggle:x.useCallback(()=>c(d=>!d),[c]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>u(!0),[]),onCustomAnchorRemove:x.useCallback(()=>u(!1),[]),modal:h},n))},k6="PopoverTrigger",P6=x.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ca(k6,n),o=Cv(n),h=Oe(t,i.triggerRef),l=x.createElement(Se.button,le({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":F2(i.open)},r,{ref:h,onClick:pe(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?l:x.createElement(sd,le({asChild:!0},o),l)}),D2="PopoverPortal",[O6,$6]=M2(D2,{forceMount:void 0}),A6=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=ca(D2,t);return x.createElement(O6,{scope:t,forceMount:n},x.createElement(Ot,{present:n||o.open},x.createElement(Hl,{asChild:!0,container:i},r)))},Rl="PopoverContent",R6=x.forwardRef((e,t)=>{const n=$6(Rl,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=ca(Rl,e.__scopePopover);return x.createElement(Ot,{present:r||o.open},o.modal?x.createElement(M6,le({},i,{ref:t})):x.createElement(D6,le({},i,{ref:t})))}),M6=x.forwardRef((e,t)=>{const n=ca(Rl,e.__scopePopover),r=x.useRef(null),i=Oe(t,r),o=x.useRef(!1);return x.useEffect(()=>{const h=r.current;if(h)return hd(h)},[]),x.createElement(Zl,{as:xr,allowPinchZoom:!0},x.createElement(N2,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,h=>{var l;h.preventDefault(),o.current||(l=n.triggerRef.current)===null||l===void 0||l.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,h=>{const l=h.detail.originalEvent,a=l.button===0&&l.ctrlKey===!0,f=l.button===2||a;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,h=>h.preventDefault(),{checkForDefaultPrevented:!1})})))}),D6=x.forwardRef((e,t)=>{const n=ca(Rl,e.__scopePopover),r=x.useRef(!1),i=x.useRef(!1);return x.createElement(N2,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var h;if((h=e.onCloseAutoFocus)===null||h===void 0||h.call(e,o),!o.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var h,l;(h=e.onInteractOutside)===null||h===void 0||h.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),N2=x.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:h,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:f,onInteractOutside:u,...s}=e,c=ca(Rl,n),d=Cv(n);return fd(),x.createElement(ud,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},x.createElement(Js,{asChild:!0,disableOutsidePointerEvents:h,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:a,onFocusOutside:f,onDismiss:()=>c.onOpenChange(!1)},x.createElement(ad,le({"data-state":F2(c.open),role:"dialog",id:c.contentId},d,s,{ref:t,style:{...s.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function F2(e){return e?"open":"closed"}const N6=T6,F6=P6,L6=A6,L2=R6,I6=N6,j6=F6,I2=x.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>T.jsx(L6,{children:T.jsx(L2,{ref:i,align:t,sideOffset:n,className:be("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));I2.displayName=L2.displayName;const T1=[{label:"English",value:"en"},{label:"Español",value:"es"}];function B6(){var h;const[e,t]=FA(l=>[l.language,l.setLanguage]),{i18n:{changeLanguage:n}}=gd(),[r,i]=ke.useState(!1),o=l=>{t(l),n(l),i(!1)};return T.jsx("div",{children:T.jsxs(I6,{open:r,onOpenChange:i,children:[T.jsx(j6,{asChild:!0,children:T.jsxs(Ht,{variant:"outline",role:"combobox",className:"w-[150px] justify-between",children:[e?(h=T1.find(l=>l.value===e))==null?void 0:h.label:"Select language",T.jsx(f3,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),T.jsx(I2,{className:"w-[150px] p-2",children:T.jsx(P2,{children:T.jsx(O2,{children:T.jsx($2,{heading:"Suggestions",children:T1.map(l=>T.jsxs(A2,{onSelect:()=>o(l.value),children:[T.jsx(l3,{className:`mr-2 h-4 w-4 ${l.value===e?"opacity-100":"opacity-0"}`}),l.label]},l.value))})})})})]})})}const z6=()=>{const[e,t,n,r,i,o,h,l,a,f,u,s,c,d]=Xe(p=>[p.file,p.customMask,p.isInpainting,p.serverConfig,p.runMannually(),p.settings.enableUploadMask,p.settings.model,p.setFile,p.setCustomFile,p.runInpainting,p.showPrevMask,p.hidePrevMask,p.imageHeight,p.imageWidth]);return T.jsxs("header",{className:"h-[60px] px-6 py-4 absolute top-[0] flex justify-between items-center w-full z-20 border-b backdrop-filter backdrop-blur-md bg-background/70",children:[T.jsx("div",{className:"flex items-center gap-1",children:T.jsx(m_,{disabled:n,tooltip:"Upload image",onFileUpload:p=>{l(p)},children:T.jsx(v3,{})})}),T.jsxs("div",{className:"flex gap-1",children:[T.jsx(B6,{}),T.jsx(GD,{}),T.jsx(Z8,{})]})]})};function V6({title:e,titleId:t,...n},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.042 21.672 13.684 16.6m0 0-2.51 2.225.569-9.47 5.227 7.917-3.286-.672ZM12 2.25V4.5m5.834.166-1.591 1.591M20.25 10.5H18M7.757 14.743l-1.59 1.59M6 10.5H3.75m4.007-4.243-1.59-1.59"}))}const U6=x.forwardRef(V6);var Pn=function(e,t){return Number(e.toFixed(t))},H6=function(e,t){return t},Je=function(e,t,n){n&&typeof n=="function"&&n(e,t)},W6=function(e){return-Math.cos(e*Math.PI)/2+.5},Y6=function(e){return e},X6=function(e){return e*e},G6=function(e){return e*(2-e)},K6=function(e){return e<.5?2*e*e:-1+(4-2*e)*e},q6=function(e){return e*e*e},Z6=function(e){return--e*e*e+1},Q6=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},J6=function(e){return e*e*e*e},e7=function(e){return 1- --e*e*e*e},t7=function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},n7=function(e){return e*e*e*e*e},r7=function(e){return 1+--e*e*e*e*e},i7=function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},j2={easeOut:W6,linear:Y6,easeInQuad:X6,easeOutQuad:G6,easeInOutQuad:K6,easeInCubic:q6,easeOutCubic:Z6,easeInOutCubic:Q6,easeInQuart:J6,easeOutQuart:e7,easeInOutQuart:t7,easeInQuint:n7,easeOutQuint:r7,easeInOutQuint:i7},B2=function(e){typeof e=="number"&&cancelAnimationFrame(e)},fr=function(e){e.mounted&&(B2(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function z2(e,t,n,r){if(e.mounted){var i=new Date().getTime(),o=1;fr(e),e.animation=function(){if(!e.mounted)return B2(e.animation);var h=new Date().getTime()-i,l=h/n,a=j2[t],f=a(l);h>=n?(r(o),e.animation=null):e.animation&&(r(f),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function o7(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}function Xi(e,t,n,r){var i=o7(t);if(!(!e.mounted||!i)){var o=e.setTransformState,h=e.transformState,l=h.scale,a=h.positionX,f=h.positionY,u=t.scale-l,s=t.positionX-a,c=t.positionY-f;n===0?o(t.scale,t.positionX,t.positionY):z2(e,r,n,function(d){var p=l+u*d,g=a+s*d,m=f+c*d;o(p,g,m)})}}function s7(e,t,n){var r=e.offsetWidth,i=e.offsetHeight,o=t.offsetWidth,h=t.offsetHeight,l=o*n,a=h*n,f=r-l,u=i-a;return{wrapperWidth:r,wrapperHeight:i,newContentWidth:l,newDiffWidth:f,newContentHeight:a,newDiffHeight:u}}var a7=function(e,t,n,r,i,o,h){var l=e>t?n*(h?1:.5):0,a=r>i?o*(h?1:.5):0,f=e-t-l,u=l,s=r-i-a,c=a;return{minPositionX:f,maxPositionX:u,minPositionY:s,maxPositionY:c}},Ev=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,i=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var o=s7(n,r,t),h=o.wrapperWidth,l=o.wrapperHeight,a=o.newContentWidth,f=o.newDiffWidth,u=o.newContentHeight,s=o.newDiffHeight,c=a7(h,a,f,l,u,s,!!i);return c},Em=function(e,t,n,r){return r?e<t?Pn(t,2):e>n?Pn(n,2):Pn(e,2):Pn(e,2)},Gs=function(e,t){var n=Ev(e,t);return e.bounds=n,n};function kd(e,t,n,r,i,o,h){var l=n.minPositionX,a=n.minPositionY,f=n.maxPositionX,u=n.maxPositionY,s=0,c=0;h&&(s=i,c=o);var d=Em(e,l-s,f+s,r),p=Em(t,a-c,u+c,r);return{x:d,y:p}}function Pd(e,t,n,r,i,o){var h=e.transformState,l=h.scale,a=h.positionX,f=h.positionY,u=r-l;if(typeof t!="number"||typeof n!="number")return console.error("Mouse X and Y position were not provided!"),{x:a,y:f};var s=a-t*u,c=f-n*u,d=kd(s,c,i,o,0,0,null);return d}function rc(e,t,n,r,i){var o=i?r:0,h=t-o;return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=h?h:e}var k1=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,i=e.wrapperComponent,o=t.target,h="shadowRoot"in o&&"composedPath"in t,l=h?t.composedPath().some(function(u){return u instanceof Element?i==null?void 0:i.contains(u):!1}):i==null?void 0:i.contains(o),a=r&&o&&l;if(!a)return!1;var f=Od(o,n);return!f},P1=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup,i=r.panning.disabled,o=t&&n&&!i;return!!o},l7=function(e,t){var n=e.transformState,r=n.positionX,i=n.positionY;e.isPanning=!0;var o=t.clientX,h=t.clientY;e.startCoords={x:o-r,y:h-i}},c7=function(e,t){var n=t.touches,r=e.transformState,i=r.positionX,o=r.positionY;e.isPanning=!0;var h=n.length===1;if(h){var l=n[0].clientX,a=n[0].clientY;e.startCoords={x:l-i,y:a-o}}};function u7(e){var t=e.transformState,n=t.positionX,r=t.positionY,i=t.scale,o=e.setup,h=o.disabled,l=o.limitToBounds,a=o.centerZoomedOut,f=e.wrapperComponent;if(!(h||!f||!e.bounds)){var u=e.bounds,s=u.maxPositionX,c=u.minPositionX,d=u.maxPositionY,p=u.minPositionY,g=n>s||n<c,m=r>d||r<p,v=n>s?f.offsetWidth:e.setup.minPositionX||0,y=r>d?f.offsetHeight:e.setup.minPositionY||0,b=Pd(e,v,y,i,e.bounds,l||a),w=b.x,S=b.y;return{scale:i,positionX:g?w:n,positionY:m?S:r}}}function V2(e,t,n,r,i){var o=e.setup.limitToBounds,h=e.wrapperComponent,l=e.bounds,a=e.transformState,f=a.scale,u=a.positionX,s=a.positionY;if(!(h===null||l===null||t===u&&n===s)){var c=kd(t,n,l,o,r,i,h),d=c.x,p=c.y;e.setTransformState(f,d,p)}}var f7=function(e,t,n){var r=e.startCoords,i=e.transformState,o=e.setup.panning,h=o.lockAxisX,l=o.lockAxisY,a=i.positionX,f=i.positionY;if(!r)return{x:a,y:f};var u=t-r.x,s=n-r.y,c=h?a:u,d=l?f:s;return{x:c,y:d}},Ks=function(e,t){var n=e.setup,r=e.transformState,i=r.scale,o=n.minScale,h=n.disablePadding;return t>0&&i>=o&&!h?t:0},d7=function(e){var t=e.mounted,n=e.setup,r=n.disabled,i=n.velocityAnimation,o=e.transformState.scale,h=i.disabled,l=!h||o>1||!r||t;return!!l},h7=function(e){var t=e.mounted,n=e.velocity,r=e.bounds,i=e.setup,o=i.disabled,h=i.velocityAnimation,l=e.transformState.scale,a=h.disabled,f=!a||l>1||!o||t;return!(!f||!n||!r)};function p7(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,i=n.animationTime,o=n.sensitivity;return r?i*t*o:i}function O1(e,t,n,r,i,o,h,l,a,f){if(i){if(t>h&&n>h){var u=h+(e-h)*f;return u>a?a:u<h?h:u}if(t<o&&n<o){var u=o+(e-o)*f;return u<l?l:u>o?o:u}}return r?t:Em(e,o,h,i)}function m7(e,t){var n=1;return t?Math.min(n,e.offsetWidth/window.innerWidth):n}function g7(e,t){var n=d7(e);if(n){var r=e.lastMousePosition,i=e.velocityTime,o=e.setup,h=e.wrapperComponent,l=o.velocityAnimation.equalToMove,a=Date.now();if(r&&i&&h){var f=m7(h,l),u=t.x-r.x,s=t.y-r.y,c=u/f,d=s/f,p=a-i,g=u*u+s*s,m=Math.sqrt(g)/p;e.velocity={velocityX:c,velocityY:d,total:m}}e.lastMousePosition=t,e.velocityTime=a}}function v7(e){var t=e.velocity,n=e.bounds,r=e.setup,i=e.wrapperComponent,o=h7(e);if(!(!o||!t||!n||!i)){var h=t.velocityX,l=t.velocityY,a=t.total,f=n.maxPositionX,u=n.minPositionX,s=n.maxPositionY,c=n.minPositionY,d=r.limitToBounds,p=r.alignmentAnimation,g=r.zoomAnimation,m=r.panning,v=m.lockAxisY,y=m.lockAxisX,b=g.animationType,w=p.sizeX,S=p.sizeY,_=p.velocityAlignmentTime,E=_,C=p7(e,a),P=Math.max(C,E),N=Ks(e,w),B=Ks(e,S),I=N*i.offsetWidth/100,V=B*i.offsetHeight/100,D=f+I,F=u-I,O=s+V,M=c-V,U=e.transformState,k=new Date().getTime();z2(e,b,P,function(R){var j=e.transformState,A=j.scale,Y=j.positionX,L=j.positionY,$=new Date().getTime()-k,H=$/E,W=j2[p.animationType],K=1-W(Math.min(1,H)),G=1-R,J=Y+h*G,ee=L+l*G,ce=O1(J,U.positionX,Y,y,d,u,f,F,D,K),te=O1(ee,U.positionY,L,v,d,c,s,M,O,K);(Y!==J||L!==ee)&&e.setTransformState(A,ce,te)})}}function $1(e,t){var n=e.transformState.scale;fr(e),Gs(e,n),window.TouchEvent!==void 0&&t instanceof TouchEvent?c7(e,t):l7(e,t)}function U2(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,i=n.alignmentAnimation,o=i.disabled,h=i.sizeX,l=i.sizeY,a=i.animationTime,f=i.animationType,u=o||t<r||!h&&!l;if(!u){var s=u7(e);s&&Xi(e,s,a,f)}}function A1(e,t,n){var r=e.startCoords,i=e.setup,o=i.alignmentAnimation,h=o.sizeX,l=o.sizeY;if(r){var a=f7(e,t,n),f=a.x,u=a.y,s=Ks(e,h),c=Ks(e,l);g7(e,{x:f,y:u}),V2(e,f,u,s,c)}}function y7(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,i=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=r==null?void 0:r.getBoundingClientRect(),h=i==null?void 0:i.getBoundingClientRect(),l=(o==null?void 0:o.width)||0,a=(o==null?void 0:o.height)||0,f=(h==null?void 0:h.width)||0,u=(h==null?void 0:h.height)||0,s=l<f||a<u,c=!t&&n&&(n==null?void 0:n.total)>.1&&s;c?v7(e):U2(e)}}function Tv(e,t,n,r){var i=e.setup,o=i.minScale,h=i.maxScale,l=i.limitToBounds,a=rc(Pn(t,2),o,h,0,!1),f=Gs(e,a),u=Pd(e,n,r,a,f,l),s=u.x,c=u.y;return{scale:a,positionX:s,positionY:c}}function H2(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,h=o.minScale,l=o.limitToBounds,a=o.zoomAnimation,f=a.disabled,u=a.animationTime,s=a.animationType,c=f||r>=h;if((r>=1||l)&&U2(e),!(c||!i||!e.mounted)){var d=t||i.offsetWidth/2,p=n||i.offsetHeight/2,g=Tv(e,h,d,p);g&&Xi(e,g,u,s)}}var Mi=function(){return Mi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Mi.apply(this,arguments)};function R1(e,t,n){for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var zc={previousScale:1,scale:1,positionX:0,positionY:0},Ta={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},W2=function(e){var t,n,r,i;return{previousScale:(t=e.initialScale)!==null&&t!==void 0?t:zc.scale,scale:(n=e.initialScale)!==null&&n!==void 0?n:zc.scale,positionX:(r=e.initialPositionX)!==null&&r!==void 0?r:zc.positionX,positionY:(i=e.initialPositionY)!==null&&i!==void 0?i:zc.positionY}},M1=function(e){var t=Mi({},Ta);return Object.keys(e).forEach(function(n){var r=typeof e[n]<"u",i=typeof Ta[n]<"u";if(i&&r){var o=Object.prototype.toString.call(Ta[n]),h=o==="[object Object]",l=o==="[object Array]";h?t[n]=Mi(Mi({},Ta[n]),e[n]):l?t[n]=R1(R1([],Ta[n],!0),e[n]):t[n]=e[n]}}),t},Y2=function(e,t,n){var r=e.transformState.scale,i=e.wrapperComponent,o=e.setup,h=o.maxScale,l=o.minScale,a=o.zoomAnimation,f=o.smooth,u=a.size;if(!i)throw new Error("Wrapper is not mounted");var s=f?r*Math.exp(t*n):r+t*n,c=rc(Pn(s,3),l,h,u,!1);return c};function X2(e,t,n,r,i){var o=e.wrapperComponent,h=e.transformState,l=h.scale,a=h.positionX,f=h.positionY;if(!o)return console.error("No WrapperComponent found");var u=o.offsetWidth,s=o.offsetHeight,c=(u/2-a)/l,d=(s/2-f)/l,p=Y2(e,t,n),g=Tv(e,p,c,d);if(!g)return console.error("Error during zoom event. New transformation state was not calculated.");Xi(e,g,r,i)}function G2(e,t,n,r){var i=e.setup,o=e.wrapperComponent,h=i.limitToBounds,l=W2(e.props),a=e.transformState,f=a.scale,u=a.positionX,s=a.positionY;if(o){var c=Ev(e,l.scale),d=kd(l.positionX,l.positionY,c,h,0,0,o),p={scale:l.scale,positionX:d.x,positionY:d.y};f===l.scale&&u===l.positionX&&s===l.positionY||(r==null||r(),Xi(e,p,t,n))}}function b7(e,t,n,r){var i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),h=n.getBoundingClientRect(),l=o.x*r.scale,a=o.y*r.scale;return{x:(i.x-h.x+l)/r.scale,y:(i.y-h.y+a)/r.scale}}function w7(e,t,n){var r=e.wrapperComponent,i=e.contentComponent,o=e.transformState,h=e.setup,l=h.limitToBounds,a=h.minScale,f=h.maxScale;if(!r||!i)return o;var u=r.getBoundingClientRect(),s=t.getBoundingClientRect(),c=b7(t,r,i,o),d=c.x,p=c.y,g=s.width/o.scale,m=s.height/o.scale,v=r.offsetWidth/g,y=r.offsetHeight/m,b=rc(n||Math.min(v,y),a,f,0,!1),w=(u.width-g*b)/2,S=(u.height-m*b)/2,_=(u.left-d)*b+w,E=(u.top-p)*b+S,C=Ev(e,b),P=kd(_,E,C,l,0,0,r),N=P.x,B=P.y;return{positionX:N,positionY:B,scale:b}}var x7=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),X2(e,1,t,n,r)}},S7=function(e){return function(t,n,r){t===void 0&&(t=.5),n===void 0&&(n=300),r===void 0&&(r="easeOut"),X2(e,-1,t,n,r)}},_7=function(e){return function(t,n,r,i,o){i===void 0&&(i=300),o===void 0&&(o="easeOut");var h=e.transformState,l=h.positionX,a=h.positionY,f=h.scale,u=e.wrapperComponent,s=e.contentComponent,c=e.setup.disabled;if(!(c||!u||!s)){var d={positionX:Number.isNaN(t)?l:t,positionY:Number.isNaN(n)?a:n,scale:Number.isNaN(r)?f:r};Xi(e,d,i,o)}}},C7=function(e){return function(t,n){t===void 0&&(t=200),n===void 0&&(n="easeOut"),G2(e,t,n)}},E7=function(e){return function(t,n,r){n===void 0&&(n=200),r===void 0&&(r="easeOut");var i=e.transformState,o=e.wrapperComponent,h=e.contentComponent;if(o&&h){var l=K2(t||i.scale,o,h);Xi(e,l,n,r)}}},T7=function(e){return function(t,n,r,i){r===void 0&&(r=600),i===void 0&&(i="easeOut"),fr(e);var o=e.wrapperComponent,h=typeof t=="string"?document.getElementById(t):t;if(o&&h&&o.contains(h)){var l=w7(e,h,n);Xi(e,l,r,i)}}},Tm=function(e){return{instance:e,zoomIn:x7(e),zoomOut:S7(e),setTransform:_7(e),resetTransform:C7(e),centerView:E7(e),zoomToElement:T7(e)}},k7=function(e){return{instance:e,state:e.transformState}},Ye=function(e){var t={};return Object.assign(t,k7(e)),Object.assign(t,Tm(e)),t},Bh=!1;function zh(){try{var e={get passive(){return Bh=!0,!1}};return e}catch{return Bh=!1,Bh}}var Od=function(e,t){return t.some(function(n){return e.matches("".concat(n,", .").concat(n,", ").concat(n," *, .").concat(n," *"))})},km=function(e){e&&clearTimeout(e)},P7=function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")},K2=function(e,t,n){var r=n.offsetWidth*e,i=n.offsetHeight*e,o=(t.offsetWidth-r)/2,h=(t.offsetHeight-i)/2;return{scale:e,positionX:o,positionY:h}};function O7(e){return function(t){e.forEach(function(n){typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var $7=function(e,t){var n=e.setup.wheel,r=n.disabled,i=n.wheelDisabled,o=n.touchPadDisabled,h=n.excluded,l=e.isInitialized,a=e.isPanning,f=t.target,u=l&&!a&&!r&&f;if(!u||i&&!t.ctrlKey||o&&t.ctrlKey)return!1;var s=Od(f,h);return!s},A7=function(e){return e?e.deltaY<0?1:-1:0};function R7(e,t){var n=A7(e),r=H6(t,n);return r}function q2(e,t,n){var r=t.getBoundingClientRect(),i=0,o=0;if("clientX"in e)i=(e.clientX-r.left)/n,o=(e.clientY-r.top)/n;else{var h=e.touches[0];i=(h.clientX-r.left)/n,o=(h.clientY-r.top)/n}return(Number.isNaN(i)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:i,y:o}}var M7=function(e,t,n,r,i){var o=e.transformState.scale,h=e.wrapperComponent,l=e.setup,a=l.maxScale,f=l.minScale,u=l.zoomAnimation,s=l.disablePadding,c=u.size,d=u.disabled;if(!h)throw new Error("Wrapper is not mounted");var p=o+t*n,g=r?!1:!d,m=rc(Pn(p,3),f,a,c,g&&!s);return m},D7=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,i=e.setup,o=i.maxScale,h=i.minScale;return n?r<o||r>h||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY):!1},N7=function(e,t){var n=e.setup.pinch,r=n.disabled,i=n.excluded,o=e.isInitialized,h=t.target,l=o&&!r&&h;if(!l)return!1;var a=Od(h,i);return!a},F7=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance,i=n&&!t&&r;return!!i},L7=function(e,t,n){var r=n.getBoundingClientRect(),i=e.touches,o=Pn(i[0].clientX-r.left,5),h=Pn(i[0].clientY-r.top,5),l=Pn(i[1].clientX-r.left,5),a=Pn(i[1].clientY-r.top,5);return{x:(o+l)/2/t,y:(h+a)/2/t}},Z2=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},I7=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,i=e.setup,o=i.maxScale,h=i.minScale,l=i.zoomAnimation,a=i.disablePadding,f=l.size,u=l.disabled;if(!n||r===null||!t)throw new Error("Pinch touches distance was not provided");if(t<0)return e.transformState.scale;var s=t/r,c=s*n;return rc(Pn(c,2),h,o,f,!u&&!a)},j7=160,B7=100,z7=function(e,t){var n=e.props,r=n.onWheelStart,i=n.onZoomStart;e.wheelStopEventTimer||(fr(e),Je(Ye(e),t,r),Je(Ye(e),t,i))},V7=function(e,t){var n=e.props,r=n.onWheel,i=n.onZoom,o=e.contentComponent,h=e.setup,l=e.transformState,a=l.scale,f=h.limitToBounds,u=h.centerZoomedOut,s=h.zoomAnimation,c=h.wheel,d=h.disablePadding,p=h.smooth,g=s.size,m=s.disabled,v=c.step,y=c.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var b=R7(t,null),w=p?y*Math.abs(t.deltaY):v,S=M7(e,b,w,!t.ctrlKey);if(a!==S){var _=Gs(e,S),E=q2(t,o,a),C=m||g===0||u||d,P=f&&C,N=Pd(e,E.x,E.y,S,_,P),B=N.x,I=N.y;e.previousWheelEvent=t,e.setTransformState(S,B,I),Je(Ye(e),t,r),Je(Ye(e),t,i)}},U7=function(e,t){var n=e.props,r=n.onWheelStop,i=n.onZoomStop;km(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout(function(){e.mounted&&(H2(e,t.x,t.y),e.wheelAnimationTimer=null)},B7);var o=D7(e,t);o&&(km(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout(function(){e.mounted&&(e.wheelStopEventTimer=null,Je(Ye(e),t,r),Je(Ye(e),t,i))},j7))},H7=function(e,t){var n=Z2(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,fr(e)},W7=function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,i=e.transformState.scale,o=e.setup,h=o.limitToBounds,l=o.centerZoomedOut,a=o.zoomAnimation,f=a.disabled,u=a.size;if(!(r===null||!n)){var s=L7(t,i,n);if(!(!Number.isFinite(s.x)||!Number.isFinite(s.y))){var c=Z2(t),d=I7(e,c);if(d!==i){var p=Gs(e,d),g=f||u===0||l,m=h&&g,v=Pd(e,s.x,s.y,d,p,m),y=v.x,b=v.y;e.pinchMidpoint=s,e.lastDistance=c,e.setTransformState(d,y,b)}}}},Y7=function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,H2(e,t==null?void 0:t.x,t==null?void 0:t.y)},Q2=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;km(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout(function(){e.doubleClickStopEventTimer=null,Je(Ye(e),t,n)},r)},X7=function(e,t){var n=e.props,r=n.onZoomStart,i=n.onZoom,o=e.setup.doubleClick,h=o.animationTime,l=o.animationType;Je(Ye(e),t,r),G2(e,h,l,function(){return Je(Ye(e),t,i)}),Q2(e,t)};function G7(e,t){return e==="toggle"?t===1?1:-1:e==="zoomOut"?-1:1}function K7(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,i=e.transformState,o=e.contentComponent,h=i.scale,l=e.props,a=l.onZoomStart,f=l.onZoom,u=n.doubleClick,s=u.disabled,c=u.mode,d=u.step,p=u.animationTime,g=u.animationType;if(!s&&!r){if(c==="reset")return X7(e,t);if(!o)return console.error("No ContentComponent found");var m=G7(c,e.transformState.scale),v=Y2(e,m,d);if(h!==v){Je(Ye(e),t,a);var y=q2(t,o,h),b=Tv(e,v,y.x,y.y);if(!b)return console.error("Error during zoom event. New transformation state was not calculated.");Je(Ye(e),t,f),Xi(e,b,p,g),Q2(e,t)}}}var q7=function(e,t){var n=e.isInitialized,r=e.setup,i=e.wrapperComponent,o=r.doubleClick,h=o.disabled,l=o.excluded,a=t.target,f=i==null?void 0:i.contains(a),u=n&&a&&f&&!h;if(!u)return!1;var s=Od(a,l);return!s},Z7=function(){function e(t){var n=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){n.initializeWindowEvents()},this.unmount=function(){n.cleanupWindowEvents()},this.update=function(r){n.props=r,Gs(n,n.transformState.scale),n.setup=M1(r)},this.initializeWindowEvents=function(){var r,i,o=zh(),h=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=h==null?void 0:h.defaultView;(i=n.wrapperComponent)===null||i===void 0||i.addEventListener("wheel",n.onWheelPanning,o),l==null||l.addEventListener("mousedown",n.onPanningStart,o),l==null||l.addEventListener("mousemove",n.onPanning,o),l==null||l.addEventListener("mouseup",n.onPanningStop,o),h==null||h.addEventListener("mouseleave",n.clearPanning,o),l==null||l.addEventListener("keyup",n.setKeyUnPressed,o),l==null||l.addEventListener("keydown",n.setKeyPressed,o)},this.cleanupWindowEvents=function(){var r,i,o=zh(),h=(r=n.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,l=h==null?void 0:h.defaultView;l==null||l.removeEventListener("mousedown",n.onPanningStart,o),l==null||l.removeEventListener("mousemove",n.onPanning,o),l==null||l.removeEventListener("mouseup",n.onPanningStop,o),h==null||h.removeEventListener("mouseleave",n.clearPanning,o),l==null||l.removeEventListener("keyup",n.setKeyUnPressed,o),l==null||l.removeEventListener("keydown",n.setKeyPressed,o),document.removeEventListener("mouseleave",n.clearPanning,o),fr(n),(i=n.observer)===null||i===void 0||i.disconnect()},this.handleInitializeWrapperEvents=function(r){var i=zh();r.addEventListener("wheel",n.onWheelZoom,i),r.addEventListener("dblclick",n.onDoubleClick,i),r.addEventListener("touchstart",n.onTouchPanningStart,i),r.addEventListener("touchmove",n.onTouchPanning,i),r.addEventListener("touchend",n.onTouchPanningStop,i)},this.handleInitialize=function(r){var i=n.setup.centerOnInit;n.applyTransformation(),n.onInitCallbacks.forEach(function(o){return o(Ye(n))}),i&&(n.setCenter(),n.observer=new ResizeObserver(function(){var o,h=r.offsetWidth,l=r.offsetHeight;(h>0||l>0)&&(n.onInitCallbacks.forEach(function(a){return a(Ye(n))}),n.setCenter(),(o=n.observer)===null||o===void 0||o.disconnect())}),setTimeout(function(){var o;(o=n.observer)===null||o===void 0||o.disconnect()},5e3),n.observer.observe(r))},this.onWheelZoom=function(r){var i=n.setup.disabled;if(!i){var o=$7(n,r);if(o){var h=n.isPressingKeys(n.setup.wheel.activationKeys);h&&(z7(n,r),V7(n,r),U7(n,r))}}},this.onWheelPanning=function(r){var i=n.setup,o=i.disabled,h=i.wheel,l=i.panning;if(!(!n.wrapperComponent||!n.contentComponent||o||!h.wheelDisabled||l.disabled||!l.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var a=n.transformState,f=a.positionX,u=a.positionY,s=f-r.deltaX,c=u-r.deltaY,d=l.lockAxisX?f:s,p=l.lockAxisY?u:c,g=n.setup.alignmentAnimation,m=g.sizeX,v=g.sizeY,y=Ks(n,m),b=Ks(n,v);d===f&&p===u||V2(n,d,p,y,b)}},this.onPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var h=k1(n,r);if(h){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.button===0&&!n.setup.panning.allowLeftClickPan||r.button===1&&!n.setup.panning.allowMiddleClickPan||r.button===2&&!n.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),fr(n),$1(n,r),Je(Ye(n),r,o)))}}},this.onPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(!i){var h=P1(n);if(h){var l=n.isPressingKeys(n.setup.panning.activationKeys);l&&(r.preventDefault(),r.stopPropagation(),A1(n,r.clientX,r.clientY),Je(Ye(n),r,o))}}},this.onPanningStop=function(r){var i=n.props.onPanningStop;n.isPanning&&(y7(n),Je(Ye(n),r,i))},this.onPinchStart=function(r){var i=n.setup.disabled,o=n.props,h=o.onPinchingStart,l=o.onZoomStart;if(!i){var a=N7(n,r);a&&(H7(n,r),fr(n),Je(Ye(n),r,h),Je(Ye(n),r,l))}},this.onPinch=function(r){var i=n.setup.disabled,o=n.props,h=o.onPinching,l=o.onZoom;if(!i){var a=F7(n);a&&(r.preventDefault(),r.stopPropagation(),W7(n,r),Je(Ye(n),r,h),Je(Ye(n),r,l))}},this.onPinchStop=function(r){var i=n.props,o=i.onPinchingStop,h=i.onZoomStop;n.pinchStartScale&&(Y7(n),Je(Ye(n),r,o),Je(Ye(n),r,h))},this.onTouchPanningStart=function(r){var i=n.setup.disabled,o=n.props.onPanningStart;if(!i){var h=k1(n,r);if(h){var l=n.lastTouch&&+new Date-n.lastTouch<200;if(l&&r.touches.length===1)n.onDoubleClick(r);else{n.lastTouch=+new Date,fr(n);var a=r.touches,f=a.length===1,u=a.length===2;f&&(fr(n),$1(n,r),Je(Ye(n),r,o)),u&&n.onPinchStart(r)}}}},this.onTouchPanning=function(r){var i=n.setup.disabled,o=n.props.onPanning;if(n.isPanning&&r.touches.length===1){if(i)return;var h=P1(n);if(!h)return;r.preventDefault(),r.stopPropagation();var l=r.touches[0];A1(n,l.clientX,l.clientY),Je(Ye(n),r,o)}else r.touches.length>1&&n.onPinch(r)},this.onTouchPanningStop=function(r){n.onPanningStop(r),n.onPinchStop(r)},this.onDoubleClick=function(r){var i=n.setup.disabled;if(!i){var o=q7(n,r);o&&K7(n,r)}},this.clearPanning=function(r){n.isPanning&&n.onPanningStop(r)},this.setKeyPressed=function(r){n.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){n.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(i){return n.pressedKeys[i]}):!0},this.setTransformState=function(r,i,o){var h=n.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(i)&&!Number.isNaN(o)){r!==n.transformState.scale&&(n.transformState.previousScale=n.transformState.scale,n.transformState.scale=r),n.transformState.positionX=i,n.transformState.positionY=o,n.applyTransformation();var l=Ye(n);n.onChangeCallbacks.forEach(function(a){return a(l)}),Je(l,{scale:r,positionX:i,positionY:o},h)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(n.wrapperComponent&&n.contentComponent){var r=K2(n.transformState.scale,n.wrapperComponent,n.contentComponent);n.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,i,o){return n.props.customTransform?n.props.customTransform(r,i,o):P7(r,i,o)},this.applyTransformation=function(){if(!(!n.mounted||!n.contentComponent)){var r=n.transformState,i=r.scale,o=r.positionX,h=r.positionY,l=n.handleTransformStyles(o,h,i);n.contentComponent.style.transform=l}},this.getContext=function(){return Ye(n)},this.onChange=function(r){return n.onChangeCallbacks.has(r)||n.onChangeCallbacks.add(r),function(){n.onChangeCallbacks.delete(r)}},this.onInit=function(r){return n.onInitCallbacks.has(r)||n.onInitCallbacks.add(r),function(){n.onInitCallbacks.delete(r)}},this.init=function(r,i){n.cleanupWindowEvents(),n.wrapperComponent=r,n.contentComponent=i,Gs(n,n.transformState.scale),n.handleInitializeWrapperEvents(r),n.handleInitialize(i),n.initializeWindowEvents(),n.isInitialized=!0;var o=Ye(n);Je(o,void 0,n.props.onInit)},this.props=t,this.setup=M1(this.props),this.transformState=W2(this.props)}return e}(),kv=ke.createContext(null),Q7=function(e,t){return typeof e=="function"?e(t):e},J7=ke.forwardRef(function(e,t){var n=x.useRef(new Z7(e)).current,r=Q7(e.children,Tm(n));return x.useImperativeHandle(t,function(){return Tm(n)},[n]),x.useEffect(function(){n.update(e)},[n,e]),ke.createElement(kv.Provider,{value:n},r)});ke.forwardRef(function(e,t){var n=x.useRef(null),r=x.useContext(kv);return x.useEffect(function(){return r.onChange(function(i){if(n.current){var o=0,h=0;n.current.style.transform=r.handleTransformStyles(o,h,1/i.instance.transformState.scale)}})},[r]),ke.createElement("div",Mi({},e,{ref:O7([n,t])}))});function eN(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var tN=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,D1={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};eN(tN);var nN=function(e){var t=e.children,n=e.wrapperClass,r=n===void 0?"":n,i=e.contentClass,o=i===void 0?"":i,h=e.wrapperStyle,l=e.contentStyle,a=e.wrapperProps,f=a===void 0?{}:a,u=e.contentProps,s=u===void 0?{}:u,c=x.useContext(kv),d=c.init,p=c.cleanupWindowEvents,g=x.useRef(null),m=x.useRef(null);return x.useEffect(function(){var v=g.current,y=m.current;return v!==null&&y!==null&&d&&(d==null||d(v,y)),function(){p==null||p()}},[]),ke.createElement("div",Mi({},f,{ref:g,className:"react-transform-wrapper ".concat(D1.wrapper," ").concat(r),style:h}),ke.createElement("div",Mi({},s,{ref:m,className:"react-transform-component ".concat(D1.content," ").concat(o),style:l}),t))};function rN(){var e=x.useRef(!0);return e.current?(e.current=!1,!0):e.current}var iN=function(e,t){var n=rN();x.useEffect(function(){if(!n)return e()},t)},oN=function(){};function Pv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function Ov(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var pu=typeof window<"u",sN=function(e,t){return typeof t=="boolean"?t:!e},aN=function(e){return x.useReducer(sN,e)},lN=["mousedown","touchstart"],cN=function(e,t,n){n===void 0&&(n=lN);var r=x.useRef(t);x.useEffect(function(){r.current=t},[t]),x.useEffect(function(){for(var i=function(a){var f=e.current;f&&!f.contains(a.target)&&r.current(a)},o=0,h=n;o<h.length;o++){var l=h[o];Pv(document,l,i)}return function(){for(var a=0,f=n;a<f.length;a++){var u=f[a];Ov(document,u,i)}}},[n,e])},uN=function(e){x.useEffect(e,[])},fN=pu?window:null,N1=function(e){return!!e.addEventListener},F1=function(e){return!!e.on},dN=function(e,t,n,r){n===void 0&&(n=fN),x.useEffect(function(){if(t&&n)return N1(n)?Pv(n,e,t,r):F1(n)&&n.on(e,t,r),function(){N1(n)?Ov(n,e,t,r):F1(n)&&n.off(e,t,r)}},[e,t,n,JSON.stringify(r)])},hN=function(e){return typeof e=="function"?e:typeof e=="string"?function(t){return t.key===e}:e?function(){return!0}:function(){return!1}},L1=function(e,t,n,r){t===void 0&&(t=oN),n===void 0&&(n={}),r===void 0&&(r=[e]);var i=n.event,o=i===void 0?"keydown":i,h=n.target,l=n.options,a=x.useMemo(function(){var f=hN(e),u=function(s){if(f(s))return t(s)};return u},r);dN(o,a,h,l)},pN=function(e){var t=x.useState([!1,null]),n=t[0],r=t[1];return L1(e,function(i){return r([!0,i])},{event:"keydown"},[n]),L1(e,function(i){return r([!1,i])},{event:"keyup"},[n]),n},Vh=function(e,t,n,r){r===void 0&&(r=pN);var i=r(e),o=i[0],h=i[1];iN(function(){!o&&n?n(h):o&&t&&t(h)},[o])},mN=function(e){var t=x.useRef(e);t.current=e,uN(function(){return function(){return t.current()}})},gN=function(e){var t=x.useRef(0),n=x.useState(e),r=n[0],i=n[1],o=x.useCallback(function(h){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(h)})},[]);return mN(function(){cancelAnimationFrame(t.current)}),[r,o]},vN=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=gN({width:pu?window.innerWidth:e,height:pu?window.innerHeight:t}),r=n[0],i=n[1];return x.useEffect(function(){if(pu){var o=function(){i({width:window.innerWidth,height:window.innerHeight})};return Pv(window,"resize",o),function(){Ov(window,"resize",o)}}},[]),r};function J2(e){const[t]=x.useState(new Image),[n,r]=x.useState(!1);return x.useEffect(()=>{if(e)return t.onload=()=>{r(!0)},r(!1),t.src=URL.createObjectURL(e),()=>{t.onload=null}},[e,t]),[t,n]}const eE=["PageUp","PageDown"],tE=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],nE={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ic="Slider",[Pm,yN,bN]=Ul(ic),[rE,ZI]=Kt(ic,[bN]),[wN,$d]=rE(ic),xN=x.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:h="horizontal",disabled:l=!1,minStepsBetweenThumbs:a=0,defaultValue:f=[r],value:u,onValueChange:s=()=>{},onValueCommit:c=()=>{},inverted:d=!1,...p}=e,[g,m]=x.useState(null),v=Oe(t,D=>m(D)),y=x.useRef(new Set),b=x.useRef(0),w=h==="horizontal",S=g?!!g.closest("form"):!0,_=w?SN:_N,[E=[],C]=yn({prop:u,defaultProp:f,onChange:D=>{var F;(F=[...y.current][b.current])===null||F===void 0||F.focus(),s(D)}}),P=x.useRef(E);function N(D){const F=RN(E,D);V(D,F)}function B(D){V(D,b.current)}function I(){const D=P.current[b.current];E[b.current]!==D&&c(E)}function V(D,F,{commit:O}={commit:!1}){const M=FN(o),U=LN(Math.round((D-r)/o)*o+r,M),k=$l(U,[r,i]);C((R=[])=>{const j=$N(R,k,F);if(NN(j,a*o)){b.current=j.indexOf(k);const A=String(j)!==String(R);return A&&O&&c(j),A?j:R}else return R})}return x.createElement(wN,{scope:e.__scopeSlider,disabled:l,min:r,max:i,valueIndexToChangeRef:b,thumbs:y.current,values:E,orientation:h},x.createElement(Pm.Provider,{scope:e.__scopeSlider},x.createElement(Pm.Slot,{scope:e.__scopeSlider},x.createElement(_,le({"aria-disabled":l,"data-disabled":l?"":void 0},p,{ref:v,onPointerDown:pe(p.onPointerDown,()=>{l||(P.current=E)}),min:r,max:i,inverted:d,onSlideStart:l?void 0:N,onSlideMove:l?void 0:B,onSlideEnd:l?void 0:I,onHomeKeyDown:()=>!l&&V(r,0,{commit:!0}),onEndKeyDown:()=>!l&&V(i,E.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:F})=>{if(!l){const U=eE.includes(D.key)||D.shiftKey&&tE.includes(D.key)?10:1,k=b.current,R=E[k],j=o*U*F;V(R+j,k,{commit:!0})}}})))),S&&E.map((D,F)=>x.createElement(ON,{key:F,name:n?n+(E.length>1?"[]":""):void 0,value:D})))}),[iE,oE]=rE(ic,{startEdge:"left",endEdge:"right",size:"width",direction:1}),SN=x.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:h,onSlideMove:l,onSlideEnd:a,onStepKeyDown:f,...u}=e,[s,c]=x.useState(null),d=Oe(t,b=>c(b)),p=x.useRef(),g=aa(i),m=g==="ltr",v=m&&!o||!m&&o;function y(b){const w=p.current||s.getBoundingClientRect(),S=[0,w.width],E=$v(S,v?[n,r]:[r,n]);return p.current=w,E(b-w.left)}return x.createElement(iE,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width"},x.createElement(sE,le({dir:g,"data-orientation":"horizontal"},u,{ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const w=y(b.clientX);h==null||h(w)},onSlideMove:b=>{const w=y(b.clientX);l==null||l(w)},onSlideEnd:()=>{p.current=void 0,a==null||a()},onStepKeyDown:b=>{const S=nE[v?"from-left":"from-right"].includes(b.key);f==null||f({event:b,direction:S?-1:1})}})))}),_N=x.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:h,onSlideEnd:l,onStepKeyDown:a,...f}=e,u=x.useRef(null),s=Oe(t,u),c=x.useRef(),d=!i;function p(g){const m=c.current||u.current.getBoundingClientRect(),v=[0,m.height],b=$v(v,d?[r,n]:[n,r]);return c.current=m,b(g-m.top)}return x.createElement(iE,{scope:e.__scopeSlider,startEdge:d?"bottom":"top",endEdge:d?"top":"bottom",size:"height",direction:d?1:-1},x.createElement(sE,le({"data-orientation":"vertical"},f,{ref:s,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=p(g.clientY);o==null||o(m)},onSlideMove:g=>{const m=p(g.clientY);h==null||h(m)},onSlideEnd:()=>{c.current=void 0,l==null||l()},onStepKeyDown:g=>{const v=nE[d?"from-bottom":"from-top"].includes(g.key);a==null||a({event:g,direction:v?-1:1})}})))}),sE=x.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:h,onEndKeyDown:l,onStepKeyDown:a,...f}=e,u=$d(ic,n);return x.createElement(Se.span,le({},f,{ref:t,onKeyDown:pe(e.onKeyDown,s=>{s.key==="Home"?(h(s),s.preventDefault()):s.key==="End"?(l(s),s.preventDefault()):eE.concat(tE).includes(s.key)&&(a(s),s.preventDefault())}),onPointerDown:pe(e.onPointerDown,s=>{const c=s.target;c.setPointerCapture(s.pointerId),s.preventDefault(),u.thumbs.has(c)?c.focus():r(s)}),onPointerMove:pe(e.onPointerMove,s=>{s.target.hasPointerCapture(s.pointerId)&&i(s)}),onPointerUp:pe(e.onPointerUp,s=>{const c=s.target;c.hasPointerCapture(s.pointerId)&&(c.releasePointerCapture(s.pointerId),o(s))})}))}),CN="SliderTrack",EN=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=$d(CN,n);return x.createElement(Se.span,le({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:t}))}),I1="SliderRange",TN=x.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=$d(I1,n),o=oE(I1,n),h=x.useRef(null),l=Oe(t,h),a=i.values.length,f=i.values.map(c=>aE(c,i.min,i.max)),u=a>1?Math.min(...f):0,s=100-Math.max(...f);return x.createElement(Se.span,le({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:l,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:s+"%"}}))}),j1="SliderThumb",kN=x.forwardRef((e,t)=>{const n=yN(e.__scopeSlider),[r,i]=x.useState(null),o=Oe(t,l=>i(l)),h=x.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return x.createElement(PN,le({},e,{ref:o,index:h}))}),PN=x.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...i}=e,o=$d(j1,n),h=oE(j1,n),[l,a]=x.useState(null),f=Oe(t,m=>a(m)),u=Zg(l),s=o.values[r],c=s===void 0?0:aE(s,o.min,o.max),d=AN(r,o.values.length),p=u==null?void 0:u[h.size],g=p?MN(p,c,h.direction):0;return x.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),x.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${c}% + ${g}px)`}},x.createElement(Pm.ItemSlot,{scope:e.__scopeSlider},x.createElement(Se.span,le({role:"slider","aria-label":e["aria-label"]||d,"aria-valuemin":o.min,"aria-valuenow":s,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i,{ref:f,style:s===void 0?{display:"none"}:e.style,onFocus:pe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),ON=e=>{const{value:t,...n}=e,r=x.useRef(null),i=mv(t);return x.useEffect(()=>{const o=r.current,h=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(h,"value").set;if(i!==t&&a){const f=new Event("input",{bubbles:!0});a.call(o,t),o.dispatchEvent(f)}},[i,t]),x.createElement("input",le({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function $N(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function aE(e,t,n){const o=100/(n-t)*(e-t);return $l(o,[0,100])}function AN(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function RN(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function MN(e,t,n){const r=e/2,o=$v([0,50],[0,r]);return(r-o(t)*n)*n}function DN(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function NN(e,t){if(t>0){const n=DN(e);return Math.min(...n)>=t}return!0}function $v(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function FN(e){return(String(e).split(".")[1]||"").length}function LN(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const lE=xN,IN=EN,jN=TN,BN=kN,Wn=x.forwardRef(({className:e,...t},n)=>T.jsxs(lE,{ref:n,className:be("relative flex w-full touch-none select-none items-center",e),tabIndex:-1,...t,children:[T.jsx(IN,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20 data-[disabled]:cursor-not-allowed data-[disabled]:opacity-50",children:T.jsx(jN,{className:"absolute h-full bg-primary data-[disabled]:cursor-not-allowed "})}),T.jsx(BN,{tabIndex:-1,className:"block h-4 w-4 rounded-full border border-primary/60 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring data-[disabled]:cursor-not-allowed"})]}));Wn.displayName=lE.displayName;const Wo={capture:!0,passive:!1},zN=2,B1=(e,t,n,r,i,o)=>{if(e!==n&&t===r){if(e<0)return[0,r];if(e+t>o)return[o-r,r]}else{if(t<i)return e===n?[e,i]:[e+t-i,i];if(e<0)return[0,e+t];if(e+t>o)return[e,o-e]}return[e,t]},VN=e=>{const{minHeight:t,minWidth:n,maxHeight:r,maxWidth:i,scale:o,show:h}=e,[l,a,f,u,{x:s,y:c,width:d,height:p},g,m,v,y,b,w]=Xe(R=>[R.imageWidth,R.imageHeight,R.isInpainting,R.isSD(),R.cropperState,R.setCropperX,R.setCropperY,R.setCropperWidth,R.setCropperHeight,R.isCropperExtenderResizing,R.setIsCropperExtenderResizing]),[S,_]=x.useState(!1);x.useEffect(()=>{g(Math.round((i-512)/2)),m(Math.round((r-512)/2))},[r,i,l,a]);const[E,C]=x.useState({initX:0,initY:0,initHeight:0,initWidth:0,startResizeX:0,startResizeY:0,ord:"top"}),P=()=>{},N=(R,j)=>B1(R,j,s,d,n,i),B=(R,j)=>B1(R,j,c,p,t,r),I=R=>{if(f)return;const j=R.clientX,A=R.clientY,Y=Math.round((A-E.startResizeY)/o),L=Math.round((j-E.startResizeX)/o),$=()=>{const G=E.initHeight-Y,J=E.initY+Y,[ee,ce]=B(J,G);y(ce),m(ee)},H=()=>{const G=E.initHeight+Y,[J,ee]=B(E.initY,G);y(ee),m(J)},W=()=>{const G=E.initWidth-L,J=E.initX+L,[ee,ce]=N(J,G);v(ce),g(ee)},K=()=>{const G=E.initWidth+L,[J,ee]=N(E.initX,G);v(ee),g(J)};if(b)switch(E.ord){case"topleft":{$(),W();break}case"topright":{$(),K();break}case"bottomleft":{H(),W();break}case"bottomright":{H(),K();break}case"top":{$();break}case"right":{K();break}case"bottom":{H();break}case"left":{W();break}}if(S){const G=E.initX+L,J=E.initY+Y,[ee,ce]=N(G,E.initWidth),[te,Z]=B(J,E.initHeight);v(ce),y(Z),g(ee),m(te)}},V=()=>{b&&w(!1),S&&_(!1)};x.useEffect(()=>{if(b||S)return document.addEventListener("pointermove",I,Wo),document.addEventListener("pointerup",V,Wo),document.addEventListener("pointercancel",V,Wo),()=>{document.removeEventListener("pointermove",I,Wo),document.removeEventListener("pointerup",V,Wo),document.removeEventListener("pointercancel",V,Wo)}},[b,S,d,p,E]);const D=R=>{const{ord:j}=R.target.dataset;j&&(w(!0),C({initX:s,initY:c,initHeight:p,initWidth:d,startResizeX:R.clientX,startResizeY:R.clientY,ord:j}))},F=(R,j,A)=>{const $="w-[12px] h-[12px] z-[4] absolute content-[''] block border-2 border-primary borde pointer-events-auto hover:bg-primary";let H="0",W="0",K=A,G="-6px";return A===""&&(G="50%",j==="left"||j==="right"?(K="top",W="-50%"):(K="left",H="-50%")),T.jsx("div",{className:be($,R),style:{[j]:-6,[K]:G,transform:`translate(${H}, ${W}) scale(${1/o})`},"data-ord":j+A,"aria-label":j+A,tabIndex:-1,role:"button"})},O=()=>T.jsxs("div",{onFocus:P,onPointerDown:D,className:"absolute top-0 h-full w-full",children:[T.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 w-full cursor-ns-resize h-[12px] mt-[-6px]","data-ord":"top"}),T.jsx("div",{className:"absolute pointer-events-auto top-0 right-0 h-full cursor-ew-resize w-[12px] mr-[-6px]","data-ord":"right"}),T.jsx("div",{className:"absolute pointer-events-auto bottom-0 left-0 w-full cursor-ns-resize h-[12px] mb-[-6px]","data-ord":"bottom"}),T.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 h-full cursor-ew-resize w-[12px] ml-[-6px]","data-ord":"left"}),F("cursor-nw-resize","top","left"),F("cursor-ne-resize","top","right"),F("cursor-sw-resize","bottom","left"),F("cursor-se-resize","bottom","right"),F("cursor-ns-resize","top",""),F("cursor-ns-resize","bottom",""),F("cursor-ew-resize","left",""),F("cursor-ew-resize","right","")]}),M=R=>{_(!0),C({initX:s,initY:c,initHeight:p,initWidth:d,startResizeX:R.clientX,startResizeY:R.clientY,ord:""})},U=()=>T.jsxs("div",{className:Mg("border absolute pointer-events-auto px-2 py-1 rounded-full hover:cursor-move bg-background","origin-top-left top-0 left-0"),style:{transform:`scale(${1/o*.8})`},onPointerDown:M,children:[d," x ",p]}),k=()=>T.jsx("div",{className:"outline-dashed outline-primary",style:{height:p,width:d,outlineWidth:`${zN/o*1.3}px`}});return h===!1||!u?null:T.jsx("div",{className:"absolute h-full w-full overflow-hidden pointer-events-none z-[2]",children:T.jsxs("div",{className:"relative pointer-events-none z-[2] [box-shadow:0_0_0_9999px_rgba(0,_0,_0,_0.5)]",style:{height:p,width:d,left:s,top:c},children:[k(),U(),O()]})})},UN=e=>{const{x:t,y:n,positive:r}=e,i=r?"bg-[rgba(21,_215,_121,_0.936)] outline-[rgba(98,255,179,0.31)]":"bg-[rgba(237,_49,_55,_0.942)] outline-[rgba(255,89,95,0.31)]";return T.jsx("div",{className:`absolute h-[10px] w-[10px] rounded-[50%] ${i} outline-8 outline`,style:{left:t,top:n,transform:"translate(-50%, -50%)"}})},HN=()=>{const e=Xe(t=>t.interactiveSegState.clicks);return T.jsx("div",{className:"absolute h-full w-full overflow-hidden pointer-events-none",children:e.map(t=>T.jsx(UN,{x:t[0],y:t[1],positive:t[2]===1},t[3]))})},Yo={capture:!0,passive:!1},WN=2,z1=(e,t,n,r)=>t<r?e===n?[e,r]:[e+t-r,r]:[e,t],YN=e=>{const{minHeight:t,minWidth:n,scale:r,show:i}=e,[o,h,l,a,{x:f,y:u,width:s,height:c},d,p,g,m,v,y,b]=Xe(M=>[M.isInpainting,M.imageHeight,M.imageWidth,M.isSD(),M.extenderState,M.setExtenderX,M.setExtenderY,M.setExtenderWidth,M.setExtenderHeight,M.settings.extenderDirection,M.isCropperExtenderResizing,M.setIsCropperExtenderResizing]),[w,S]=x.useState({initX:0,initY:0,initHeight:0,initWidth:0,startResizeX:0,startResizeY:0,ord:"top"}),_=()=>{},E=(M,U)=>z1(M,U,f,n),C=(M,U)=>z1(M,U,u,t),P=M=>{if(o)return;const U=M.clientX,k=M.clientY,R=Math.round((k-w.startResizeY)/r),j=Math.round((U-w.startResizeX)/r),A=()=>{const H=w.initHeight-R,W=w.initY+R;let K=W,G=H;if(v===zt.xy)K>0&&(K=0,G=w.initHeight-Math.abs(w.initY));else{const J=C(W,H);K=J[0],G=J[1]}m(G),p(K)},Y=()=>{const H=w.initHeight+R;let[W,K]=C(w.initY,H);v===zt.xy&&K<Math.abs(W)+h&&(K=Math.abs(W)+h),m(K),p(W)},L=()=>{const H=w.initWidth-j,W=w.initX+j;let K=W,G=H;if(v===zt.xy)K>0&&(K=0,G=w.initWidth-Math.abs(w.initX));else{const J=E(W,H);K=J[0],G=J[1]}g(G),d(K)},$=()=>{const H=w.initWidth+j;let[W,K]=E(w.initX,H);v===zt.xy&&K<Math.abs(W)+l&&(K=Math.abs(W)+l),g(K),d(W)};if(y)switch(w.ord){case"topleft":{A(),L();break}case"topright":{A(),$();break}case"bottomleft":{Y(),L();break}case"bottomright":{Y(),$();break}case"top":{A();break}case"right":{$();break}case"bottom":{Y();break}case"left":{L();break}}},N=()=>{y&&b(!1)};x.useEffect(()=>{if(y)return document.addEventListener("pointermove",P,Yo),document.addEventListener("pointerup",N,Yo),document.addEventListener("pointercancel",N,Yo),()=>{document.removeEventListener("pointermove",P,Yo),document.removeEventListener("pointerup",N,Yo),document.removeEventListener("pointercancel",N,Yo)}},[y,s,c,w]);const B=M=>{const{ord:U}=M.target.dataset;U&&(b(!0),S({initX:f,initY:u,initHeight:c,initWidth:s,startResizeX:M.clientX,startResizeY:M.clientY,ord:U}))},I=(M,U,k)=>{const A="w-[12px] h-[12px] z-[4] absolute content-[''] block border-2 border-primary borde pointer-events-auto hover:bg-primary";let Y="0",L="0",$=k,H="-6px";return k===""&&(H="50%",U==="left"||U==="right"?($="top",L="-50%"):($="left",Y="-50%")),T.jsx("div",{className:be(A,M),style:{[U]:-6,[$]:H,transform:`translate(${Y}, ${L}) scale(${1/r})`},"data-ord":U+k,"aria-label":U+k,tabIndex:-1,role:"button"})},V=()=>T.jsxs("div",{onFocus:_,onPointerDown:B,className:"absolute top-0 h-full w-full",children:[[zt.y,zt.xy].includes(v)?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 w-full cursor-ns-resize h-[12px] mt-[-6px]","data-ord":"top"}),T.jsx("div",{className:"absolute pointer-events-auto bottom-0 left-0 w-full cursor-ns-resize h-[12px] mb-[-6px]","data-ord":"bottom"}),I("cursor-ns-resize","top",""),I("cursor-ns-resize","bottom","")]}):T.jsx(T.Fragment,{}),[zt.x,zt.xy].includes(v)?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute pointer-events-auto top-0 right-0 h-full cursor-ew-resize w-[12px] mr-[-6px]","data-ord":"right"}),T.jsx("div",{className:"absolute pointer-events-auto top-0 left-0 h-full cursor-ew-resize w-[12px] ml-[-6px]","data-ord":"left"}),I("cursor-ew-resize","left",""),I("cursor-ew-resize","right","")]}):T.jsx(T.Fragment,{}),v===zt.xy?T.jsxs(T.Fragment,{children:[I("cursor-nw-resize","top","left"),I("cursor-ne-resize","top","right"),I("cursor-sw-resize","bottom","left"),I("cursor-se-resize","bottom","right")]}):T.jsx(T.Fragment,{})]}),D=M=>{S({initX:f,initY:u,initHeight:c,initWidth:s,startResizeX:M.clientX,startResizeY:M.clientY,ord:""})},F=()=>T.jsxs("div",{className:Mg("border absolute pointer-events-auto px-2 py-1 rounded-full bg-background","origin-top-left top-0 left-0"),style:{transform:`scale(${1/r*.8})`},onPointerDown:D,children:[s," x ",c]}),O=()=>T.jsx("div",{className:be("outline-dashed outline-primary"),style:{height:c,width:s,outlineWidth:`${WN/r*1.3}px`}});return i===!1||!a?null:T.jsx("div",{className:"absolute h-full w-full pointer-events-none z-[2]",children:T.jsxs("div",{className:"relative pointer-events-none z-[2] [box-shadow:0_0_0_9999px_rgba(0,_0,_0,_0.5)]",style:{height:c,width:s,left:f,top:u},children:[O(),F(),V()]})})},XN=x.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=e,[h=!1,l]=yn({prop:n,onChange:i,defaultProp:r});return x.createElement(Se.button,le({type:"button","aria-pressed":h,"data-state":h?"on":"off","data-disabled":e.disabled?"":void 0},o,{ref:t,onClick:pe(e.onClick,()=>{e.disabled||l(!h)})}))}),cE=XN,GN=Wl("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),uE=x.forwardRef(({className:e,variant:t,size:n,...r},i)=>T.jsx(cE,{ref:i,className:be(GN({variant:t,size:n,className:e})),...r}));uE.displayName=cE.displayName;const KN=200,Vc=300,qN=e=>{e=e.replace("#","");const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16),i=parseInt(e.substring(6,8),16)/255;return`rgba(${t}, ${n}, ${r}, ${i})`};function ZN(e){const{file:t}=e,{toast:n}=Dg(),[r,i,o,h,l,a,f,u,s,c,d,p,g,m,v,y,b,w,S,_,E,C,P,N,B]=Xe(ae=>[ae.disableShortCuts,ae.windowSize,ae.isInpainting,ae.imageWidth,ae.imageHeight,ae.settings,ae.serverConfig.enableAutoSaving,ae.setImageSize,ae.setBaseBrushSize,ae.interactiveSegState,ae.updateInteractiveSegState,ae.handleCanvasMouseDown,ae.handleSaveState,ae.handleCanvasMouseMove,ae.undo,ae.redo,ae.undoDisabled(),ae.redoDisabled(),ae.getIsProcessing(),ae.updateAppState,ae.runMannually(),ae.runInpainting,ae.isCropperExtenderResizing,ae.decreaseBaseBrushSize,ae.increaseBaseBrushSize]),I=Xe(ae=>ae.editorState.baseBrushSize),V=Xe(ae=>ae.getBrushSize()),D=Xe(ae=>ae.editorState.renders),F=Xe(ae=>ae.editorState.extraMasks);Xe(ae=>ae.editorState.temporaryMasks),Xe(ae=>ae.editorState.lineGroups),Xe(ae=>ae.editorState.curLineGroup);const O=Xe(ae=>ae.editorState.currCanvasGroups),[M,U]=x.useState(!1),[k,R]=J2(t),[j,A]=x.useState();x.useState(),x.useState(null);const[{x:Y,y:L},$]=x.useState({x:-1,y:-1}),[H,W]=x.useState(!1),[K,G]=x.useState(!1),[J,ee]=x.useState(!1),[ce,te]=x.useState(1),[Z,oe]=x.useState(!1),[se,ne]=x.useState(1),z=i.width/2,X=i.height/2,Q=x.useRef(null),[ie,q]=x.useState(!1),[re,ue]=x.useState(!1),[ge,_e]=x.useState(0),[Te,Ae]=x.useState(!1),Ie=x.useRef(null),Ce=x.useRef(null),tt=x.useCallback(()=>O.length!==0,[O]),Ue=x.useCallback(()=>{if(console.log("save state"),Ce.current){const ae=Ce.current.toJSON();g(JSON.stringify(ae))}},[Ce.current]);x.useEffect(()=>{if(!R)return;console.log("Inside UseEffect initMainCanvas");const ae=()=>new Ka.fabric.Canvas(Ie.current,{width:h,height:l,fireMiddleClick:!0});Ce.current=ae(),Ce.current.clear();const We=new Ka.fabric.Image(k,{left:0,top:0});return Ce.current.add(We),Ce.current.isDrawingMode=!0,Ce.current.freeDrawingBrush.width=rS,Ce.current.freeDrawingBrush.color=qN(Vu),Ce.current.on("mouse:up",ft=>{fy(ft)&&ee(!1)}),Ce.current.on("mouse:down",ft=>{fy(ft)&&ee(!0)}),Ce.current.on("path:created",()=>{console.log("paht created"),Ue()}),Ce.current.renderAll(),()=>{var ft;(ft=Ce.current)==null||ft.dispose(),Ce.current=null}},[k,R,h,l]),x.useEffect(()=>{if(!Ce.current)return;const ae=D[D.length-1],We=new Ka.fabric.Image(ae,{left:0,top:0,selectable:!1});Ce.current.clear(),Ce.current.add(We),Ue(),Ce.current.renderAll()},[D]),x.useEffect(()=>{if(!Ce.current||O.length===0)return;const ae=JSON.parse(O[O.length-1]);Ce.current.loadFromJSON(ae,Ce.current.renderAll.bind(Ce.current))},[O]),x.useEffect(()=>{Ce.current&&(Ce.current.freeDrawingBrush.width=I)},[I]),x.useCallback(async()=>{let ae=t;if(D.length>0){const We=D[D.length-1];ae=await sS(We.currentSrc,t.name,t.type)}return ae},[t,D]);const Ct=()=>D.length!==0,xt=x.useCallback(()=>{let ae=512,We=512;return R?(D.length===0?(ae=k.naturalWidth,We=k.naturalHeight):D.length!==0&&(ae=D[D.length-1].width,We=D[D.length-1].height),[ae,We]):[ae,We]},[k,R,D]);x.useEffect(()=>{var Iv;if(!R)return;const[ae,We]=xt();(ae!==h||We!==l)&&u(ae,We);const ft=i.width/ae,kr=(i.height-KN)/We;let qt=1;(ft<1||kr<1)&&(qt=Math.min(ft,kr)),ne(qt),te(qt),console.log(`[on file load] image size: ${ae}x${We}, scale: ${qt}, initialCentered: ${ie}`),ie&&Ue(),j!=null&&j.canvas&&(console.log("[on file load] set canvas size"),ae!=j.canvas.width&&(j.canvas.width=ae),We!=j.canvas.height&&(j.canvas.height=We)),ie||((Iv=Q.current)==null||Iv.centerView(qt,1),console.log("[on file load] centerView"),q(!0))},[Q,l,h,k,R,i,ie,xt]),x.useEffect(()=>{var ae;console.log("[useEffect] centerView"),(ae=Q==null?void 0:Q.current)==null||ae.centerView(se,1)},[l,h,Q,se]);const gt=x.useCallback(()=>{if(!se||!i)return;const ae=Q.current;if(!ae)return;const We=(i.width-h*se)/2,ft=(i.height-l*se)/2;ae.setTransform(We,ft,se,200,"easeOutQuad"),ae.instance.transformState.scale&&(ae.instance.transformState.scale=se),te(se),oe(!1)},[Q,i,l,h,i.height,se]);x.useEffect(()=>(window.addEventListener("resize",()=>{gt()}),()=>{window.removeEventListener("resize",()=>{gt()})}),[i,gt]),ir("Escape",()=>{S||(re?ue(!1):gt())},[re,o,gt]);const sc=()=>{v()};ir("meta+z,ctrl+z",sc);const Io=ae=>{ae.preventDefault(),y()};ir("shift+ctrl+z,shift+meta+z",Io),Vh("Tab",ae=>{ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),Ct()&&U(()=>(window.setTimeout(()=>{_e(100)},10),!0))},ae=>{ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),Ct()&&(window.setTimeout(()=>{_e(0)},10),window.setTimeout(()=>{U(!1)},Vc))});const ac=(ae,We,ft)=>{ae.getObjects().forEach(qt=>qt.set({visible:!1})),We.forEach(qt=>qt.set({visible:!0})),ae.renderAll();const kr=document.createElement("a");kr.href=ae.toDataURL({format:"png"}),kr.download=ft,kr.click(),ae.getObjects().forEach(qt=>qt.set({visible:!0})),ae.renderAll()},ti=()=>{const ae=Ce.current;if(ae){const We=ae.getObjects().filter(ft=>ft.type==="image");ac(ae,We,"image.png")}};ir("meta+s,ctrl+s",ti),x.useCallback(()=>{if(S)return"default";if(J)return"grab";if(H)return"none"},[H,J,S]),ir("[",()=>{N()},[N]),ir("]",()=>{B()},[B]),ir("ctrl+c,meta+c",async()=>{await HO()&&D.length>0&&j!=null&&j.canvas&&(await XO(j==null?void 0:j.canvas),n({title:"Copy inpainting result to clipboard"}))},[D,j]),Vh(" ",ae=>{r||(ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),W(!1),ee(!0))},ae=>{r||(ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),W(!0),ee(!1))}),Vh("Alt",ae=>{r||(ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),Ae(!0))},ae=>{r||(ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),Ae(!1))});const ua=()=>{var We,ft,kr,qt;let ae=se;return((ft=(We=Q.current)==null?void 0:We.instance)==null?void 0:ft.transformState.scale)!==void 0&&(ae=(qt=(kr=Q.current)==null?void 0:kr.instance)==null?void 0:qt.transformState.scale),ae},Fn=(ae,We)=>{const ft=ua();return{width:`${V*ft}px`,height:`${V*ft}px`,left:`${ae}px`,top:`${We}px`,transform:"translate(-50%, -50%)"}},Ln=ae=>T.jsx("div",{className:"absolute rounded-[50%] border-[1px] border-[solid] border-[#ffcc00] pointer-events-none bg-[#ffcc00bb]",style:ae}),ni=ae=>{s(ae),K||(G(!0),window.setTimeout(()=>{G(!1)},1e4))},Ki=()=>T.jsx("div",{className:"absolute h-[20px] w-[20px] pointer-events-none rounded-[50%] bg-[rgba(21,_215,_121,_0.936)] [box-shadow:0_0_0_0_rgba(21,_215,_121,_0.936)] animate-pulse",style:{left:`${Y}px`,top:`${L}px`,transform:"translate(-50%, -50%)"},children:T.jsx(U6,{})}),lc=()=>T.jsx(J7,{ref:ae=>{ae&&(Q.current=ae)},panning:{disabled:!J,velocityDisabled:!0},wheel:{step:.05,wheelDisabled:Te},centerZoomedOut:!0,alignmentAnimation:{disabled:!0},centerOnInit:!0,limitToBounds:!1,doubleClick:{disabled:!0},initialScale:se,minScale:se*.3,onPanning:()=>{Z||oe(!0)},onZoom:ae=>{te(ae.state.scale)},children:T.jsxs(nN,{contentStyle:{visibility:ie?"visible":"hidden"},children:[T.jsxs("div",{className:"relative",children:[T.jsx("canvas",{className:be(S?"pointer-events-none animate-pulse duration-600":""),ref:Ie,style:{clipPath:`inset(0 ${ge}% 0 0)`,transition:`clip-path ${Vc}ms`,border:"1px solid white"}}),T.jsx("div",{className:"pointer-events-none absolute top-0",style:{width:`${h}px`,height:`${l}px`},children:M&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"absolute top-0 z-10 bg-primary h-full w-[6px] justify-self-end",style:{marginRight:`${ge}%`,transition:`margin-right ${Vc}ms`}}),T.jsx("img",{className:"absolute ",src:k.src,alt:"original",style:{width:`${h}px`,height:`${l}px`}})]})})]}),T.jsx(VN,{maxHeight:l,maxWidth:h,minHeight:Math.min(512,l),minWidth:Math.min(512,h),scale:ua(),show:a.showCropper}),T.jsx(YN,{minHeight:Math.min(512,l),minWidth:Math.min(512,h),scale:ua(),show:a.showExtender}),c.isInteractiveSeg?T.jsx(HN,{}):T.jsx(T.Fragment,{})]})}),Tr=()=>{Ce.current&&(Ce.current.isDrawingMode=!Ce.current.isDrawingMode)};return T.jsxs("div",{className:"flex w-screen h-screen justify-center items-center","aria-hidden":"true",children:[lc(),H&&!o&&!J&&(c.isInteractiveSeg?Ki():Ln(Fn(Y,L))),K&&Ln(Fn(z,X)),T.jsxs("div",{className:"fixed flex bottom-5 border px-4 py-2 rounded-[3rem] gap-8 items-center justify-center backdrop-filter backdrop-blur-md bg-background/70",children:[T.jsx(Wn,{className:"w-48",defaultValue:[50],min:NO,max:iS,step:1,tabIndex:-1,value:[I],onValueChange:ae=>ni(ae[0]),onClick:()=>G(!1)}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx(Nr,{tooltip:"Reset zoom & pan",disabled:ce===se&&Z===!1,onClick:gt,children:T.jsx(p3,{})}),T.jsx(Nr,{tooltip:"Undo",onClick:sc,disabled:b,children:T.jsx(_3,{})}),T.jsx(Nr,{tooltip:"Redo",onClick:Io,disabled:w,children:T.jsx(w3,{})}),T.jsx(Nr,{tooltip:"Show original image",onPointerDown:ae=>{ae.preventDefault(),U(()=>(window.setTimeout(()=>{_e(100)},10),!0))},onPointerUp:()=>{window.setTimeout(()=>{_e(0)},10),window.setTimeout(()=>{U(!1)},Vc)},disabled:D.length===0,children:T.jsx(m3,{})}),T.jsx(Nr,{tooltip:"Save Image",onClick:ti,children:T.jsx(d3,{})}),T.jsx(Nr,{tooltip:"Run Inpainting",disabled:S||!tt()&&F.length===0,onClick:()=>{C("lama")},children:T.jsx(h3,{})}),T.jsx(uE,{"aria-label":"Toggle italic",onPressedChange:Tr,children:T.jsx(pP,{className:"h-4 w-4"})})]})]})]})}const QN=()=>{const[e,t]=Xe(n=>[n.imageWidth,n.imageHeight]);return!e||!t?null:T.jsxs("div",{className:"border rounded-lg px-2 py-[6px] z-10 bg-background",children:[e,"x",t]})},Om=["Enter"," "],JN=["ArrowDown","PageUp","Home"],fE=["ArrowUp","PageDown","End"],eF=[...JN,...fE],tF={ltr:[...Om,"ArrowRight"],rtl:[...Om,"ArrowLeft"]},nF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ad="Menu",[Ml,rF,iF]=Ul(Ad),[Fo,dE]=Kt(Ad,[iF,Wi,wd]),Rd=Wi(),hE=wd(),[pE,Gi]=Fo(Ad),[oF,oc]=Fo(Ad),sF=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:h=!0}=e,l=Rd(t),[a,f]=x.useState(null),u=x.useRef(!1),s=rt(o),c=aa(i);return x.useEffect(()=>{const d=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),x.createElement(ql,l,x.createElement(pE,{scope:t,open:n,onOpenChange:s,content:a,onContentChange:f},x.createElement(oF,{scope:t,onClose:x.useCallback(()=>s(!1),[s]),isUsingKeyboardRef:u,dir:c,modal:h},r)))},mE=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Rd(n);return x.createElement(sd,le({},i,r,{ref:t}))}),gE="MenuPortal",[aF,vE]=Fo(gE,{forceMount:void 0}),lF=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=Gi(gE,t);return x.createElement(aF,{scope:t,forceMount:n},x.createElement(Ot,{present:n||o.open},x.createElement(Hl,{asChild:!0,container:i},r)))},Qn="MenuContent",[cF,Av]=Fo(Qn),uF=x.forwardRef((e,t)=>{const n=vE(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Gi(Qn,e.__scopeMenu),h=oc(Qn,e.__scopeMenu);return x.createElement(Ml.Provider,{scope:e.__scopeMenu},x.createElement(Ot,{present:r||o.open},x.createElement(Ml.Slot,{scope:e.__scopeMenu},h.modal?x.createElement(fF,le({},i,{ref:t})):x.createElement(dF,le({},i,{ref:t})))))}),fF=x.forwardRef((e,t)=>{const n=Gi(Qn,e.__scopeMenu),r=x.useRef(null),i=Oe(t,r);return x.useEffect(()=>{const o=r.current;if(o)return hd(o)},[]),x.createElement(Rv,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),dF=x.forwardRef((e,t)=>{const n=Gi(Qn,e.__scopeMenu);return x.createElement(Rv,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),Rv=x.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:h,disableOutsidePointerEvents:l,onEntryFocus:a,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:s,onInteractOutside:c,onDismiss:d,disableOutsideScroll:p,...g}=e,m=Gi(Qn,n),v=oc(Qn,n),y=Rd(n),b=hE(n),w=rF(n),[S,_]=x.useState(null),E=x.useRef(null),C=Oe(t,E,m.onContentChange),P=x.useRef(0),N=x.useRef(""),B=x.useRef(0),I=x.useRef(null),V=x.useRef("right"),D=x.useRef(0),F=p?Zl:x.Fragment,O=p?{as:xr,allowPinchZoom:!0}:void 0,M=k=>{var R,j;const A=N.current+k,Y=w().filter(G=>!G.disabled),L=document.activeElement,$=(R=Y.find(G=>G.ref.current===L))===null||R===void 0?void 0:R.textValue,H=Y.map(G=>G.textValue),W=OF(H,A,$),K=(j=Y.find(G=>G.textValue===W))===null||j===void 0?void 0:j.ref.current;(function G(J){N.current=J,window.clearTimeout(P.current),J!==""&&(P.current=window.setTimeout(()=>G(""),1e3))})(A),K&&setTimeout(()=>K.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),fd();const U=x.useCallback(k=>{var R,j;return V.current===((R=I.current)===null||R===void 0?void 0:R.side)&&AF(k,(j=I.current)===null||j===void 0?void 0:j.area)},[]);return x.createElement(cF,{scope:n,searchRef:N,onItemEnter:x.useCallback(k=>{U(k)&&k.preventDefault()},[U]),onItemLeave:x.useCallback(k=>{var R;U(k)||((R=E.current)===null||R===void 0||R.focus(),_(null))},[U]),onTriggerLeave:x.useCallback(k=>{U(k)&&k.preventDefault()},[U]),pointerGraceTimerRef:B,onPointerGraceIntentChange:x.useCallback(k=>{I.current=k},[])},x.createElement(F,O,x.createElement(ud,{asChild:!0,trapped:i,onMountAutoFocus:pe(o,k=>{var R;k.preventDefault(),(R=E.current)===null||R===void 0||R.focus()}),onUnmountAutoFocus:h},x.createElement(Js,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:u,onFocusOutside:s,onInteractOutside:c,onDismiss:d},x.createElement(EC,le({asChild:!0},b,{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:pe(a,k=>{v.isUsingKeyboardRef.current||k.preventDefault()})}),x.createElement(ad,le({role:"menu","aria-orientation":"vertical","data-state":_E(m.open),"data-radix-menu-content":"",dir:v.dir},y,g,{ref:C,style:{outline:"none",...g.style},onKeyDown:pe(g.onKeyDown,k=>{const j=k.target.closest("[data-radix-menu-content]")===k.currentTarget,A=k.ctrlKey||k.altKey||k.metaKey,Y=k.key.length===1;j&&(k.key==="Tab"&&k.preventDefault(),!A&&Y&&M(k.key));const L=E.current;if(k.target!==L||!eF.includes(k.key))return;k.preventDefault();const H=w().filter(W=>!W.disabled).map(W=>W.ref.current);fE.includes(k.key)&&H.reverse(),kF(H)}),onBlur:pe(e.onBlur,k=>{k.currentTarget.contains(k.target)||(window.clearTimeout(P.current),N.current="")}),onPointerMove:pe(e.onPointerMove,Dl(k=>{const R=k.target,j=D.current!==k.clientX;if(k.currentTarget.contains(R)&&j){const A=k.clientX>D.current?"right":"left";V.current=A,D.current=k.clientX}}))})))))))}),hF=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.createElement(Se.div,le({},r,{ref:t}))}),$m="MenuItem",V1="menu.itemSelect",Mv=x.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=x.useRef(null),h=oc($m,e.__scopeMenu),l=Av($m,e.__scopeMenu),a=Oe(t,o),f=x.useRef(!1),u=()=>{const s=o.current;if(!n&&s){const c=new CustomEvent(V1,{bubbles:!0,cancelable:!0});s.addEventListener(V1,d=>r==null?void 0:r(d),{once:!0}),$g(s,c),c.defaultPrevented?f.current=!1:h.onClose()}};return x.createElement(yE,le({},i,{ref:a,disabled:n,onClick:pe(e.onClick,u),onPointerDown:s=>{var c;(c=e.onPointerDown)===null||c===void 0||c.call(e,s),f.current=!0},onPointerUp:pe(e.onPointerUp,s=>{var c;f.current||(c=s.currentTarget)===null||c===void 0||c.click()}),onKeyDown:pe(e.onKeyDown,s=>{const c=l.searchRef.current!=="";n||c&&s.key===" "||Om.includes(s.key)&&(s.currentTarget.click(),s.preventDefault())})}))}),yE=x.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,h=Av($m,n),l=hE(n),a=x.useRef(null),f=Oe(t,a),[u,s]=x.useState(!1),[c,d]=x.useState("");return x.useEffect(()=>{const p=a.current;if(p){var g;d(((g=p.textContent)!==null&&g!==void 0?g:"").trim())}},[o.children]),x.createElement(Ml.ItemSlot,{scope:n,disabled:r,textValue:i??c},x.createElement(TC,le({asChild:!0},l,{focusable:!r}),x.createElement(Se.div,le({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:f,onPointerMove:pe(e.onPointerMove,Dl(p=>{r?h.onItemLeave(p):(h.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus())})),onPointerLeave:pe(e.onPointerLeave,Dl(p=>h.onItemLeave(p))),onFocus:pe(e.onFocus,()=>s(!0)),onBlur:pe(e.onBlur,()=>s(!1))}))))}),pF=x.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return x.createElement(wE,{scope:e.__scopeMenu,checked:n},x.createElement(Mv,le({role:"menuitemcheckbox","aria-checked":vf(n)?"mixed":n},i,{ref:t,"data-state":Dv(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(vf(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),mF="MenuRadioGroup",[QI,gF]=Fo(mF,{value:void 0,onValueChange:()=>{}}),vF="MenuRadioItem",yF=x.forwardRef((e,t)=>{const{value:n,...r}=e,i=gF(vF,e.__scopeMenu),o=n===i.value;return x.createElement(wE,{scope:e.__scopeMenu,checked:o},x.createElement(Mv,le({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":Dv(o),onSelect:pe(r.onSelect,()=>{var h;return(h=i.onValueChange)===null||h===void 0?void 0:h.call(i,n)},{checkForDefaultPrevented:!1})})))}),bE="MenuItemIndicator",[wE,bF]=Fo(bE,{checked:!1}),wF=x.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=bF(bE,n);return x.createElement(Ot,{present:r||vf(o.checked)||o.checked===!0},x.createElement(Se.span,le({},i,{ref:t,"data-state":Dv(o.checked)})))}),xF=x.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.createElement(Se.div,le({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),xE="MenuSub",[SF,SE]=Fo(xE),_F=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,o=Gi(xE,t),h=Rd(t),[l,a]=x.useState(null),[f,u]=x.useState(null),s=rt(i);return x.useEffect(()=>(o.open===!1&&s(!1),()=>s(!1)),[o.open,s]),x.createElement(ql,h,x.createElement(pE,{scope:t,open:r,onOpenChange:s,content:f,onContentChange:u},x.createElement(SF,{scope:t,contentId:sn(),triggerId:sn(),trigger:l,onTriggerChange:a},n)))},Uc="MenuSubTrigger",CF=x.forwardRef((e,t)=>{const n=Gi(Uc,e.__scopeMenu),r=oc(Uc,e.__scopeMenu),i=SE(Uc,e.__scopeMenu),o=Av(Uc,e.__scopeMenu),h=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:a}=o,f={__scopeMenu:e.__scopeMenu},u=x.useCallback(()=>{h.current&&window.clearTimeout(h.current),h.current=null},[]);return x.useEffect(()=>u,[u]),x.useEffect(()=>{const s=l.current;return()=>{window.clearTimeout(s),a(null)}},[l,a]),x.createElement(mE,le({asChild:!0},f),x.createElement(yE,le({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":_E(n.open)},e,{ref:Wf(t,i.onTriggerChange),onClick:s=>{var c;(c=e.onClick)===null||c===void 0||c.call(e,s),!(e.disabled||s.defaultPrevented)&&(s.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Dl(s=>{o.onItemEnter(s),!s.defaultPrevented&&!e.disabled&&!n.open&&!h.current&&(o.onPointerGraceIntentChange(null),h.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:pe(e.onPointerLeave,Dl(s=>{var c;u();const d=(c=n.content)===null||c===void 0?void 0:c.getBoundingClientRect();if(d){var p;const g=(p=n.content)===null||p===void 0?void 0:p.dataset.side,m=g==="right",v=m?-5:5,y=d[m?"left":"right"],b=d[m?"right":"left"];o.onPointerGraceIntentChange({area:[{x:s.clientX+v,y:s.clientY},{x:y,y:d.top},{x:b,y:d.top},{x:b,y:d.bottom},{x:y,y:d.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(s),s.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,s=>{const c=o.searchRef.current!=="";if(!(e.disabled||c&&s.key===" ")&&tF[r.dir].includes(s.key)){var d;n.onOpenChange(!0),(d=n.content)===null||d===void 0||d.focus(),s.preventDefault()}})})))}),EF="MenuSubContent",TF=x.forwardRef((e,t)=>{const n=vE(Qn,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Gi(Qn,e.__scopeMenu),h=oc(Qn,e.__scopeMenu),l=SE(EF,e.__scopeMenu),a=x.useRef(null),f=Oe(t,a);return x.createElement(Ml.Provider,{scope:e.__scopeMenu},x.createElement(Ot,{present:r||o.open},x.createElement(Ml.Slot,{scope:e.__scopeMenu},x.createElement(Rv,le({id:l.contentId,"aria-labelledby":l.triggerId},i,{ref:f,align:"start",side:h.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var s;h.isUsingKeyboardRef.current&&((s=a.current)===null||s===void 0||s.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:pe(e.onFocusOutside,u=>{u.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,u=>{h.onClose(),u.preventDefault()}),onKeyDown:pe(e.onKeyDown,u=>{const s=u.currentTarget.contains(u.target),c=nF[h.dir].includes(u.key);if(s&&c){var d;o.onOpenChange(!1),(d=l.trigger)===null||d===void 0||d.focus(),u.preventDefault()}})})))))});function _E(e){return e?"open":"closed"}function vf(e){return e==="indeterminate"}function Dv(e){return vf(e)?"indeterminate":e?"checked":"unchecked"}function kF(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function PF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function OF(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let h=PF(e,Math.max(o,0));i.length===1&&(h=h.filter(f=>f!==n));const a=h.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return a!==n?a:void 0}function $F(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,h=t.length-1;o<t.length;h=o++){const l=t[o].x,a=t[o].y,f=t[h].x,u=t[h].y;a>r!=u>r&&n<(f-l)*(r-a)/(u-a)+l&&(i=!i)}return i}function AF(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return $F(n,t)}function Dl(e){return t=>t.pointerType==="mouse"?e(t):void 0}const RF=sF,MF=mE,DF=lF,NF=uF,FF=hF,LF=Mv,IF=pF,jF=yF,BF=wF,zF=xF,VF=_F,UF=CF,HF=TF,CE="DropdownMenu",[WF,JI]=Kt(CE,[dE]),_n=dE(),[YF,EE]=WF(CE),XF=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:h,modal:l=!0}=e,a=_n(t),f=x.useRef(null),[u=!1,s]=yn({prop:i,defaultProp:o,onChange:h});return x.createElement(YF,{scope:t,triggerId:sn(),triggerRef:f,contentId:sn(),open:u,onOpenChange:s,onOpenToggle:x.useCallback(()=>s(c=>!c),[s]),modal:l},x.createElement(RF,le({},a,{open:u,onOpenChange:s,dir:r,modal:l}),n))},GF="DropdownMenuTrigger",KF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=EE(GF,n),h=_n(n);return x.createElement(MF,le({asChild:!0},h),x.createElement(Se.button,le({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:Wf(t,o.triggerRef),onPointerDown:pe(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:pe(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})))}),qF=e=>{const{__scopeDropdownMenu:t,...n}=e,r=_n(t);return x.createElement(DF,le({},r,n))},ZF="DropdownMenuContent",QF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=EE(ZF,n),o=_n(n),h=x.useRef(!1);return x.createElement(NF,le({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,l=>{var a;h.current||(a=i.triggerRef.current)===null||a===void 0||a.focus(),h.current=!1,l.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,l=>{const a=l.detail.originalEvent,f=a.button===0&&a.ctrlKey===!0,u=a.button===2||f;(!i.modal||u)&&(h.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),JF=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(FF,le({},i,r,{ref:t}))}),eL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(LF,le({},i,r,{ref:t}))}),tL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(IF,le({},i,r,{ref:t}))}),nL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(jF,le({},i,r,{ref:t}))}),rL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(BF,le({},i,r,{ref:t}))}),iL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(zF,le({},i,r,{ref:t}))}),oL=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:o}=e,h=_n(t),[l=!1,a]=yn({prop:r,defaultProp:o,onChange:i});return x.createElement(VF,le({},h,{open:l,onOpenChange:a}),n)},sL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(UF,le({},i,r,{ref:t}))}),aL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_n(n);return x.createElement(HF,le({},i,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),lL=XF,cL=KF,uL=qF,TE=QF,kE=JF,PE=eL,OE=tL,$E=nL,AE=rL,RE=iL,fL=oL,ME=sL,DE=aL,dL=lL,hL=cL,pL=fL,NE=x.forwardRef(({className:e,inset:t,children:n,...r},i)=>T.jsxs(ME,{ref:i,className:be("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r,children:[n,T.jsx(aP,{className:"ml-auto h-4 w-4"})]}));NE.displayName=ME.displayName;const FE=x.forwardRef(({className:e,...t},n)=>T.jsx(DE,{ref:n,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));FE.displayName=DE.displayName;const LE=x.forwardRef(({className:e,sideOffset:t=4,...n},r)=>T.jsx(uL,{children:T.jsx(TE,{ref:r,sideOffset:t,className:be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),onCloseAutoFocus:i=>i.preventDefault(),...n})}));LE.displayName=TE.displayName;const mu=x.forwardRef(({className:e,inset:t,...n},r)=>T.jsx(PE,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));mu.displayName=PE.displayName;const mL=x.forwardRef(({className:e,children:t,checked:n,...r},i)=>T.jsxs(OE,{ref:i,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(AE,{children:T.jsx(Rx,{className:"h-4 w-4"})})}),t]}));mL.displayName=OE.displayName;const gL=x.forwardRef(({className:e,children:t,...n},r)=>T.jsxs($E,{ref:r,className:be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[T.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:T.jsx(AE,{children:T.jsx(dP,{className:"h-4 w-4 fill-current"})})}),t]}));gL.displayName=$E.displayName;const vL=x.forwardRef(({className:e,inset:t,...n},r)=>T.jsx(kE,{ref:r,className:be("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));vL.displayName=kE.displayName;const yL=x.forwardRef(({className:e,...t},n)=>T.jsx(RE,{ref:n,className:be("-mx-1 my-1 h-px bg-muted",e),...t}));yL.displayName=RE.displayName;const U1={RemoveBG:{IconClass:py,showName:"RemoveBG"},AnimeSeg:{IconClass:py,showName:"Anime Segmentation"},RealESRGAN:{IconClass:g3,showName:"RealESRGAN"},GFPGAN:{IconClass:my,showName:"GFPGAN"},RestoreFormer:{IconClass:my,showName:"RestoreFormer"},InteractiveSeg:{IconClass:b3,showName:"Interactive Segmentation"}},bL=()=>{const[e,t,n,r,i]=Xe(f=>[f.file,f.serverConfig.plugins,f.isPluginRunning,f.updateInteractiveSegState,f.runRenderablePlugin]),o=!e;if(t.length===0)return null;const h=(f,u)=>{u==="InteractiveSeg"?r({isInteractiveSeg:!0}):i(f,u)},l=f=>{const{IconClass:u,showName:s}=U1[f.name];return T.jsxs(pL,{children:[T.jsx(NE,{disabled:o,children:T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsx(u,{className:"p-1"}),s]})}),T.jsxs(FE,{children:[T.jsx(mu,{onClick:()=>h(!1,f.name),children:"Remove Background"}),T.jsx(mu,{onClick:()=>h(!0,f.name),children:"Generate Mask"})]})]},f.name)},a=()=>t.map(f=>{const{IconClass:u,showName:s}=U1[f.name];return f.name==="RemoveBG"||f.name==="AnimeSeg"?l(f):T.jsx(mu,{onClick:()=>h(!1,f.name),disabled:o,children:T.jsxs("div",{className:"flex gap-2 items-center",children:[T.jsx(u,{className:"p-1"}),s]})},f.name)});return T.jsxs(dL,{modal:!1,children:[T.jsx(hL,{className:"border rounded-lg z-10 bg-background outline-none",tabIndex:-1,children:T.jsx(Ht,{variant:"ghost",size:"icon",asChild:!0,className:"p-1.5",children:n?T.jsx("div",{role:"status",children:T.jsxs("svg",{"aria-hidden":"true",className:"w-5 h-5 animate-spin fill-primary",viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),T.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})}):T.jsx(a3,{strokeWidth:1})})}),T.jsx(LE,{side:"bottom",align:"start",children:a()})]})},wL=pd,xL=M_,SL=md,IE=x.forwardRef(({className:e,...t},n)=>T.jsx(oa,{className:be("fixed inset-0 bg-background/80 backdrop-blur-sm data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));IE.displayName=oa.displayName;const _L=Wl("fixed gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-200 data-[state=open]:duration-300",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jE=x.forwardRef(({side:e="right",className:t,children:n,...r},i)=>T.jsxs(SL,{children:[T.jsx(IE,{}),T.jsx(sa,{ref:i,className:be(_L({side:e}),t),...r,children:n})]}));jE.displayName=sa.displayName;const BE=({className:e,...t})=>T.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",e),...t});BE.displayName="SheetHeader";const CL=x.forwardRef(({className:e,...t},n)=>T.jsx(Ql,{ref:n,className:be("text-lg font-semibold text-foreground",e),...t}));CL.displayName=Ql.displayName;const EL=x.forwardRef(({className:e,...t},n)=>T.jsx(Jl,{ref:n,className:be("text-sm text-muted-foreground",e),...t}));EL.displayName=Jl.displayName;const at=({children:e})=>T.jsx("div",{className:"flex justify-between items-center pr-2",children:e}),Ze=({text:e,toolTip:t="",url:n,htmlFor:r,disabled:i=!1})=>T.jsxs(h_,{children:[T.jsx(p_,{asChild:!0,children:T.jsx(pv,{htmlFor:r||e.toLowerCase().replace(" ","-"),className:"font-medium",disabled:i,children:e})}),t||n?T.jsxs(tv,{className:"flex flex-col max-w-xs text-sm",side:"left",children:[T.jsx("p",{children:t}),n?T.jsx(Ht,{variant:"link",className:"justify-end",children:T.jsx("a",{href:n,target:"_blank",children:"More info"})}):T.jsx(T.Fragment,{})]}):T.jsx(T.Fragment,{})]}),TL=()=>{const[e,t]=Xe(n=>[n.settings,n.updateSettings]);return T.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{htmlFor:"steps",text:"Steps",toolTip:"The number of denoising steps. More denoising steps usually lead to a higher quality image at the expense of slower inference."}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[30],min:1,max:100,step:1,value:[Math.floor(e.ldmSteps)],onValueChange:n=>t({ldmSteps:n[0]})}),T.jsx(Zt,{id:"steps",className:"w-[60px] rounded-full",numberValue:e.ldmSteps,allowFloat:!1,onNumberValueChange:n=>{t({ldmSteps:n})}})]})]}),T.jsxs(at,{children:[T.jsx(Ze,{text:"Sampler"}),T.jsxs(jr,{value:e.ldmSampler,onValueChange:n=>{t({ldmSampler:n})},children:[T.jsx(pr,{className:"w-[100px]",children:T.jsx(zr,{placeholder:"Select sampler"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:Object.values(Lg).map(n=>T.jsx(gr,{value:n,children:n},n))})})]})]})]})},zE=x.forwardRef(({className:e,...t},n)=>{const r=Xe(h=>h.updateAppState),i=()=>{r({disableShortCuts:!0})},o=()=>{r({disableShortCuts:!1})};return T.jsx("textarea",{className:be("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50","overflow-auto",e),tabIndex:-1,ref:n,onFocus:i,onBlur:o,...t})});zE.displayName="Textarea";const Hc=({text:e,onClick:t})=>{const[n]=Xe(r=>[r.settings.showExtender]);return T.jsx(Ht,{variant:"outline",className:"p-1 h-8",disabled:!n,onClick:t,children:T.jsx("div",{className:"flex items-center gap-1",children:e})})},kL=()=>{const[e,t,n,r,i,o,h,l,a,f,u]=Xe(O=>[O.serverConfig.samplers,O.settings,O.paintByExampleFile,O.getIsProcessing(),O.updateSettings,O.runInpainting,O.updateAppState,O.updateExtenderByBuiltIn,O.updateExtenderDirection,O.adjustMask,O.clearMask]),[s,c]=J2(n),d=x.useRef(null),{t:p}=gd();cN(d,()=>{d!=null&&d.current&&d.current.blur()});const g=()=>T.jsxs(at,{children:[T.jsx(Ze,{text:p("Cropper"),toolTip:"Inpainting on part of image, improve inference speed and reduce memory usage."}),T.jsx(Hn,{id:"cropper",checked:t.showCropper,onCheckedChange:O=>{i({showCropper:O}),O&&i({showExtender:!1})}})]}),m=()=>t.model.support_controlnet?T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex justify-between items-center pr-2",children:[T.jsx(Ze,{text:"ControlNet",toolTip:"Using an additional conditioning image to control how an image is generated",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#controlnet"}),T.jsx(Hn,{id:"controlnet",checked:t.enableControlnet,onCheckedChange:O=>{i({enableControlnet:O})}})]}),T.jsx("div",{className:"flex flex-col gap-1",children:T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[100],min:1,max:100,step:1,disabled:!t.enableControlnet,value:[Math.floor(t.controlnetConditioningScale*100)],onValueChange:O=>i({controlnetConditioningScale:O[0]/100})}),T.jsx(Zt,{id:"controlnet-weight",className:"w-[60px] rounded-full",disabled:!t.enableControlnet,numberValue:t.controlnetConditioningScale,allowFloat:!1,onNumberValueChange:O=>{i({controlnetConditioningScale:O})}})]})}),T.jsx("div",{className:"pr-2",children:T.jsxs(jr,{defaultValue:t.controlnetMethod,value:t.controlnetMethod,onValueChange:O=>{i({controlnetMethod:O})},disabled:!t.enableControlnet,children:[T.jsx(pr,{children:T.jsx(zr,{placeholder:"Select control method"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:Object.values(t.model.controlnets).map(O=>T.jsx(gr,{value:O,children:O.split("/")[1]},O))})})]})})]}),T.jsx(Tt,{})]}):null,v=()=>t.model.support_lcm_lora?T.jsxs(T.Fragment,{children:[T.jsxs(at,{children:[T.jsx(Ze,{text:"LCM LoRA",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inference_with_lcm_lora",toolTip:"Enable quality image generation in typically 2-4 steps. Suggest disabling guidance_scale by setting it to 0. You can also try values between 1.0 and 2.0. When LCM Lora is enabled, LCMSampler will be used automatically."}),T.jsx(Hn,{id:"lcm-lora",checked:t.enableLCMLora,onCheckedChange:O=>{i({enableLCMLora:O})}})]}),T.jsx(Tt,{})]}):null,y=()=>t.model.support_freeu?T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex justify-between items-center pr-2",children:[T.jsx(Ze,{text:"FreeU",toolTip:"FreeU is a technique for improving image quality. Different models may require different FreeU-specific hyperparameters, which can be viewed in the more info section.",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/freeu"}),T.jsx(Hn,{id:"freeu",checked:t.enableFreeu,onCheckedChange:O=>{i({enableFreeu:O})}})]}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{className:"flex justify-center gap-6",children:[T.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[T.jsx(Ze,{htmlFor:"freeu-s1",text:"s1",disabled:!t.enableFreeu}),T.jsx(Zt,{id:"freeu-s1",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.s1,allowFloat:!0,onNumberValueChange:O=>{i({freeuConfig:{...t.freeuConfig,s1:O}})}})]}),T.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[T.jsx(Ze,{htmlFor:"freeu-s2",text:"s2",disabled:!t.enableFreeu}),T.jsx(Zt,{id:"freeu-s2",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.s2,allowFloat:!0,onNumberValueChange:O=>{i({freeuConfig:{...t.freeuConfig,s2:O}})}})]})]}),T.jsxs("div",{className:"flex justify-center gap-6",children:[T.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[T.jsx(Ze,{htmlFor:"freeu-b1",text:"b1",disabled:!t.enableFreeu}),T.jsx(Zt,{id:"freeu-b1",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.b1,allowFloat:!0,onNumberValueChange:O=>{i({freeuConfig:{...t.freeuConfig,b1:O}})}})]}),T.jsxs("div",{className:"flex gap-2 items-center justify-center",children:[T.jsx(Ze,{htmlFor:"freeu-b2",text:"b2",disabled:!t.enableFreeu}),T.jsx(Zt,{id:"freeu-b2",className:"w-14",disabled:!t.enableFreeu,numberValue:t.freeuConfig.b2,allowFloat:!0,onNumberValueChange:O=>{i({freeuConfig:{...t.freeuConfig,b2:O}})}})]})]})]}),T.jsx(Tt,{})]}):null,b=()=>t.model.need_prompt?T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsx(Ze,{text:"Negative prompt",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#negative-prompt",toolTip:"Negative prompt guides the model away from generating certain things in an image"}),T.jsx("div",{className:"pl-2 pr-4",children:T.jsx(zE,{ref:d,rows:4,onKeyUp,className:"max-h-[8rem] overflow-y-auto mb-2",placeholder:"",id:"negative-prompt",value:t.negativePrompt,onInput:O=>{O.preventDefault(),O.stopPropagation();const M=O.target;i({negativePrompt:M.value})}})})]}):null,w=()=>t.model.name!==oS?null:T.jsxs("div",{children:[T.jsxs(at,{children:[T.jsx(Ze,{text:"Example Image",toolTip:"An example image to guide image generation."}),T.jsx(m_,{tooltip:"Upload example image",onFileUpload:O=>{h({paintByExampleFile:O})},children:T.jsx(C3,{})})]}),c?T.jsx("div",{className:"flex justify-center items-center",children:T.jsx("img",{src:s.src,alt:"example",className:"max-w-[200px] max-h-[200px] m-3"})}):T.jsx(T.Fragment,{}),T.jsx(Ht,{variant:"default",className:"w-full",disabled:r||!c,onClick:()=>{o("Fantasy-Studio/Paint-by-Example")},children:"Paint"})]}),S=()=>t.model.name!==FO?null:T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{text:"Image guidance scale",toolTip:"Push the generated image towards the inital image. Higher image guidance scale encourages generated images that are closely linked to the source image, usually at the expense of lower image quality.",url:"https://huggingface.co/docs/diffusers/main/en/api/pipelines/pix2pix"}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[150],min:100,max:1e3,step:1,value:[Math.floor(t.p2pImageGuidanceScale*100)],onValueChange:O=>i({p2pImageGuidanceScale:O[0]/100})}),T.jsx(Zt,{id:"image-guidance-scale",className:"w-[60px] rounded-full",numberValue:t.p2pImageGuidanceScale,allowFloat:!0,onNumberValueChange:O=>{i({p2pImageGuidanceScale:O})}})]})]}),_=()=>t.model.support_strength?T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{text:"Strength",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#strength",toolTip:"Strength is a measure of how much noise is added to the base image, which influences how similar the output is to the base image. Higher value means more noise and more different from the base image"}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[100],min:10,max:100,step:1,value:[Math.floor(t.sdStrength*100)],onValueChange:O=>i({sdStrength:O[0]/100})}),T.jsx(Zt,{id:"strength",className:"w-[60px] rounded-full",numberValue:t.sdStrength,allowFloat:!0,onNumberValueChange:O=>{i({sdStrength:O})}})]})]}):null,E=()=>t.model.support_outpainting?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs(at,{children:[T.jsx(Ze,{text:"Extender",toolTip:"Perform outpainting on images to expand it's content."}),T.jsx(Hn,{id:"extender",checked:t.showExtender,onCheckedChange:O=>{i({showExtender:O}),O&&i({showCropper:!1})}})]}),T.jsxs(at,{children:[T.jsxs(jr,{defaultValue:t.extenderDirection,value:t.extenderDirection,onValueChange:O=>{a(O)},children:[T.jsx(pr,{className:"w-[65px] h-7",disabled:!t.showExtender,children:T.jsx(zr,{placeholder:"Select axis"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:Object.values(zt).map(O=>T.jsx(gr,{value:O,children:O},O))})})]}),T.jsxs("div",{className:"flex gap-1 justify-center mt-0",children:[T.jsx(Hc,{text:"1.25x",onClick:()=>l(t.extenderDirection,1.25)}),T.jsx(Hc,{text:"1.5x",onClick:()=>l(t.extenderDirection,1.5)}),T.jsx(Hc,{text:"1.75x",onClick:()=>l(t.extenderDirection,1.75)}),T.jsx(Hc,{text:"2.0x",onClick:()=>l(t.extenderDirection,2)})]})]})]}),T.jsx(Tt,{})]}):null,C=()=>t.model.name!==LO?null:T.jsxs(at,{children:[T.jsx(Ze,{text:"Task",toolTip:"PowerPaint task. When using extender, image-outpainting task will be auto used. For object-removal and image-outpainting, it is recommended to set the guidance_scale at 10 or above."}),T.jsxs(jr,{defaultValue:t.powerpaintTask,value:t.powerpaintTask,onValueChange:O=>{i({powerpaintTask:O})},disabled:t.showExtender,children:[T.jsx(pr,{className:"w-[140px]",children:T.jsx(zr,{placeholder:"Select task"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:[vs.text_guided,vs.object_remove,vs.shape_guided].map(O=>T.jsx(gr,{value:O,children:O},O))})})]})]}),P=()=>T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{htmlFor:"steps",text:"Steps",toolTip:"The number of denoising steps. More denoising steps usually lead to a higher quality image at the expense of slower inference."}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[30],min:1,max:100,step:1,value:[Math.floor(t.sdSteps)],onValueChange:O=>i({sdSteps:O[0]})}),T.jsx(Zt,{id:"steps",className:"w-[60px] rounded-full",numberValue:t.sdSteps,allowFloat:!1,onNumberValueChange:O=>{i({sdSteps:O})}})]})]}),N=()=>T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{text:"Guidance scale",url:"https://huggingface.co/docs/diffusers/main/en/using-diffusers/inpaint#guidance-scale",toolTip:"Guidance scale affects how aligned the text prompt and generated image are. Higher value means the prompt and generated image are closely aligned, so the output is a stricter interpretation of the prompt"}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[750],min:0,max:1500,step:1,value:[Math.floor(t.sdGuidanceScale*100)],onValueChange:O=>i({sdGuidanceScale:O[0]/100})}),T.jsx(Zt,{id:"guidance-scale",className:"w-[60px] rounded-full",numberValue:t.sdGuidanceScale,allowFloat:!0,onNumberValueChange:O=>{i({sdGuidanceScale:O})}})]})]}),B=()=>t.model.name===IO?null:T.jsxs(at,{children:[T.jsx(Ze,{text:"Sampler"}),T.jsxs(jr,{defaultValue:t.sdSampler,value:t.sdSampler,onValueChange:O=>{i({sdSampler:O})},children:[T.jsx(pr,{className:"w-[175px] text-xs",children:T.jsx(zr,{placeholder:"Select sampler"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:e.map(O=>T.jsx(gr,{value:O,className:"text-xs",children:O},O))})})]})]}),I=()=>T.jsxs(at,{children:[T.jsx(Ze,{text:"Seed",toolTip:"Using same parameters and a fixed seed can generate same result image."}),T.jsxs("div",{className:"flex gap-2 justify-center items-center",children:[T.jsx(Hn,{id:"seed",checked:t.seedFixed,onCheckedChange:O=>{i({seedFixed:O})}}),T.jsx(Zt,{id:"seed",className:"w-[100px]",disabled:!t.seedFixed,numberValue:t.seed,allowFloat:!1,onNumberValueChange:O=>{i({seed:O})}})]})]}),V=()=>T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{text:"Mask blur",toolTip:"How much to blur the mask before processing, in pixels. Make the generated inpainting boundaries appear more natural."}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[t.sdMaskBlur],min:0,max:96,step:1,value:[Math.floor(t.sdMaskBlur)],onValueChange:O=>i({sdMaskBlur:O[0]})}),T.jsx(Zt,{id:"mask-blur",className:"w-[60px] rounded-full",numberValue:t.sdMaskBlur,allowFloat:!1,onNumberValueChange:O=>{i({sdMaskBlur:O})}})]})]}),D=()=>T.jsxs(T.Fragment,{children:[T.jsxs(at,{children:[T.jsx(Ze,{text:"Match histograms",toolTip:"Match the inpainting result histogram to the source image histogram",url:"https://github.com/Sanster/lama-cleaner/pull/143#issuecomment-1325859307"}),T.jsx(Hn,{id:"match-histograms",checked:t.sdMatchHistograms,onCheckedChange:O=>{i({sdMatchHistograms:O})}})]}),T.jsx(Tt,{})]}),F=()=>T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex flex-col gap-1",children:[T.jsx(Ze,{htmlFor:"adjustMaskKernelSize",text:p("Adjust Mask"),toolTip:"Expand or shrink mask. Using the slider to adjust the kernel size for dilation or erosion."}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[12],min:1,max:100,step:1,value:[Math.floor(t.adjustMaskKernelSize)],onValueChange:O=>i({adjustMaskKernelSize:O[0]})}),T.jsx(Zt,{id:"adjustMaskKernelSize",className:"w-[60px] rounded-full",numberValue:t.adjustMaskKernelSize,allowFloat:!1,onNumberValueChange:O=>{i({adjustMaskKernelSize:O})}})]}),T.jsxs(at,{children:[T.jsxs("div",{className:"flex gap-1 justify-start",children:[T.jsx(Ht,{variant:"outline",className:"p-1 h-8",onClick:()=>f("expand"),disabled:r,children:T.jsx("div",{className:"flex items-center gap-1 select-none",children:p("Expand")})}),T.jsx(Ht,{variant:"outline",className:"p-1 h-8",onClick:()=>f("shrink"),disabled:r,children:T.jsx("div",{className:"flex items-center gap-1 select-none",children:p("Shrink")})}),T.jsx(Ht,{variant:"outline",className:"p-1 h-8",onClick:()=>f("reverse"),disabled:r,children:T.jsx("div",{className:"flex items-center gap-1 select-none",children:p("Reverse")})})]}),T.jsx(Ht,{variant:"outline",className:"p-1 h-8 justify-self-end",onClick:u,disabled:r,children:T.jsx("div",{className:"flex items-center gap-1 select-none",children:p("Clear")})})]})]}),T.jsx(Tt,{})]});return T.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[g(),E(),F(),C(),P(),N(),S(),_(),B(),I(),b(),T.jsx(Tt,{}),m(),v(),V(),D(),y(),w()]})},PL=()=>{const[e,t]=Xe(n=>[n.settings,n.updateSettings]);return T.jsxs("div",{className:"flex flex-col gap-4 mt-4",children:[T.jsxs(at,{children:[T.jsx(Ze,{text:"CV2 Flag",url:"https://docs.opencv.org/4.8.0/d7/d8b/group__photo__inpaint.html#gga8002a65f5a3328fbf15df81b842d3c3ca892824c38e258feb5e72f308a358d52e"}),T.jsxs(jr,{value:e.cv2Flag,onValueChange:n=>{t({cv2Flag:n})},children:[T.jsx(pr,{className:"w-[160px]",children:T.jsx(zr,{placeholder:"Select flag"})}),T.jsx(mr,{align:"end",children:T.jsx(Br,{children:Object.values(Ig).map(n=>T.jsx(gr,{value:n,children:n},n))})})]})]}),T.jsx(Ze,{text:"CV2 Radius",url:"https://docs.opencv.org/4.8.0/d7/d8b/group__photo__inpaint.html#gga8002a65f5a3328fbf15df81b842d3c3ca892824c38e258feb5e72f308a358d52e"}),T.jsxs(at,{children:[T.jsx(Wn,{className:"w-[180px]",defaultValue:[5],min:1,max:100,step:1,value:[Math.floor(e.cv2Radius)],onValueChange:n=>t({cv2Radius:n[0]})}),T.jsx(Zt,{id:"cv2-radius",className:"w-[60px] rounded-full",numberValue:e.cv2Radius,allowFloat:!1,onNumberValueChange:n=>{t({cv2Radius:n})}})]})]})},OL=()=>{const[e,t]=Xe(o=>[o.settings,o.windowSize]),[n,r]=aN(!0);if(ir("c",()=>{r()}),e.model.name!==cy&&e.model.name!==uy&&e.model.model_type===xi)return null;const i=()=>e.model.name===cy?T.jsx(TL,{}):e.model.name===uy?T.jsx(PL,{}):T.jsx(kL,{});return T.jsxs(wL,{open:n,modal:!1,children:[T.jsx(xL,{tabIndex:-1,className:"z-10 outline-none absolute top-[68px] right-6 rounded-lg border bg-background",hidden:n,children:T.jsx(Ht,{variant:"ghost",size:"icon",asChild:!0,className:"p-1.5",onClick:r,children:T.jsx(c3,{strokeWidth:1})})}),T.jsxs(jE,{side:"right",className:"w-[300px] mt-[60px] outline-none pl-4 pr-1",onOpenAutoFocus:o=>o.preventDefault(),onPointerDownOutside:o=>o.preventDefault(),children:[T.jsxs(BE,{children:[T.jsxs(at,{children:[T.jsx("div",{className:"overflow-hidden mr-8",children:e.model.name.split("/")[e.model.name.split("/").length-1]}),T.jsx(Ht,{variant:"ghost",size:"icon",className:"border h-6 w-6",onClick:r,children:T.jsx(u3,{strokeWidth:1})})]}),T.jsx(Tt,{})]}),T.jsx(bv,{style:{height:t.height-160},className:"pr-3",children:i()})]})]})},$L={name:"Fantasy-Studio/Paint-by-Example",path:"Fantasy-Studio/Paint-by-Example",model_type:"diffusers_other",is_single_file_diffusers:!1,need_prompt:!1,controlnets:[],support_strength:!1,support_outpainting:!1,support_lcm_lora:!1,support_controlnet:!1,support_freeu:!1},AL=()=>{const[e,t]=Xe(n=>[n.file,n.updateSettings]);return x.useEffect(()=>{t({model:$L})},[]),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex gap-3 absolute top-[68px] left-[24px] items-center",children:[T.jsx(bL,{}),T.jsx(QN,{})]}),T.jsx(OL,{}),e?T.jsx(ZN,{file:e}):T.jsx(T.Fragment,{})]})},RL=()=>{const[e,t]=x.useState(window.innerWidth),n=x.useCallback(()=>{t(window.innerWidth)},[]);if(x.useEffect(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),e<768)return"mobile";if(e>=768&&e<1224)return"tablet";if(e>=1224)return"desktop"};function ML(e,t){return t.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in e)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(e,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(e)}function VE(e,t){return new Promise(function(n,r){let i;return DL(e).then(function(o){try{return i=o,n(new Blob([t.slice(0,2),i,t.slice(2)],{type:"image/jpeg"}))}catch(h){return r(h)}},r)})}const DL=e=>new Promise((t,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const o=new DataView(i);let h=0;if(o.getUint16(h)!==65496)return n("not a valid JPEG");for(h+=2;;){const l=o.getUint16(h);if(l===65498)break;const a=o.getUint16(h+2);if(l===65505&&o.getUint32(h+4)===1165519206){const f=h+10;let u;switch(o.getUint16(f)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(o.getUint16(f+2,u)!==42)return n("TIFF header contains invalid version");const s=o.getUint32(f+4,u),c=f+s+2+12*o.getUint16(f+s,u);for(let d=f+s+2;d<c;d+=12)if(o.getUint16(d,u)==274){if(o.getUint16(d+2,u)!==3)return n("Orientation data type is invalid");if(o.getUint32(d+4,u)!==1)return n("Orientation data count is invalid");o.setUint16(d+8,1,u);break}return t(i.slice(h,h+2+a))}h+=2+a}return t(new Blob)}),r.readAsArrayBuffer(e)});var yf={},NL={get exports(){return yf},set exports(e){yf=e}};(function(e){var t,n,r={};NL.exports=r,r.parse=function(i,o){for(var h=r.bin.readUshort,l=r.bin.readUint,a=0,f={},u=new Uint8Array(i),s=u.length-4;l(u,s)!=101010256;)s--;a=s,a+=4;var c=h(u,a+=4);h(u,a+=2);var d=l(u,a+=2),p=l(u,a+=4);a+=4,a=p;for(var g=0;g<c;g++){l(u,a),a+=4,a+=4,a+=4,l(u,a+=4),d=l(u,a+=4);var m=l(u,a+=4),v=h(u,a+=4),y=h(u,a+2),b=h(u,a+4);a+=6;var w=l(u,a+=8);a+=4,a+=v+y+b,r._readLocal(u,w,f,d,m,o)}return f},r._readLocal=function(i,o,h,l,a,f){var u=r.bin.readUshort,s=r.bin.readUint;s(i,o),u(i,o+=4),u(i,o+=2);var c=u(i,o+=2);s(i,o+=2),s(i,o+=4),o+=4;var d=u(i,o+=8),p=u(i,o+=2);o+=2;var g=r.bin.readUTF8(i,o,d);if(o+=d,o+=p,f)h[g]={size:a,csize:l};else{var m=new Uint8Array(i.buffer,o);if(c==0)h[g]=new Uint8Array(m.buffer.slice(o,o+l));else{if(c!=8)throw"unknown compression method: "+c;var v=new Uint8Array(a);r.inflateRaw(m,v),h[g]=v}}},r.inflateRaw=function(i,o){return r.F.inflate(i,o)},r.inflate=function(i,o){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),o)},r.deflate=function(i,o){o==null&&(o={level:6});var h=0,l=new Uint8Array(50+Math.floor(1.1*i.length));l[h]=120,l[h+1]=156,h+=2,h=r.F.deflateRaw(i,l,h,o.level);var a=r.adler(i,0,i.length);return l[h+0]=a>>>24&255,l[h+1]=a>>>16&255,l[h+2]=a>>>8&255,l[h+3]=a>>>0&255,new Uint8Array(l.buffer,0,h+4)},r.deflateRaw=function(i,o){o==null&&(o={level:6});var h=new Uint8Array(50+Math.floor(1.1*i.length)),l=r.F.deflateRaw(i,h,l,o.level);return new Uint8Array(h.buffer,0,l)},r.encode=function(i,o){o==null&&(o=!1);var h=0,l=r.bin.writeUint,a=r.bin.writeUshort,f={};for(var u in i){var s=!r._noNeed(u)&&!o,c=i[u],d=r.crc.crc(c,0,c.length);f[u]={cpr:s,usize:c.length,crc:d,file:s?r.deflateRaw(c):c}}for(var u in f)h+=f[u].file.length+30+46+2*r.bin.sizeUTF8(u);h+=22;var p=new Uint8Array(h),g=0,m=[];for(var u in f){var v=f[u];m.push(g),g=r._writeHeader(p,g,u,v,0)}var y=0,b=g;for(var u in f)v=f[u],m.push(g),g=r._writeHeader(p,g,u,v,1,m[y++]);var w=g-b;return l(p,g,101010256),g+=4,a(p,g+=4,y),a(p,g+=2,y),l(p,g+=2,w),l(p,g+=4,b),g+=4,g+=2,p.buffer},r._noNeed=function(i){var o=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(o)!=-1},r._writeHeader=function(i,o,h,l,a,f){var u=r.bin.writeUint,s=r.bin.writeUshort,c=l.file;return u(i,o,a==0?67324752:33639248),o+=4,a==1&&(o+=2),s(i,o,20),s(i,o+=2,0),s(i,o+=2,l.cpr?8:0),u(i,o+=2,0),u(i,o+=4,l.crc),u(i,o+=4,c.length),u(i,o+=4,l.usize),s(i,o+=4,r.bin.sizeUTF8(h)),s(i,o+=2,0),o+=2,a==1&&(o+=2,o+=2,u(i,o+=6,f),o+=4),o+=r.bin.writeUTF8(i,o,h),a==0&&(i.set(c,o),o+=c.length),o},r.crc={table:function(){for(var i=new Uint32Array(256),o=0;o<256;o++){for(var h=o,l=0;l<8;l++)1&h?h=3988292384^h>>>1:h>>>=1;i[o]=h}return i}(),update:function(i,o,h,l){for(var a=0;a<l;a++)i=r.crc.table[255&(i^o[h+a])]^i>>>8;return i},crc:function(i,o,h){return 4294967295^r.crc.update(4294967295,i,o,h)}},r.adler=function(i,o,h){for(var l=1,a=0,f=o,u=o+h;f<u;){for(var s=Math.min(f+5552,u);f<s;)a+=l+=i[f++];l%=65521,a%=65521}return a<<16|l},r.bin={readUshort:function(i,o){return i[o]|i[o+1]<<8},writeUshort:function(i,o,h){i[o]=255&h,i[o+1]=h>>8&255},readUint:function(i,o){return 16777216*i[o+3]+(i[o+2]<<16|i[o+1]<<8|i[o])},writeUint:function(i,o,h){i[o]=255&h,i[o+1]=h>>8&255,i[o+2]=h>>16&255,i[o+3]=h>>24&255},readASCII:function(i,o,h){for(var l="",a=0;a<h;a++)l+=String.fromCharCode(i[o+a]);return l},writeASCII:function(i,o,h){for(var l=0;l<h.length;l++)i[o+l]=h.charCodeAt(l)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,o,h){for(var l,a="",f=0;f<h;f++)a+="%"+r.bin.pad(i[o+f].toString(16));try{l=decodeURIComponent(a)}catch{return r.bin.readASCII(i,o,h)}return l},writeUTF8:function(i,o,h){for(var l=h.length,a=0,f=0;f<l;f++){var u=h.charCodeAt(f);if(!(4294967168&u))i[o+a]=u,a++;else if(!(4294965248&u))i[o+a]=192|u>>6,i[o+a+1]=128|u>>0&63,a+=2;else if(!(4294901760&u))i[o+a]=224|u>>12,i[o+a+1]=128|u>>6&63,i[o+a+2]=128|u>>0&63,a+=3;else{if(4292870144&u)throw"e";i[o+a]=240|u>>18,i[o+a+1]=128|u>>12&63,i[o+a+2]=128|u>>6&63,i[o+a+3]=128|u>>0&63,a+=4}}return a},sizeUTF8:function(i){for(var o=i.length,h=0,l=0;l<o;l++){var a=i.charCodeAt(l);if(!(4294967168&a))h++;else if(!(4294965248&a))h+=2;else if(!(4294901760&a))h+=3;else{if(4292870144&a)throw"e";h+=4}}return h}},r.F={},r.F.deflateRaw=function(i,o,h,l){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],f=r.F.U,u=r.F._goodIndex;r.F._hash;var s=r.F._putsE,c=0,d=h<<3,p=0,g=i.length;if(l==0){for(;c<g;)s(o,d,c+(B=Math.min(65535,g-c))==g?1:0),d=r.F._copyExact(i,c,B,o,d+8),c+=B;return d>>>3}var m=f.lits,v=f.strt,y=f.prev,b=0,w=0,S=0,_=0,E=0,C=0;for(g>2&&(v[C=r.F._hash(i,0)]=0),c=0;c<g;c++){if(E=C,c+1<g-2){C=r.F._hash(i,c+1);var P=c+1&32767;y[P]=v[C],v[C]=P}if(p<=c){(b>14e3||w>26697)&&g-c>100&&(p<c&&(m[b]=c-p,b+=2,p=c),d=r.F._writeBlock(c==g-1||p==g?1:0,m,b,_,i,S,c-S,o,d),b=w=_=0,S=c);var N=0;c<g-2&&(N=r.F._bestMatch(i,c,y,E,Math.min(a[2],g-c),a[3]));var B=N>>>16,I=65535&N;if(N!=0){I=65535&N;var V=u(B=N>>>16,f.of0);f.lhst[257+V]++;var D=u(I,f.df0);f.dhst[D]++,_+=f.exb[V]+f.dxb[D],m[b]=B<<23|c-p,m[b+1]=I<<16|V<<8|D,b+=2,p=c+B}else f.lhst[i[c]]++;w++}}for(S==c&&i.length!=0||(p<c&&(m[b]=c-p,b+=2,p=c),d=r.F._writeBlock(1,m,b,_,i,S,c-S,o,d),b=0,w=0,b=w=_=0,S=c);7&d;)d++;return d>>>3},r.F._bestMatch=function(i,o,h,l,a,f){var u=32767&o,s=h[u],c=u-s+32768&32767;if(s==u||l!=r.F._hash(i,o-c))return 0;for(var d=0,p=0,g=Math.min(32767,o);c<=g&&--f!=0&&s!=u;){if(d==0||i[o+d]==i[o+d-c]){var m=r.F._howLong(i,o,c);if(m>d){if(p=c,(d=m)>=a)break;c+2<m&&(m=c+2);for(var v=0,y=0;y<m-2;y++){var b=o-c+y+32768&32767,w=b-h[b]+32768&32767;w>v&&(v=w,s=b)}}}c+=(u=s)-(s=h[u])+32768&32767}return d<<16|p},r.F._howLong=function(i,o,h){if(i[o]!=i[o-h]||i[o+1]!=i[o+1-h]||i[o+2]!=i[o+2-h])return 0;var l=o,a=Math.min(i.length,o+258);for(o+=3;o<a&&i[o]==i[o-h];)o++;return o-l},r.F._hash=function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,o,h,l,a,f,u,s,c){var d,p,g,m,v,y,b,w,S,_=r.F.U,E=r.F._putsF,C=r.F._putsE;_.lhst[256]++,p=(d=r.F.getTrees())[0],g=d[1],m=d[2],v=d[3],y=d[4],b=d[5],w=d[6],S=d[7];var P=32+(c+3&7?8-(c+3&7):0)+(u<<3),N=l+r.F.contSize(_.fltree,_.lhst)+r.F.contSize(_.fdtree,_.dhst),B=l+r.F.contSize(_.ltree,_.lhst)+r.F.contSize(_.dtree,_.dhst);B+=14+3*b+r.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var I=0;I<286;I++)_.lhst[I]=0;for(I=0;I<30;I++)_.dhst[I]=0;for(I=0;I<19;I++)_.ihst[I]=0;var V=P<N&&P<B?0:N<B?1:2;if(E(s,c,i),E(s,c+1,V),c+=3,V==0){for(;7&c;)c++;c=r.F._copyExact(a,f,u,s,c)}else{var D,F;if(V==1&&(D=_.fltree,F=_.fdtree),V==2){r.F.makeCodes(_.ltree,p),r.F.revCodes(_.ltree,p),r.F.makeCodes(_.dtree,g),r.F.revCodes(_.dtree,g),r.F.makeCodes(_.itree,m),r.F.revCodes(_.itree,m),D=_.ltree,F=_.dtree,C(s,c,v-257),C(s,c+=5,y-1),C(s,c+=5,b-4),c+=4;for(var O=0;O<b;O++)C(s,c+3*O,_.itree[1+(_.ordr[O]<<1)]);c+=3*b,c=r.F._codeTiny(w,_.itree,s,c),c=r.F._codeTiny(S,_.itree,s,c)}for(var M=f,U=0;U<h;U+=2){for(var k=o[U],R=k>>>23,j=M+(8388607&k);M<j;)c=r.F._writeLit(a[M++],D,s,c);if(R!=0){var A=o[U+1],Y=A>>16,L=A>>8&255,$=255&A;C(s,c=r.F._writeLit(257+L,D,s,c),R-_.of0[L]),c+=_.exb[L],E(s,c=r.F._writeLit($,F,s,c),Y-_.df0[$]),c+=_.dxb[$],M+=R}}c=r.F._writeLit(256,D,s,c)}return c},r.F._copyExact=function(i,o,h,l,a){var f=a>>>3;return l[f]=h,l[f+1]=h>>>8,l[f+2]=255-l[f],l[f+3]=255-l[f+1],f+=4,l.set(new Uint8Array(i.buffer,o,h),f),a+(h+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,o=r.F._hufTree(i.lhst,i.ltree,15),h=r.F._hufTree(i.dhst,i.dtree,15),l=[],a=r.F._lenCodes(i.ltree,l),f=[],u=r.F._lenCodes(i.dtree,f),s=0;s<l.length;s+=2)i.ihst[l[s]]++;for(s=0;s<f.length;s+=2)i.ihst[f[s]]++;for(var c=r.F._hufTree(i.ihst,i.itree,7),d=19;d>4&&i.itree[1+(i.ordr[d-1]<<1)]==0;)d--;return[o,h,c,a,u,d,l,f]},r.F.getSecond=function(i){for(var o=[],h=0;h<i.length;h+=2)o.push(i[h+1]);return o},r.F.nonZero=function(i){for(var o="",h=0;h<i.length;h+=2)i[h+1]!=0&&(o+=(h>>1)+",");return o},r.F.contSize=function(i,o){for(var h=0,l=0;l<o.length;l++)h+=o[l]*i[1+(l<<1)];return h},r.F._codeTiny=function(i,o,h,l){for(var a=0;a<i.length;a+=2){var f=i[a],u=i[a+1];l=r.F._writeLit(f,o,h,l);var s=f==16?2:f==17?3:7;f>15&&(r.F._putsE(h,l,u,s),l+=s)}return l},r.F._lenCodes=function(i,o){for(var h=i.length;h!=2&&i[h-1]==0;)h-=2;for(var l=0;l<h;l+=2){var a=i[l+1],f=l+3<h?i[l+3]:-1,u=l+5<h?i[l+5]:-1,s=l==0?-1:i[l-1];if(a==0&&f==a&&u==a){for(var c=l+5;c+2<h&&i[c+2]==a;)c+=2;(d=Math.min(c+1-l>>>1,138))<11?o.push(17,d-3):o.push(18,d-11),l+=2*d-2}else if(a==s&&f==a&&u==a){for(c=l+5;c+2<h&&i[c+2]==a;)c+=2;var d=Math.min(c+1-l>>>1,6);o.push(16,d-3),l+=2*d-2}else o.push(a,0)}return h>>>1},r.F._hufTree=function(i,o,h){var l=[],a=i.length,f=o.length,u=0;for(u=0;u<f;u+=2)o[u]=0,o[u+1]=0;for(u=0;u<a;u++)i[u]!=0&&l.push({lit:u,f:i[u]});var s=l.length,c=l.slice(0);if(s==0)return 0;if(s==1){var d=l[0].lit;return c=d==0?1:0,o[1+(d<<1)]=1,o[1+(c<<1)]=1,1}l.sort(function(w,S){return w.f-S.f});var p=l[0],g=l[1],m=0,v=1,y=2;for(l[0]={lit:-1,f:p.f+g.f,l:p,r:g,d:0};v!=s-1;)p=m!=v&&(y==s||l[m].f<l[y].f)?l[m++]:l[y++],g=m!=v&&(y==s||l[m].f<l[y].f)?l[m++]:l[y++],l[v++]={lit:-1,f:p.f+g.f,l:p,r:g};var b=r.F.setDepth(l[v-1],0);for(b>h&&(r.F.restrictDepth(c,h,b),b=h),u=0;u<s;u++)o[1+(c[u].lit<<1)]=c[u].d;return b},r.F.setDepth=function(i,o){return i.lit!=-1?(i.d=o,o):Math.max(r.F.setDepth(i.l,o+1),r.F.setDepth(i.r,o+1))},r.F.restrictDepth=function(i,o,h){var l=0,a=1<<h-o,f=0;for(i.sort(function(s,c){return c.d==s.d?s.f-c.f:c.d-s.d}),l=0;l<i.length&&i[l].d>o;l++){var u=i[l].d;i[l].d=o,f+=a-(1<<h-u)}for(f>>>=h-o;f>0;)(u=i[l].d)<o?(i[l].d++,f-=1<<o-u-1):l++;for(;l>=0;l--)i[l].d==o&&f<0&&(i[l].d--,f++);f!=0&&console.log("debt left")},r.F._goodIndex=function(i,o){var h=0;return o[16|h]<=i&&(h|=16),o[8|h]<=i&&(h|=8),o[4|h]<=i&&(h|=4),o[2|h]<=i&&(h|=2),o[1|h]<=i&&(h|=1),h},r.F._writeLit=function(i,o,h,l){return r.F._putsF(h,l,o[i<<1]),l+o[1+(i<<1)]},r.F.inflate=function(i,o){var h=Uint8Array;if(i[0]==3&&i[1]==0)return o||new h(0);var l=r.F,a=l._bitsF,f=l._bitsE,u=l._decodeTiny,s=l.makeCodes,c=l.codes2map,d=l._get17,p=l.U,g=o==null;g&&(o=new h(i.length>>>2<<3));for(var m,v,y=0,b=0,w=0,S=0,_=0,E=0,C=0,P=0,N=0;y==0;)if(y=a(i,N,1),b=a(i,N+1,2),N+=3,b!=0){if(g&&(o=r.F._check(o,P+(1<<17))),b==1&&(m=p.flmap,v=p.fdmap,E=511,C=31),b==2){w=f(i,N,5)+257,S=f(i,N+5,5)+1,_=f(i,N+10,4)+4,N+=14;for(var B=0;B<38;B+=2)p.itree[B]=0,p.itree[B+1]=0;var I=1;for(B=0;B<_;B++){var V=f(i,N+3*B,3);p.itree[1+(p.ordr[B]<<1)]=V,V>I&&(I=V)}N+=3*_,s(p.itree,I),c(p.itree,I,p.imap),m=p.lmap,v=p.dmap,N=u(p.imap,(1<<I)-1,w+S,i,N,p.ttree);var D=l._copyOut(p.ttree,0,w,p.ltree);E=(1<<D)-1;var F=l._copyOut(p.ttree,w,S,p.dtree);C=(1<<F)-1,s(p.ltree,D),c(p.ltree,D,m),s(p.dtree,F),c(p.dtree,F,v)}for(;;){var O=m[d(i,N)&E];N+=15&O;var M=O>>>4;if(!(M>>>8))o[P++]=M;else{if(M==256)break;var U=P+M-254;if(M>264){var k=p.ldef[M-257];U=P+(k>>>3)+f(i,N,7&k),N+=7&k}var R=v[d(i,N)&C];N+=15&R;var j=R>>>4,A=p.ddef[j],Y=(A>>>4)+a(i,N,15&A);for(N+=15&A,g&&(o=r.F._check(o,P+(1<<17)));P<U;)o[P]=o[P++-Y],o[P]=o[P++-Y],o[P]=o[P++-Y],o[P]=o[P++-Y];P=U}}}else{7&N&&(N+=8-(7&N));var L=4+(N>>>3),$=i[L-4]|i[L-3]<<8;g&&(o=r.F._check(o,P+$)),o.set(new h(i.buffer,i.byteOffset+L,$),P),N=L+$<<3,P+=$}return o.length==P?o:o.slice(0,P)},r.F._check=function(i,o){var h=i.length;if(o<=h)return i;var l=new Uint8Array(Math.max(h<<1,o));return l.set(i,0),l},r.F._decodeTiny=function(i,o,h,l,a,f){for(var u=r.F._bitsE,s=r.F._get17,c=0;c<h;){var d=i[s(l,a)&o];a+=15&d;var p=d>>>4;if(p<=15)f[c]=p,c++;else{var g=0,m=0;p==16?(m=3+u(l,a,2),a+=2,g=f[c-1]):p==17?(m=3+u(l,a,3),a+=3):p==18&&(m=11+u(l,a,7),a+=7);for(var v=c+m;c<v;)f[c]=g,c++}}return a},r.F._copyOut=function(i,o,h,l){for(var a=0,f=0,u=l.length>>>1;f<h;){var s=i[f+o];l[f<<1]=0,l[1+(f<<1)]=s,s>a&&(a=s),f++}for(;f<u;)l[f<<1]=0,l[1+(f<<1)]=0,f++;return a},r.F.makeCodes=function(i,o){for(var h,l,a,f,u=r.F.U,s=i.length,c=u.bl_count,d=0;d<=o;d++)c[d]=0;for(d=1;d<s;d+=2)c[i[d]]++;var p=u.next_code;for(h=0,c[0]=0,l=1;l<=o;l++)h=h+c[l-1]<<1,p[l]=h;for(a=0;a<s;a+=2)(f=i[a+1])!=0&&(i[a]=p[f],p[f]++)},r.F.codes2map=function(i,o,h){for(var l=i.length,a=r.F.U.rev15,f=0;f<l;f+=2)if(i[f+1]!=0)for(var u=f>>1,s=i[f+1],c=u<<4|s,d=o-s,p=i[f]<<d,g=p+(1<<d);p!=g;)h[a[p]>>>15-o]=c,p++},r.F.revCodes=function(i,o){for(var h=r.F.U.rev15,l=15-o,a=0;a<i.length;a+=2){var f=i[a]<<o-i[a+1];i[a]=h[f]>>>l}},r.F._putsE=function(i,o,h){h<<=7&o;var l=o>>>3;i[l]|=h,i[l+1]|=h>>>8},r.F._putsF=function(i,o,h){h<<=7&o;var l=o>>>3;i[l]|=h,i[l+1]|=h>>>8,i[l+2]|=h>>>16},r.F._bitsE=function(i,o,h){return(i[o>>>3]|i[1+(o>>>3)]<<8)>>>(7&o)&(1<<h)-1},r.F._bitsF=function(i,o,h){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)&(1<<h)-1},r.F._get17=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16)>>>(7&o)},r.F._get25=function(i,o){return(i[o>>>3]|i[1+(o>>>3)]<<8|i[2+(o>>>3)]<<16|i[3+(o>>>3)]<<24)>>>(7&o)},r.F.U=(t=Uint16Array,n=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var i=r.F.U,o=0;o<32768;o++){var h=o;h=(4278255360&(h=(4042322160&(h=(3435973836&(h=(2863311530&h)>>>1|(1431655765&h)<<1))>>>2|(858993459&h)<<2))>>>4|(252645135&h)<<4))>>>8|(16711935&h)<<8,i.rev15[o]=(h>>>16|h<<16)>>>17}function l(a,f,u){for(;f--!=0;)a.push(0,u)}for(o=0;o<32;o++)i.ldef[o]=i.of0[o]<<3|i.exb[o],i.ddef[o]=i.df0[o]<<4|i.dxb[o];l(i.fltree,144,8),l(i.fltree,112,9),l(i.fltree,24,7),l(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),l(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),l(i.itree,19,0),l(i.ltree,286,0),l(i.dtree,30,0),l(i.ttree,320,0)}()})();var FL=ML({__proto__:null,default:yf},[yf]);const jn=function(){var e={nextZero(u,s){for(;u[s]!=0;)s++;return s},readUshort:(u,s)=>u[s]<<8|u[s+1],writeUshort(u,s,c){u[s]=c>>8&255,u[s+1]=255&c},readUint:(u,s)=>16777216*u[s]+(u[s+1]<<16|u[s+2]<<8|u[s+3]),writeUint(u,s,c){u[s]=c>>24&255,u[s+1]=c>>16&255,u[s+2]=c>>8&255,u[s+3]=255&c},readASCII(u,s,c){let d="";for(let p=0;p<c;p++)d+=String.fromCharCode(u[s+p]);return d},writeASCII(u,s,c){for(let d=0;d<c.length;d++)u[s+d]=c.charCodeAt(d)},readBytes(u,s,c){const d=[];for(let p=0;p<c;p++)d.push(u[s+p]);return d},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,s,c){let d,p="";for(let g=0;g<c;g++)p+=`%${e.pad(u[s+g].toString(16))}`;try{d=decodeURIComponent(p)}catch{return e.readASCII(u,s,c)}return d}};function t(u,s,c,d){const p=s*c,g=o(d),m=Math.ceil(s*g/8),v=new Uint8Array(4*p),y=new Uint32Array(v.buffer),{ctype:b}=d,{depth:w}=d,S=e.readUshort;if(b==6){const k=p<<2;if(w==8)for(var _=0;_<k;_+=4)v[_]=u[_],v[_+1]=u[_+1],v[_+2]=u[_+2],v[_+3]=u[_+3];if(w==16)for(_=0;_<k;_++)v[_]=u[_<<1]}else if(b==2){const k=d.tabs.tRNS;if(k==null){if(w==8)for(_=0;_<p;_++){var E=3*_;y[_]=255<<24|u[E+2]<<16|u[E+1]<<8|u[E]}if(w==16)for(_=0;_<p;_++)E=6*_,y[_]=255<<24|u[E+4]<<16|u[E+2]<<8|u[E]}else{var C=k[0];const R=k[1],j=k[2];if(w==8)for(_=0;_<p;_++){var P=_<<2;E=3*_,y[_]=255<<24|u[E+2]<<16|u[E+1]<<8|u[E],u[E]==C&&u[E+1]==R&&u[E+2]==j&&(v[P+3]=0)}if(w==16)for(_=0;_<p;_++)P=_<<2,E=6*_,y[_]=255<<24|u[E+4]<<16|u[E+2]<<8|u[E],S(u,E)==C&&S(u,E+2)==R&&S(u,E+4)==j&&(v[P+3]=0)}}else if(b==3){const k=d.tabs.PLTE,R=d.tabs.tRNS,j=R?R.length:0;if(w==1)for(var N=0;N<c;N++){var B=N*m,I=N*s;for(_=0;_<s;_++){P=I+_<<2;var V=3*(D=u[B+(_>>3)]>>7-((7&_)<<0)&1);v[P]=k[V],v[P+1]=k[V+1],v[P+2]=k[V+2],v[P+3]=D<j?R[D]:255}}if(w==2)for(N=0;N<c;N++)for(B=N*m,I=N*s,_=0;_<s;_++)P=I+_<<2,V=3*(D=u[B+(_>>2)]>>6-((3&_)<<1)&3),v[P]=k[V],v[P+1]=k[V+1],v[P+2]=k[V+2],v[P+3]=D<j?R[D]:255;if(w==4)for(N=0;N<c;N++)for(B=N*m,I=N*s,_=0;_<s;_++)P=I+_<<2,V=3*(D=u[B+(_>>1)]>>4-((1&_)<<2)&15),v[P]=k[V],v[P+1]=k[V+1],v[P+2]=k[V+2],v[P+3]=D<j?R[D]:255;if(w==8)for(_=0;_<p;_++){var D;P=_<<2,V=3*(D=u[_]),v[P]=k[V],v[P+1]=k[V+1],v[P+2]=k[V+2],v[P+3]=D<j?R[D]:255}}else if(b==4){if(w==8)for(_=0;_<p;_++){P=_<<2;var F=u[O=_<<1];v[P]=F,v[P+1]=F,v[P+2]=F,v[P+3]=u[O+1]}if(w==16)for(_=0;_<p;_++){var O;P=_<<2,F=u[O=_<<2],v[P]=F,v[P+1]=F,v[P+2]=F,v[P+3]=u[O+2]}}else if(b==0)for(C=d.tabs.tRNS?d.tabs.tRNS:-1,N=0;N<c;N++){const k=N*m,R=N*s;if(w==1)for(var M=0;M<s;M++){var U=(F=255*(u[k+(M>>>3)]>>>7-(7&M)&1))==255*C?0:255;y[R+M]=U<<24|F<<16|F<<8|F}else if(w==2)for(M=0;M<s;M++)U=(F=85*(u[k+(M>>>2)]>>>6-((3&M)<<1)&3))==85*C?0:255,y[R+M]=U<<24|F<<16|F<<8|F;else if(w==4)for(M=0;M<s;M++)U=(F=17*(u[k+(M>>>1)]>>>4-((1&M)<<2)&15))==17*C?0:255,y[R+M]=U<<24|F<<16|F<<8|F;else if(w==8)for(M=0;M<s;M++)U=(F=u[k+M])==C?0:255,y[R+M]=U<<24|F<<16|F<<8|F;else if(w==16)for(M=0;M<s;M++)F=u[k+(M<<1)],U=S(u,k+(M<<1))==C?0:255,y[R+M]=U<<24|F<<16|F<<8|F}return v}function n(u,s,c,d){const p=o(u),g=Math.ceil(c*p/8),m=new Uint8Array((g+1+u.interlace)*d);return s=u.tabs.CgBI?i(s,m):r(s,m),u.interlace==0?s=h(s,u,0,c,d):u.interlace==1&&(s=function(y,b){const w=b.width,S=b.height,_=o(b),E=_>>3,C=Math.ceil(w*_/8),P=new Uint8Array(S*C);let N=0;const B=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],V=[8,8,8,4,4,2,2],D=[8,8,4,4,2,2,1];let F=0;for(;F<7;){const M=V[F],U=D[F];let k=0,R=0,j=B[F];for(;j<S;)j+=M,R++;let A=I[F];for(;A<w;)A+=U,k++;const Y=Math.ceil(k*_/8);h(y,b,N,k,R);let L=0,$=B[F];for(;$<S;){let H=I[F],W=N+L*Y<<3;for(;H<w;){var O;if(_==1&&(O=(O=y[W>>3])>>7-(7&W)&1,P[$*C+(H>>3)]|=O<<7-((7&H)<<0)),_==2&&(O=(O=y[W>>3])>>6-(7&W)&3,P[$*C+(H>>2)]|=O<<6-((3&H)<<1)),_==4&&(O=(O=y[W>>3])>>4-(7&W)&15,P[$*C+(H>>1)]|=O<<4-((1&H)<<2)),_>=8){const K=$*C+H*E;for(let G=0;G<E;G++)P[K+G]=y[(W>>3)+G]}W+=_,H+=U}L++,$+=M}k*R!=0&&(N+=R*(1+Y)),F+=1}return P}(s,u)),s}function r(u,s){return i(new Uint8Array(u.buffer,2,u.length-6),s)}var i=function(){const u={H:{}};return u.H.N=function(s,c){const d=Uint8Array;let p,g,m=0,v=0,y=0,b=0,w=0,S=0,_=0,E=0,C=0;if(s[0]==3&&s[1]==0)return c||new d(0);const P=u.H,N=P.b,B=P.e,I=P.R,V=P.n,D=P.A,F=P.Z,O=P.m,M=c==null;for(M&&(c=new d(s.length>>>2<<5));m==0;)if(m=N(s,C,1),v=N(s,C+1,2),C+=3,v!=0){if(M&&(c=u.H.W(c,E+(1<<17))),v==1&&(p=O.J,g=O.h,S=511,_=31),v==2){y=B(s,C,5)+257,b=B(s,C+5,5)+1,w=B(s,C+10,4)+4,C+=14;let k=1;for(var U=0;U<38;U+=2)O.Q[U]=0,O.Q[U+1]=0;for(U=0;U<w;U++){const A=B(s,C+3*U,3);O.Q[1+(O.X[U]<<1)]=A,A>k&&(k=A)}C+=3*w,V(O.Q,k),D(O.Q,k,O.u),p=O.w,g=O.d,C=I(O.u,(1<<k)-1,y+b,s,C,O.v);const R=P.V(O.v,0,y,O.C);S=(1<<R)-1;const j=P.V(O.v,y,b,O.D);_=(1<<j)-1,V(O.C,R),D(O.C,R,p),V(O.D,j),D(O.D,j,g)}for(;;){const k=p[F(s,C)&S];C+=15&k;const R=k>>>4;if(!(R>>>8))c[E++]=R;else{if(R==256)break;{let j=E+R-254;if(R>264){const H=O.q[R-257];j=E+(H>>>3)+B(s,C,7&H),C+=7&H}const A=g[F(s,C)&_];C+=15&A;const Y=A>>>4,L=O.c[Y],$=(L>>>4)+N(s,C,15&L);for(C+=15&L;E<j;)c[E]=c[E++-$],c[E]=c[E++-$],c[E]=c[E++-$],c[E]=c[E++-$];E=j}}}}else{7&C&&(C+=8-(7&C));const k=4+(C>>>3),R=s[k-4]|s[k-3]<<8;M&&(c=u.H.W(c,E+R)),c.set(new d(s.buffer,s.byteOffset+k,R),E),C=k+R<<3,E+=R}return c.length==E?c:c.slice(0,E)},u.H.W=function(s,c){const d=s.length;if(c<=d)return s;const p=new Uint8Array(d<<1);return p.set(s,0),p},u.H.R=function(s,c,d,p,g,m){const v=u.H.e,y=u.H.Z;let b=0;for(;b<d;){const w=s[y(p,g)&c];g+=15&w;const S=w>>>4;if(S<=15)m[b]=S,b++;else{let _=0,E=0;S==16?(E=3+v(p,g,2),g+=2,_=m[b-1]):S==17?(E=3+v(p,g,3),g+=3):S==18&&(E=11+v(p,g,7),g+=7);const C=b+E;for(;b<C;)m[b]=_,b++}}return g},u.H.V=function(s,c,d,p){let g=0,m=0;const v=p.length>>>1;for(;m<d;){const y=s[m+c];p[m<<1]=0,p[1+(m<<1)]=y,y>g&&(g=y),m++}for(;m<v;)p[m<<1]=0,p[1+(m<<1)]=0,m++;return g},u.H.n=function(s,c){const d=u.H.m,p=s.length;let g,m,v,y;const b=d.j;for(var w=0;w<=c;w++)b[w]=0;for(w=1;w<p;w+=2)b[s[w]]++;const S=d.K;for(g=0,b[0]=0,m=1;m<=c;m++)g=g+b[m-1]<<1,S[m]=g;for(v=0;v<p;v+=2)y=s[v+1],y!=0&&(s[v]=S[y],S[y]++)},u.H.A=function(s,c,d){const p=s.length,g=u.H.m.r;for(let m=0;m<p;m+=2)if(s[m+1]!=0){const v=m>>1,y=s[m+1],b=v<<4|y,w=c-y;let S=s[m]<<w;const _=S+(1<<w);for(;S!=_;)d[g[S]>>>15-c]=b,S++}},u.H.l=function(s,c){const d=u.H.m.r,p=15-c;for(let g=0;g<s.length;g+=2){const m=s[g]<<c-s[g+1];s[g]=d[m]>>>p}},u.H.M=function(s,c,d){d<<=7&c;const p=c>>>3;s[p]|=d,s[p+1]|=d>>>8},u.H.I=function(s,c,d){d<<=7&c;const p=c>>>3;s[p]|=d,s[p+1]|=d>>>8,s[p+2]|=d>>>16},u.H.e=function(s,c,d){return(s[c>>>3]|s[1+(c>>>3)]<<8)>>>(7&c)&(1<<d)-1},u.H.b=function(s,c,d){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16)>>>(7&c)&(1<<d)-1},u.H.Z=function(s,c){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16)>>>(7&c)},u.H.i=function(s,c){return(s[c>>>3]|s[1+(c>>>3)]<<8|s[2+(c>>>3)]<<16|s[3+(c>>>3)]<<24)>>>(7&c)},u.H.m=function(){const s=Uint16Array,c=Uint32Array;return{K:new s(16),j:new s(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new s(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new c(32),J:new s(512),_:[],h:new s(32),$:[],w:new s(32768),C:[],v:[],d:new s(32768),D:[],u:new s(512),Q:[],r:new s(32768),s:new c(286),Y:new c(30),a:new c(19),t:new c(15e3),k:new s(65536),g:new s(32768)}}(),function(){const s=u.H.m;for(var c=0;c<32768;c++){let p=c;p=(2863311530&p)>>>1|(1431655765&p)<<1,p=(3435973836&p)>>>2|(858993459&p)<<2,p=(4042322160&p)>>>4|(252645135&p)<<4,p=(4278255360&p)>>>8|(16711935&p)<<8,s.r[c]=(p>>>16|p<<16)>>>17}function d(p,g,m){for(;g--!=0;)p.push(0,m)}for(c=0;c<32;c++)s.q[c]=s.S[c]<<3|s.T[c],s.c[c]=s.p[c]<<4|s.z[c];d(s._,144,8),d(s._,112,9),d(s._,24,7),d(s._,8,8),u.H.n(s._,9),u.H.A(s._,9,s.J),u.H.l(s._,9),d(s.$,32,5),u.H.n(s.$,5),u.H.A(s.$,5,s.h),u.H.l(s.$,5),d(s.Q,19,0),d(s.C,286,0),d(s.D,30,0),d(s.v,320,0)}(),u.H.N}();function o(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function h(u,s,c,d,p){let g=o(s);const m=Math.ceil(d*g/8);let v,y;g=Math.ceil(g/8);let b=u[c],w=0;if(b>1&&(u[c]=[0,0,1][b-2]),b==3)for(w=g;w<m;w++)u[w+1]=u[w+1]+(u[w+1-g]>>>1)&255;for(let S=0;S<p;S++)if(v=c+S*m,y=v+S+1,b=u[y-1],w=0,b==0)for(;w<m;w++)u[v+w]=u[y+w];else if(b==1){for(;w<g;w++)u[v+w]=u[y+w];for(;w<m;w++)u[v+w]=u[y+w]+u[v+w-g]}else if(b==2)for(;w<m;w++)u[v+w]=u[y+w]+u[v+w-m];else if(b==3){for(;w<g;w++)u[v+w]=u[y+w]+(u[v+w-m]>>>1);for(;w<m;w++)u[v+w]=u[y+w]+(u[v+w-m]+u[v+w-g]>>>1)}else{for(;w<g;w++)u[v+w]=u[y+w]+l(0,u[v+w-m],0);for(;w<m;w++)u[v+w]=u[y+w]+l(u[v+w-g],u[v+w-m],u[v+w-g-m])}return u}function l(u,s,c){const d=u+s-c,p=d-u,g=d-s,m=d-c;return p*p<=g*g&&p*p<=m*m?u:g*g<=m*m?s:c}function a(u,s,c){c.width=e.readUint(u,s),s+=4,c.height=e.readUint(u,s),s+=4,c.depth=u[s],s++,c.ctype=u[s],s++,c.compress=u[s],s++,c.filter=u[s],s++,c.interlace=u[s],s++}function f(u,s,c,d,p,g,m,v,y){const b=Math.min(s,p),w=Math.min(c,g);let S=0,_=0;for(let F=0;F<w;F++)for(let O=0;O<b;O++)if(m>=0&&v>=0?(S=F*s+O<<2,_=(v+F)*p+m+O<<2):(S=(-v+F)*s-m+O<<2,_=F*p+O<<2),y==0)d[_]=u[S],d[_+1]=u[S+1],d[_+2]=u[S+2],d[_+3]=u[S+3];else if(y==1){var E=u[S+3]*.00392156862745098,C=u[S]*E,P=u[S+1]*E,N=u[S+2]*E,B=d[_+3]*(1/255),I=d[_]*B,V=d[_+1]*B,D=d[_+2]*B;const M=1-E,U=E+B*M,k=U==0?0:1/U;d[_+3]=255*U,d[_+0]=(C+I*M)*k,d[_+1]=(P+V*M)*k,d[_+2]=(N+D*M)*k}else if(y==2)E=u[S+3],C=u[S],P=u[S+1],N=u[S+2],B=d[_+3],I=d[_],V=d[_+1],D=d[_+2],E==B&&C==I&&P==V&&N==D?(d[_]=0,d[_+1]=0,d[_+2]=0,d[_+3]=0):(d[_]=C,d[_+1]=P,d[_+2]=N,d[_+3]=E);else if(y==3){if(E=u[S+3],C=u[S],P=u[S+1],N=u[S+2],B=d[_+3],I=d[_],V=d[_+1],D=d[_+2],E==B&&C==I&&P==V&&N==D)continue;if(E<220&&B>20)return!1}return!0}return{decode:function(s){const c=new Uint8Array(s);let d=8;const p=e,g=p.readUshort,m=p.readUint,v={tabs:{},frames:[]},y=new Uint8Array(c.length);let b,w=0,S=0;const _=[137,80,78,71,13,10,26,10];for(var E=0;E<8;E++)if(c[E]!=_[E])throw"The input is not a PNG file!";for(;d<c.length;){const F=p.readUint(c,d);d+=4;const O=p.readASCII(c,d,4);if(d+=4,O=="IHDR")a(c,d,v);else if(O=="iCCP"){for(var C=d;c[C]!=0;)C++;p.readASCII(c,d,C-d),c[C+1];const M=c.slice(C+2,d+F);let U=null;try{U=r(M)}catch{U=i(M)}v.tabs[O]=U}else if(O=="CgBI")v.tabs[O]=c.slice(d,d+4);else if(O=="IDAT"){for(E=0;E<F;E++)y[w+E]=c[d+E];w+=F}else if(O=="acTL")v.tabs[O]={num_frames:m(c,d),num_plays:m(c,d+4)},b=new Uint8Array(c.length);else if(O=="fcTL"){S!=0&&((D=v.frames[v.frames.length-1]).data=n(v,b.slice(0,S),D.rect.width,D.rect.height),S=0);const M={x:m(c,d+12),y:m(c,d+16),width:m(c,d+4),height:m(c,d+8)};let U=g(c,d+22);U=g(c,d+20)/(U==0?100:U);const k={rect:M,delay:Math.round(1e3*U),dispose:c[d+24],blend:c[d+25]};v.frames.push(k)}else if(O=="fdAT"){for(E=0;E<F-4;E++)b[S+E]=c[d+E+4];S+=F-4}else if(O=="pHYs")v.tabs[O]=[p.readUint(c,d),p.readUint(c,d+4),c[d+8]];else if(O=="cHRM")for(v.tabs[O]=[],E=0;E<8;E++)v.tabs[O].push(p.readUint(c,d+4*E));else if(O=="tEXt"||O=="zTXt"){v.tabs[O]==null&&(v.tabs[O]={});var P=p.nextZero(c,d),N=p.readASCII(c,d,P-d),B=d+F-P-1;if(O=="tEXt")V=p.readASCII(c,P+1,B);else{var I=r(c.slice(P+2,P+2+B));V=p.readUTF8(I,0,I.length)}v.tabs[O][N]=V}else if(O=="iTXt"){v.tabs[O]==null&&(v.tabs[O]={}),P=0,C=d,P=p.nextZero(c,C),N=p.readASCII(c,C,P-C);const M=c[C=P+1];var V;c[C+1],C+=2,P=p.nextZero(c,C),p.readASCII(c,C,P-C),C=P+1,P=p.nextZero(c,C),p.readUTF8(c,C,P-C),B=F-((C=P+1)-d),M==0?V=p.readUTF8(c,C,B):(I=r(c.slice(C,C+B)),V=p.readUTF8(I,0,I.length)),v.tabs[O][N]=V}else if(O=="PLTE")v.tabs[O]=p.readBytes(c,d,F);else if(O=="hIST"){const M=v.tabs.PLTE.length/3;for(v.tabs[O]=[],E=0;E<M;E++)v.tabs[O].push(g(c,d+2*E))}else if(O=="tRNS")v.ctype==3?v.tabs[O]=p.readBytes(c,d,F):v.ctype==0?v.tabs[O]=g(c,d):v.ctype==2&&(v.tabs[O]=[g(c,d),g(c,d+2),g(c,d+4)]);else if(O=="gAMA")v.tabs[O]=p.readUint(c,d)/1e5;else if(O=="sRGB")v.tabs[O]=c[d];else if(O=="bKGD")v.ctype==0||v.ctype==4?v.tabs[O]=[g(c,d)]:v.ctype==2||v.ctype==6?v.tabs[O]=[g(c,d),g(c,d+2),g(c,d+4)]:v.ctype==3&&(v.tabs[O]=c[d]);else if(O=="IEND")break;d+=F,p.readUint(c,d),d+=4}var D;return S!=0&&((D=v.frames[v.frames.length-1]).data=n(v,b.slice(0,S),D.rect.width,D.rect.height)),v.data=n(v,y,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(s){const c=s.width,d=s.height;if(s.tabs.acTL==null)return[t(s.data,c,d,s).buffer];const p=[];s.frames[0].data==null&&(s.frames[0].data=s.data);const g=c*d*4,m=new Uint8Array(g),v=new Uint8Array(g),y=new Uint8Array(g);for(let w=0;w<s.frames.length;w++){const S=s.frames[w],_=S.rect.x,E=S.rect.y,C=S.rect.width,P=S.rect.height,N=t(S.data,C,P,s);if(w!=0)for(var b=0;b<g;b++)y[b]=m[b];if(S.blend==0?f(N,C,P,m,c,d,_,E,0):S.blend==1&&f(N,C,P,m,c,d,_,E,1),p.push(m.buffer.slice(0)),S.dispose!=0){if(S.dispose==1)f(v,C,P,m,c,d,_,E,0);else if(S.dispose==2)for(b=0;b<g;b++)m[b]=y[b]}}return p},_paeth:l,_copyTile:f,_bin:e}}();(function(){const{_copyTile:e}=jn,{_bin:t}=jn,n=jn._paeth;var r={table:function(){const C=new Uint32Array(256);for(let P=0;P<256;P++){let N=P;for(let B=0;B<8;B++)1&N?N=3988292384^N>>>1:N>>>=1;C[P]=N}return C}(),update(C,P,N,B){for(let I=0;I<B;I++)C=r.table[255&(C^P[N+I])]^C>>>8;return C},crc:(C,P,N)=>4294967295^r.update(4294967295,C,P,N)};function i(C,P,N,B){P[N]+=C[0]*B>>4,P[N+1]+=C[1]*B>>4,P[N+2]+=C[2]*B>>4,P[N+3]+=C[3]*B>>4}function o(C){return Math.max(0,Math.min(255,C))}function h(C,P){const N=C[0]-P[0],B=C[1]-P[1],I=C[2]-P[2],V=C[3]-P[3];return N*N+B*B+I*I+V*V}function l(C,P,N,B,I,V,D){D==null&&(D=1);const F=B.length,O=[];for(var M=0;M<F;M++){const $=B[M];O.push([$>>>0&255,$>>>8&255,$>>>16&255,$>>>24&255])}for(M=0;M<F;M++){let $=4294967295;for(var U=0,k=0;k<F;k++){var R=h(O[M],O[k]);k!=M&&R<$&&($=R,U=k)}}const j=new Uint32Array(I.buffer),A=new Int16Array(P*N*4),Y=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(M=0;M<Y.length;M++)Y[M]=255*((Y[M]+.5)/16-.5);for(let $=0;$<N;$++)for(let H=0;H<P;H++){var L;M=4*($*P+H),D!=2?L=[o(C[M]+A[M]),o(C[M+1]+A[M+1]),o(C[M+2]+A[M+2]),o(C[M+3]+A[M+3])]:(R=Y[4*(3&$)+(3&H)],L=[o(C[M]+R),o(C[M+1]+R),o(C[M+2]+R),o(C[M+3]+R)]),U=0;let W=16777215;for(k=0;k<F;k++){const J=h(L,O[k]);J<W&&(W=J,U=k)}const K=O[U],G=[L[0]-K[0],L[1]-K[1],L[2]-K[2],L[3]-K[3]];D==1&&(H!=P-1&&i(G,A,M+4,7),$!=N-1&&(H!=0&&i(G,A,M+4*P-4,3),i(G,A,M+4*P,5),H!=P-1&&i(G,A,M+4*P+4,1))),V[M>>2]=U,j[M>>2]=B[U]}}function a(C,P,N,B,I){I==null&&(I={});const{crc:V}=r,D=t.writeUint,F=t.writeUshort,O=t.writeASCII;let M=8;const U=C.frames.length>1;let k,R=!1,j=33+(U?20:0);if(I.sRGB!=null&&(j+=13),I.pHYs!=null&&(j+=21),I.iCCP!=null&&(k=pako.deflate(I.iCCP),j+=21+k.length+4),C.ctype==3){for(var A=C.plte.length,Y=0;Y<A;Y++)C.plte[Y]>>>24!=255&&(R=!0);j+=8+3*A+4+(R?8+1*A+4:0)}for(var L=0;L<C.frames.length;L++)U&&(j+=38),j+=(K=C.frames[L]).cimg.length+12,L!=0&&(j+=4);j+=12;const $=new Uint8Array(j),H=[137,80,78,71,13,10,26,10];for(Y=0;Y<8;Y++)$[Y]=H[Y];if(D($,M,13),M+=4,O($,M,"IHDR"),M+=4,D($,M,P),M+=4,D($,M,N),M+=4,$[M]=C.depth,M++,$[M]=C.ctype,M++,$[M]=0,M++,$[M]=0,M++,$[M]=0,M++,D($,M,V($,M-17,17)),M+=4,I.sRGB!=null&&(D($,M,1),M+=4,O($,M,"sRGB"),M+=4,$[M]=I.sRGB,M++,D($,M,V($,M-5,5)),M+=4),I.iCCP!=null){const G=13+k.length;D($,M,G),M+=4,O($,M,"iCCP"),M+=4,O($,M,"ICC profile"),M+=11,M+=2,$.set(k,M),M+=k.length,D($,M,V($,M-(G+4),G+4)),M+=4}if(I.pHYs!=null&&(D($,M,9),M+=4,O($,M,"pHYs"),M+=4,D($,M,I.pHYs[0]),M+=4,D($,M,I.pHYs[1]),M+=4,$[M]=I.pHYs[2],M++,D($,M,V($,M-13,13)),M+=4),U&&(D($,M,8),M+=4,O($,M,"acTL"),M+=4,D($,M,C.frames.length),M+=4,D($,M,I.loop!=null?I.loop:0),M+=4,D($,M,V($,M-12,12)),M+=4),C.ctype==3){for(D($,M,3*(A=C.plte.length)),M+=4,O($,M,"PLTE"),M+=4,Y=0;Y<A;Y++){const G=3*Y,J=C.plte[Y],ee=255&J,ce=J>>>8&255,te=J>>>16&255;$[M+G+0]=ee,$[M+G+1]=ce,$[M+G+2]=te}if(M+=3*A,D($,M,V($,M-3*A-4,3*A+4)),M+=4,R){for(D($,M,A),M+=4,O($,M,"tRNS"),M+=4,Y=0;Y<A;Y++)$[M+Y]=C.plte[Y]>>>24&255;M+=A,D($,M,V($,M-A-4,A+4)),M+=4}}let W=0;for(L=0;L<C.frames.length;L++){var K=C.frames[L];U&&(D($,M,26),M+=4,O($,M,"fcTL"),M+=4,D($,M,W++),M+=4,D($,M,K.rect.width),M+=4,D($,M,K.rect.height),M+=4,D($,M,K.rect.x),M+=4,D($,M,K.rect.y),M+=4,F($,M,B[L]),M+=2,F($,M,1e3),M+=2,$[M]=K.dispose,M++,$[M]=K.blend,M++,D($,M,V($,M-30,30)),M+=4);const G=K.cimg;D($,M,(A=G.length)+(L==0?0:4)),M+=4;const J=M;O($,M,L==0?"IDAT":"fdAT"),M+=4,L!=0&&(D($,M,W++),M+=4),$.set(G,M),M+=A,D($,M,V($,J,M-J)),M+=4}return D($,M,0),M+=4,O($,M,"IEND"),M+=4,D($,M,V($,M-4,4)),M+=4,$.buffer}function f(C,P,N){for(let B=0;B<C.frames.length;B++){const I=C.frames[B];I.rect.width;const V=I.rect.height,D=new Uint8Array(V*I.bpl+V);I.cimg=d(I.img,V,I.bpp,I.bpl,D,P,N)}}function u(C,P,N,B,I){const V=I[0],D=I[1],F=I[2],O=I[3],M=I[4],U=I[5];let k=6,R=8,j=255;for(var A=0;A<C.length;A++){const se=new Uint8Array(C[A]);for(var Y=se.length,L=0;L<Y;L+=4)j&=se[L+3]}const $=j!=255,H=function(ne,z,X,Q,ie,q){const re=[];for(var ue=0;ue<ne.length;ue++){const Ce=new Uint8Array(ne[ue]),tt=new Uint32Array(Ce.buffer);var ge;let Ue=0,Ct=0,xt=z,gt=X,Lo=Q?1:0;if(ue!=0){const sc=q||Q||ue==1||re[ue-2].dispose!=0?1:2;let Io=0,ac=1e9;for(let ti=0;ti<sc;ti++){var _e=new Uint8Array(ne[ue-1-ti]);const ua=new Uint32Array(ne[ue-1-ti]);let Fn=z,Ln=X,ni=-1,Ki=-1;for(let Tr=0;Tr<X;Tr++)for(let ae=0;ae<z;ae++)tt[Ae=Tr*z+ae]!=ua[Ae]&&(ae<Fn&&(Fn=ae),ae>ni&&(ni=ae),Tr<Ln&&(Ln=Tr),Tr>Ki&&(Ki=Tr));ni==-1&&(Fn=Ln=ni=Ki=0),ie&&((1&Fn)==1&&Fn--,(1&Ln)==1&&Ln--);const lc=(ni-Fn+1)*(Ki-Ln+1);lc<ac&&(ac=lc,Io=ti,Ue=Fn,Ct=Ln,xt=ni-Fn+1,gt=Ki-Ln+1)}_e=new Uint8Array(ne[ue-1-Io]),Io==1&&(re[ue-1].dispose=2),ge=new Uint8Array(xt*gt*4),e(_e,z,X,ge,xt,gt,-Ue,-Ct,0),Lo=e(Ce,z,X,ge,xt,gt,-Ue,-Ct,3)?1:0,Lo==1?c(Ce,z,X,ge,{x:Ue,y:Ct,width:xt,height:gt}):e(Ce,z,X,ge,xt,gt,-Ue,-Ct,0)}else ge=Ce.slice(0);re.push({rect:{x:Ue,y:Ct,width:xt,height:gt},img:ge,blend:Lo,dispose:0})}if(Q)for(ue=0;ue<re.length;ue++){if((Ie=re[ue]).blend==1)continue;const Ce=Ie.rect,tt=re[ue-1].rect,Ue=Math.min(Ce.x,tt.x),Ct=Math.min(Ce.y,tt.y),xt={x:Ue,y:Ct,width:Math.max(Ce.x+Ce.width,tt.x+tt.width)-Ue,height:Math.max(Ce.y+Ce.height,tt.y+tt.height)-Ct};re[ue-1].dispose=1,ue-1!=0&&s(ne,z,X,re,ue-1,xt,ie),s(ne,z,X,re,ue,xt,ie)}let Te=0;if(ne.length!=1)for(var Ae=0;Ae<re.length;Ae++){var Ie;Te+=(Ie=re[Ae]).rect.width*Ie.rect.height}return re}(C,P,N,V,D,F),W={},K=[],G=[];if(B!=0){const se=[];for(L=0;L<H.length;L++)se.push(H[L].img.buffer);const ne=function(ie){let q=0;for(var re=0;re<ie.length;re++)q+=ie[re].byteLength;const ue=new Uint8Array(q);let ge=0;for(re=0;re<ie.length;re++){const _e=new Uint8Array(ie[re]),Te=_e.length;for(let Ae=0;Ae<Te;Ae+=4){let Ie=_e[Ae],Ce=_e[Ae+1],tt=_e[Ae+2];const Ue=_e[Ae+3];Ue==0&&(Ie=Ce=tt=0),ue[ge+Ae]=Ie,ue[ge+Ae+1]=Ce,ue[ge+Ae+2]=tt,ue[ge+Ae+3]=Ue}ge+=Te}return ue.buffer}(se),z=g(ne,B);for(L=0;L<z.plte.length;L++)K.push(z.plte[L].est.rgba);let X=0;for(L=0;L<H.length;L++){const Q=(ee=H[L]).img.length;var J=new Uint8Array(z.inds.buffer,X>>2,Q>>2);G.push(J);const ie=new Uint8Array(z.abuf,X,Q);U&&l(ee.img,ee.rect.width,ee.rect.height,K,ie,J),ee.img.set(ie),X+=Q}}else for(A=0;A<H.length;A++){var ee=H[A];const se=new Uint32Array(ee.img.buffer);var ce=ee.rect.width;for(Y=se.length,J=new Uint8Array(Y),G.push(J),L=0;L<Y;L++){const ne=se[L];if(L!=0&&ne==se[L-1])J[L]=J[L-1];else if(L>ce&&ne==se[L-ce])J[L]=J[L-ce];else{let z=W[ne];if(z==null&&(W[ne]=z=K.length,K.push(ne),K.length>=300))break;J[L]=z}}}const te=K.length;for(te<=256&&M==0&&(R=te<=2?1:te<=4?2:te<=16?4:8,R=Math.max(R,O)),A=0;A<H.length;A++){(ee=H[A]).rect.x,ee.rect.y,ce=ee.rect.width;const se=ee.rect.height;let ne=ee.img;new Uint32Array(ne.buffer);let z=4*ce,X=4;if(te<=256&&M==0){z=Math.ceil(R*ce/8);var Z=new Uint8Array(z*se);const Q=G[A];for(let ie=0;ie<se;ie++){L=ie*z;const q=ie*ce;if(R==8)for(var oe=0;oe<ce;oe++)Z[L+oe]=Q[q+oe];else if(R==4)for(oe=0;oe<ce;oe++)Z[L+(oe>>1)]|=Q[q+oe]<<4-4*(1&oe);else if(R==2)for(oe=0;oe<ce;oe++)Z[L+(oe>>2)]|=Q[q+oe]<<6-2*(3&oe);else if(R==1)for(oe=0;oe<ce;oe++)Z[L+(oe>>3)]|=Q[q+oe]<<7-1*(7&oe)}ne=Z,k=3,X=1}else if($==0&&H.length==1){Z=new Uint8Array(ce*se*3);const Q=ce*se;for(L=0;L<Q;L++){const ie=3*L,q=4*L;Z[ie]=ne[q],Z[ie+1]=ne[q+1],Z[ie+2]=ne[q+2]}ne=Z,k=2,X=3,z=3*ce}ee.img=ne,ee.bpl=z,ee.bpp=X}return{ctype:k,depth:R,plte:K,frames:H}}function s(C,P,N,B,I,V,D){const F=Uint8Array,O=Uint32Array,M=new F(C[I-1]),U=new O(C[I-1]),k=I+1<C.length?new F(C[I+1]):null,R=new F(C[I]),j=new O(R.buffer);let A=P,Y=N,L=-1,$=-1;for(let W=0;W<V.height;W++)for(let K=0;K<V.width;K++){const G=V.x+K,J=V.y+W,ee=J*P+G,ce=j[ee];ce==0||B[I-1].dispose==0&&U[ee]==ce&&(k==null||k[4*ee+3]!=0)||(G<A&&(A=G),G>L&&(L=G),J<Y&&(Y=J),J>$&&($=J))}L==-1&&(A=Y=L=$=0),D&&((1&A)==1&&A--,(1&Y)==1&&Y--),V={x:A,y:Y,width:L-A+1,height:$-Y+1};const H=B[I];H.rect=V,H.blend=1,H.img=new Uint8Array(V.width*V.height*4),B[I-1].dispose==0?(e(M,P,N,H.img,V.width,V.height,-V.x,-V.y,0),c(R,P,N,H.img,V)):e(R,P,N,H.img,V.width,V.height,-V.x,-V.y,0)}function c(C,P,N,B,I){e(C,P,N,B,I.width,I.height,-I.x,-I.y,2)}function d(C,P,N,B,I,V,D){const F=[];let O,M=[0,1,2,3,4];V!=-1?M=[V]:(P*B>5e5||N==1)&&(M=[0]),D&&(O={level:0});const U=FL;for(var k=0;k<M.length;k++){for(let A=0;A<P;A++)p(I,C,A,B,N,M[k]);F.push(U.deflate(I,O))}let R,j=1e9;for(k=0;k<F.length;k++)F[k].length<j&&(R=k,j=F[k].length);return F[R]}function p(C,P,N,B,I,V){const D=N*B;let F=D+N;if(C[F]=V,F++,V==0)if(B<500)for(var O=0;O<B;O++)C[F+O]=P[D+O];else C.set(new Uint8Array(P.buffer,D,B),F);else if(V==1){for(O=0;O<I;O++)C[F+O]=P[D+O];for(O=I;O<B;O++)C[F+O]=P[D+O]-P[D+O-I]+256&255}else if(N==0){for(O=0;O<I;O++)C[F+O]=P[D+O];if(V==2)for(O=I;O<B;O++)C[F+O]=P[D+O];if(V==3)for(O=I;O<B;O++)C[F+O]=P[D+O]-(P[D+O-I]>>1)+256&255;if(V==4)for(O=I;O<B;O++)C[F+O]=P[D+O]-n(P[D+O-I],0,0)+256&255}else{if(V==2)for(O=0;O<B;O++)C[F+O]=P[D+O]+256-P[D+O-B]&255;if(V==3){for(O=0;O<I;O++)C[F+O]=P[D+O]+256-(P[D+O-B]>>1)&255;for(O=I;O<B;O++)C[F+O]=P[D+O]+256-(P[D+O-B]+P[D+O-I]>>1)&255}if(V==4){for(O=0;O<I;O++)C[F+O]=P[D+O]+256-n(0,P[D+O-B],0)&255;for(O=I;O<B;O++)C[F+O]=P[D+O]+256-n(P[D+O-I],P[D+O-B],P[D+O-I-B])&255}}}function g(C,P){const N=new Uint8Array(C),B=N.slice(0),I=new Uint32Array(B.buffer),V=m(B,P),D=V[0],F=V[1],O=N.length,M=new Uint8Array(O>>2);let U;if(N.length<2e7)for(var k=0;k<O;k+=4)U=v(D,R=N[k]*(1/255),j=N[k+1]*(1/255),A=N[k+2]*(1/255),Y=N[k+3]*(1/255)),M[k>>2]=U.ind,I[k>>2]=U.est.rgba;else for(k=0;k<O;k+=4){var R=N[k]*.00392156862745098,j=N[k+1]*(1/255),A=N[k+2]*(1/255),Y=N[k+3]*(1/255);for(U=D;U.left;)U=y(U.est,R,j,A,Y)<=0?U.left:U.right;M[k>>2]=U.ind,I[k>>2]=U.est.rgba}return{abuf:B.buffer,inds:M,plte:F}}function m(C,P,N){N==null&&(N=1e-4);const B=new Uint32Array(C.buffer),I={i0:0,i1:C.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=S(C,I.i0,I.i1),I.est=_(I.bst);const V=[I];for(;V.length<P;){let F=0,O=0;for(var D=0;D<V.length;D++)V[D].est.L>F&&(F=V[D].est.L,O=D);if(F<N)break;const M=V[O],U=b(C,B,M.i0,M.i1,M.est.e,M.est.eMq255);if(M.i0>=U||M.i1<=U){M.est.L=0;continue}const k={i0:M.i0,i1:U,bst:null,est:null,tdst:0,left:null,right:null};k.bst=S(C,k.i0,k.i1),k.est=_(k.bst);const R={i0:U,i1:M.i1,bst:null,est:null,tdst:0,left:null,right:null};for(R.bst={R:[],m:[],N:M.bst.N-k.bst.N},D=0;D<16;D++)R.bst.R[D]=M.bst.R[D]-k.bst.R[D];for(D=0;D<4;D++)R.bst.m[D]=M.bst.m[D]-k.bst.m[D];R.est=_(R.bst),M.left=k,M.right=R,V[O]=k,V.push(R)}for(V.sort((F,O)=>O.bst.N-F.bst.N),D=0;D<V.length;D++)V[D].ind=D;return[I,V]}function v(C,P,N,B,I){if(C.left==null)return C.tdst=function(k,R,j,A,Y){const L=R-k[0],$=j-k[1],H=A-k[2],W=Y-k[3];return L*L+$*$+H*H+W*W}(C.est.q,P,N,B,I),C;const V=y(C.est,P,N,B,I);let D=C.left,F=C.right;V>0&&(D=C.right,F=C.left);const O=v(D,P,N,B,I);if(O.tdst<=V*V)return O;const M=v(F,P,N,B,I);return M.tdst<O.tdst?M:O}function y(C,P,N,B,I){const{e:V}=C;return V[0]*P+V[1]*N+V[2]*B+V[3]*I-C.eMq}function b(C,P,N,B,I,V){for(B-=4;N<B;){for(;w(C,N,I)<=V;)N+=4;for(;w(C,B,I)>V;)B-=4;if(N>=B)break;const D=P[N>>2];P[N>>2]=P[B>>2],P[B>>2]=D,N+=4,B-=4}for(;w(C,N,I)>V;)N-=4;return N+4}function w(C,P,N){return C[P]*N[0]+C[P+1]*N[1]+C[P+2]*N[2]+C[P+3]*N[3]}function S(C,P,N){const B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],V=N-P>>2;for(let D=P;D<N;D+=4){const F=C[D]*.00392156862745098,O=C[D+1]*(1/255),M=C[D+2]*(1/255),U=C[D+3]*(1/255);I[0]+=F,I[1]+=O,I[2]+=M,I[3]+=U,B[0]+=F*F,B[1]+=F*O,B[2]+=F*M,B[3]+=F*U,B[5]+=O*O,B[6]+=O*M,B[7]+=O*U,B[10]+=M*M,B[11]+=M*U,B[15]+=U*U}return B[4]=B[1],B[8]=B[2],B[9]=B[6],B[12]=B[3],B[13]=B[7],B[14]=B[11],{R:B,m:I,N:V}}function _(C){const{R:P}=C,{m:N}=C,{N:B}=C,I=N[0],V=N[1],D=N[2],F=N[3],O=B==0?0:1/B,M=[P[0]-I*I*O,P[1]-I*V*O,P[2]-I*D*O,P[3]-I*F*O,P[4]-V*I*O,P[5]-V*V*O,P[6]-V*D*O,P[7]-V*F*O,P[8]-D*I*O,P[9]-D*V*O,P[10]-D*D*O,P[11]-D*F*O,P[12]-F*I*O,P[13]-F*V*O,P[14]-F*D*O,P[15]-F*F*O],U=M,k=E;let R=[Math.random(),Math.random(),Math.random(),Math.random()],j=0,A=0;if(B!=0)for(let L=0;L<16&&(R=k.multVec(U,R),A=Math.sqrt(k.dot(R,R)),R=k.sml(1/A,R),!(L!=0&&Math.abs(A-j)<1e-9));L++)j=A;const Y=[I*O,V*O,D*O,F*O];return{Cov:M,q:Y,e:R,L:j,eMq255:k.dot(k.sml(255,Y),R),eMq:k.dot(R,Y),rgba:(Math.round(255*Y[3])<<24|Math.round(255*Y[2])<<16|Math.round(255*Y[1])<<8|Math.round(255*Y[0])<<0)>>>0}}var E={multVec:(C,P)=>[C[0]*P[0]+C[1]*P[1]+C[2]*P[2]+C[3]*P[3],C[4]*P[0]+C[5]*P[1]+C[6]*P[2]+C[7]*P[3],C[8]*P[0]+C[9]*P[1]+C[10]*P[2]+C[11]*P[3],C[12]*P[0]+C[13]*P[1]+C[14]*P[2]+C[15]*P[3]],dot:(C,P)=>C[0]*P[0]+C[1]*P[1]+C[2]*P[2]+C[3]*P[3],sml:(C,P)=>[C*P[0],C*P[1],C*P[2],C*P[3]]};jn.encode=function(P,N,B,I,V,D,F){I==null&&(I=0),F==null&&(F=!1);const O=u(P,N,B,I,[!1,!1,!1,0,F,!1]);return f(O,-1),a(O,N,B,V,D)},jn.encodeLL=function(P,N,B,I,V,D,F,O){const M={ctype:0+(I==1?0:2)+(V==0?0:4),depth:D,frames:[]},U=(I+V)*D,k=U*N;for(let R=0;R<P.length;R++)M.frames.push({rect:{x:0,y:0,width:N,height:B},img:new Uint8Array(P[R]),blend:0,dispose:1,bpp:Math.ceil(U/8),bpl:Math.ceil(k/8)});return f(M,0,!0),a(M,N,B,F,O)},jn.encode.compress=u,jn.encode.dither=l,jn.quantize=g,jn.quantize.getKDtree=m,jn.quantize.getNearest=v})();const UE={toArrayBuffer(e,t){const n=e.width,r=e.height,i=n<<2,o=e.getContext("2d").getImageData(0,0,n,r),h=new Uint32Array(o.data.buffer),l=(32*n+31)/32<<2,a=l*r,f=122+a,u=new ArrayBuffer(f),s=new DataView(u),c=1<<20;let d,p,g,m,v=c,y=0,b=0,w=0;function S(C){s.setUint16(b,C,!0),b+=2}function _(C){s.setUint32(b,C,!0),b+=4}function E(C){b+=C}S(19778),_(f),E(4),_(122),_(108),_(n),_(-r>>>0),S(1),S(32),_(3),_(a),_(2835),_(2835),E(8),_(16711680),_(65280),_(255),_(4278190080),_(1466527264),function C(){for(;y<r&&v>0;){for(m=122+y*l,d=0;d<i;)v--,p=h[w++],g=p>>>24,s.setUint32(m+d,p<<8|g),d+=4;y++}w<h.length?(v=c,setTimeout(C,UE._dly)):t(u)}()},toBlob(e,t){this.toArrayBuffer(e,n=>{t(new Blob([n],{type:"image/bmp"}))})},_dly:9};var en={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},LL={[en.CHROME]:16384,[en.FIREFOX]:11180,[en.DESKTOP_SAFARI]:16384,[en.IE]:8192,[en.IOS]:4096,[en.ETC]:8192};const Nv=typeof window<"u",HE=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,bf=Nv&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),IL=(Nv||HE)&&(bf&&bf.getOriginalSymbol(window,"File")||typeof File<"u"&&File),WE=(Nv||HE)&&(bf&&bf.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Fv(e,t,n=Date.now()){return new Promise(r=>{const i=e.split(","),o=i[0].match(/:(.*?);/)[1],h=globalThis.atob(i[1]);let l=h.length;const a=new Uint8Array(l);for(;l--;)a[l]=h.charCodeAt(l);const f=new Blob([a],{type:o});f.name=t,f.lastModified=n,r(f)})}function YE(e){return new Promise((t,n)=>{const r=new WE;r.onload=()=>t(r.result),r.onerror=i=>n(i),r.readAsDataURL(e)})}function XE(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>t(r),r.onerror=i=>n(i),r.src=e})}function fo(){if(fo.cachedResult!==void 0)return fo.cachedResult;let e=en.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=en.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=en.IOS:/Safari/i.test(t)?e=en.DESKTOP_SAFARI:/Firefox/i.test(t)?e=en.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=en.IE),fo.cachedResult=e,fo.cachedResult}function GE(e,t){const n=fo(),r=LL[n];let i=e,o=t,h=i*o;const l=i>o?o/i:i/o;for(;h>r*r;){const a=(r+i)/2,f=(r+o)/2;a<f?(o=f,i=f*l):(o=a*l,i=a),h=i*o}return{width:i,height:o}}function Md(e,t){let n,r;try{if(n=new OffscreenCanvas(e,t),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=e,n.height=t,[n,r]}function KE(e,t){const{width:n,height:r}=GE(e.width,e.height),[i,o]=Md(n,r);return t&&/jpe?g/.test(t)&&(o.fillStyle="white",o.fillRect(0,0,i.width,i.height)),o.drawImage(e,0,0,i.width,i.height),i}function gu(){return gu.cachedResult!==void 0||(gu.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),gu.cachedResult}function wf(e,t={}){return new Promise(function(n,r){let i,o;var h=function(){try{return o=KE(i,t.fileType||e.type),n([i,o])}catch(a){return r(a)}},l=function(a){try{var f=function(u){try{throw u}catch(s){return r(s)}};try{let u;return YE(e).then(function(s){try{return u=s,XE(u).then(function(c){try{return i=c,function(){try{return h()}catch(d){return r(d)}}()}catch(d){return f(d)}},f)}catch(c){return f(c)}},f)}catch(u){f(u)}}catch(u){return r(u)}};try{if(gu()||[en.DESKTOP_SAFARI,en.MOBILE_SAFARI].includes(fo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(a){try{return i=a,h()}catch{return l()}},l)}catch{l()}})}function xf(e,t,n,r,i=1){return new Promise(function(o,h){let l;if(t==="image/png"){let s,c,d;return s=e.getContext("2d"),{data:c}=s.getImageData(0,0,e.width,e.height),d=jn.encode([c.buffer],e.width,e.height,4096*i),l=new Blob([d],{type:t}),l.name=n,l.lastModified=r,a.call(this)}{let s=function(){return a.call(this)};var f=s;if(t==="image/bmp")return new Promise(c=>UE.toBlob(e,c)).then((function(c){try{return l=c,l.name=n,l.lastModified=r,s.call(this)}catch(d){return h(d)}}).bind(this),h);{let c=function(){return s.call(this)};var u=c;if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:i}).then((function(d){try{return l=d,l.name=n,l.lastModified=r,c.call(this)}catch(p){return h(p)}}).bind(this),h);{let d;return d=e.toDataURL(t,i),Fv(d,n,r).then((function(p){try{return l=p,c.call(this)}catch(g){return h(g)}}).bind(this),h)}}}function a(){return o(l)}})}function lr(e){e.width=0,e.height=0}function us(){return new Promise(function(e,t){let n,r,i,o;return us.cachedResult!==void 0?e(us.cachedResult):Fv("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(h){try{return n=h,wf(n).then(function(l){try{return r=l[1],xf(r,n.type,n.name,n.lastModified).then(function(a){try{return i=a,lr(r),wf(i).then(function(f){try{return o=f[0],us.cachedResult=o.width===1&&o.height===2,e(us.cachedResult)}catch(u){return t(u)}},t)}catch(f){return t(f)}},t)}catch(a){return t(a)}},t)}catch(l){return t(l)}},t)})}function qE(e){return new Promise((t,n)=>{const r=new WE;r.onload=i=>{const o=new DataView(i.target.result);if(o.getUint16(0,!1)!=65496)return t(-2);const h=o.byteLength;let l=2;for(;l<h;){if(o.getUint16(l+2,!1)<=8)return t(-1);const a=o.getUint16(l,!1);if(l+=2,a==65505){if(o.getUint32(l+=2,!1)!=1165519206)return t(-1);const f=o.getUint16(l+=6,!1)==18761;l+=o.getUint32(l+4,f);const u=o.getUint16(l,f);l+=2;for(let s=0;s<u;s++)if(o.getUint16(l+12*s,f)==274)return t(o.getUint16(l+12*s+8,f))}else{if((65280&a)!=65280)break;l+=o.getUint16(l,!1)}}return t(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(e)})}function ZE(e,t){const{width:n}=e,{height:r}=e,{maxWidthOrHeight:i}=t;let o,h=e;return isFinite(i)&&(n>i||r>i)&&([h,o]=Md(n,r),n>r?(h.width=i,h.height=r/n*i):(h.width=n/r*i,h.height=i),o.drawImage(e,0,0,h.width,h.height),lr(e)),h}function QE(e,t){const{width:n}=e,{height:r}=e,[i,o]=Md(n,r);switch(t>4&&t<9?(i.width=r,i.height=n):(i.width=n,i.height=r),t){case 2:o.transform(-1,0,0,1,n,0);break;case 3:o.transform(-1,0,0,-1,n,r);break;case 4:o.transform(1,0,0,-1,0,r);break;case 5:o.transform(0,1,1,0,0,0);break;case 6:o.transform(0,1,-1,0,r,0);break;case 7:o.transform(0,-1,-1,0,r,n);break;case 8:o.transform(0,-1,1,0,0,n)}return o.drawImage(e,0,0,n,r),lr(e),i}function H1(e,t,n=0){return new Promise(function(r,i){let o,h,l,a,f,u,s,c,d,p,g,m,v,y,b,w,S,_,E,C;function P(B=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;o+=B,t.onProgress(Math.min(o,100))}function N(B){if(t.signal&&t.signal.aborted)throw t.signal.reason;o=Math.min(Math.max(B,o),100),t.onProgress(o)}return o=n,h=t.maxIteration||10,l=1024*t.maxSizeMB*1024,P(),wf(e,t).then((function(B){try{return[,a]=B,P(),f=ZE(a,t),P(),new Promise(function(I,V){var D;if(!(D=t.exifOrientation))return qE(e).then((function(O){try{return D=O,F.call(this)}catch(M){return V(M)}}).bind(this),V);function F(){return I(D)}return F.call(this)}).then((function(I){try{return u=I,P(),us().then((function(V){try{return s=V?f:QE(f,u),P(),c=t.initialQuality||1,d=t.fileType||e.type,xf(s,d,e.name,e.lastModified,c).then((function(D){try{{let U=function(){if(h--&&(b>l||b>v)){let R,j;return R=C?.95*E.width:E.width,j=C?.95*E.height:E.height,[S,_]=Md(R,j),_.drawImage(E,0,0,R,j),c*=d==="image/png"?.85:.95,xf(S,d,e.name,e.lastModified,c).then(function(A){try{return w=A,lr(E),E=S,b=w.size,N(Math.min(99,Math.floor((y-b)/(y-l)*100))),U}catch(Y){return i(Y)}},i)}return[1]},k=function(){return lr(E),lr(S),lr(f),lr(s),lr(a),N(100),r(w)};var O=U,M=k;if(p=D,P(),g=p.size>l,m=p.size>e.size,!g&&!m)return N(100),r(p);var F;return v=e.size,y=p.size,b=y,E=s,C=!t.alwaysKeepResolution&&g,(F=(function(R){for(;R;){if(R.then)return void R.then(F,i);try{if(R.pop){if(R.length)return R.pop()?k.call(this):R;R=U}else R=R.call(this)}catch(j){return i(j)}}}).bind(this))(U)}}catch(U){return i(U)}}).bind(this),i)}catch(D){return i(D)}}).bind(this),i)}catch(V){return i(V)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)})}const jL=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Uh;function BL(e,t){return new Promise((n,r)=>{Uh||(Uh=function(h){const l=[];return l.push(h),URL.createObjectURL(new Blob(l))}(jL));const i=new Worker(Uh);i.addEventListener("message",function(h){if(t.signal&&t.signal.aborted)i.terminate();else if(h.data.progress===void 0){if(h.data.error)return r(new Error(h.data.error)),void i.terminate();n(h.data.file),i.terminate()}else t.onProgress(h.data.progress)}),i.addEventListener("error",r),t.signal&&t.signal.addEventListener("abort",()=>{r(t.signal.reason),i.terminate()}),i.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function Mt(e,t){return new Promise(function(n,r){let i,o,h,l,a,f;if(i={...t},h=0,{onProgress:l}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,a=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=d=>{h=d,typeof l=="function"&&l(h)},!(e instanceof Blob||e instanceof IL))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return r(new Error("The file given is not an image"));if(f=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!a||typeof Worker!="function"||f)return H1(e,i).then((function(d){try{return o=d,c.call(this)}catch(p){return r(p)}}).bind(this),r);var u=(function(){try{return c.call(this)}catch(d){return r(d)}}).bind(this),s=function(d){try{return H1(e,i).then(function(p){try{return o=p,u()}catch(g){return r(g)}},r)}catch(p){return r(p)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",BL(e,i).then(function(d){try{return o=d,u()}catch{return s()}},s)}catch{s()}function c(){try{o.name=e.name,o.lastModified=e.lastModified}catch{}try{i.preserveExif&&e.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===e.type)&&(o=VE(e,o))}catch{}return n(o)}})}Mt.getDataUrlFromFile=YE,Mt.getFilefromDataUrl=Fv,Mt.loadImage=XE,Mt.drawImageInCanvas=KE,Mt.drawFileInCanvas=wf,Mt.canvasToFile=xf,Mt.getExifOrientation=qE,Mt.handleMaxWidthOrHeight=ZE,Mt.followExifOrientation=QE,Mt.cleanupCanvasMemory=lr,Mt.isAutoOrientationInBrowser=us,Mt.approximateBelowMaximumCanvasSizeOfBrowser=GE,Mt.copyExifWithoutOrientation=VE,Mt.getBrowserName=fo,Mt.version="2.0.2";function zL(e){const{onSelection:t}=e,{t:n}=gd(),[r]=x.useState(`file-upload-${Math.random().toString()}`),i=RL(),o=async h=>{if(!(!h||!h.type.match("image.*")))try{if(h.size>20*1024*1024)throw new Error("file too large");const f=await Mt(h,{maxWidthOrHeight:1536,useWebWorker:!0});t(f)}catch(a){alert(`error: ${a.message}`)}};return T.jsx("div",{className:"absolute flex w-screen h-screen justify-center items-center pointer-events-none",children:T.jsx("label",{htmlFor:r,className:"grid bg-background border-[2px] border-[dashed] rounded-lg min-w-[600px] hover:bg-primary hover:text-primary-foreground pointer-events-auto",children:T.jsxs("div",{className:"grid p-16 w-full h-full",onDragOver:h=>{h.stopPropagation(),h.preventDefault()},children:[T.jsx("input",{className:"hidden",id:r,name:r,type:"file",onChange:h=>{var a;const l=(a=h.currentTarget.files)==null?void 0:a[0];l&&o(l)},accept:"image/png, image/jpeg"}),T.jsx("p",{className:"text-center",children:i==="desktop"?n("Image load"):"Tap here to load your picture"})]})})})}const VL=["image/jpeg","image/png","image/webp","image/bmp","image/tiff"];function UL(){const[e,t,n,r]=Xe(s=>[s.file,s.updateAppState,s.setServerConfig,s.setFile]),i=vN();x.useEffect(()=>{t({windowSize:i})},[i]);const o=x.useRef(0),h=x.useCallback(s=>{s.preventDefault(),s.stopPropagation()},[]),l=x.useCallback(s=>{s.preventDefault(),s.stopPropagation(),o.current+=1},[]),a=x.useCallback(s=>{s.preventDefault(),s.stopPropagation(),o.current-=1,o.current>0},[]),f=x.useCallback(s=>{if(s.preventDefault(),s.stopPropagation(),s.dataTransfer.files&&s.dataTransfer.files.length>0){if(!(s.dataTransfer.files.length>1)){const c=s.dataTransfer.files[0],d=c.type;VL.includes(d)&&r(c)}s.dataTransfer.clearData()}},[]),u=x.useCallback(s=>{if(!s.clipboardData)return;const c=s.clipboardData.items,d=[].slice.call(c).filter(m=>m.type.indexOf("image")!==-1);if(d.length===0)return;s.preventDefault(),s.stopPropagation();const g=d[0].getAsFile();g&&r(g)},[]);return x.useEffect(()=>(window.addEventListener("dragenter",l),window.addEventListener("dragleave",a),window.addEventListener("dragover",h),window.addEventListener("drop",f),window.addEventListener("paste",u),function(){window.removeEventListener("dragenter",l),window.removeEventListener("dragleave",a),window.removeEventListener("dragover",h),window.removeEventListener("drop",f),window.removeEventListener("paste",u)})),T.jsxs("main",{className:"flex min-h-screen flex-col items-center justify-between w-full bg-[radial-gradient(circle_at_1px_1px,_#8e8e8e8e_1px,_transparent_0)] [background-size:20px_20px] bg-repeat",children:[T.jsx(r3,{}),T.jsx(z6,{}),T.jsx(AL,{}),e?T.jsx(T.Fragment,{}):T.jsx(zL,{onSelection:async s=>{r(s)}})]})}var Sf=["light","dark"],Lv="(prefers-color-scheme: dark)",HL=typeof window>"u",JE=x.createContext(void 0),WL=e=>x.useContext(JE)?e.children:x.createElement(XL,{...e}),YL=["light","dark"],XL=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:o=YL,defaultTheme:h=n?"system":"light",attribute:l="data-theme",value:a,children:f,nonce:u})=>{let[s,c]=x.useState(()=>W1(i,h)),[d,p]=x.useState(()=>W1(i)),g=a?Object.values(a):o,m=x.useCallback(w=>{let S=w;if(!S)return;w==="system"&&n&&(S=Y1());let _=a?a[S]:S,E=t?KL():null,C=document.documentElement;if(l==="class"?(C.classList.remove(...g),_&&C.classList.add(_)):_?C.setAttribute(l,_):C.removeAttribute(l),r){let P=Sf.includes(h)?h:null,N=Sf.includes(S)?S:P;C.style.colorScheme=N}E==null||E()},[]),v=x.useCallback(w=>{let S=typeof w=="function"?w(w):w;c(S);try{localStorage.setItem(i,S)}catch{}},[e]),y=x.useCallback(w=>{let S=Y1(w);p(S),s==="system"&&n&&!e&&m("system")},[s,e]);x.useEffect(()=>{let w=window.matchMedia(Lv);return w.addListener(y),y(w),()=>w.removeListener(y)},[y]),x.useEffect(()=>{let w=S=>{if(S.key!==i)return;let _=S.newValue||h;v(_)};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[v]),x.useEffect(()=>{m(e??s)},[e,s]);let b=x.useMemo(()=>({theme:s,setTheme:v,forcedTheme:e,resolvedTheme:s==="system"?d:s,themes:n?[...o,"system"]:o,systemTheme:n?d:void 0}),[s,v,e,d,n,o]);return x.createElement(JE.Provider,{value:b},x.createElement(GL,{forcedTheme:e,disableTransitionOnChange:t,enableSystem:n,enableColorScheme:r,storageKey:i,themes:o,defaultTheme:h,attribute:l,value:a,children:f,attrs:g,nonce:u}),f)},GL=x.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:h,attrs:l,nonce:a})=>{let f=o==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(p=>`'${p}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,s=i?Sf.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",c=(p,g=!1,m=!0)=>{let v=h?h[p]:p,y=g?p+"|| ''":`'${v}'`,b="";return i&&m&&!g&&Sf.includes(p)&&(b+=`d.style.colorScheme = '${p}';`),n==="class"?g||v?b+=`c.add(${y})`:b+="null":v&&(b+=`d[s](n,${y})`),b},d=e?`!function(){${u}${c(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${f})){var t='${Lv}',m=window.matchMedia(t);if(m.media!==t||m.matches){${c("dark")}}else{${c("light")}}}else if(e){${h?`var x=${JSON.stringify(h)};`:""}${c(h?"x[e]":"e",!0)}}${f?"":"else{"+c(o,!1,!1)+"}"}${s}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${h?`var x=${JSON.stringify(h)};`:""}${c(h?"x[e]":"e",!0)}}else{${c(o,!1,!1)};}${s}}catch(t){}}();`;return x.createElement("script",{nonce:a,dangerouslySetInnerHTML:{__html:d}})}),W1=(e,t)=>{if(HL)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},KL=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},Y1=e=>(e||(e=window.matchMedia(Lv)),e.matches?"dark":"light");const qL={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class _f{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||qL,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,i){return i&&!this.debug?null:(typeof t[0]=="string"&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new _f(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new _f(this.logger,t)}}var vr=new _f;class Dd{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(h=>{let[l,a]=h;for(let f=0;f<a;f++)l(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(h=>{let[l,a]=h;for(let f=0;f<a;f++)l.apply(l,[t,...r])})}}function ka(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function X1(e){return e==null?"":""+e}function ZL(e,t,n){e.forEach(r=>{t[r]&&(n[r]=t[r])})}const QL=/###/g;function el(e,t,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(QL,"."):l}function i(){return!e||typeof e=="string"}const o=typeof t!="string"?t:t.split(".");let h=0;for(;h<o.length-1;){if(i())return{};const l=r(o[h]);!e[l]&&n&&(e[l]=new n),Object.prototype.hasOwnProperty.call(e,l)?e=e[l]:e={},++h}return i()?{}:{obj:e,k:r(o[h])}}function G1(e,t,n){const{obj:r,k:i}=el(e,t,Object);if(r!==void 0||t.length===1){r[i]=n;return}let o=t[t.length-1],h=t.slice(0,t.length-1),l=el(e,h,Object);for(;l.obj===void 0&&h.length;)o=`${h[h.length-1]}.${o}`,h=h.slice(0,h.length-1),l=el(e,h,Object),l&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=n}function JL(e,t,n,r){const{obj:i,k:o}=el(e,t,Object);i[o]=i[o]||[],i[o].push(n)}function Cf(e,t){const{obj:n,k:r}=el(e,t);if(n)return n[r]}function eI(e,t,n){const r=Cf(e,n);return r!==void 0?r:Cf(t,n)}function eT(e,t,n){for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?typeof e[r]=="string"||e[r]instanceof String||typeof t[r]=="string"||t[r]instanceof String?n&&(e[r]=t[r]):eT(e[r],t[r],n):e[r]=t[r]);return e}function Xo(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var tI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function nI(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,t=>tI[t]):e}class rI{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const iI=[" ",",","?","!",";"],oI=new rI(20);function sI(e,t,n){t=t||"",n=n||"";const r=iI.filter(h=>t.indexOf(h)<0&&n.indexOf(h)<0);if(r.length===0)return!0;const i=oI.getRegExp(`(${r.map(h=>h==="?"?"\\?":h).join("|")})`);let o=!i.test(e);if(!o){const h=e.indexOf(n);h>0&&!i.test(e.substring(0,h))&&(o=!0)}return o}function Am(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let h,l="";for(let a=o;a<r.length;++a)if(a!==o&&(l+=n),l+=r[a],h=i[l],h!==void 0){if(["string","number","boolean"].indexOf(typeof h)>-1&&a<r.length-1)continue;o+=a-o+1;break}i=h}return i}function Ef(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class K1 extends Dd{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,h=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):typeof r=="string"&&o?l.push(...r.split(o)):l.push(r)));const a=Cf(this.data,l);return!a&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),a||!h||typeof r!="string"?a:Am(this.data&&this.data[t]&&this.data[t][n],r,o)}addResource(t,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const h=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[t,n];r&&(l=l.concat(h?r.split(h):r)),t.indexOf(".")>-1&&(l=t.split("."),i=n,n=l[1]),this.addNamespaces(n),G1(this.data,l,i),o.silent||this.emit("added",t,n,r,i)}addResources(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(typeof r[o]=="string"||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});i.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,i,o){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let a=Cf(this.data,l)||{};h.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?eT(a,r,o):a={...a,...r},G1(this.data,l,a),h.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,n)}:this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var tT={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,n,r,i))}),t}};const q1={};class Tf extends Dd{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ZL(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=vr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const r=this.resolve(t,n);return r&&r.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const h=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!sI(t,r,i);if(h&&!l){const a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:o};const f=t.split(r);(r!==i||r===i&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),t=f.join(i)}return typeof o=="string"&&(o=[o]),{key:t,namespaces:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:h,namespaces:l}=this.extractFromKey(t[t.length-1],n),a=l[l.length-1],f=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(u){const w=n.nsSeparator||this.options.nsSeparator;return i?{res:`${a}${w}${h}`,usedKey:h,exactUsedKey:h,usedLng:f,usedNS:a,usedParams:this.getUsedParamsDetails(n)}:`${a}${w}${h}`}return i?{res:h,usedKey:h,exactUsedKey:h,usedLng:f,usedNS:a,usedParams:this.getUsedParamsDetails(n)}:h}const s=this.resolve(t,n);let c=s&&s.res;const d=s&&s.usedKey||h,p=s&&s.exactUsedKey||h,g=Object.prototype.toString.apply(c),m=["[object Number]","[object Function]","[object RegExp]"],v=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject;if(y&&c&&(typeof c!="string"&&typeof c!="boolean"&&typeof c!="number")&&m.indexOf(g)<0&&!(typeof v=="string"&&Array.isArray(c))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,c,{...n,ns:l}):`key '${h} (${this.language})' returned an object instead of string.`;return i?(s.res=w,s.usedParams=this.getUsedParamsDetails(n),s):w}if(o){const w=Array.isArray(c),S=w?[]:{},_=w?p:d;for(const E in c)if(Object.prototype.hasOwnProperty.call(c,E)){const C=`${_}${o}${E}`;S[E]=this.translate(C,{...n,joinArrays:!1,ns:l}),S[E]===C&&(S[E]=c[E])}c=S}}else if(y&&typeof v=="string"&&Array.isArray(c))c=c.join(v),c&&(c=this.extendTranslation(c,t,n,r));else{let w=!1,S=!1;const _=n.count!==void 0&&typeof n.count!="string",E=Tf.hasDefaultValue(n),C=_?this.pluralResolver.getSuffix(f,n.count,n):"",P=n.ordinal&&_?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",N=_&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),B=N&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${C}`]||n[`defaultValue${P}`]||n.defaultValue;!this.isValidLookup(c)&&E&&(w=!0,c=B),this.isValidLookup(c)||(S=!0,c=h);const V=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:c,D=E&&B!==c&&this.options.updateMissing;if(S||w||D){if(this.logger.log(D?"updateKey":"missingKey",f,a,h,D?B:c),o){const U=this.resolve(h,{...n,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let U=0;U<O.length;U++)F.push(O[U]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(n.lng||this.language):F.push(n.lng||this.language);const M=(U,k,R)=>{const j=E&&R!==c?R:V;this.options.missingKeyHandler?this.options.missingKeyHandler(U,a,k,j,D,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,a,k,j,D,n),this.emit("missingKey",U,a,k,c)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?F.forEach(U=>{const k=this.pluralResolver.getSuffixes(U,n);N&&n[`defaultValue${this.options.pluralSeparator}zero`]&&k.indexOf(`${this.options.pluralSeparator}zero`)<0&&k.push(`${this.options.pluralSeparator}zero`),k.forEach(R=>{M([U],h+R,n[`defaultValue${R}`]||B)})}):M(F,h,B))}c=this.extendTranslation(c,t,n,s,r),S&&c===h&&this.options.appendNamespaceToMissingKey&&(c=`${a}:${h}`),(S||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?c=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${h}`:h,w?c:void 0):c=this.options.parseMissingKeyHandler(c))}return i?(s.res=c,s.usedParams=this.getUsedParamsDetails(n),s):c}extendTranslation(t,n,r,i,o){var h=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=typeof t=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(f){const c=t.match(this.interpolator.nestingRegexp);u=c&&c.length}let s=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),t=this.interpolator.interpolate(t,s,r.lng||this.language,r),f){const c=t.match(this.interpolator.nestingRegexp),d=c&&c.length;u<d&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=i.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];return o&&o[0]===d[0]&&!r.context?(h.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):h.translate(...d,n)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,a=typeof l=="string"?[l]:l;return t!=null&&a&&a.length&&r.applyPostProcessor!==!1&&(t=tT.handle(a,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,h,l;return typeof t=="string"&&(t=[t]),t.forEach(a=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(a,n),u=f.key;i=u;let s=f.namespaces;this.options.fallbackNS&&(s=s.concat(this.options.fallbackNS));const c=n.count!==void 0&&typeof n.count!="string",d=c&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);s.forEach(m=>{this.isValidLookup(r)||(l=m,!q1[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(q1[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(v=>{if(this.isValidLookup(r))return;h=v;const y=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,u,v,m,n);else{let w;c&&(w=this.pluralResolver.getSuffix(v,n.count,n));const S=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(y.push(u+w),n.ordinal&&w.indexOf(_)===0&&y.push(u+w.replace(_,this.options.pluralSeparator)),d&&y.push(u+S)),p){const E=`${u}${this.options.contextSeparator}${n.context}`;y.push(E),c&&(y.push(E+w),n.ordinal&&w.indexOf(_)===0&&y.push(E+w.replace(_,this.options.pluralSeparator)),d&&y.push(E+S))}}let b;for(;b=y.pop();)this.isValidLookup(r)||(o=b,r=this.getResource(v,m,b,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:h,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,n,r,i):this.resourceStore.getResource(t,n,r,i)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&typeof t.replace!="string";let i=r?t.replace:t;if(r&&typeof t.count<"u"&&(i.count=t.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}function Hh(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Z1{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=vr.create("languageUtils")}getScriptPartFromCode(t){if(t=Ef(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Ef(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(typeof t=="string"&&t.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=t.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Hh(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Hh(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Hh(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),typeof t=="string"&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),i=[],o=h=>{h&&(this.isSupportedCode(h)?i.push(h):this.logger.warn(`rejecting language code not found in supportedLngs: ${h}`))};return typeof t=="string"&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),r.forEach(h=>{i.indexOf(h)<0&&o(this.formatLanguageCode(h))}),i}}let aI=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lI={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}};const cI=["v1","v2","v3"],uI=["v4"],Q1={zero:0,one:1,two:2,few:3,many:4,other:5};function fI(){const e={};return aI.forEach(t=>{t.lngs.forEach(n=>{e[n]={numbers:t.nr,plurals:lI[t.fc]}})}),e}class dI{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=vr.create("pluralResolver"),(!this.options.compatibilityJSON||uI.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=fI()}addRule(t,n){this.rules[t]=n}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Ef(t==="dev"?"en":t),{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(i=>`${n}${i}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(t,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>Q1[i]-Q1[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(t,i,n)):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(t,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,n){const r=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));let i=t.numbers[r];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!cI.includes(this.options.compatibilityJSON)}}function J1(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=eI(e,t,n);return!o&&i&&typeof n=="string"&&(o=Am(e,n,r),o===void 0&&(o=Am(t,n,r))),o}class hI{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:h,suffix:l,suffixEscaped:a,formatSeparator:f,unescapeSuffix:u,unescapePrefix:s,nestingPrefix:c,nestingPrefixEscaped:d,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:v,alwaysFormat:y}=t.interpolation;this.escape=n!==void 0?n:nI,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?Xo(o):h||"{{",this.suffix=l?Xo(l):a||"}}",this.formatSeparator=f||",",this.unescapePrefix=u?"":s||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=c?Xo(c):d||Xo("$t("),this.nestingSuffix=p?Xo(p):g||Xo(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=v||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,i){let o,h,l;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(p){return p.replace(/\$/g,"$$$$")}const u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=J1(n,a,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:p}):y}const g=p.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format(J1(n,a,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,r,{...i,...n,interpolationkey:m})};this.resetRegExp();const s=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,c=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>f(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?f(this.escape(p)):f(p)}].forEach(p=>{for(l=0;o=p.regex.exec(t);){const g=o[1].trim();if(h=u(g),h===void 0)if(typeof s=="function"){const v=s(t,o,i);h=typeof v=="string"?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))h="";else if(c){h=o[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),h="";else typeof h!="string"&&!this.useRawValueToEscape&&(h=X1(h));const m=p.safeValue(h);if(t=t.replace(o[0],m),c?(p.regex.lastIndex+=h.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,h;function l(a,f){const u=this.nestingOptionsSeparator;if(a.indexOf(u)<0)return a;const s=a.split(new RegExp(`${u}[ ]*{`));let c=`{${s[1]}`;a=s[0],c=this.interpolate(c,h);const d=c.match(/'/g),p=c.match(/"/g);(d&&d.length%2===0&&!p||p.length%2!==0)&&(c=c.replace(/'/g,'"'));try{h=JSON.parse(c),f&&(h={...f,...h})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${a}`,g),`${a}${u}${c}`}return h.defaultValue&&h.defaultValue.indexOf(this.prefix)>-1&&delete h.defaultValue,a}for(;i=this.nestingRegexp.exec(t);){let a=[];h={...r},h=h.replace&&typeof h.replace!="string"?h.replace:h,h.applyPostProcessor=!1,delete h.defaultValue;let f=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const u=i[1].split(this.formatSeparator).map(s=>s.trim());i[1]=u.shift(),a=u,f=!0}if(o=n(l.call(this,i[1].trim(),h),h),o&&i[0]===t&&typeof o!="string")return o;typeof o!="string"&&(o=X1(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${t}`),o=""),f&&(o=a.reduce((u,s)=>this.format(u,s,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}function pI(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);t==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):t==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(h=>{if(h){const[l,...a]=h.split(":"),f=a.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();n[u]||(n[u]=f),f==="false"&&(n[u]=!1),f==="true"&&(n[u]=!0),isNaN(f)||(n[u]=parseInt(f,10))}})}return{formatName:t,formatOptions:n}}function Go(e){const t={};return function(r,i,o){const h=i+JSON.stringify(o);let l=t[h];return l||(l=e(Ef(i),o),t[h]=l),l(r)}}class mI{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=vr.create("formatter"),this.options=t,this.formats={number:Go((n,r)=>{const i=new Intl.NumberFormat(n,{...r});return o=>i.format(o)}),currency:Go((n,r)=>{const i=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>i.format(o)}),datetime:Go((n,r)=>{const i=new Intl.DateTimeFormat(n,{...r});return o=>i.format(o)}),relativetime:Go((n,r)=>{const i=new Intl.RelativeTimeFormat(n,{...r});return o=>i.format(o,r.range||"day")}),list:Go((n,r)=>{const i=new Intl.ListFormat(n,{...r});return o=>i.format(o)})},this.init(t)}init(t){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Go(n)}format(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((l,a)=>{const{formatName:f,formatOptions:u}=pI(a);if(this.formats[f]){let s=l;try{const c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},d=c.locale||c.lng||i.locale||i.lng||r;s=this.formats[f](l,d,{...u,...i,...c})}catch(c){this.logger.warn(c)}return s}else this.logger.warn(`there was no format function for ${f}`);return l},t)}}function gI(e,t){e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)}class vI extends Dd{constructor(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(t,n,r,i){const o={},h={},l={},a={};return t.forEach(f=>{let u=!0;n.forEach(s=>{const c=`${f}|${s}`;!r.reload&&this.store.hasResourceBundle(f,s)?this.state[c]=2:this.state[c]<0||(this.state[c]===1?h[c]===void 0&&(h[c]=!0):(this.state[c]=1,u=!1,h[c]===void 0&&(h[c]=!0),o[c]===void 0&&(o[c]=!0),a[s]===void 0&&(a[s]=!0)))}),u||(l[f]=!0)}),(Object.keys(o).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(h),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(a)}}loaded(t,n,r){const i=t.split("|"),o=i[0],h=i[1];n&&this.emit("failedLoading",o,h,n),r&&this.store.addResourceBundle(o,h,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2;const l={};this.queue.forEach(a=>{JL(a.loaded,[o],h),gI(a,t),n&&a.errors.push(n),a.pendingCount===0&&!a.done&&(Object.keys(a.loaded).forEach(f=>{l[f]||(l[f]={});const u=a.loaded[f];u.length&&u.forEach(s=>{l[f][s]===void 0&&(l[f][s]=!0)})}),a.done=!0,a.errors.length?a.callback(a.errors):a.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(a=>!a.done)}read(t,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!t.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:i,wait:o,callback:h});return}this.readingCalls++;const l=(f,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const s=this.waitingReads.shift();this.read(s.lng,s.ns,s.fcName,s.tried,s.wait,s.callback)}if(f&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,i+1,o*2,h)},o);return}h(f,u)},a=this.backend[r].bind(this.backend);if(a.length===2){try{const f=a(t,n);f&&typeof f.then=="function"?f.then(u=>l(null,u)).catch(l):l(null,f)}catch(f){l(f)}return}return a(t,n,l)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof t=="string"&&(t=this.languageUtils.toResolveHierarchy(t)),typeof n=="string"&&(n=[n]);const o=this.queueLoad(t,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(h=>{this.loadOne(h)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(h,l)=>{h&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,h),!h&&l&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,l),this.loaded(t,h,l)})}saveMissing(t,n,r,i,o){let h=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const a={...h,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let u;f.length===5?u=f(t,n,r,i,a):u=f(t,n,r,i),u&&typeof u.then=="function"?u.then(s=>l(null,s)).catch(l):l(null,u)}catch(u){l(u)}else f(t,n,r,i,l,a)}!t||!t[0]||this.store.addResource(t[0],n,r,i)}}}function eb(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){let n={};if(typeof t[1]=="object"&&(n=t[1]),typeof t[1]=="string"&&(n.defaultValue=t[1]),typeof t[2]=="string"&&(n.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(i=>{n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function tb(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Wc(){}function yI(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})}class Nl extends Dd{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=tb(t),this.services={},this.logger=vr,this.modules={external:[]},yI(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=eb();this.options={...i,...this.options,...tb(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function o(u){return u?typeof u=="function"?new u:u:null}if(!this.options.isClone){this.modules.logger?vr.init(o(this.modules.logger),this.options):vr.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=mI);const s=new Z1(this.options);this.store=new K1(this.options.resources,this.options);const c=this.services;c.logger=vr,c.resourceStore=this.store,c.languageUtils=s,c.pluralResolver=new dI(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(c.formatter=o(u),c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new hI(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new vI(o(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",function(d){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(d,...g)}),this.modules.languageDetector&&(c.languageDetector=o(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=o(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Tf(this.services,this.options),this.translator.on("*",function(d){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];t.emit(d,...g)}),this.modules.external.forEach(d=>{d.init&&d.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Wc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return t.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return t.store[u](...arguments),t}});const a=ka(),f=()=>{const u=(s,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(c),r(s,c)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),a}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc;const i=typeof t=="string"?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],h=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};i?h(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(a=>h(a)),this.options.preload&&this.options.preload.forEach(l=>h(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){const i=ka();return t||(t=this.languages),n||(n=this.options.ns),r||(r=Wc),this.services.backendConnector.reload(t,n,o=>{i.resolve(),r(o)}),i}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&tT.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const i=ka();this.emit("languageChanging",t);const o=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},h=(a,f)=>{f?(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(a,function(){return r.t(...arguments)})},l=a=>{!t&&!a&&this.services.languageDetector&&(a=[]);const f=typeof a=="string"?a:this.services.languageUtils.getBestMatchFromCodes(a);f&&(this.language||o(f),this.translator.language||this.translator.changeLanguage(f),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(f)),this.loadResources(f,u=>{h(u,f)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),i}getFixedT(t,n,r){var i=this;const o=function(h,l){let a;if(typeof l!="object"){for(var f=arguments.length,u=new Array(f>2?f-2:0),s=2;s<f;s++)u[s-2]=arguments[s];a=i.options.overloadTranslationOptionHandler([h,l].concat(u))}else a={...l};a.lng=a.lng||o.lng,a.lngs=a.lngs||o.lngs,a.ns=a.ns||o.ns,a.keyPrefix=a.keyPrefix||r||o.keyPrefix;const c=i.options.keySeparator||".";let d;return a.keyPrefix&&Array.isArray(h)?d=h.map(p=>`${a.keyPrefix}${c}${p}`):d=a.keyPrefix?`${a.keyPrefix}${c}${h}`:h,i.t(d,a)};return typeof t=="string"?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const h=(l,a)=>{const f=this.services.backendConnector.state[`${l}|${a}`];return f===-1||f===2};if(n.precheck){const l=n.precheck(this,h);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(r,t)&&(!i||h(o,t)))}loadNamespaces(t,n){const r=ka();return this.options.ns?(typeof t=="string"&&(t=[t]),t.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=ka();typeof t=="string"&&(t=[t]);const i=this.options.preload||[],o=t.filter(h=>i.indexOf(h)<0&&this.services.languageUtils.isSupportedCode(h));return o.length?(this.options.preload=i.concat(o),this.loadResources(h=>{r.resolve(),n&&n(h)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new Z1(eb());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Nl(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wc;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const i={...this.options,...t,isClone:!0},o=new Nl(i);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new K1(this.store.data,i),o.services.resourceStore=o.store),o.translator=new Tf(o.services,i),o.translator.on("*",function(l){for(var a=arguments.length,f=new Array(a>1?a-1:0),u=1;u<a;u++)f[u-1]=arguments[u];o.emit(l,...f)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=Nl.createInstance();Lt.createInstance=Nl.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;const{slice:bI,forEach:wI}=[];function xI(e){return wI.call(bI.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}const nb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,SI=(e,t,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(t);let o=`${e}=${i}`;if(r.maxAge>0){const h=r.maxAge-0;if(Number.isNaN(h))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(h)}`}if(r.domain){if(!nb.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!nb.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},rb={create(e,t,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=SI(e,encodeURIComponent(t),i)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove(e){this.create(e,"",-1)}};var _I={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return rb.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=t;n&&typeof document<"u"&&rb.create(n,e,r,i,o)}},CI={name:"querystring",lookup(e){var r;let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const h=i.substring(1).split("&");for(let l=0;l<h.length;l++){const a=h[l].indexOf("=");a>0&&h[l].substring(0,a)===t&&(n=h[l].substring(a+1))}}return n}};let Pa=null;const ib=()=>{if(Pa!==null)return Pa;try{Pa=window!=="undefined"&&window.localStorage!==null;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Pa=!1}return Pa};var EI={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&ib())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&ib()&&window.localStorage.setItem(n,e)}};let Oa=null;const ob=()=>{if(Oa!==null)return Oa;try{Oa=window!=="undefined"&&window.sessionStorage!==null;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{Oa=!1}return Oa};var TI={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&ob())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&ob()&&window.sessionStorage.setItem(n,e)}},kI={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)t.push(n[o]);r&&t.push(r),i&&t.push(i)}return t.length>0?t:void 0}},PI={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const r=t||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},OI={name:"path",lookup(e){var i;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}},$I={name:"subdomain",lookup(e){var i,o;let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function AI(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}}class nT{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t||{languageUtils:{}},this.options=xI(n,this.options||{},AI()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(_I),this.addDetector(CI),this.addDetector(EI),this.addDetector(TI),this.addDetector(kI),this.addDetector(PI),this.addDetector(OI),this.addDetector($I)}addDetector(t){return this.detectors[t.name]=t,this}detect(t){t||(t=this.options.order);let n=[];return t.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(t,this.options)}))}}nT.type="languageDetector";const RI={"Image load":"Click here or drag an image file",Pan:"Pan","Reset Zoom/Pan":"Reset Zoom/Pan","Decrease Brush Size":"Decrease Brush Size","Increase Brush Size":"Increase Brush Size","View Original Image":"View Original Image",Undo:"Undo",Redo:"Redo","Copy Result":"Copy Result","Paste Image":"Paste Image","Trigger Manually Inpainting":"Trigger Manually Inpainting","Toggle Hotkeys Dialog":"Toggle Hotkeys Dialog","Toggle Settings Dialog":"Toggle Settings Dialog","Toggle File Manager":"Toggle File Manager",Cropper:"Cropper","Adjust Mask":"Adjust Mask",Expand:"Expand",Shrink:"Shrink",Reverse:"Reverse",Clear:"Clear"},MI={translation:RI},DI={"Image load":"Click aqui o arrastra una imagen",Pan:"Acercar o alejar zoom","Reset Zoom/Pan":"Resetear Zoom/Pan","Decrease Brush Size":"Disminuir pincel","Increase Brush Size":"Incrementar pincel","View Original Image":"Ver imagen original",Undo:"Deshacer",Redo:"Rehacer","Copy Result":"Copiar resultado","Paste Image":"Pegar imagen","Trigger Manually Inpainting":"Activar Inpainting manualmente","Toggle Hotkeys Dialog":"Activar dialogo de instrucciones de teclas","Toggle Settings Dialog":"Acivar dialogo de parametros","Toggle File Manager":"Activar dialogo de gestor de archivos",Cropper:"Recortar imagen","Adjust Mask":"Ajustar mascara",Expand:"Expandir",Shrink:"Disminuir",Reverse:"Reversar",Clear:"Borrar"},NI={translation:DI},FI={en:{...MI},es:{...NI}};Lt.use(nT).use(VD).init({resources:FI,fallbackLng:"es",interpolation:{escapeValue:!1}});const LI=new Q5;Wh.createRoot(document.getElementById("root")).render(T.jsx(ke.StrictMode,{children:T.jsx(eP,{client:LI,children:T.jsx(WL,{defaultTheme:"dark",disableTransitionOnChange:!0,children:T.jsx(oM,{children:T.jsx(UL,{})})})})}));
